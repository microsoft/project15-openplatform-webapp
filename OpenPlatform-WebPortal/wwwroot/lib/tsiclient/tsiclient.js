/*! For license information please see tsiclient.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=178)}([function(t,e,n){(function(t){t.exports=function(){"use strict";var e,i;function r(){return e.apply(null,arguments)}function a(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(c(t,e))return!1;return!0}function u(t){return void 0===t}function h(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function p(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function f(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e,n,i){return Gn(t,e,n,i,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(t){return null==t._pf&&(t._pf=g()),t._pf}function _(t){if(null==t._isValid){var e=y(t),n=i.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function v(t){var e=m(NaN);return null!=t?f(y(e),t):y(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),i=n.length>>>0;for(e=0;e<i;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var M=r.momentProperties=[],b=!1;function x(t,e){var n,i,r;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=y(e)),u(e._locale)||(t._locale=e._locale),M.length>0)for(n=0;n<M.length;n++)u(r=e[i=M[n]])||(t[i]=r);return t}function w(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function A(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function T(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function L(t,e){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,a,o,s=[];for(a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])c(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];s.push(i)}T(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var S,k={};function O(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),k[t]||(T(e),k[t]=!0)}function z(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){var e,n;for(n in t)c(t,n)&&(z(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function E(t,e){var n,i=f({},t);for(n in e)c(e,n)&&(s(t[n])&&s(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)c(t,n)&&!c(e,n)&&s(t[n])&&(i[n]=f({},i[n]));return i}function D(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var N={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return z(i)?i.call(e,n):i}function P(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q={},Y={};function W(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Y[t]=r),e&&(Y[e[0]]=function(){return P(r.apply(this,arguments),e[1],e[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function F(t){var e,n,i=t.match(B);for(e=0,n=i.length;e<n;e++)Y[i[e]]?i[e]=Y[i[e]]:i[e]=j(i[e]);return function(e){var r,a="";for(r=0;r<n;r++)a+=z(i[r])?i[r].call(e,t):i[r];return a}}function H(t,e){return t.isValid()?(e=U(e,t.localeData()),q[e]=q[e]||F(e),q[e](t)):t.localeData().invalidDate()}function U(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(R.lastIndex=0;n>=0&&R.test(t);)t=t.replace(R,i),R.lastIndex=0,n-=1;return t}var X={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(B).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var G="Invalid date";function K(){return this._invalidDate}var Z="%d",J=/\d{1,2}/;function Q(t){return this._ordinal.replace("%d",t)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,e,n,i){var r=this._relativeTime[n];return z(r)?r(t,e,n,i):r.replace(/%d/i,t)}function et(t,e){var n=this._relativeTime[t>0?"future":"past"];return z(n)?n(e):n.replace(/%s/i,e)}var nt={};function it(t,e){var n=t.toLowerCase();nt[n]=nt[n+"s"]=nt[e]=t}function rt(t){return"string"==typeof t?nt[t]||nt[t.toLowerCase()]:void 0}function at(t){var e,n,i={};for(n in t)c(t,n)&&(e=rt(n))&&(i[e]=t[n]);return i}var ot={};function st(t,e){ot[t]=e}function ct(t){var e,n=[];for(e in t)c(t,e)&&n.push({unit:e,priority:ot[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}function lt(t){return t%4==0&&t%100!=0||t%400==0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ht(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ut(e)),n}function pt(t,e){return function(n){return null!=n?(ft(this,t,n),r.updateOffset(this,e),this):dt(this,t)}}function dt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ft(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&lt(t.year())&&1===t.month()&&29===t.date()?(n=ht(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),te(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function mt(t){return z(this[t=rt(t)])?this[t]():this}function gt(t,e){if("object"==typeof t){var n,i=ct(t=at(t));for(n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(z(this[t=rt(t)]))return this[t](e);return this}var yt,_t=/\d/,vt=/\d\d/,Mt=/\d{3}/,bt=/\d{4}/,xt=/[+-]?\d{6}/,wt=/\d\d?/,At=/\d\d\d\d?/,Tt=/\d\d\d\d\d\d?/,Lt=/\d{1,3}/,St=/\d{1,4}/,kt=/[+-]?\d{1,6}/,Ot=/\d+/,zt=/[+-]?\d+/,Ct=/Z|[+-]\d\d:?\d\d/gi,Et=/Z|[+-]\d\d(?::?\d\d)?/gi,Dt=/[+-]?\d+(\.\d{1,3})?/,Nt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function It(t,e,n){yt[t]=z(e)?e:function(t,i){return t&&n?n:e}}function Pt(t,e){return c(yt,t)?yt[t](e._strict,e._locale):new RegExp(Bt(t))}function Bt(t){return Rt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,i,r){return e||n||i||r})))}function Rt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}yt={};var qt={};function Yt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),h(e)&&(i=function(t,n){n[e]=ht(t)}),n=0;n<t.length;n++)qt[t[n]]=i}function Wt(t,e){Yt(t,(function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)}))}function jt(t,e,n){null!=e&&c(qt,t)&&qt[t](e,n._a,n,t)}var Ft,Ht=0,Ut=1,Xt=2,Vt=3,Gt=4,Kt=5,Zt=6,Jt=7,Qt=8;function $t(t,e){return(t%e+e)%e}function te(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=$t(e,12);return t+=(e-n)/12,1===n?lt(t)?29:28:31-n%7%2}Ft=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),W("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),it("month","M"),st("month",8),It("M",wt),It("MM",wt,vt),It("MMM",(function(t,e){return e.monthsShortRegex(t)})),It("MMMM",(function(t,e){return e.monthsRegex(t)})),Yt(["M","MM"],(function(t,e){e[Ut]=ht(t)-1})),Yt(["MMM","MMMM"],(function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ut]=r:y(n).invalidMonth=t}));var ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,re=Nt,ae=Nt;function oe(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ie).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function se(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ie.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ce(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=m([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=Ft.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ft.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=Ft.call(this._shortMonthsParse,o))||-1!==(r=Ft.call(this._longMonthsParse,o))?r:null:-1!==(r=Ft.call(this._longMonthsParse,o))||-1!==(r=Ft.call(this._shortMonthsParse,o))?r:null}function le(t,e,n){var i,r,a;if(this._monthsParseExact)return ce.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=m([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ue(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=ht(e);else if(!h(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),te(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function he(t){return null!=t?(ue(this,t),r.updateOffset(this,!0),this):dt(this,"Month")}function pe(){return te(this.year(),this.month())}function de(t){return this._monthsParseExact?(c(this,"_monthsRegex")||me.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(t){return this._monthsParseExact?(c(this,"_monthsRegex")||me.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=ae),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function me(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],a=[];for(e=0;e<12;e++)n=m([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),a.sort(t),e=0;e<12;e++)i[e]=Rt(i[e]),r[e]=Rt(r[e]);for(e=0;e<24;e++)a[e]=Rt(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(t){return lt(t)?366:365}W("Y",0,0,(function(){var t=this.year();return t<=9999?P(t,4):"+"+t})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),it("year","y"),st("year",1),It("Y",zt),It("YY",wt,vt),It("YYYY",St,bt),It("YYYYY",kt,xt),It("YYYYYY",kt,xt),Yt(["YYYYY","YYYYYY"],Ht),Yt("YYYY",(function(t,e){e[Ht]=2===t.length?r.parseTwoDigitYear(t):ht(t)})),Yt("YY",(function(t,e){e[Ht]=r.parseTwoDigitYear(t)})),Yt("Y",(function(t,e){e[Ht]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return ht(t)+(ht(t)>68?1900:2e3)};var ye=pt("FullYear",!0);function _e(){return lt(this.year())}function ve(t,e,n,i,r,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,r,a,o),s}function Me(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function be(t,e,n){var i=7+e-n;return-(7+Me(t,0,i).getUTCDay()-e)%7+i-1}function xe(t,e,n,i,r){var a,o,s=1+7*(e-1)+(7+n-i)%7+be(t,i,r);return s<=0?o=ge(a=t-1)+s:s>ge(t)?(a=t+1,o=s-ge(t)):(a=t,o=s),{year:a,dayOfYear:o}}function we(t,e,n){var i,r,a=be(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?i=o+Ae(r=t.year()-1,e,n):o>Ae(t.year(),e,n)?(i=o-Ae(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function Ae(t,e,n){var i=be(t,e,n),r=be(t+1,e,n);return(ge(t)-i+r)/7}function Te(t){return we(t,this._week.dow,this._week.doy).week}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),it("week","w"),it("isoWeek","W"),st("week",5),st("isoWeek",5),It("w",wt),It("ww",wt,vt),It("W",wt),It("WW",wt,vt),Wt(["w","ww","W","WW"],(function(t,e,n,i){e[i.substr(0,1)]=ht(t)}));var Le={dow:0,doy:6};function Se(){return this._week.dow}function ke(){return this._week.doy}function Oe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ze(t){var e=we(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ce(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Ee(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function De(t,e){return t.slice(e,7).concat(t.slice(0,e))}W("d",0,"do","day"),W("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),W("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),W("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),it("day","d"),it("weekday","e"),it("isoWeekday","E"),st("day",11),st("weekday",11),st("isoWeekday",11),It("d",wt),It("e",wt),It("E",wt),It("dd",(function(t,e){return e.weekdaysMinRegex(t)})),It("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),It("dddd",(function(t,e){return e.weekdaysRegex(t)})),Wt(["dd","ddd","dddd"],(function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:y(n).invalidWeekday=t})),Wt(["d","e","E"],(function(t,e,n,i){e[i]=ht(t)}));var Ne="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Be=Nt,Re=Nt,qe=Nt;function Ye(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?De(n,this._week.dow):t?n[t.day()]:n}function We(t){return!0===t?De(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function je(t){return!0===t?De(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Fe(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=m([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=Ft.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=Ft.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ft.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=Ft.call(this._weekdaysParse,o))||-1!==(r=Ft.call(this._shortWeekdaysParse,o))||-1!==(r=Ft.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=Ft.call(this._shortWeekdaysParse,o))||-1!==(r=Ft.call(this._weekdaysParse,o))||-1!==(r=Ft.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ft.call(this._minWeekdaysParse,o))||-1!==(r=Ft.call(this._weekdaysParse,o))||-1!==(r=Ft.call(this._shortWeekdaysParse,o))?r:null}function He(t,e,n){var i,r,a;if(this._weekdaysParseExact)return Fe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=m([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ue(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ce(t,this.localeData()),this.add(t-e,"d")):e}function Xe(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ve(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ee(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ge(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Be),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ke(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Re),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ze(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Je(){function t(t,e){return e.length-t.length}var e,n,i,r,a,o=[],s=[],c=[],l=[];for(e=0;e<7;e++)n=m([2e3,1]).day(e),i=Rt(this.weekdaysMin(n,"")),r=Rt(this.weekdaysShort(n,"")),a=Rt(this.weekdays(n,"")),o.push(i),s.push(r),c.push(a),l.push(i),l.push(r),l.push(a);o.sort(t),s.sort(t),c.sort(t),l.sort(t),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Qe(){return this.hours()%12||12}function $e(){return this.hours()||24}function tn(t,e){W(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function en(t,e){return e._meridiemParse}function nn(t){return"p"===(t+"").toLowerCase().charAt(0)}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Qe),W("k",["kk",2],0,$e),W("hmm",0,0,(function(){return""+Qe.apply(this)+P(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+Qe.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+P(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)})),tn("a",!0),tn("A",!1),it("hour","h"),st("hour",13),It("a",en),It("A",en),It("H",wt),It("h",wt),It("k",wt),It("HH",wt,vt),It("hh",wt,vt),It("kk",wt,vt),It("hmm",At),It("hmmss",Tt),It("Hmm",At),It("Hmmss",Tt),Yt(["H","HH"],Vt),Yt(["k","kk"],(function(t,e,n){var i=ht(t);e[Vt]=24===i?0:i})),Yt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Yt(["h","hh"],(function(t,e,n){e[Vt]=ht(t),y(n).bigHour=!0})),Yt("hmm",(function(t,e,n){var i=t.length-2;e[Vt]=ht(t.substr(0,i)),e[Gt]=ht(t.substr(i)),y(n).bigHour=!0})),Yt("hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[Vt]=ht(t.substr(0,i)),e[Gt]=ht(t.substr(i,2)),e[Kt]=ht(t.substr(r)),y(n).bigHour=!0})),Yt("Hmm",(function(t,e,n){var i=t.length-2;e[Vt]=ht(t.substr(0,i)),e[Gt]=ht(t.substr(i))})),Yt("Hmmss",(function(t,e,n){var i=t.length-4,r=t.length-2;e[Vt]=ht(t.substr(0,i)),e[Gt]=ht(t.substr(i,2)),e[Kt]=ht(t.substr(r))}));var rn=/[ap]\.?m?\.?/i,an=pt("Hours",!0);function on(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var sn,cn={calendar:N,longDateFormat:X,invalidDate:G,ordinal:Z,dayOfMonthOrdinalParse:J,relativeTime:$,months:ee,monthsShort:ne,week:Le,weekdays:Ne,weekdaysMin:Pe,weekdaysShort:Ie,meridiemParse:rn},ln={},un={};function hn(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function pn(t){return t?t.toLowerCase().replace("_","-"):t}function dn(t){for(var e,n,i,r,a=0;a<t.length;){for(e=(r=pn(t[a]).split("-")).length,n=(n=pn(t[a+1]))?n.split("-"):null;e>0;){if(i=fn(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&hn(r,n)>=e-1)break;e--}a++}return sn}function fn(e){var i=null;if(void 0===ln[e]&&void 0!==t&&t&&t.exports)try{i=sn._abbr,n(144)("./"+e),mn(i)}catch(t){ln[e]=null}return ln[e]}function mn(t,e){var n;return t&&((n=u(e)?_n(t):gn(t,e))?sn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),sn._abbr}function gn(t,e){if(null!==e){var n,i=cn;if(e.abbr=t,null!=ln[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ln[t]._config;else if(null!=e.parentLocale)if(null!=ln[e.parentLocale])i=ln[e.parentLocale]._config;else{if(null==(n=fn(e.parentLocale)))return un[e.parentLocale]||(un[e.parentLocale]=[]),un[e.parentLocale].push({name:t,config:e}),null;i=n._config}return ln[t]=new D(E(i,e)),un[t]&&un[t].forEach((function(t){gn(t.name,t.config)})),mn(t),ln[t]}return delete ln[t],null}function yn(t,e){if(null!=e){var n,i,r=cn;null!=ln[t]&&null!=ln[t].parentLocale?ln[t].set(E(ln[t]._config,e)):(null!=(i=fn(t))&&(r=i._config),e=E(r,e),null==i&&(e.abbr=t),(n=new D(e)).parentLocale=ln[t],ln[t]=n),mn(t)}else null!=ln[t]&&(null!=ln[t].parentLocale?(ln[t]=ln[t].parentLocale,t===mn()&&mn(t)):null!=ln[t]&&delete ln[t]);return ln[t]}function _n(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return sn;if(!o(t)){if(e=fn(t))return e;t=[t]}return dn(t)}function vn(){return S(ln)}function Mn(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[Ut]<0||n[Ut]>11?Ut:n[Xt]<1||n[Xt]>te(n[Ht],n[Ut])?Xt:n[Vt]<0||n[Vt]>24||24===n[Vt]&&(0!==n[Gt]||0!==n[Kt]||0!==n[Zt])?Vt:n[Gt]<0||n[Gt]>59?Gt:n[Kt]<0||n[Kt]>59?Kt:n[Zt]<0||n[Zt]>999?Zt:-1,y(t)._overflowDayOfYear&&(e<Ht||e>Xt)&&(e=Xt),y(t)._overflowWeeks&&-1===e&&(e=Jt),y(t)._overflowWeekday&&-1===e&&(e=Qt),y(t).overflow=e),t}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/Z|[+-]\d\d(?::?\d\d)?/,An=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ln=/^\/?Date\((-?\d+)/i,Sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,kn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function On(t){var e,n,i,r,a,o,s=t._i,c=bn.exec(s)||xn.exec(s);if(c){for(y(t).iso=!0,e=0,n=An.length;e<n;e++)if(An[e][1].exec(c[1])){r=An[e][0],i=!1!==An[e][2];break}if(null==r)return void(t._isValid=!1);if(c[3]){for(e=0,n=Tn.length;e<n;e++)if(Tn[e][1].exec(c[3])){a=(c[2]||" ")+Tn[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(c[4]){if(!wn.exec(c[4]))return void(t._isValid=!1);o="Z"}t._f=r+(a||"")+(o||""),Wn(t)}else t._isValid=!1}function zn(t,e,n,i,r,a){var o=[Cn(t),ne.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}function Cn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function En(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(t,e,n){return!t||Ie.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Nn(t,e,n){if(t)return kn[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function In(t){var e,n=Sn.exec(En(t._i));if(n){if(e=zn(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],e,t))return;t._a=e,t._tzm=Nn(n[8],n[9],n[10]),t._d=Me.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Pn(t){var e=Ln.exec(t._i);null===e?(On(t),!1===t._isValid&&(delete t._isValid,In(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Bn(t,e,n){return null!=t?t:null!=e?e:n}function Rn(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function qn(t){var e,n,i,r,a,o=[];if(!t._d){for(i=Rn(t),t._w&&null==t._a[Xt]&&null==t._a[Ut]&&Yn(t),null!=t._dayOfYear&&(a=Bn(t._a[Ht],i[Ht]),(t._dayOfYear>ge(a)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),n=Me(a,0,t._dayOfYear),t._a[Ut]=n.getUTCMonth(),t._a[Xt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Vt]&&0===t._a[Gt]&&0===t._a[Kt]&&0===t._a[Zt]&&(t._nextDay=!0,t._a[Vt]=0),t._d=(t._useUTC?Me:ve).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Vt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(y(t).weekdayMismatch=!0)}}function Yn(t){var e,n,i,r,a,o,s,c,l;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,o=4,n=Bn(e.GG,t._a[Ht],we(Kn(),1,4).year),i=Bn(e.W,1),((r=Bn(e.E,1))<1||r>7)&&(c=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,l=we(Kn(),a,o),n=Bn(e.gg,t._a[Ht],l.year),i=Bn(e.w,l.week),null!=e.d?((r=e.d)<0||r>6)&&(c=!0):null!=e.e?(r=e.e+a,(e.e<0||e.e>6)&&(c=!0)):r=a),i<1||i>Ae(n,a,o)?y(t)._overflowWeeks=!0:null!=c?y(t)._overflowWeekday=!0:(s=xe(n,i,r,a,o),t._a[Ht]=s.year,t._dayOfYear=s.dayOfYear)}function Wn(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],y(t).empty=!0;var e,n,i,a,o,s,c=""+t._i,l=c.length,u=0;for(i=U(t._f,t._locale).match(B)||[],e=0;e<i.length;e++)a=i[e],(n=(c.match(Pt(a,t))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&y(t).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),u+=n.length),Y[a]?(n?y(t).empty=!1:y(t).unusedTokens.push(a),jt(a,n,t)):t._strict&&!n&&y(t).unusedTokens.push(a);y(t).charsLeftOver=l-u,c.length>0&&y(t).unusedInput.push(c),t._a[Vt]<=12&&!0===y(t).bigHour&&t._a[Vt]>0&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[Vt]=jn(t._locale,t._a[Vt],t._meridiem),null!==(s=y(t).era)&&(t._a[Ht]=t._locale.erasConvertYear(s,t._a[Ht])),qn(t),Mn(t)}else In(t);else On(t)}function jn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Fn(t){var e,n,i,r,a,o,s=!1;if(0===t._f.length)return y(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)a=0,o=!1,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Wn(e),_(e)&&(o=!0),a+=y(e).charsLeftOver,a+=10*y(e).unusedTokens.length,y(e).score=a,s?a<i&&(i=a,n=e):(null==i||a<i||o)&&(i=a,n=e,o&&(s=!0));f(t,n||e)}function Hn(t){if(!t._d){var e=at(t._i),n=void 0===e.day?e.date:e.day;t._a=d([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),qn(t)}}function Un(t){var e=new w(Mn(Xn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Xn(t){var e=t._i,n=t._f;return t._locale=t._locale||_n(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),A(e)?new w(Mn(e)):(p(e)?t._d=e:o(n)?Fn(t):n?Wn(t):Vn(t),_(t)||(t._d=null),t))}function Vn(t){var e=t._i;u(e)?t._d=new Date(r.now()):p(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Pn(t):o(e)?(t._a=d(e.slice(0),(function(t){return parseInt(t,10)})),qn(t)):s(e)?Hn(t):h(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Gn(t,e,n,i,r){var a={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(t)&&l(t)||o(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=t,a._f=e,a._strict=i,Un(a)}function Kn(t,e,n,i){return Gn(t,e,n,i,!1)}r.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Zn=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Kn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Jn=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Kn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function Qn(t,e){var n,i;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Kn();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function $n(){return Qn("isBefore",[].slice.call(arguments,0))}function ti(){return Qn("isAfter",[].slice.call(arguments,0))}var ei=function(){return Date.now?Date.now():+new Date},ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(t){var e,n,i=!1;for(e in t)if(c(t,e)&&(-1===Ft.call(ni,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<ni.length;++n)if(t[ni[n]]){if(i)return!1;parseFloat(t[ni[n]])!==ht(t[ni[n]])&&(i=!0)}return!0}function ri(){return this._isValid}function ai(){return ki(NaN)}function oi(t){var e=at(t),n=e.year||0,i=e.quarter||0,r=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,c=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=ii(e),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=_n(),this._bubble()}function si(t){return t instanceof oi}function ci(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function li(t,e,n){var i,r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&ht(t[i])!==ht(e[i]))&&o++;return o+a}function ui(t,e){W(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+P(~~(t/60),2)+e+P(~~t%60,2)}))}ui("Z",":"),ui("ZZ",""),It("Z",Et),It("ZZ",Et),Yt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=pi(Et,t)}));var hi=/([\+\-]|\d\d)/gi;function pi(t,e){var n,i,r=(e||"").match(t);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(hi)||["-",0,0])[1]+ht(n[2]))?0:"+"===n[0]?i:-i}function di(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(A(t)||p(t)?t.valueOf():Kn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(t).local()}function fi(t){return-Math.round(t._d.getTimezoneOffset())}function mi(t,e,n){var i,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=pi(Et,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=fi(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!e||this._changeInProgress?Di(this,ki(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:fi(this)}function gi(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yi(t){return this.utcOffset(0,t)}function _i(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fi(this),"m")),this}function vi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=pi(Ct,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Mi(t){return!!this.isValid()&&(t=t?Kn(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function bi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xi(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return x(e,this),(e=Xn(e))._a?(t=e._isUTC?m(e._a):Kn(e._a),this._isDSTShifted=this.isValid()&&li(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wi(){return!!this.isValid()&&!this._isUTC}function Ai(){return!!this.isValid()&&this._isUTC}function Ti(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Li=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Si=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ki(t,e){var n,i,r,a=t,o=null;return si(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:h(t)||!isNaN(+t)?(a={},e?a[e]=+t:a.milliseconds=+t):(o=Li.exec(t))?(n="-"===o[1]?-1:1,a={y:0,d:ht(o[Xt])*n,h:ht(o[Vt])*n,m:ht(o[Gt])*n,s:ht(o[Kt])*n,ms:ht(ci(1e3*o[Zt]))*n}):(o=Si.exec(t))?(n="-"===o[1]?-1:1,a={y:Oi(o[2],n),M:Oi(o[3],n),w:Oi(o[4],n),d:Oi(o[5],n),h:Oi(o[6],n),m:Oi(o[7],n),s:Oi(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=Ci(Kn(a.from),Kn(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new oi(a),si(t)&&c(t,"_locale")&&(i._locale=t._locale),si(t)&&c(t,"_isValid")&&(i._isValid=t._isValid),i}function Oi(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function zi(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ci(t,e){var n;return t.isValid()&&e.isValid()?(e=di(e,t),t.isBefore(e)?n=zi(t,e):((n=zi(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ei(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Di(this,ki(n,i),t),this}}function Di(t,e,n,i){var a=e._milliseconds,o=ci(e._days),s=ci(e._months);t.isValid()&&(i=null==i||i,s&&ue(t,dt(t,"Month")+s*n),o&&ft(t,"Date",dt(t,"Date")+o*n),a&&t._d.setTime(t._d.valueOf()+a*n),i&&r.updateOffset(t,o||s))}ki.fn=oi.prototype,ki.invalid=ai;var Ni=Ei(1,"add"),Ii=Ei(-1,"subtract");function Pi(t){return"string"==typeof t||t instanceof String}function Bi(t){return A(t)||p(t)||Pi(t)||h(t)||qi(t)||Ri(t)||null==t}function Ri(t){var e,n,i=s(t)&&!l(t),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<a.length;e+=1)n=a[e],r=r||c(t,n);return i&&r}function qi(t){var e=o(t),n=!1;return e&&(n=0===t.filter((function(e){return!h(e)&&Pi(t)})).length),e&&n}function Yi(t){var e,n,i=s(t)&&!l(t),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<a.length;e+=1)n=a[e],r=r||c(t,n);return i&&r}function Wi(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function ji(t,e){1===arguments.length&&(Bi(arguments[0])?(t=arguments[0],e=void 0):Yi(arguments[0])&&(e=arguments[0],t=void 0));var n=t||Kn(),i=di(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=e&&(z(e[a])?e[a].call(this,n):e[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function Fi(){return new w(this)}function Hi(t,e){var n=A(t)?t:Kn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ui(t,e){var n=A(t)?t:Kn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Xi(t,e,n,i){var r=A(t)?t:Kn(t),a=A(e)?e:Kn(e);return!!(this.isValid()&&r.isValid()&&a.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Vi(t,e){var n,i=A(t)?t:Kn(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Gi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Ki(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Zi(t,e,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=di(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=rt(e)){case"year":a=Ji(this,i)/12;break;case"month":a=Ji(this,i);break;case"quarter":a=Ji(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:ut(a)}function Ji(t,e){if(t.date()<e.date())return-Ji(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function Qi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $i(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,i,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=a+'[")]',this.format(t+e+n+i)}function er(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)}function nr(t,e){return this.isValid()&&(A(t)&&t.isValid()||Kn(t).isValid())?ki({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ir(t){return this.from(Kn(),t)}function rr(t,e){return this.isValid()&&(A(t)&&t.isValid()||Kn(t).isValid())?ki({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ar(t){return this.to(Kn(),t)}function or(t){var e;return void 0===t?this._locale._abbr:(null!=(e=_n(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sr=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function cr(){return this._locale}var lr=1e3,ur=60*lr,hr=60*ur,pr=3506328*hr;function dr(t,e){return(t%e+e)%e}function fr(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-pr:new Date(t,e,n).valueOf()}function mr(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-pr:Date.UTC(t,e,n)}function gr(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mr:fr,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=dr(e+(this._isUTC?0:this.utcOffset()*ur),hr);break;case"minute":e=this._d.valueOf(),e-=dr(e,ur);break;case"second":e=this._d.valueOf(),e-=dr(e,lr)}return this._d.setTime(e),r.updateOffset(this,!0),this}function yr(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?mr:fr,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=hr-dr(e+(this._isUTC?0:this.utcOffset()*ur),hr)-1;break;case"minute":e=this._d.valueOf(),e+=ur-dr(e,ur)-1;break;case"second":e=this._d.valueOf(),e+=lr-dr(e,lr)-1}return this._d.setTime(e),r.updateOffset(this,!0),this}function _r(){return this._d.valueOf()-6e4*(this._offset||0)}function vr(){return Math.floor(this.valueOf()/1e3)}function Mr(){return new Date(this.valueOf())}function br(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xr(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function wr(){return this.isValid()?this.toISOString():null}function Ar(){return _(this)}function Tr(){return f({},y(this))}function Lr(){return y(this).overflow}function Sr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function kr(t,e){var n,i,a,o=this._eras||_n("en")._eras;for(n=0,i=o.length;n<i;++n){switch(typeof o[n].since){case"string":a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}}return o}function Or(t,e,n){var i,r,a,o,s,c=this.eras();for(t=t.toUpperCase(),i=0,r=c.length;i<r;++i)if(a=c[i].name.toUpperCase(),o=c[i].abbr.toUpperCase(),s=c[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return c[i];break;case"NNNN":if(a===t)return c[i];break;case"NNNNN":if(s===t)return c[i]}else if([a,o,s].indexOf(t)>=0)return c[i]}function zr(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n}function Cr(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].name;if(i[t].until<=n&&n<=i[t].since)return i[t].name}return""}function Er(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].narrow;if(i[t].until<=n&&n<=i[t].since)return i[t].narrow}return""}function Dr(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].abbr;if(i[t].until<=n&&n<=i[t].since)return i[t].abbr}return""}function Nr(){var t,e,n,i,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(n=a[t].since<=a[t].until?1:-1,i=this.startOf("day").valueOf(),a[t].since<=i&&i<=a[t].until||a[t].until<=i&&i<=a[t].since)return(this.year()-r(a[t].since).year())*n+a[t].offset;return this.year()}function Ir(t){return c(this,"_erasNameRegex")||jr.call(this),t?this._erasNameRegex:this._erasRegex}function Pr(t){return c(this,"_erasAbbrRegex")||jr.call(this),t?this._erasAbbrRegex:this._erasRegex}function Br(t){return c(this,"_erasNarrowRegex")||jr.call(this),t?this._erasNarrowRegex:this._erasRegex}function Rr(t,e){return e.erasAbbrRegex(t)}function qr(t,e){return e.erasNameRegex(t)}function Yr(t,e){return e.erasNarrowRegex(t)}function Wr(t,e){return e._eraYearOrdinalRegex||Ot}function jr(){var t,e,n=[],i=[],r=[],a=[],o=this.eras();for(t=0,e=o.length;t<e;++t)i.push(Rt(o[t].name)),n.push(Rt(o[t].abbr)),r.push(Rt(o[t].narrow)),a.push(Rt(o[t].name)),a.push(Rt(o[t].abbr)),a.push(Rt(o[t].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function Fr(t,e){W(0,[t,t.length],0,e)}function Hr(t){return Zr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ur(t){return Zr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Xr(){return Ae(this.year(),1,4)}function Vr(){return Ae(this.isoWeekYear(),1,4)}function Gr(){var t=this.localeData()._week;return Ae(this.year(),t.dow,t.doy)}function Kr(){var t=this.localeData()._week;return Ae(this.weekYear(),t.dow,t.doy)}function Zr(t,e,n,i,r){var a;return null==t?we(this,i,r).year:(e>(a=Ae(t,i,r))&&(e=a),Jr.call(this,t,e,n,i,r))}function Jr(t,e,n,i,r){var a=xe(t,e,n,i,r),o=Me(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Qr(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}W("N",0,0,"eraAbbr"),W("NN",0,0,"eraAbbr"),W("NNN",0,0,"eraAbbr"),W("NNNN",0,0,"eraName"),W("NNNNN",0,0,"eraNarrow"),W("y",["y",1],"yo","eraYear"),W("y",["yy",2],0,"eraYear"),W("y",["yyy",3],0,"eraYear"),W("y",["yyyy",4],0,"eraYear"),It("N",Rr),It("NN",Rr),It("NNN",Rr),It("NNNN",qr),It("NNNNN",Yr),Yt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?y(n).era=r:y(n).invalidEra=t})),It("y",Ot),It("yy",Ot),It("yyy",Ot),It("yyyy",Ot),It("yo",Wr),Yt(["y","yy","yyy","yyyy"],Ht),Yt(["yo"],(function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ht]=n._locale.eraYearOrdinalParse(t,r):e[Ht]=parseInt(t,10)})),W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Fr("gggg","weekYear"),Fr("ggggg","weekYear"),Fr("GGGG","isoWeekYear"),Fr("GGGGG","isoWeekYear"),it("weekYear","gg"),it("isoWeekYear","GG"),st("weekYear",1),st("isoWeekYear",1),It("G",zt),It("g",zt),It("GG",wt,vt),It("gg",wt,vt),It("GGGG",St,bt),It("gggg",St,bt),It("GGGGG",kt,xt),It("ggggg",kt,xt),Wt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,i){e[i.substr(0,2)]=ht(t)})),Wt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),W("Q",0,"Qo","quarter"),it("quarter","Q"),st("quarter",7),It("Q",_t),Yt("Q",(function(t,e){e[Ut]=3*(ht(t)-1)})),W("D",["DD",2],"Do","date"),it("date","D"),st("date",9),It("D",wt),It("DD",wt,vt),It("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Yt(["D","DD"],Xt),Yt("Do",(function(t,e){e[Xt]=ht(t.match(wt)[0])}));var $r=pt("Date",!0);function ta(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}W("DDD",["DDDD",3],"DDDo","dayOfYear"),it("dayOfYear","DDD"),st("dayOfYear",4),It("DDD",Lt),It("DDDD",Mt),Yt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=ht(t)})),W("m",["mm",2],0,"minute"),it("minute","m"),st("minute",14),It("m",wt),It("mm",wt,vt),Yt(["m","mm"],Gt);var ea=pt("Minutes",!1);W("s",["ss",2],0,"second"),it("second","s"),st("second",15),It("s",wt),It("ss",wt,vt),Yt(["s","ss"],Kt);var na,ia,ra=pt("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),it("millisecond","ms"),st("millisecond",16),It("S",Lt,_t),It("SS",Lt,vt),It("SSS",Lt,Mt),na="SSSS";na.length<=9;na+="S")It(na,Ot);function aa(t,e){e[Zt]=ht(1e3*("0."+t))}for(na="S";na.length<=9;na+="S")Yt(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ia=pt("Milliseconds",!1),W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var ca=w.prototype;function la(t){return Kn(1e3*t)}function ua(){return Kn.apply(null,arguments).parseZone()}function ha(t){return t}ca.add=Ni,ca.calendar=ji,ca.clone=Fi,ca.diff=Zi,ca.endOf=yr,ca.format=er,ca.from=nr,ca.fromNow=ir,ca.to=rr,ca.toNow=ar,ca.get=mt,ca.invalidAt=Lr,ca.isAfter=Hi,ca.isBefore=Ui,ca.isBetween=Xi,ca.isSame=Vi,ca.isSameOrAfter=Gi,ca.isSameOrBefore=Ki,ca.isValid=Ar,ca.lang=sr,ca.locale=or,ca.localeData=cr,ca.max=Jn,ca.min=Zn,ca.parsingFlags=Tr,ca.set=gt,ca.startOf=gr,ca.subtract=Ii,ca.toArray=br,ca.toObject=xr,ca.toDate=Mr,ca.toISOString=$i,ca.inspect=tr,"undefined"!=typeof Symbol&&null!=Symbol.for&&(ca[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ca.toJSON=wr,ca.toString=Qi,ca.unix=vr,ca.valueOf=_r,ca.creationData=Sr,ca.eraName=Cr,ca.eraNarrow=Er,ca.eraAbbr=Dr,ca.eraYear=Nr,ca.year=ye,ca.isLeapYear=_e,ca.weekYear=Hr,ca.isoWeekYear=Ur,ca.quarter=ca.quarters=Qr,ca.month=he,ca.daysInMonth=pe,ca.week=ca.weeks=Oe,ca.isoWeek=ca.isoWeeks=ze,ca.weeksInYear=Gr,ca.weeksInWeekYear=Kr,ca.isoWeeksInYear=Xr,ca.isoWeeksInISOWeekYear=Vr,ca.date=$r,ca.day=ca.days=Ue,ca.weekday=Xe,ca.isoWeekday=Ve,ca.dayOfYear=ta,ca.hour=ca.hours=an,ca.minute=ca.minutes=ea,ca.second=ca.seconds=ra,ca.millisecond=ca.milliseconds=ia,ca.utcOffset=mi,ca.utc=yi,ca.local=_i,ca.parseZone=vi,ca.hasAlignedHourOffset=Mi,ca.isDST=bi,ca.isLocal=wi,ca.isUtcOffset=Ai,ca.isUtc=Ti,ca.isUTC=Ti,ca.zoneAbbr=oa,ca.zoneName=sa,ca.dates=L("dates accessor is deprecated. Use date instead.",$r),ca.months=L("months accessor is deprecated. Use month instead",he),ca.years=L("years accessor is deprecated. Use year instead",ye),ca.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gi),ca.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xi);var pa=D.prototype;function da(t,e,n,i){var r=_n(),a=m().set(i,e);return r[n](a,t)}function fa(t,e,n){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return da(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=da(t,i,n,"month");return r}function ma(t,e,n,i){"boolean"==typeof t?(h(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,h(e)&&(n=e,e=void 0),e=e||"");var r,a=_n(),o=t?a._week.dow:0,s=[];if(null!=n)return da(e,(n+o)%7,i,"day");for(r=0;r<7;r++)s[r]=da(e,(r+o)%7,i,"day");return s}function ga(t,e){return fa(t,e,"months")}function ya(t,e){return fa(t,e,"monthsShort")}function _a(t,e,n){return ma(t,e,n,"weekdays")}function va(t,e,n){return ma(t,e,n,"weekdaysShort")}function Ma(t,e,n){return ma(t,e,n,"weekdaysMin")}pa.calendar=I,pa.longDateFormat=V,pa.invalidDate=K,pa.ordinal=Q,pa.preparse=ha,pa.postformat=ha,pa.relativeTime=tt,pa.pastFuture=et,pa.set=C,pa.eras=kr,pa.erasParse=Or,pa.erasConvertYear=zr,pa.erasAbbrRegex=Pr,pa.erasNameRegex=Ir,pa.erasNarrowRegex=Br,pa.months=oe,pa.monthsShort=se,pa.monthsParse=le,pa.monthsRegex=fe,pa.monthsShortRegex=de,pa.week=Te,pa.firstDayOfYear=ke,pa.firstDayOfWeek=Se,pa.weekdays=Ye,pa.weekdaysMin=je,pa.weekdaysShort=We,pa.weekdaysParse=He,pa.weekdaysRegex=Ge,pa.weekdaysShortRegex=Ke,pa.weekdaysMinRegex=Ze,pa.isPM=nn,pa.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===ht(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=L("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=L("moment.langData is deprecated. Use moment.localeData instead.",_n);var ba=Math.abs;function xa(){var t=this._data;return this._milliseconds=ba(this._milliseconds),this._days=ba(this._days),this._months=ba(this._months),t.milliseconds=ba(t.milliseconds),t.seconds=ba(t.seconds),t.minutes=ba(t.minutes),t.hours=ba(t.hours),t.months=ba(t.months),t.years=ba(t.years),this}function wa(t,e,n,i){var r=ki(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Aa(t,e){return wa(this,t,e,1)}function Ta(t,e){return wa(this,t,e,-1)}function La(t){return t<0?Math.floor(t):Math.ceil(t)}function Sa(){var t,e,n,i,r,a=this._milliseconds,o=this._days,s=this._months,c=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*La(Oa(s)+o),o=0,s=0),c.milliseconds=a%1e3,t=ut(a/1e3),c.seconds=t%60,e=ut(t/60),c.minutes=e%60,n=ut(e/60),c.hours=n%24,o+=ut(n/24),s+=r=ut(ka(o)),o-=La(Oa(r)),i=ut(s/12),s%=12,c.days=o,c.months=s,c.years=i,this}function ka(t){return 4800*t/146097}function Oa(t){return 146097*t/4800}function za(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=rt(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+ka(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Oa(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Ca(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ht(this._months/12):NaN}function Ea(t){return function(){return this.as(t)}}var Da=Ea("ms"),Na=Ea("s"),Ia=Ea("m"),Pa=Ea("h"),Ba=Ea("d"),Ra=Ea("w"),qa=Ea("M"),Ya=Ea("Q"),Wa=Ea("y");function ja(){return ki(this)}function Fa(t){return t=rt(t),this.isValid()?this[t+"s"]():NaN}function Ha(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ua=Ha("milliseconds"),Xa=Ha("seconds"),Va=Ha("minutes"),Ga=Ha("hours"),Ka=Ha("days"),Za=Ha("months"),Ja=Ha("years");function Qa(){return ut(this.days()/7)}var $a=Math.round,to={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function no(t,e,n,i){var r=ki(t).abs(),a=$a(r.as("s")),o=$a(r.as("m")),s=$a(r.as("h")),c=$a(r.as("d")),l=$a(r.as("M")),u=$a(r.as("w")),h=$a(r.as("y")),p=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(p=p||u<=1&&["w"]||u<n.w&&["ww",u]),(p=p||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=e,p[3]=+t>0,p[4]=i,eo.apply(null,p)}function io(t){return void 0===t?$a:"function"==typeof t&&($a=t,!0)}function ro(t,e){return void 0!==to[t]&&(void 0===e?to[t]:(to[t]=e,"s"===t&&(to.ss=e-1),!0))}function ao(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,a=to;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(a=Object.assign({},to,e),null!=e.s&&null==e.ss&&(a.ss=e.s-1)),i=no(this,!r,a,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)}var oo=Math.abs;function so(t){return(t>0)-(t<0)||+t}function co(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,a,o,s,c=oo(this._milliseconds)/1e3,l=oo(this._days),u=oo(this._months),h=this.asSeconds();return h?(t=ut(c/60),e=ut(t/60),c%=60,t%=60,n=ut(u/12),u%=12,i=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=h<0?"-":"",a=so(this._months)!==so(h)?"-":"",o=so(this._days)!==so(h)?"-":"",s=so(this._milliseconds)!==so(h)?"-":"",r+"P"+(n?a+n+"Y":"")+(u?a+u+"M":"")+(l?o+l+"D":"")+(e||t||c?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(c?s+i+"S":"")):"P0D"}var lo=oi.prototype;return lo.isValid=ri,lo.abs=xa,lo.add=Aa,lo.subtract=Ta,lo.as=za,lo.asMilliseconds=Da,lo.asSeconds=Na,lo.asMinutes=Ia,lo.asHours=Pa,lo.asDays=Ba,lo.asWeeks=Ra,lo.asMonths=qa,lo.asQuarters=Ya,lo.asYears=Wa,lo.valueOf=Ca,lo._bubble=Sa,lo.clone=ja,lo.get=Fa,lo.milliseconds=Ua,lo.seconds=Xa,lo.minutes=Va,lo.hours=Ga,lo.days=Ka,lo.weeks=Qa,lo.months=Za,lo.years=Ja,lo.humanize=ao,lo.toISOString=co,lo.toString=co,lo.toJSON=co,lo.locale=or,lo.localeData=cr,lo.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",co),lo.lang=sr,W("X",0,0,"unix"),W("x",0,0,"valueOf"),It("x",zt),It("X",Dt),Yt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Yt("x",(function(t,e,n){n._d=new Date(ht(t))})),r.version="2.27.0",a(Kn),r.fn=ca,r.min=$n,r.max=ti,r.now=ei,r.utc=m,r.unix=la,r.months=ga,r.isDate=p,r.locale=mn,r.invalid=v,r.duration=ki,r.isMoment=A,r.weekdays=_a,r.parseZone=ua,r.localeData=_n,r.isDuration=si,r.monthsShort=ya,r.weekdaysMin=Ma,r.defineLocale=gn,r.updateLocale=yn,r.locales=vn,r.weekdaysShort=va,r.normalizeUnits=rt,r.relativeTimeRounding=io,r.relativeTimeThreshold=ro,r.calendarFormat=Wi,r.prototype=ca,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(143)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"f",(function(){return A})),n.d(e,"d",(function(){return k})),n.d(e,"e",(function(){return q})),n.d(e,"c",(function(){return X})),n.d(e,"b",(function(){return it}));var i=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function r(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function a(){}var o=.7,s=1/o,c="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3})$/,p=/^#([0-9a-f]{6})$/,d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),m=new RegExp("^rgba\\("+[c,c,c,l]+"\\)$"),g=new RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),y=new RegExp("^hsl\\("+[l,u,u]+"\\)$"),_=new RegExp("^hsla\\("+[l,u,u,l]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function M(t){var e;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?new T((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=p.exec(t))?b(parseInt(e[1],16)):(e=d.exec(t))?new T(e[1],e[2],e[3],1):(e=f.exec(t))?new T(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=m.exec(t))?x(e[1],e[2],e[3],e[4]):(e=g.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=y.exec(t))?L(e[1],e[2]/100,e[3]/100,1):(e=_.exec(t))?L(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?b(v[t]):"transparent"===t?new T(NaN,NaN,NaN,0):null}function b(t){return new T(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,i){return i<=0&&(t=e=n=NaN),new T(t,e,n,i)}function w(t){return t instanceof a||(t=M(t)),t?new T((t=t.rgb()).r,t.g,t.b,t.opacity):new T}function A(t,e,n,i){return 1===arguments.length?w(t):new T(t,e,n,null==i?1:i)}function T(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function L(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new O(t,e,n,i)}function S(t){if(t instanceof O)return new O(t.h,t.s,t.l,t.opacity);if(t instanceof a||(t=M(t)),!t)return new O;if(t instanceof O)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,c=o-r,l=(o+r)/2;return c?(s=e===o?(n-i)/c+6*(n<i):n===o?(i-e)/c+2:(e-n)/c+4,c/=l<.5?o+r:2-o-r,s*=60):c=l>0&&l<1?0:s,new O(s,c,l,t.opacity)}function k(t,e,n,i){return 1===arguments.length?S(t):new O(t,e,n,null==i?1:i)}function O(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function z(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}i(a,M,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),i(T,A,r(a,{brighter:function(t){return t=null==t?s:Math.pow(s,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),i(O,k,r(a,{brighter:function(t){return t=null==t?s:Math.pow(s,t),new O(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new O(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new T(z(t>=240?t-240:t+120,r,i),z(t,r,i),z(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var C=Math.PI/180,E=180/Math.PI,D=.95047,N=1.08883,I=4/29,P=6/29,B=3*P*P;function R(t){if(t instanceof Y)return new Y(t.l,t.a,t.b,t.opacity);if(t instanceof V){var e=t.h*C;return new Y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof T||(t=w(t));var n=H(t.r),i=H(t.g),r=H(t.b),a=W((.4124564*n+.3575761*i+.1804375*r)/D),o=W((.2126729*n+.7151522*i+.072175*r)/1);return new Y(116*o-16,500*(a-o),200*(o-W((.0193339*n+.119192*i+.9503041*r)/N)),t.opacity)}function q(t,e,n,i){return 1===arguments.length?R(t):new Y(t,e,n,null==i?1:i)}function Y(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function W(t){return t>.008856451679035631?Math.pow(t,1/3):t/B+I}function j(t){return t>P?t*t*t:B*(t-I)}function F(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function H(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U(t){if(t instanceof V)return new V(t.h,t.c,t.l,t.opacity);t instanceof Y||(t=R(t));var e=Math.atan2(t.b,t.a)*E;return new V(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function X(t,e,n,i){return 1===arguments.length?U(t):new V(t,e,n,null==i?1:i)}function V(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}i(Y,q,r(a,{brighter:function(t){return new Y(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Y(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=1*j(t),new T(F(3.2404542*(e=D*j(e))-1.5371385*t-.4985314*(n=N*j(n))),F(-.969266*e+1.8760108*t+.041556*n),F(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),i(V,X,r(a,{brighter:function(t){return new V(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new V(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return R(this).rgb()}}));var G=-.14861,K=1.78277,Z=-.29227,J=-.90649,Q=1.97294,$=Q*J,tt=Q*K,et=K*Z-J*G;function nt(t){if(t instanceof rt)return new rt(t.h,t.s,t.l,t.opacity);t instanceof T||(t=w(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(et*i+$*e-tt*n)/(et+$-tt),a=i-r,o=(Q*(n-r)-Z*a)/J,s=Math.sqrt(o*o+a*a)/(Q*r*(1-r)),c=s?Math.atan2(o,a)*E-120:NaN;return new rt(c<0?c+360:c,s,r,t.opacity)}function it(t,e,n,i){return 1===arguments.length?nt(t):new rt(t,e,n,null==i?1:i)}function rt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}i(rt,it,r(a,{brighter:function(t){return t=null==t?s:Math.pow(s,t),new rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*C,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new T(255*(e+n*(G*i+K*r)),255*(e+n*(Z*i+J*r)),255*(e+n*(Q*i)),this.opacity)}}))},function(t,e,n){"use strict";n.r(e),n.d(e,"interpolate",(function(){return S})),n.d(e,"interpolateArray",(function(){return g})),n.d(e,"interpolateBasis",(function(){return a})),n.d(e,"interpolateBasisClosed",(function(){return o})),n.d(e,"interpolateDate",(function(){return y})),n.d(e,"interpolateNumber",(function(){return _})),n.d(e,"interpolateObject",(function(){return v})),n.d(e,"interpolateRound",(function(){return k})),n.d(e,"interpolateString",(function(){return L})),n.d(e,"interpolateTransformCss",(function(){return D})),n.d(e,"interpolateTransformSvg",(function(){return N})),n.d(e,"interpolateZoom",(function(){return B})),n.d(e,"interpolateRgb",(function(){return p})),n.d(e,"interpolateRgbBasis",(function(){return f})),n.d(e,"interpolateRgbBasisClosed",(function(){return m})),n.d(e,"interpolateHsl",(function(){return q})),n.d(e,"interpolateHslLong",(function(){return Y})),n.d(e,"interpolateLab",(function(){return W})),n.d(e,"interpolateHcl",(function(){return F})),n.d(e,"interpolateHclLong",(function(){return H})),n.d(e,"interpolateCubehelix",(function(){return X})),n.d(e,"interpolateCubehelixLong",(function(){return V})),n.d(e,"quantize",(function(){return G}));var i=n(1);function r(t,e,n,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*i+o*r)/6}var a=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[i],o=t[i+1],s=i>0?t[i-1]:2*a-o,c=i<e-1?t[i+2]:2*o-a;return r((n-i/e)*e,s,a,o,c)}},o=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),a=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],c=t[(i+2)%e];return r((n-i/e)*e,a,o,s,c)}},s=function(t){return function(){return t}};function c(t,e){return function(n){return t+n*e}}function l(t,e){var n=e-t;return n?c(t,n>180||n<-180?n-360*Math.round(n/360):n):s(isNaN(t)?e:t)}function u(t){return 1==(t=+t)?h:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):s(isNaN(e)?n:e)}}function h(t,e){var n=e-t;return n?c(t,n):s(isNaN(t)?e:t)}var p=function t(e){var n=u(e);function r(t,e){var r=n((t=Object(i.f)(t)).r,(e=Object(i.f)(e)).r),a=n(t.g,e.g),o=n(t.b,e.b),s=h(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function d(t){return function(e){var n,r,a=e.length,o=new Array(a),s=new Array(a),c=new Array(a);for(n=0;n<a;++n)r=Object(i.f)(e[n]),o[n]=r.r||0,s[n]=r.g||0,c[n]=r.b||0;return o=t(o),s=t(s),c=t(c),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=c(t),r+""}}}var f=d(a),m=d(o),g=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=S(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}},y=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},_=function(t,e){return e-=t=+t,function(n){return t+e*n}},v=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=S(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},M=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b=new RegExp(M.source,"g");var x,w,A,T,L=function(t,e){var n,i,r,a=M.lastIndex=b.lastIndex=0,o=-1,s=[],c=[];for(t+="",e+="";(n=M.exec(t))&&(i=b.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:_(n,i)})),a=b.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,i=0;i<e;++i)s[(n=c[i]).i]=n.x(t);return s.join("")})},S=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?s(e):("number"===r?_:"string"===r?(n=Object(i.a)(e))?(e=n,p):L:e instanceof i.a?p:e instanceof Date?y:Array.isArray(e)?g:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?v:_)(t,e)},k=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},O=180/Math.PI,z={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},C=function(t,e,n,i,r,a){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,c/=s),t*i<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*O,skewX:Math.atan(c)*O,scaleX:o,scaleY:s}};function E(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],c=[];return a=t(a),o=t(o),function(t,i,r,a,o,s){if(t!==r||i!==a){var c=o.push("translate(",null,e,null,n);s.push({i:c-4,x:_(t,r)},{i:c-2,x:_(i,a)})}else(r||a)&&o.push("translate("+r+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:_(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(a.rotate,o.rotate,s,c),function(t,e,n,a){t!==e?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:_(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(a.skewX,o.skewX,s,c),function(t,e,n,i,a,o){if(t!==n||e!==i){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:_(t,n)},{i:s-2,x:_(e,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,c),a=o=null,function(t){for(var e,n=-1,i=c.length;++n<i;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var D=E((function(t){return"none"===t?z:(x||(x=document.createElement("DIV"),w=document.documentElement,A=document.defaultView),x.style.transform=t,t=A.getComputedStyle(w.appendChild(x),null).getPropertyValue("transform"),w.removeChild(x),t=t.slice(7,-1).split(","),C(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),N=E((function(t){return null==t?z:(T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),T.setAttribute("transform",t),(t=T.transform.baseVal.consolidate())?(t=t.matrix,C(t.a,t.b,t.c,t.d,t.e,t.f)):z)}),", ",")",")"),I=Math.SQRT2;function P(t){return((t=Math.exp(t))+1/t)/2}var B=function(t,e){var n,i,r=t[0],a=t[1],o=t[2],s=e[0],c=e[1],l=e[2],u=s-r,h=c-a,p=u*u+h*h;if(p<1e-12)i=Math.log(l/o)/I,n=function(t){return[r+t*u,a+t*h,o*Math.exp(I*t*i)]};else{var d=Math.sqrt(p),f=(l*l-o*o+4*p)/(2*o*2*d),m=(l*l-o*o-4*p)/(2*l*2*d),g=Math.log(Math.sqrt(f*f+1)-f),y=Math.log(Math.sqrt(m*m+1)-m);i=(y-g)/I,n=function(t){var e,n=t*i,s=P(g),c=o/(2*d)*(s*(e=I*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[r+c*u,a+c*h,o*s/P(I*n+g)]}}return n.duration=1e3*i,n};function R(t){return function(e,n){var r=t((e=Object(i.d)(e)).h,(n=Object(i.d)(n)).h),a=h(e.s,n.s),o=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=o(t),e.opacity=s(t),e+""}}}var q=R(l),Y=R(h);function W(t,e){var n=h((t=Object(i.e)(t)).l,(e=Object(i.e)(e)).l),r=h(t.a,e.a),a=h(t.b,e.b),o=h(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=a(e),t.opacity=o(e),t+""}}function j(t){return function(e,n){var r=t((e=Object(i.c)(e)).h,(n=Object(i.c)(n)).h),a=h(e.c,n.c),o=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=o(t),e.opacity=s(t),e+""}}}var F=j(l),H=j(h);function U(t){return function e(n){function r(e,r){var a=t((e=Object(i.b)(e)).h,(r=Object(i.b)(r)).h),o=h(e.s,r.s),s=h(e.l,r.l),c=h(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,r.gamma=e,r}(1)}var X=U(l),V=U(h),G=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}},function(t,e,n){(t.exports=n(142)).tz.load(n(145))},function(t,e,n){(function(t){!function(e){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var r=i((function(t,e){function n(t,e){if(i)if(r){var n="var sharedChunk = {}; ("+i+")(sharedChunk); ("+r+")(sharedChunk);",o={};i(o),(a=e(o)).workerUrl=window.URL.createObjectURL(new Blob([n],{type:"text/javascript"}))}else r=e;else i=e}var i,r,a;t.exports=(n(0,(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=i;function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){var n,i,r,a,o;for(void 0===e&&(e=1e-6),r=t,o=0;o<8;o++){if(a=this.sampleCurveX(r)-t,Math.abs(a)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=a/s}if((r=t)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(a=this.sampleCurveX(r),Math.abs(a-t)<e)return r;a<t?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var r=a;function a(t,e){this.x=t,this.y=e}function o(t,e,i,r){var a=new n(t,e,i,r);return function(t){return a.solve(t)}}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=i,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),r=e.x+n*(this.x-e.x)-i*(this.y-e.y),a=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=r,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(t){return t instanceof a||!Array.isArray(t)?t:new a(t[0],t[1])};var s=o(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function l(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r}function u(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var a=r[i];for(var o in a)t[o]=a[o]}return t}var h=1;function p(){return h++}function d(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function f(t){return t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function m(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function g(t,e){return-1!==t.indexOf(e,t.length-e.length)}function y(t,e,n){var i={};for(var r in t)i[r]=e.call(n||this,t[r],r,t);return i}function _(t,e,n){var i={};for(var r in t)e.call(n||this,t[r],r,t)&&(i[r]=t[r]);return i}function v(t){return Array.isArray(t)?t.map(v):"object"==typeof t&&t?y(t,v):t}var M={};function b(t){M[t]||("undefined"!=typeof console&&console.warn(t),M[t]=!0)}function x(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function w(t){for(var e=0,n=0,i=t.length,r=i-1,a=void 0,o=void 0;n<i;r=n++)a=t[n],e+=((o=t[r]).x-a.x)*(a.y+o.y);return e}function A(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function T(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,i,r){var a=i||r;return e[n]=!a||a.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var L=null;function S(t){if(null==L){var e=t.navigator?t.navigator.userAgent:null;L=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return L}function k(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var O,z,C,E,D=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),N=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,I=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,P={now:D,frame:function(t){var e=N(t);return{cancel:function(){return I(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=self.document.createElement("canvas"),i=n.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return(O=O||self.document.createElement("a")).href=t,O.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==z&&(z=self.matchMedia("(prefers-reduced-motion: reduce)")),z.matches)}},B={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},R={supported:!1,testSupport:function(t){!q&&E&&(Y?W(t):C=t)}},q=!1,Y=!1;function W(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,E),t.isContextLost())return;R.supported=!0}catch(t){}t.deleteTexture(e),q=!0}function j(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()}self.document&&((E=self.document.createElement("img")).onload=function(){C&&W(C),Y=!(C=null)},E.onerror=function(){q=!0,C=null},E.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var F="01";function H(t){return 0===t.indexOf("mapbox:")}j.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",F,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},j.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},j.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},j.prototype.normalizeStyleURL=function(t,e){if(!H(t))return t;var n=G(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},j.prototype.normalizeGlyphsURL=function(t,e){if(!H(t))return t;var n=G(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},j.prototype.normalizeSourceURL=function(t,e){if(!H(t))return t;var n=G(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},j.prototype.normalizeSpriteURL=function(t,e,n,i){var r=G(t);return H(t)?(r.path="/styles/v1"+r.path+"/sprite"+e+n,this._makeAPIURL(r,this._customAccessToken||i)):(r.path+=""+e+n,K(r))},j.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!H(t))return t;var n=G(t),i=2<=P.devicePixelRatio||512===e?"@2x":"",r=R.supported?".webp":"$1";n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,i+r),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var a=this._customAccessToken||function(){for(var t=0,e=n.params;t<e.length;t+=1){var i=e[t].match(/^access_token=(.*)$/);if(i)return i[1]}return null}()||B.ACCESS_TOKEN;return B.REQUIRE_ACCESS_TOKEN&&a&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,a)},j.prototype.canonicalizeTileURL=function(t,e){var n=G(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var i="mapbox://tiles/";i+=n.path.replace("/v4/","");var r=n.params;return e&&(r=r.filter((function(t){return!t.match(/^access_token=/)}))),r.length&&(i+="?"+r.join("&")),i},j.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&H(e),i=[],r=0,a=t.tiles||[];r<a.length;r+=1){var o=a[r];X(o)?i.push(this.canonicalizeTileURL(o,n)):i.push(o)}return i},j.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",i=G(B.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!B.REQUIRE_ACCESS_TOKEN)return K(t);if(!(e=e||B.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),K(t)};var U=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(t){return U.test(t)}var V=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function G(t){var e=t.match(V);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function K(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function Z(t){if(!t)return null;var e,n=t.split(".");if(!n||3!==n.length)return null;try{return JSON.parse((e=n[1],decodeURIComponent(self.atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(t){return null}}function J(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}J.prototype.getStorageKey=function(t){var e,n=Z(B.ACCESS_TOKEN),i="";return i=n&&n.u?(e=n.u,self.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))})))):B.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+i:"mapbox.eventData:"+i},J.prototype.fetchEventData=function(){var t=k("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var i=self.localStorage.getItem(e);i&&(this.eventData=JSON.parse(i));var r=self.localStorage.getItem(n);r&&(this.anonId=r)}catch(t){b("Unable to read from LocalStorage")}},J.prototype.saveEventData=function(){var t=k("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(n,this.anonId),1<=Object.keys(this.eventData).length&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){b("Unable to write to LocalStorage")}},J.prototype.processRequests=function(t){},J.prototype.postEvent=function(t,e,n,i){var r=this;if(B.EVENTS_URL){var a=G(B.EVENTS_URL);a.params.push("access_token="+(i||B.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.8.1",skuId:F,userId:this.anonId},s=e?u(o,e):o,c={url:K(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=kt(c,(function(t){r.pendingRequest=null,n(t),r.saveEventData(),r.processRequests(i)}))}},J.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var Q,$,tt,et,nt=(pt.__proto__=et=J,((pt.prototype=Object.create(et&&et.prototype)).constructor=pt).prototype.postMapLoadEvent=function(t,e,n,i){this.skuToken=n,(B.EVENTS_URL&&i||B.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return H(t)||X(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},i)},pt.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),i=n.id,r=n.timestamp;i&&this.success[i]||(this.anonId||this.fetchEventData(),f(this.anonId)||(this.anonId=d()),this.postEvent(r,{skuToken:this.skuToken},(function(t){t||i&&(e.success[i]=!0)}),t))}},pt),it=(ht.__proto__=tt=J,((ht.prototype=Object.create(tt&&tt.prototype)).constructor=ht).prototype.postTurnstileEvent=function(t,e){B.EVENTS_URL&&B.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return H(t)||X(t)}))&&this.queueRequest(Date.now(),e)},ht.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=Z(B.ACCESS_TOKEN),i=n?n.u:B.ACCESS_TOKEN,r=i!==this.eventData.tokenU;f(this.anonId)||(this.anonId=d(),r=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),c=(a-this.eventData.lastSuccess)/864e5;r=r||1<=c||c<-1||o.getDate()!==s.getDate()}else r=!0;if(!r)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=a,e.eventData.tokenU=i)}),t)}},new ht),rt=it.postTurnstileEvent.bind(it),at=new nt,ot=at.postMapLoadEvent.bind(at),st="mapbox-tiles",ct=500,lt=50,ut=42e4;function ht(t){tt.call(this,"appUserTurnstile"),this._customAccessToken=t}function pt(){et.call(this,"map.load"),this.success={},this.skuToken=""}function dt(){self.caches&&!Q&&(Q=self.caches.open(st))}function ft(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var mt,gt=1/0;function yt(){return null==mt&&(mt=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),mt}var _t={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(_t);var vt,Mt=((vt=Error)&&(xt.__proto__=vt),((xt.prototype=Object.create(vt&&vt.prototype)).constructor=xt).prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},xt),bt=A()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function xt(t,e,n){401===e&&X(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),vt.call(this,t),this.status=e,this.url=n,this.name=this.constructor.name,this.message=t}function wt(t,e){var n,i=new self.AbortController,r=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:bt(),signal:i.signal}),a=!1,o=!1,s=0<(n=r.url).indexOf("sku=")&&X(n);function c(n,i,a){if(!o){if(n&&"SecurityError"!==n.message&&b(n),i&&a)return l(i);var c=Date.now();self.fetch(r).then((function(n){if(n.ok){var i=s?n.clone():null;return l(n,i,c)}return e(new Mt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}}"json"===t.type&&r.headers.set("Accept","application/json");var l=function(n,i,s){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){o||(i&&s&&function(t,e,n){if(dt(),Q){var i={status:e.status,statusText:e.statusText,headers:new self.Headers};e.headers.forEach((function(t,e){return i.headers.set(e,t)}));var r=T(e.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&i.headers.set("Expires",new Date(n+1e3*r["max-age"]).toUTCString()),new Date(i.headers.get("Expires")).getTime()-n<ut||function(t,e){if(void 0===$)try{new Response(new ReadableStream),$=!0}catch(t){$=!1}$?e(t.body):t.blob().then(e)}(e,(function(e){var n=new self.Response(e,i);dt(),Q&&Q.then((function(e){return e.put(ft(t.url),n)})).catch((function(t){return b(t.message)}))})))}}(r,i,s),a=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){o||e(new Error(t.message))}))};return s?function(t,e){if(dt(),!Q)return e(null);var n=ft(t.url);Q.then((function(t){t.match(n).then((function(i){var r=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=T(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(i);t.delete(n),r&&t.put(n,i.clone()),e(null,i,r)})).catch(e)})).catch(e)}(r,c):c(null,null),{cancel:function(){o=!0,a||i.abort()}}}function At(t,e){if(n=t.url,!(/^file:/.test(n)||/^file:/.test(bt())&&!/^\w+:/.test(n))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return wt(t,e);if(A()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new self.XMLHttpRequest;for(var i in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(i,t.headers[i]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((200<=n.status&&n.status<300||0===n.status)&&null!==n.response){var i=n.response;if("json"===t.type)try{i=JSON.parse(n.response)}catch(i){return e(i)}e(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new Mt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)}function Tt(t,e){return At(u(t,{type:"arrayBuffer"}),e)}var Lt,St,kt=function(t,e){return At(u(t,{method:"POST"}),e)};Lt=[],St=0;var Ot=function(t,e){if(R.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),St>=B.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return Lt.push(n),n}function i(){if(!r)for(r=!0,St--;Lt.length&&St<B.MAX_PARALLEL_IMAGE_REQUESTS;){var t=Lt.shift(),e=t.requestParameters,n=t.callback;t.cancelled||(t.cancel=Ot(e,n).cancel)}}St++;var r=!1,a=Tt(t,(function(t,n,r,a){var o,s,c;i(),t?e(t):n&&(yt()?(o=n,s=e,c=new self.Blob([new Uint8Array(o)],{type:"image/png"}),self.createImageBitmap(c).then((function(t){s(null,t)})).catch((function(t){s(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))):function(t,e,n,i){var r=new self.Image,a=self.URL;r.onload=function(){e(null,r),a.revokeObjectURL(r.src)},r.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var o=new self.Blob([new Uint8Array(t)],{type:"image/png"});r.cacheControl=n,r.expires=i,r.src=t.byteLength?a.createObjectURL(o):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(n,e,r,a))}));return{cancel:function(){a.cancel(),i()}}};function zt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Ct(t,e,n){if(n&&n[t]){var i=n[t].indexOf(e);-1!==i&&n[t].splice(i,1)}}function Et(t,e){void 0===e&&(e={}),u(this,e),this.type=t}function Dt(){}var Nt,It=(Pt.__proto__=Nt=Et,(Pt.prototype=Object.create(Nt&&Nt.prototype)).constructor=Pt);function Pt(t,e){void 0===e&&(e={}),Nt.call(this,"error",u({error:t},e))}Dt.prototype.on=function(t,e){return this._listeners=this._listeners||{},zt(t,e,this._listeners),this},Dt.prototype.off=function(t,e){return Ct(t,e,this._listeners),Ct(t,e,this._oneTimeListeners),this},Dt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},zt(t,e,this._oneTimeListeners),this},Dt.prototype.fire=function(t,e){"string"==typeof t&&(t=new Et(t,e||{}));var n=t.type;if(this.listens(n)){for(var i=0,r=(t.target=this)._listeners&&this._listeners[n]?this._listeners[n].slice():[];i<r.length;i+=1)r[i].call(this,t);for(var a=0,o=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];a<o.length;a+=1){var s=o[a];Ct(n,s,this._oneTimeListeners),s.call(this,t)}var c=this._eventedParent;c&&(u(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),c.fire(t))}else t instanceof It&&console.error(t.error);return this},Dt.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&0<this._listeners[t].length||this._oneTimeListeners&&this._oneTimeListeners[t]&&0<this._oneTimeListeners[t].length||this._eventedParent&&this._eventedParent.listens(t)};var Bt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!(Dt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this})},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Rt=function(t,e,n,i){this.message=(t?t+": ":"")+n,i&&(this.identifier=i),null!=e&&e.__line__&&(this.line=e.__line__)};function qt(t){var e=t.key,n=t.value;return n?[new Rt(e,n,"constants have been deprecated as of v8")]:[]}function Yt(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var a=r[i];for(var o in a)t[o]=a[o]}return t}function Wt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function jt(t){if(Array.isArray(t))return t.map(jt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=jt(t[n]);return e}return Wt(t)}function Ft(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,i=e;n<i.length;n+=1){var r=i[n],a=r[0],o=r[1];this.bindings[a]=o}}var Ht,Ut=((Ht=Error)&&(Xt.__proto__=Ht),(Xt.prototype=Object.create(Ht&&Ht.prototype)).constructor=Xt);function Xt(t,e){Ht.call(this,e),this.message=e,this.key=t}Ft.prototype.concat=function(t){return new Ft(this,t)},Ft.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Ft.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Vt={kind:"null"},Gt={kind:"number"},Kt={kind:"string"},Zt={kind:"boolean"},Jt={kind:"color"},Qt={kind:"object"},$t={kind:"value"},te={kind:"collator"},ee={kind:"formatted"},ne={kind:"resolvedImage"};function ie(t,e){return{kind:"array",itemType:t,N:e}}function re(t){if("array"!==t.kind)return t.kind;var e=re(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}var ae=[Vt,Gt,Kt,Zt,Jt,ee,Qt,ie($t),ne];function oe(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!oe(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,i=ae;n<i.length;n+=1)if(!oe(i[n],e))return null}return"Expected "+re(t)+" but found "+re(e)+" instead."}var se=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:255<t?255:t}function r(t){return t<0?0:1<t?1:t}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100*255):i(parseInt(t))}function o(t){return"%"===t[t.length-1]?r(parseFloat(t)/100):r(parseFloat(t))}function s(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,r=t.replace(/ /g,"").toLowerCase();if(r in n)return n[r].slice();if("#"===r[0])return 4===r.length?0<=(e=parseInt(r.substr(1),16))&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&0<=(e=parseInt(r.substr(1),16))&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var c=r.indexOf("("),l=r.indexOf(")");if(-1!==c&&l+1===r.length){var u=r.substr(0,c),h=r.substr(c+1,l-(c+1)).split(","),p=1;switch(u){case"rgba":if(4!==h.length)return null;p=o(h.pop());case"rgb":return 3!==h.length?null:[a(h[0]),a(h[1]),a(h[2]),p];case"hsla":if(4!==h.length)return null;p=o(h.pop());case"hsl":if(3!==h.length)return null;var d=(parseFloat(h[0])%360+360)%360/360,f=o(h[1]),m=o(h[2]),g=m<=.5?m*(f+1):m+f-m*f,y=2*m-g;return[i(255*s(y,g,d+1/3)),i(255*s(y,g,d)),i(255*s(y,g,d-1/3)),p];default:return null}}return null}}catch(t){}})).parseCSSColor,ce=function(t,e,n,i){void 0===i&&(i=1),this.r=t,this.g=e,this.b=n,this.a=i};ce.parse=function(t){if(t){if(t instanceof ce)return t;if("string"==typeof t){var e=se(t);if(e)return new ce(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},ce.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],i=t[2],r=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(i)+","+r+")"},ce.prototype.toArray=function(){var t=this.r,e=this.g,n=this.b,i=this.a;return 0===i?[0,0,0,0]:[255*t/i,255*e/i,255*n/i,i]},ce.black=new ce(0,0,0,1),ce.white=new ce(1,1,1,1),ce.transparent=new ce(0,0,0,0),ce.red=new ce(1,0,0,1);var le=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};function ue(t,e,n,i,r){this.text=t,this.image=e,this.scale=n,this.fontStack=i,this.textColor=r}le.prototype.compare=function(t,e){return this.collator.compare(t,e)},le.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var he=function(t){this.sections=t};he.fromString=function(t){return new he([new ue(t,null,null,null,null)])},he.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},he.factory=function(t){return t instanceof he?t:he.fromString(t)},he.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},he.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];if(i.image)t.push(["image",i.image.name]);else{t.push(i.text);var r={};i.fontStack&&(r["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(r["font-scale"]=i.scale),i.textColor&&(r["text-color"]=["rgba"].concat(i.textColor.toArray())),t.push(r)}}return t};var pe=function(t){this.name=t.name,this.available=t.available};function de(t,e,n,i){return"number"==typeof t&&0<=t&&t<=255&&"number"==typeof e&&0<=e&&e<=255&&"number"==typeof n&&0<=n&&n<=255?void 0===i||"number"==typeof i&&0<=i&&i<=1?null:"Invalid rgba value ["+[t,e,n,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof i?[t,e,n,i]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function fe(t){if(null===t)return Vt;if("string"==typeof t)return Kt;if("boolean"==typeof t)return Zt;if("number"==typeof t)return Gt;if(t instanceof ce)return Jt;if(t instanceof le)return te;if(t instanceof he)return ee;if(t instanceof pe)return ne;if(Array.isArray(t)){for(var e,n=t.length,i=0,r=t;i<r.length;i+=1){var a=fe(r[i]);if(e){if(e===a)continue;e=$t;break}e=a}return ie(e||$t,n)}return Qt}function me(t){var e=typeof t;return null===t?"":"string"==e||"number"==e||"boolean"==e?String(t):t instanceof ce||t instanceof he||t instanceof pe?t.toString():JSON.stringify(t)}function ge(t,e){this.type=t,this.value=e}pe.prototype.toString=function(){return this.name},pe.fromString=function(t){return new pe({name:t,available:!1})},pe.prototype.serialize=function(){return["image",this.name]},ge.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return 1;if("string"==typeof e)return 1;if("boolean"==typeof e)return 1;if("number"==typeof e)return 1;if(e instanceof ce)return 1;if(e instanceof le)return 1;if(e instanceof he)return 1;if(e instanceof pe)return 1;if(Array.isArray(e)){for(var n=0,i=e;n<i.length;n+=1)if(!t(i[n]))return;return 1}if("object"==typeof e){for(var r in e)if(!t(e[r]))return;return 1}}(t[1]))return e.error("invalid value");var n=t[1],i=fe(n),r=e.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new ge(i,n)},ge.prototype.evaluate=function(){return this.value},ge.prototype.eachChild=function(){},ge.prototype.possibleOutputs=function(){return[this.value]},ge.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ce?["rgba"].concat(this.value.toArray()):this.value instanceof he?this.value.serialize():this.value};var ye=function(t){this.name="ExpressionEvaluationError",this.message=t};function _e(t,e){this.type=t,this.args=e}ye.prototype.toJSON=function(){return this.message};var ve={string:Kt,number:Gt,boolean:Zt,object:Qt};function Me(t){this.type=ee,this.sections=t}function be(t){this.type=ne,this.input=t}function xe(t,e){this.type=t,this.args=e}_e.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,i=1,r=t[0];if("array"===r){var a,o;if(2<t.length){var s=t[1];if("string"!=typeof s||!(s in ve)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);a=ve[s],i++}else a=$t;if(3<t.length){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);o=t[2],i++}n=ie(a,o)}else n=ve[r];for(var c=[];i<t.length;i++){var l=e.parse(t[i],i,$t);if(!l)return null;c.push(l)}return new _e(n,c)},_e.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!oe(this.type,fe(n)))return n;if(e===this.args.length-1)throw new ye("Expected value to be of type "+re(this.type)+", but found "+re(fe(n))+" instead.")}return null},_e.prototype.eachChild=function(t){this.args.forEach(t)},_e.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},_e.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var i=t.N;("number"==typeof i||1<this.args.length)&&e.push(i)}}return e.concat(this.args.map((function(t){return t.serialize()})))},Me.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var i=[],r=!1,a=1;a<=t.length-1;++a){var o=t[a];if(r&&"object"==typeof o&&!Array.isArray(o)){r=!1;var s=null;if(o["font-scale"]&&!(s=e.parse(o["font-scale"],1,Gt)))return null;var c=null;if(o["text-font"]&&!(c=e.parse(o["text-font"],1,ie(Kt))))return null;var l=null;if(o["text-color"]&&!(l=e.parse(o["text-color"],1,Jt)))return null;var u=i[i.length-1];u.scale=s,u.font=c,u.textColor=l}else{var h=e.parse(t[a],1,$t);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new Me(i)},Me.prototype.evaluate=function(t){return new he(this.sections.map((function(e){var n=e.content.evaluate(t);return fe(n)===ne?new ue("",n,null,null,null):new ue(me(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},Me.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t(i.content),i.scale&&t(i.scale),i.font&&t(i.font),i.textColor&&t(i.textColor)}},Me.prototype.possibleOutputs=function(){return[void 0]},Me.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t.push(i.content.serialize());var r={};i.scale&&(r["font-scale"]=i.scale.serialize()),i.font&&(r["text-font"]=i.font.serialize()),i.textColor&&(r["text-color"]=i.textColor.serialize()),t.push(r)}return t},be.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Kt);return n?new be(n):e.error("No image name provided.")},be.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=!1;return t.availableImages&&-1<t.availableImages.indexOf(e)&&(n=!0),new pe({name:e,available:n})},be.prototype.eachChild=function(t){t(this.input)},be.prototype.possibleOutputs=function(){return[void 0]},be.prototype.serialize=function(){return["image",this.input.serialize()]};var we={"to-boolean":Zt,"to-color":Jt,"to-number":Gt,"to-string":Kt};function Ae(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null}xe.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var i=we[n],r=[],a=1;a<t.length;a++){var o=e.parse(t[a],a,$t);if(!o)return null;r.push(o)}return new xe(i,r)},xe.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,i=0,r=this.args;i<r.length;i+=1){if(n=null,(e=r[i].evaluate(t))instanceof ce)return e;if("string"==typeof e){var a=t.parseColor(e);if(a)return a}else if(Array.isArray(e)&&!(n=e.length<3||4<e.length?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":de(e[0],e[1],e[2],e[3])))return new ce(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ye(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"!==this.type.kind)return"formatted"===this.type.kind?he.fromString(me(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?pe.fromString(me(this.args[0].evaluate(t))):me(this.args[0].evaluate(t));for(var o=null,s=0,c=this.args;s<c.length;s+=1){if(null===(o=c[s].evaluate(t)))return 0;var l=Number(o);if(!isNaN(l))return l}throw new ye("Could not convert "+JSON.stringify(o)+" to number.")},xe.prototype.eachChild=function(t){this.args.forEach(t)},xe.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},xe.prototype.serialize=function(){if("formatted"===this.type.kind)return new Me([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new be(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var Te=["Unknown","Point","LineString","Polygon"];Ae.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ae.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Te[this.feature.type]:this.feature.type:null},Ae.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ae.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(this._parseColorCache[t]=ce.parse(t))};var Le=function(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i};function Se(t,e,n){this.type=te,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}function ke(t){if(t instanceof Le){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!ke(t)&&(e=!1)})),e}function Oe(t){if(!(t instanceof Le&&"feature-state"===t.name)){var e=!0;return t.eachChild((function(t){e&&!Oe(t)&&(e=!1)})),e}}function ze(t,e){if(t instanceof Le&&0<=e.indexOf(t.name))return!1;var n=!0;return t.eachChild((function(t){n&&!ze(t,e)&&(n=!1)})),n}function Ce(t,e){this.type=e.type,this.name=t,this.boundExpression=e}Le.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Le.prototype.eachChild=function(t){this.args.forEach(t)},Le.prototype.possibleOutputs=function(){return[void 0]},Le.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},Le.parse=function(t,e){var n,i=t[0],r=Le.definitions[i];if(!r)return e.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=o.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),c=null,l=0,u=s;l<u.length;l+=1){var h=u[l],p=h[0],d=h[1];c=new Ee(e.registry,e.path,null,e.scope);for(var f=[],m=!1,g=1;g<t.length;g++){var y=t[g],_=Array.isArray(p)?p[g-1]:p.type,v=c.parse(y,1+f.length,_);if(!v){m=!0;break}f.push(v)}if(!m)if(Array.isArray(p)&&p.length!==f.length)c.error("Expected "+p.length+" arguments, but found "+f.length+" instead.");else{for(var M=0;M<f.length;M++){var b=Array.isArray(p)?p[M]:p.type,x=f[M];c.concat(M+1).checkSubtype(b,x.type)}if(0===c.errors.length)return new Le(i,a,d,f)}}if(1===s.length)(n=e.errors).push.apply(n,c.errors);else{for(var w=(s.length?s:o).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(re).join(", ")+")":"("+re(e.type)+"...)"})).join(" | "),A=[],T=1;T<t.length;T++){var L=e.parse(t[T],1+A.length);if(!L)return null;A.push(re(L.type))}e.error("Expected arguments of type "+w+", but found ("+A.join(", ")+") instead.")}return null},Le.register=function(t,e){for(var n in Le.definitions=e)t[n]=Le},Se.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Zt);if(!i)return null;var r=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Zt);if(!r)return null;var a=null;return n.locale&&!(a=e.parse(n.locale,1,Kt))?null:new Se(i,r,a)},Se.prototype.evaluate=function(t){return new le(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Se.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Se.prototype.possibleOutputs=function(){return[void 0]},Se.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]},Ce.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Ce(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Ce.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Ce.prototype.eachChild=function(){},Ce.prototype.possibleOutputs=function(){return[void 0]},Ce.prototype.serialize=function(){return["var",this.name]};var Ee=function(t,e,n,i,r){void 0===e&&(e=[]),void 0===i&&(i=new Ft),void 0===r&&(r=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=i,this.errors=r,this.expectedType=n};function De(t,e){for(var n,i,r=t.length-1,a=0,o=r,s=0;a<=o;)if(n=t[s=Math.floor((a+o)/2)],i=t[s+1],n<=e){if(s===r||e<i)return s;a=s+1}else{if(!(e<n))throw new ye("Input is not a number.");o=s-1}return 0}Ee.prototype.parse=function(t,e,n,i,r){return void 0===r&&(r={}),e?this.concat(e,n,i)._parse(t,r):this._parse(t,r)},Ee.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new _e(e,[t]):"coerce"===n?new xe(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=t[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[i];if(r){var a=r.parse(t,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,e.typeAnnotation||"coerce");else a=n(a,o,e.typeAnnotation||"assert")}if(!(a instanceof ge)&&"resolvedImage"!==a.type.kind&&function t(e){if(e instanceof Ce)return t(e.boundExpression);if(e instanceof Le&&"error"===e.name)return!1;if(e instanceof Se)return!1;var n=e instanceof xe||e instanceof _e,i=!0;return e.eachChild((function(e){i=n?i&&t(e):i&&e instanceof ge})),!!i&&ke(e)&&ze(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(a)){var c=new Ae;try{a=new ge(a.type,a.evaluate(c))}catch(t){return this.error(t.message),null}}return a}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Ee.prototype.concat=function(t,e,n){var i="number"==typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new Ee(this.registry,i,e||null,r,this.errors)},Ee.prototype.error=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];var i=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Ut(i,t))},Ee.prototype.checkSubtype=function(t,e){var n=oe(t,e);return n&&this.error(n),n};var Ne=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var i=0,r=n;i<r.length;i+=1){var a=r[i],o=a[0],s=a[1];this.labels.push(o),this.outputs.push(s)}};function Ie(t,e,n){return t*(1-n)+e*n}Ne.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Gt);if(!n)return null;var i=[],r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var a=1;a<t.length;a+=2){var o=1===a?-1/0:t[a],s=t[a+1],c=a,l=a+1;if("number"!=typeof o)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=o)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var u=e.parse(s,l,r);if(!u)return null;r=r||u.type,i.push([o,u])}return new Ne(r,n,i)},Ne.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;return i>=e[r-1]?n[r-1].evaluate(t):n[De(e,i)].evaluate(t)},Ne.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Ne.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Ne.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)0<e&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Pe=Object.freeze({__proto__:null,number:Ie,color:function(t,e,n){return new ce(Ie(t.r,e.r,n),Ie(t.g,e.g,n),Ie(t.b,e.b,n),Ie(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,i){return Ie(t,e[i],n)}))}}),Be=4/29,Re=6/29,qe=3*Re*Re,Ye=Re*Re*Re,We=Math.PI/180,je=180/Math.PI;function Fe(t){return Ye<t?Math.pow(t,1/3):t/qe+Be}function He(t){return Re<t?t*t*t:qe*(t-Be)}function Ue(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Xe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ve(t){var e=Xe(t.r),n=Xe(t.g),i=Xe(t.b),r=Fe((.4124564*e+.3575761*n+.1804375*i)/.95047),a=Fe(.2126729*e+.7151522*n+.072175*i);return{l:116*a-16,a:500*(r-a),b:200*(a-Fe((.0193339*e+.119192*n+.9503041*i)/1.08883)),alpha:t.a}}function Ge(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=+He(e),n=.95047*He(n),i=1.08883*He(i),new ce(Ue(3.2404542*n-1.5371385*e-.4985314*i),Ue(-.969266*n+1.8760108*e+.041556*i),Ue(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}var Ke={forward:Ve,reverse:Ge,interpolate:function(t,e,n){return{l:Ie(t.l,e.l,n),a:Ie(t.a,e.a,n),b:Ie(t.b,e.b,n),alpha:Ie(t.alpha,e.alpha,n)}}},Ze={forward:function(t){var e=Ve(t),n=e.l,i=e.a,r=e.b,a=Math.atan2(r,i)*je;return{h:a<0?360+a:a,c:Math.sqrt(i*i+r*r),l:n,alpha:t.a}},reverse:function(t){var e=t.h*We,n=t.c;return Ge({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:(i=t.h,r=e.h,i+n*(180<(a=r-i)||a<-180?a-360*Math.round(a/360):a)),c:Ie(t.c,e.c,n),l:Ie(t.l,e.l,n),alpha:Ie(t.alpha,e.alpha,n)};var i,r,a}},Je=Object.freeze({__proto__:null,lab:Ke,hcl:Ze}),Qe=function(t,e,n,i,r){this.type=t,this.operator=e,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(var a=0,o=r;a<o.length;a+=1){var s=o[a],c=s[0],l=s[1];this.labels.push(c),this.outputs.push(l)}};function $e(t,e,n,i){var r=i-n,a=t-n;return 0==r?0:1===e?a/r:(Math.pow(e,a)-1)/(Math.pow(e,r)-1)}Qe.interpolationFactor=function(t,e,i,r){var a=0;if("exponential"===t.name)a=$e(e,t.base,i,r);else if("linear"===t.name)a=$e(e,1,i,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;a=new n(o[0],o[1],o[2],o[3]).solve($e(e,1,i,r))}return a},Qe.parse=function(t,e){var n=t[0],i=t[1],r=t[2],a=t.slice(3);if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var o=i[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:o}}else{if("cubic-bezier"!==i[0])return e.error("Unknown interpolation type "+String(i[0]),1,0);var s=i.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||1<t})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,2,Gt)))return null;var c=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Jt:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var u=0;u<a.length;u+=2){var h=a[u],p=a[u+1],d=u+3,f=u+4;if("number"!=typeof h)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(c.length&&c[c.length-1][0]>=h)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var m=e.parse(p,f,l);if(!m)return null;l=l||m.type,c.push([h,m])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new Qe(l,n,i,r,c):e.error("Type "+re(l)+" is not interpolatable.")},Qe.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;if(i>=e[r-1])return n[r-1].evaluate(t);var a=De(e,i),o=e[a],s=e[a+1],c=Qe.interpolationFactor(this.interpolation,i,o,s),l=n[a].evaluate(t),u=n[a+1].evaluate(t);return"interpolate"===this.operator?Pe[this.type.kind.toLowerCase()](l,u,c):"interpolate-hcl"===this.operator?Ze.reverse(Ze.interpolate(Ze.forward(l),Ze.forward(u),c)):Ke.reverse(Ke.interpolate(Ke.forward(l),Ke.forward(u),c))},Qe.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Qe.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Qe.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var tn=function(t,e){this.type=t,this.args=e};tn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,i=e.expectedType;i&&"value"!==i.kind&&(n=i);for(var r=[],a=0,o=t.slice(1);a<o.length;a+=1){var s=o[a],c=e.parse(s,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!c)return null;n=n||c.type,r.push(c)}var l=i&&r.some((function(t){return oe(i,t.type)}));return new tn(l?$t:n,r)},tn.prototype.evaluate=function(t){for(var e,n=null,i=0,r=0,a=this.args;r<a.length&&(i++,(n=a[r].evaluate(t))&&n instanceof pe&&!n.available&&(e=e||n.name,n=null,i===this.args.length&&(n=e)),null===n);r+=1);return n},tn.prototype.eachChild=function(t){this.args.forEach(t)},tn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},tn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var en=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};function nn(t,e,n){this.type=t,this.index=e,this.input=n}function rn(t,e){this.type=Zt,this.needle=t,this.haystack=e}function an(t,e,n,i,r,a){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=r,this.otherwise=a}function on(t,e,n){this.type=t,this.branches=e,this.otherwise=n}function sn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function cn(t,e,n,i){return 0===i.compare(e,n)}function ln(t,e,n){var i="=="!==t&&"!="!==t;return r.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],a=e.parse(t[1],1,$t);if(!a)return null;if(!sn(n,a.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+re(a.type)+"'.");var o=e.parse(t[2],2,$t);if(!o)return null;if(!sn(n,o.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+re(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error("Cannot compare types '"+re(a.type)+"' and '"+re(o.type)+"'.");i&&("value"===a.type.kind&&"value"!==o.type.kind?a=new _e(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new _e(a.type,[o])));var s=null;if(4===t.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,te)))return null}return new r(a,o,s)},r.prototype.evaluate=function(r){var a=this.lhs.evaluate(r),o=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){var s=fe(a),c=fe(o);if(s.kind!==c.kind||"string"!==s.kind&&"number"!==s.kind)throw new ye('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+c.kind+") instead.")}if(this.collator&&!i&&this.hasUntypedArgument){var l=fe(a),u=fe(o);if("string"!==l.kind||"string"!==u.kind)return e(r,a,o)}return this.collator?n(r,a,o,this.collator.evaluate(r)):e(r,a,o)},r.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},r.prototype.possibleOutputs=function(){return[!0,!1]},r.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},r;function r(t,e,n){this.type=Zt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}}function un(t,e,n,i,r){this.type=Kt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r}en.prototype.evaluate=function(t){return this.result.evaluate(t)},en.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},en.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],i=1;i<t.length-1;i+=2){var r=t[i];if("string"!=typeof r)return e.error("Expected string, but found "+typeof r+" instead.",i);if(/[^a-zA-Z0-9_]/.test(r))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=e.parse(t[i+1],i+1);if(!a)return null;n.push([r,a])}var o=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return o?new en(n,o):null},en.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},en.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var i=n[e],r=i[0],a=i[1];t.push(r,a.serialize())}return t.push(this.result.serialize()),t},nn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Gt),i=e.parse(t[2],2,ie(e.expectedType||$t));return n&&i?new nn(i.type.itemType,n,i):null},nn.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ye("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new ye("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new ye("Array index must be an integer, but found "+e+" instead.");return n[e]},nn.prototype.eachChild=function(t){t(this.index),t(this.input)},nn.prototype.possibleOutputs=function(){return[void 0]},nn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]},rn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n,i=e.parse(t[1],1,$t),r=e.parse(t[2],2,$t);return i&&r?"boolean"!==(n=i.type).kind&&"string"!==n.kind&&"number"!==n.kind&&"null"!==n.kind&&"value"!==n.kind?e.error("Expected first argument to be of type boolean, string, number or null, but found "+re(i.type)+" instead"):new rn(i,r):null},rn.prototype.evaluate=function(t){var e,n=this.needle.evaluate(t),i=this.haystack.evaluate(t);if(!n||!i)return!1;if("boolean"!=typeof n&&"string"!=typeof n&&"number"!=typeof n)throw new ye("Expected first argument to be of type boolean, string or number, but found "+re(fe(n))+" instead.");if(e=i,!Array.isArray(e)&&"string"!=typeof e)throw new ye("Expected second argument to be of type array or string, but found "+re(fe(i))+" instead.");return 0<=i.indexOf(n)},rn.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},rn.prototype.possibleOutputs=function(){return[!0,!1]},rn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]},an.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var r={},a=[],o=2;o<t.length-1;o+=2){var s=t[o],c=t[o+1];Array.isArray(s)||(s=[s]);var l=e.concat(o);if(0===s.length)return l.error("Expected at least one branch label.");for(var u=0,h=s;u<h.length;u+=1){var p=h[u];if("number"!=typeof p&&"string"!=typeof p)return l.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,fe(p)))return null}else n=fe(p);if(void 0!==r[String(p)])return l.error("Branch labels must be unique.");r[String(p)]=a.length}var d=e.parse(c,o,i);if(!d)return null;i=i||d.type,a.push(d)}var f=e.parse(t[1],1,$t);if(!f)return null;var m=e.parse(t[t.length-1],t.length-1,i);return!m||"value"!==f.type.kind&&e.concat(1).checkSubtype(n,f.type)?null:new an(n,i,f,r,a,m)},an.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(fe(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},an.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},an.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},an.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],i={},r=0,a=Object.keys(this.cases).sort();r<a.length;r+=1){var o=a[r];void 0===(h=i[this.cases[o]])?(i[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[h][1].push(o)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,l=n;c<l.length;c+=1){var u=l[c],h=u[0],p=u[1];1===p.length?e.push(s(p[0])):e.push(p.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e},on.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i=[],r=1;r<t.length-1;r+=2){var a=e.parse(t[r],r,Zt);if(!a)return null;var o=e.parse(t[r+1],r+1,n);if(!o)return null;i.push([a,o]),n=n||o.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new on(n,i,s):null},on.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],r=i[0],a=i[1];if(r.evaluate(t))return a.evaluate(t)}return this.otherwise.evaluate(t)},on.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],r=i[0],a=i[1];t(r),t(a)}t(this.otherwise)},on.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){return t[0],t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},on.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var hn=ln("==",(function(t,e,n){return e===n}),cn),pn=ln("!=",(function(t,e,n){return e!==n}),(function(t,e,n,i){return!cn(0,e,n,i)})),dn=ln("<",(function(t,e,n){return e<n}),(function(t,e,n,i){return i.compare(e,n)<0})),fn=ln(">",(function(t,e,n){return n<e}),(function(t,e,n,i){return 0<i.compare(e,n)})),mn=ln("<=",(function(t,e,n){return e<=n}),(function(t,e,n,i){return i.compare(e,n)<=0})),gn=ln(">=",(function(t,e,n){return n<=e}),(function(t,e,n,i){return 0<=i.compare(e,n)}));function yn(t){this.type=Gt,this.input=t}un.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Gt);if(!n)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");var r=null;if(i.locale&&!(r=e.parse(i.locale,1,Kt)))return null;var a=null;if(i.currency&&!(a=e.parse(i.currency,1,Kt)))return null;var o=null;if(i["min-fraction-digits"]&&!(o=e.parse(i["min-fraction-digits"],1,Gt)))return null;var s=null;return i["max-fraction-digits"]&&!(s=e.parse(i["max-fraction-digits"],1,Gt))?null:new un(n,r,a,o,s)},un.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},un.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},un.prototype.possibleOutputs=function(){return[void 0]},un.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]},yn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+re(n.type)+" instead."):new yn(n):null},yn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ye("Expected value to be of type string or array, but found "+re(fe(e))+" instead.")},yn.prototype.eachChild=function(t){t(this.input)},yn.prototype.possibleOutputs=function(){return[void 0]},yn.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var _n={"==":hn,"!=":pn,">":fn,"<":dn,">=":gn,"<=":mn,array:_e,at:nn,boolean:_e,case:on,coalesce:tn,collator:Se,format:Me,image:be,in:rn,interpolate:Qe,"interpolate-hcl":Qe,"interpolate-lab":Qe,length:yn,let:en,literal:ge,match:an,number:_e,"number-format":un,object:_e,step:Ne,string:_e,"to-boolean":xe,"to-color":xe,"to-number":xe,"to-string":xe,var:Ce};function vn(t,e){var n=e[0],i=e[1],r=e[2],a=e[3];n=n.evaluate(t),i=i.evaluate(t),r=r.evaluate(t);var o=a?a.evaluate(t):1,s=de(n,i,r,o);if(s)throw new ye(s);return new ce(n/255*o,i/255*o,r/255*o,o)}function Mn(t,e){return t in e}function bn(t,e){var n=e[t];return void 0===n?null:n}function xn(t){return{type:t}}function wn(t){return{result:"success",value:t}}function An(t){return{result:"error",value:t}}function Tn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ln(t){return t.expression&&-1<t.expression.parameters.indexOf("zoom")}function Sn(t){return t.expression&&t.expression.interpolated}function kn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function On(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function zn(t){return t}function Cn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function En(t,e,n,i,r){return Cn(typeof n===r?i[n]:void 0,t.default,e.default)}function Dn(t,e,n){if("number"!==kn(n))return Cn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var r=De(t.stops.map((function(t){return t[0]})),n);return t.stops[r][1]}function Nn(t,e,n){var i=void 0!==t.base?t.base:1;if("number"!==kn(n))return Cn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var a,o,s,c,l=De(t.stops.map((function(t){return t[0]})),n),u=(a=i,c=n-(o=t.stops[l][0]),0==(s=t.stops[l+1][0]-o)?0:1===a?c/s:(Math.pow(a,c)-1)/(Math.pow(a,s)-1)),h=t.stops[l][1],p=t.stops[l+1][1],d=Pe[e.type]||zn;if(t.colorSpace&&"rgb"!==t.colorSpace){var f=Je[t.colorSpace];d=function(t,e){return f.reverse(f.interpolate(f.forward(t),f.forward(e),u))}}return"function"==typeof h.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=h.evaluate.apply(void 0,t),i=p.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==i)return d(n,i,u)}}:d(h,p,u)}function In(t,e,n){return"color"===e.type?n=ce.parse(n):"formatted"===e.type?n=he.fromString(n.toString()):"resolvedImage"===e.type?n=pe.fromString(n.toString()):kn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Cn(n,t.default,e.default)}Le.register(_n,{error:[{kind:"error"},[Kt],function(t,e){var n=e[0];throw new ye(n.evaluate(t))}],typeof:[Kt,[$t],function(t,e){return re(fe(e[0].evaluate(t)))}],"to-rgba":[ie(Gt,4),[Jt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Jt,[Gt,Gt,Gt],vn],rgba:[Jt,[Gt,Gt,Gt,Gt],vn],has:{type:Zt,overloads:[[[Kt],function(t,e){return Mn(e[0].evaluate(t),t.properties())}],[[Kt,Qt],function(t,e){var n=e[0],i=e[1];return Mn(n.evaluate(t),i.evaluate(t))}]]},get:{type:$t,overloads:[[[Kt],function(t,e){return bn(e[0].evaluate(t),t.properties())}],[[Kt,Qt],function(t,e){var n=e[0],i=e[1];return bn(n.evaluate(t),i.evaluate(t))}]]},"feature-state":[$t,[Kt],function(t,e){return bn(e[0].evaluate(t),t.featureState||{})}],properties:[Qt,[],function(t){return t.properties()}],"geometry-type":[Kt,[],function(t){return t.geometryType()}],id:[$t,[],function(t){return t.id()}],zoom:[Gt,[],function(t){return t.globals.zoom}],"heatmap-density":[Gt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Gt,[],function(t){return t.globals.lineProgress||0}],accumulated:[$t,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Gt,xn(Gt),function(t,e){for(var n=0,i=0,r=e;i<r.length;i+=1)n+=r[i].evaluate(t);return n}],"*":[Gt,xn(Gt),function(t,e){for(var n=1,i=0,r=e;i<r.length;i+=1)n*=r[i].evaluate(t);return n}],"-":{type:Gt,overloads:[[[Gt,Gt],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)-i.evaluate(t)}],[[Gt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Gt,[Gt,Gt],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)/i.evaluate(t)}],"%":[Gt,[Gt,Gt],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)%i.evaluate(t)}],ln2:[Gt,[],function(){return Math.LN2}],pi:[Gt,[],function(){return Math.PI}],e:[Gt,[],function(){return Math.E}],"^":[Gt,[Gt,Gt],function(t,e){var n=e[0],i=e[1];return Math.pow(n.evaluate(t),i.evaluate(t))}],sqrt:[Gt,[Gt],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[Gt,[Gt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN10}],ln:[Gt,[Gt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[Gt,[Gt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN2}],sin:[Gt,[Gt],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[Gt,[Gt],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[Gt,[Gt],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[Gt,[Gt],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[Gt,[Gt],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[Gt,[Gt],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[Gt,xn(Gt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Gt,xn(Gt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Gt,[Gt],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[Gt,[Gt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Gt,[Gt],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[Gt,[Gt],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[Zt,[Kt,$t],function(t,e){var n=e[0],i=e[1];return t.properties()[n.value]===i.value}],"filter-id-==":[Zt,[$t],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Zt,[Kt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Zt,[Kt,$t],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],a=i.value;return typeof r==typeof a&&r<a}],"filter-id-<":[Zt,[$t],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[Zt,[Kt,$t],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],a=i.value;return typeof r==typeof a&&a<r}],"filter-id->":[Zt,[$t],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&r<i}],"filter-<=":[Zt,[Kt,$t],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],a=i.value;return typeof r==typeof a&&r<=a}],"filter-id-<=":[Zt,[$t],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[Zt,[Kt,$t],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],a=i.value;return typeof r==typeof a&&a<=r}],"filter-id->=":[Zt,[$t],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&r<=i}],"filter-has":[Zt,[$t],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Zt,[],function(t){return null!==t.id()}],"filter-type-in":[Zt,[ie(Kt)],function(t,e){return 0<=e[0].value.indexOf(t.geometryType())}],"filter-id-in":[Zt,[ie($t)],function(t,e){return 0<=e[0].value.indexOf(t.id())}],"filter-in-small":[Zt,[Kt,ie($t)],function(t,e){var n=e[0];return 0<=e[1].value.indexOf(t.properties()[n.value])}],"filter-in-large":[Zt,[Kt,ie($t)],function(t,e){var n=e[0],i=e[1];return function(t,e,n,i){for(;n<=i;){var r=n+i>>1;if(e[r]===t)return!0;e[r]>t?i=r-1:n=1+r}return!1}(t.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:Zt,overloads:[[[Zt,Zt],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)&&i.evaluate(t)}],[xn(Zt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(!i[n].evaluate(t))return!1;return!0}]]},any:{type:Zt,overloads:[[[Zt,Zt],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)||i.evaluate(t)}],[xn(Zt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(i[n].evaluate(t))return!0;return!1}]]},"!":[Zt,[Zt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Zt,[Kt],function(t,e){var n=e[0],i=t.globals&&t.globals.isSupportedScript;return!i||i(n.evaluate(t))}],upcase:[Kt,[Kt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Kt,[Kt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Kt,xn($t),function(t,e){return e.map((function(e){return me(e.evaluate(t))})).join("")}],"resolved-locale":[Kt,[te],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Pn=function(t,e){var n;this.expression=t,this._warningHistory={},this._evaluator=new Ae,this._defaultValue=e?"color"===(n=e).type&&On(n.default)?new ce(0,0,0,0):"color"===n.type?ce.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=e&&"enum"===e.type?e.values:null};function Bn(t){return Array.isArray(t)&&0<t.length&&"string"==typeof t[0]&&t[0]in _n}function Rn(t,e){var n,i=new Ee(_n,[],e?(n={color:Jt,string:Kt,number:Gt,enum:Kt,boolean:Zt,formatted:ee,resolvedImage:ne},"array"===e.type?ie(n[e.value]||$t,e.length):n[e.type]):void 0),r=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?wn(new Pn(r,e)):An(i.errors)}Pn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=r,this.expression.evaluate(this._evaluator)},Pn.prototype.evaluate=function(t,e,n,i,r){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=r||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ye("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var qn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Oe(e.expression)};qn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r)},qn.prototype.evaluate=function(t,e,n,i,r){return this._styleExpression.evaluate(t,e,n,i,r)};var Yn=function(t,e,n,i){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Oe(e.expression),this.interpolationType=i};function Wn(t,e){if("error"===(t=Rn(t,e)).result)return t;var n=t.value.expression,i=ke(n);if(!i&&!Tn(e))return An([new Ut("","data expressions not supported")]);var r=ze(n,["zoom"]);if(!r&&!Ln(e))return An([new Ut("","zoom expressions not supported")]);var a=function t(e){var n=null;if(e instanceof en)n=t(e.result);else if(e instanceof tn)for(var i=0,r=e.args;i<r.length;i+=1){var a=r[i];if(n=t(a))break}else(e instanceof Ne||e instanceof Qe)&&e.input instanceof Le&&"zoom"===e.input.name&&(n=e);return n instanceof Ut||e.eachChild((function(e){var i=t(e);i instanceof Ut?n=i:!n&&i?n=new Ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new Ut("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);if(!a&&!r)return An([new Ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof Ut)return An([a]);if(a instanceof Qe&&!Sn(e))return An([new Ut("",'"interpolate" expressions cannot be used with this property')]);if(!a)return wn(new qn(i?"constant":"source",t.value));var o=a instanceof Qe?a.interpolation:void 0;return wn(new Yn(i?"camera":"composite",t.value,a.labels,o))}function jn(t,e){this._parameters=t,this._specification=e,Yt(this,function t(e,n){var i,r,a,o="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],c=s||void 0!==e.property,l=s||!c,u=e.type||(Sn(n)?"exponential":"interval");if(o&&((e=Yt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],ce.parse(t[1])]}))),e.default?e.default=ce.parse(e.default):e.default=ce.parse(n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Je[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===u)i=Nn;else if("interval"===u)i=Dn;else if("categorical"===u){i=En,r=Object.create(null);for(var h=0,p=e.stops;h<p.length;h+=1){var d=p[h];r[d[0]]=d[1]}a=typeof e.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');i=In}if(s){for(var f={},m=[],g=0;g<e.stops.length;g++){var y=e.stops[g],_=y[0].zoom;void 0===f[_]&&(f[_]={zoom:_,type:e.type,property:e.property,default:e.default,stops:[]},m.push(_)),f[_].stops.push([y[0].value,y[1]])}for(var v=[],M=0,b=m;M<b.length;M+=1){var x=b[M];v.push([f[x].zoom,t(f[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:Qe.interpolationFactor.bind(void 0,w),zoomStops:v.map((function(t){return t[0]})),evaluate:function(t,i){var r=t.zoom;return Nn({stops:v,base:e.base},n,r).evaluate(r,i)}}}if(l){var A="exponential"===u?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:Qe.interpolationFactor.bind(void 0,A),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){var o=t.zoom;return i(e,n,o,r,a)}}}return{kind:"source",evaluate:function(t,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?Cn(e.default,n.default):i(e,n,s,r,a)}}}(this._parameters,this._specification))}function Fn(t){var e=t.key,n=t.value,i=t.valueSpec||{},r=t.objectElementValidators||{},a=t.style,o=t.styleSpec,s=[],c=kn(n);if("object"!==c)return[new Rt(e,n,"object expected, "+c+" found")];for(var l in n){var u=l.split(".")[0],h=i[u]||i["*"],p=void 0;if(r[u])p=r[u];else if(i[u])p=fi;else if(r["*"])p=r["*"];else{if(!i["*"]){s.push(new Rt(e,n[l],'unknown property "'+l+'"'));continue}p=fi}s=s.concat(p({key:(e?e+".":e)+l,value:n[l],valueSpec:h,style:a,styleSpec:o,object:n,objectKey:l},n))}for(var d in i)r[d]||i[d].required&&void 0===i[d].default&&void 0===n[d]&&s.push(new Rt(e,n,'missing required property "'+d+'"'));return s}function Hn(t){var e=t.value,n=t.valueSpec,i=t.style,r=t.styleSpec,a=t.key,o=t.arrayElementValidator||fi;if("array"!==kn(e))return[new Rt(a,e,"array expected, "+kn(e)+" found")];if(n.length&&e.length!==n.length)return[new Rt(a,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Rt(a,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};r.$version<7&&(s.function=n.function),"object"===kn(n.value)&&(s=n.value);for(var c=[],l=0;l<e.length;l++)c=c.concat(o({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:i,styleSpec:r,key:a+"["+l+"]"}));return c}function Un(t){var e=t.key,n=t.value,i=t.valueSpec,r=kn(n);return"number"===r&&n!=n&&(r="NaN"),"number"!==r?[new Rt(e,n,"number expected, "+r+" found")]:"minimum"in i&&n<i.minimum?[new Rt(e,n,n+" is less than the minimum value "+i.minimum)]:"maximum"in i&&n>i.maximum?[new Rt(e,n,n+" is greater than the maximum value "+i.maximum)]:[]}function Xn(t){var e,n,i,r=t.valueSpec,a=Wt(t.value.type),o={},s="categorical"!==a&&void 0===t.value.property,c=!s,l="array"===kn(t.value.stops)&&"array"===kn(t.value.stops[0])&&"object"===kn(t.value.stops[0][0]),u=Fn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===a)return[new Rt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Hn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===kn(n)&&0===n.length&&e.push(new Rt(t.key,n,"array must have at least one stop")),e},default:function(t){return fi({key:t.key,value:t.value,valueSpec:r,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===a&&s&&u.push(new Rt(t.key,t.value,'missing required property "property"')),"identity"===a||t.value.stops||u.push(new Rt(t.key,t.value,'missing required property "stops"')),"exponential"===a&&t.valueSpec.expression&&!Sn(t.valueSpec)&&u.push(new Rt(t.key,t.value,"exponential functions not supported")),8<=t.styleSpec.$version&&(c&&!Tn(t.valueSpec)?u.push(new Rt(t.key,t.value,"property functions not supported")):s&&!Ln(t.valueSpec)&&u.push(new Rt(t.key,t.value,"zoom functions not supported"))),"categorical"!==a&&!l||void 0!==t.value.property||u.push(new Rt(t.key,t.value,'"property" property is required')),u;function h(t){var e=[],a=t.value,s=t.key;if("array"!==kn(a))return[new Rt(s,a,"array expected, "+kn(a)+" found")];if(2!==a.length)return[new Rt(s,a,"array length 2 expected, length "+a.length+" found")];if(l){if("object"!==kn(a[0]))return[new Rt(s,a,"object expected, "+kn(a[0])+" found")];if(void 0===a[0].zoom)return[new Rt(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new Rt(s,a,"object stop key must have value")];if(i&&i>Wt(a[0].zoom))return[new Rt(s,a[0].zoom,"stop zoom values must appear in ascending order")];Wt(a[0].zoom)!==i&&(i=Wt(a[0].zoom),n=void 0,o={}),e=e.concat(Fn({key:s+"[0]",value:a[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Un,value:p}}))}else e=e.concat(p({key:s+"[0]",value:a[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},a));return Bn(jt(a[1]))?e.concat([new Rt(s+"[1]",a[1],"expressions are not allowed in function stops.")]):e.concat(fi({key:s+"[1]",value:a[1],valueSpec:r,style:t.style,styleSpec:t.styleSpec}))}function p(t,i){var s=kn(t.value),c=Wt(t.value),l=null!==t.value?t.value:i;if(e){if(s!==e)return[new Rt(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Rt(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"===s||"categorical"===a)return"categorical"!==a||"number"!==s||isFinite(c)&&Math.floor(c)===c?"categorical"!==a&&"number"===s&&void 0!==n&&c<n?[new Rt(t.key,l,"stop domain values must appear in ascending order")]:(n=c,"categorical"===a&&c in o?[new Rt(t.key,l,"stop domain values must be unique")]:(o[c]=!0,[])):[new Rt(t.key,l,"integer expected, found "+c)];var u="number expected, "+s+" found";return Tn(r)&&void 0===a&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Rt(t.key,l,u)]}}function Vn(t){var e=("property"===t.expressionContext?Wn:Rn)(jt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Rt(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new Rt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Oe(n))return[new Rt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Oe(n))return[new Rt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!ze(n,["zoom","feature-state"]))return[new Rt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!ke(n))return[new Rt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gn(t){var e=t.key,n=t.value,i=t.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(Wt(n))&&r.push(new Rt(e,n,"expected one of ["+i.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(i.values).indexOf(Wt(n))&&r.push(new Rt(e,n,"expected one of ["+Object.keys(i.values).join(", ")+"], "+JSON.stringify(n)+" found")),r}function Kn(t){if(!0===t||!1===t)return 1;if(Array.isArray(t)&&0!==t.length)switch(t[0]){case"has":return 2<=t.length&&"$id"!==t[1]&&"$type"!==t[1];case"in":return 3<=t.length&&Array.isArray(t[2]);case"!in":case"!has":case"none":return;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var i=n[e];if(!Kn(i)&&"boolean"!=typeof i)return}return 1;default:return 1}}Yn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r)},Yn.prototype.evaluate=function(t,e,n,i,r){return this._styleExpression.evaluate(t,e,n,i,r)},Yn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?Qe.interpolationFactor(this.interpolationType,t,e,n):0},jn.deserialize=function(t){return new jn(t._parameters,t._specification)};var Zn={type:"boolean",default:!(jn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}}),transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Jn(t){if(null==t)return function(){return!0};Kn(t)||(t=$n(t));var e=Rn(t,Zn);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function Qn(t,e){return t<e?-1:e<t?1:0}function $n(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?ti(t[1],t[2],"=="):"!="===n?ii(ti(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ti(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map($n))):"all"===n?["all"].concat(t.slice(1).map($n)):"none"===n?["all"].concat(t.slice(1).map($n).map(ii)):"in"===n?ei(t[1],t.slice(2)):"!in"===n?ii(ei(t[1],t.slice(2))):"has"===n?ni(t[1]):"!has"!==n||ii(ni(t[1]))}function ti(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function ei(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return 200<e.length&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(Qn)]]:["filter-in-small",t,["literal",e]]}}function ni(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function ii(t){return["!",t]}function ri(t){return Kn(jt(t.value))?Vn(Yt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,i=e.key;if("array"!==kn(n))return[new Rt(i,n,"array expected, "+kn(n)+" found")];var r,a=e.styleSpec,o=[];if(n.length<1)return[new Rt(i,n,"filter array must have at least 1 element")];switch(o=o.concat(Gn({key:i+"[0]",value:n[0],valueSpec:a.filter_operator,style:e.style,styleSpec:e.styleSpec})),Wt(n[0])){case"<":case"<=":case">":case">=":2<=n.length&&"$type"===Wt(n[1])&&o.push(new Rt(i,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&o.push(new Rt(i,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":2<=n.length&&"string"!==(r=kn(n[1]))&&o.push(new Rt(i+"[1]",n[1],"string expected, "+r+" found"));for(var s=2;s<n.length;s++)r=kn(n[s]),"$type"===Wt(n[1])?o=o.concat(Gn({key:i+"["+s+"]",value:n[s],valueSpec:a.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&o.push(new Rt(i+"["+s+"]",n[s],"string, number, or boolean expected, "+r+" found"));break;case"any":case"all":case"none":for(var c=1;c<n.length;c++)o=o.concat(t({key:i+"["+c+"]",value:n[c],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=kn(n[1]),2!==n.length?o.push(new Rt(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==r&&o.push(new Rt(i+"[1]",n[1],"string expected, "+r+" found"))}return o}(t)}function ai(t,e){var n=t.key,i=t.style,r=t.styleSpec,a=t.value,o=t.objectKey,s=r[e+"_"+t.layerType];if(!s)return[];var c=o.match(/^(.*)-transition$/);if("paint"===e&&c&&s[c[1]]&&s[c[1]].transition)return fi({key:n,value:a,valueSpec:r.transition,style:i,styleSpec:r});var l,u=t.valueSpec||s[o];if(!u)return[new Rt(n,a,'unknown property "'+o+'"')];if("string"===kn(a)&&Tn(u)&&!u.tokens&&(l=/^{([^}]+)}$/.exec(a)))return[new Rt(n,a,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var h=[];return"symbol"===t.layerType&&("text-field"===o&&i&&!i.glyphs&&h.push(new Rt(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&On(jt(a))&&"identity"===Wt(a.type)&&h.push(new Rt(n,a,'"text-font" does not support identity functions'))),h.concat(fi({key:t.key,value:a,valueSpec:u,style:i,styleSpec:r,expressionContext:"property",propertyType:e,propertyKey:o}))}function oi(t){return ai(t,"paint")}function si(t){return ai(t,"layout")}function ci(t){var e=[],n=t.value,i=t.key,r=t.style,a=t.styleSpec;n.type||n.ref||e.push(new Rt(i,n,'either "type" or "ref" is required'));var o,s=Wt(n.type),c=Wt(n.ref);if(n.id)for(var l=Wt(n.id),u=0;u<t.arrayIndex;u++){var h=r.layers[u];Wt(h.id)===l&&e.push(new Rt(i,n.id,'duplicate layer id "'+n.id+'", previously used at line '+h.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Rt(i,n[t],'"'+t+'" is prohibited for ref layers'))})),r.layers.forEach((function(t){Wt(t.id)===c&&(o=t)})),o?o.ref?e.push(new Rt(i,n.ref,"ref cannot reference another ref layer")):s=Wt(o.type):e.push(new Rt(i,n.ref,'ref layer "'+c+'" not found'));else if("background"!==s)if(n.source){var p=r.sources&&r.sources[n.source],d=p&&Wt(p.type);p?"vector"===d&&"raster"===s?e.push(new Rt(i,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===d&&"raster"!==s?e.push(new Rt(i,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?e.push(new Rt(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&p.lineMetrics||e.push(new Rt(i,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Rt(i,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Rt(i,n.source,'source "'+n.source+'" not found'))}else e.push(new Rt(i,n,'missing required property "source"'));return e=e.concat(Fn({key:i,value:n,valueSpec:a.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return fi({key:i+".type",value:n.type,valueSpec:a.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:ri,layout:function(t){return Fn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return si(Yt({layerType:s},t))}}})},paint:function(t){return Fn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return oi(Yt({layerType:s},t))}}})}}}))}function li(t){var e=t.value,n=t.key,i=kn(e);return"string"!==i?[new Rt(n,e,"string expected, "+i+" found")]:[]}var ui={promoteId:function(t){var e=t.key,n=t.value;if("string"===kn(n))return li({key:e,value:n});var i=[];for(var r in n)i.push.apply(i,li({key:e+"."+r,value:n[r]}));return i}};function hi(t){var e=t.value,n=t.key,i=t.styleSpec,r=t.style;if(!e.type)return[new Rt(n,e,'"type" is required')];var a,o=Wt(e.type);switch(o){case"vector":case"raster":case"raster-dem":return Fn({key:n,value:e,valueSpec:i["source_"+o.replace("-","_")],style:t.style,styleSpec:i,objectElementValidators:ui});case"geojson":if(a=Fn({key:n,value:e,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:ui}),e.cluster)for(var s in e.clusterProperties){var c=e.clusterProperties[s],l=c[0],u=c[1],h="string"==typeof l?[l,["accumulated"],["get",s]]:l;a.push.apply(a,Vn({key:n+"."+s+".map",value:u,expressionContext:"cluster-map"})),a.push.apply(a,Vn({key:n+"."+s+".reduce",value:h,expressionContext:"cluster-reduce"}))}return a;case"video":return Fn({key:n,value:e,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return Fn({key:n,value:e,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new Rt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Gn({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:i})}}function pi(t){var e=t.value,n=t.styleSpec,i=n.light,r=t.style,a=[],o=kn(e);if(void 0===e)return a;if("object"!==o)return a.concat([new Rt("light",e,"object expected, "+o+" found")]);for(var s in e){var c=s.match(/^(.*)-transition$/);a=c&&i[c[1]]&&i[c[1]].transition?a.concat(fi({key:s,value:e[s],valueSpec:n.transition,style:r,styleSpec:n})):i[s]?a.concat(fi({key:s,value:e[s],valueSpec:i[s],style:r,styleSpec:n})):a.concat([new Rt(s,e[s],'unknown property "'+s+'"')])}return a}var di={"*":function(){return[]},array:Hn,boolean:function(t){var e=t.value,n=t.key,i=kn(e);return"boolean"!==i?[new Rt(n,e,"boolean expected, "+i+" found")]:[]},number:Un,color:function(t){var e=t.key,n=t.value,i=kn(n);return"string"!==i?[new Rt(e,n,"color expected, "+i+" found")]:null===se(n)?[new Rt(e,n,'color expected, "'+n+'" found')]:[]},constants:qt,enum:Gn,filter:ri,function:Xn,layer:ci,object:Fn,source:hi,light:pi,string:li,formatted:function(t){return 0===li(t).length?[]:Vn(t)},resolvedImage:function(t){return 0===li(t).length?[]:Vn(t)}};function fi(t){var e=t.value,n=t.valueSpec,i=t.styleSpec;return n.expression&&On(Wt(e))?Xn(t):n.expression&&Bn(jt(e))?Vn(t):n.type&&di[n.type]?di[n.type](t):Fn(Yt({},t,{valueSpec:n.type?i[n.type]:n}))}function mi(t){var e=t.value,n=t.key,i=li(t);return i.length||(-1===e.indexOf("{fontstack}")&&i.push(new Rt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&i.push(new Rt(n,e,'"glyphs" url must include a "{range}" token'))),i}function gi(t,e){void 0===e&&(e=Bt);var n=[];return n=n.concat(fi({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:mi,"*":function(){return[]}}})),t.constants&&(n=n.concat(qt({key:"constants",value:t.constants,style:t,styleSpec:e}))),yi(n)}function yi(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function _i(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return yi(t.apply(this,e))}}gi.source=_i(hi),gi.light=_i(pi),gi.layer=_i(ci),gi.filter=_i(ri),gi.paintProperty=_i(oi),gi.layoutProperty=_i(si);var vi=gi,Mi=vi.light,bi=vi.paintProperty,xi=vi.layoutProperty;function wi(t,e){var n=!1;if(e&&e.length)for(var i=0,r=e;i<r.length;i+=1){var a=r[i];t.fire(new It(new Error(a.message))),n=!0}return n}var Ai=Li,Ti=3;function Li(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var r=new Int32Array(this.arrayBuffer);t=r[0],e=r[1],n=r[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var o=r[Ti+a],s=r[Ti+a+1];i.push(o===s?null:r.subarray(o,s))}var c=r[Ti+i.length],l=r[Ti+i.length+1];this.keys=r.subarray(c,l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var u=0;u<this.d*this.d;u++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var h=n/e*t;this.min=-h,this.max=t+h}Li.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Li.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Li.prototype._insertCell=function(t,e,n,i,r,a){this.cells[r].push(a)},Li.prototype.query=function(t,e,n,i,r){var a=this.min,o=this.max;if(t<=a&&e<=a&&o<=n&&o<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,i,this._queryCell,s,{},r),s},Li.prototype._queryCell=function(t,e,n,i,r,a,o,s){var c=this.cells[r];if(null!==c)for(var l=this.keys,u=this.bboxes,h=0;h<c.length;h++){var p=c[h];if(void 0===o[p]){var d=4*p;(s?s(u[0+d],u[1+d],u[2+d],u[3+d]):t<=u[2+d]&&e<=u[3+d]&&n>=u[0+d]&&i>=u[1+d])?(o[p]=!0,a.push(l[p])):o[p]=!1}}},Li.prototype._forEachCell=function(t,e,n,i,r,a,o,s){for(var c=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(n),h=this._convertToCellCoord(i),p=c;p<=u;p++)for(var d=l;d<=h;d++){var f=this.d*d+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(d),this._convertFromCellCoord(p+1),this._convertFromCellCoord(d+1)))&&r.call(this,t,e,n,i,f,a,o,s))return}},Li.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Li.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Li.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=Ti+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(e+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var a=e,o=0;o<t.length;o++){var s=t[o];r[Ti+o]=a,r.set(s,a),a+=s.length}return r[Ti+t.length]=a,r.set(this.keys,a),a+=this.keys.length,r[Ti+t.length+1]=a,r.set(this.bboxes,a),a+=this.bboxes.length,r.buffer};var Si=self.ImageData,ki=self.ImageBitmap,Oi={};function zi(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Oi[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var Ci in zi("Object",Object),Ai.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Ai.deserialize=function(t){return new Ai(t.buffer)},zi("Grid",Ai),zi("Color",ce),zi("Error",Error),zi("ResolvedImage",pe),zi("StylePropertyFunction",jn),zi("StyleExpression",Pn,{omit:["_evaluator"]}),zi("ZoomDependentExpression",Yn),zi("ZoomConstantExpression",qn),zi("CompoundExpression",Le,{omit:["_evaluate"]}),_n)_n[Ci]._classRegistryKey||zi("Expression_"+Ci,_n[Ci]);function Ei(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Di(t){return ki&&t instanceof ki}function Ni(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Ei(t)||Di(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Si)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var i=[],r=0,a=t;r<a.length;r+=1){var o=a[r];i.push(Ni(o,e))}return i}if("object"!=typeof t)throw new Error("can't serialize object of type "+typeof t);var s=t.constructor,c=s._classRegistryKey;if(!c)throw new Error("can't serialize object of unregistered class");var l=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var u in t)if(t.hasOwnProperty(u)&&!(0<=Oi[c].omit.indexOf(u))){var h=t[u];l[u]=0<=Oi[c].shallow.indexOf(u)?h:Ni(h,e)}t instanceof Error&&(l.message=t.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==c&&(l.$name=c),l}function Ii(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Ei(t)||Di(t)||ArrayBuffer.isView(t)||t instanceof Si)return t;if(Array.isArray(t))return t.map(Ii);if("object"!=typeof t)throw new Error("can't deserialize object of type "+typeof t);var e=t.$name||"Object",n=Oi[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var i=Object.create(n.prototype),r=0,a=Object.keys(t);r<a.length;r+=1){var o=a[r];if("$name"!==o){var s=t[o];i[o]=0<=Oi[e].shallow.indexOf(o)?s:Ii(s)}}return i}function Pi(){this.first=!0}Pi.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Bi={"Latin-1 Supplement":function(t){return 128<=t&&t<=255},Arabic:function(t){return 1536<=t&&t<=1791},"Arabic Supplement":function(t){return 1872<=t&&t<=1919},"Arabic Extended-A":function(t){return 2208<=t&&t<=2303},"Hangul Jamo":function(t){return 4352<=t&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return 5120<=t&&t<=5759},Khmer:function(t){return 6016<=t&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return 6320<=t&&t<=6399},"General Punctuation":function(t){return 8192<=t&&t<=8303},"Letterlike Symbols":function(t){return 8448<=t&&t<=8527},"Number Forms":function(t){return 8528<=t&&t<=8591},"Miscellaneous Technical":function(t){return 8960<=t&&t<=9215},"Control Pictures":function(t){return 9216<=t&&t<=9279},"Optical Character Recognition":function(t){return 9280<=t&&t<=9311},"Enclosed Alphanumerics":function(t){return 9312<=t&&t<=9471},"Geometric Shapes":function(t){return 9632<=t&&t<=9727},"Miscellaneous Symbols":function(t){return 9728<=t&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return 11008<=t&&t<=11263},"CJK Radicals Supplement":function(t){return 11904<=t&&t<=12031},"Kangxi Radicals":function(t){return 12032<=t&&t<=12255},"Ideographic Description Characters":function(t){return 12272<=t&&t<=12287},"CJK Symbols and Punctuation":function(t){return 12288<=t&&t<=12351},Hiragana:function(t){return 12352<=t&&t<=12447},Katakana:function(t){return 12448<=t&&t<=12543},Bopomofo:function(t){return 12544<=t&&t<=12591},"Hangul Compatibility Jamo":function(t){return 12592<=t&&t<=12687},Kanbun:function(t){return 12688<=t&&t<=12703},"Bopomofo Extended":function(t){return 12704<=t&&t<=12735},"CJK Strokes":function(t){return 12736<=t&&t<=12783},"Katakana Phonetic Extensions":function(t){return 12784<=t&&t<=12799},"Enclosed CJK Letters and Months":function(t){return 12800<=t&&t<=13055},"CJK Compatibility":function(t){return 13056<=t&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return 13312<=t&&t<=19903},"Yijing Hexagram Symbols":function(t){return 19904<=t&&t<=19967},"CJK Unified Ideographs":function(t){return 19968<=t&&t<=40959},"Yi Syllables":function(t){return 40960<=t&&t<=42127},"Yi Radicals":function(t){return 42128<=t&&t<=42191},"Hangul Jamo Extended-A":function(t){return 43360<=t&&t<=43391},"Hangul Syllables":function(t){return 44032<=t&&t<=55215},"Hangul Jamo Extended-B":function(t){return 55216<=t&&t<=55295},"Private Use Area":function(t){return 57344<=t&&t<=63743},"CJK Compatibility Ideographs":function(t){return 63744<=t&&t<=64255},"Arabic Presentation Forms-A":function(t){return 64336<=t&&t<=65023},"Vertical Forms":function(t){return 65040<=t&&t<=65055},"CJK Compatibility Forms":function(t){return 65072<=t&&t<=65103},"Small Form Variants":function(t){return 65104<=t&&t<=65135},"Arabic Presentation Forms-B":function(t){return 65136<=t&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return 65280<=t&&t<=65519}};function Ri(t){for(var e=0,n=t;e<n.length;e+=1)if(qi(n[e].charCodeAt(0)))return!0;return!1}function qi(t){return 746===t||747===t||!(t<4352)&&(Bi["Bopomofo Extended"](t)||Bi.Bopomofo(t)||Bi["CJK Compatibility Forms"](t)&&!(65097<=t&&t<=65103)||Bi["CJK Compatibility Ideographs"](t)||Bi["CJK Compatibility"](t)||Bi["CJK Radicals Supplement"](t)||Bi["CJK Strokes"](t)||!(!Bi["CJK Symbols and Punctuation"](t)||12296<=t&&t<=12305||12308<=t&&t<=12319||12336===t)||Bi["CJK Unified Ideographs Extension A"](t)||Bi["CJK Unified Ideographs"](t)||Bi["Enclosed CJK Letters and Months"](t)||Bi["Hangul Compatibility Jamo"](t)||Bi["Hangul Jamo Extended-A"](t)||Bi["Hangul Jamo Extended-B"](t)||Bi["Hangul Jamo"](t)||Bi["Hangul Syllables"](t)||Bi.Hiragana(t)||Bi["Ideographic Description Characters"](t)||Bi.Kanbun(t)||Bi["Kangxi Radicals"](t)||Bi["Katakana Phonetic Extensions"](t)||Bi.Katakana(t)&&12540!==t||!(!Bi["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||65306<=t&&t<=65310||65339===t||65341===t||65343===t||65371<=t&&t<=65503||65507===t||65512<=t&&t<=65519)||!(!Bi["Small Form Variants"](t)||65112<=t&&t<=65118||65123<=t&&t<=65126)||Bi["Unified Canadian Aboriginal Syllabics"](t)||Bi["Unified Canadian Aboriginal Syllabics Extended"](t)||Bi["Vertical Forms"](t)||Bi["Yijing Hexagram Symbols"](t)||Bi["Yi Syllables"](t)||Bi["Yi Radicals"](t))}function Yi(t){return!(qi(t)||(e=t,Bi["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Bi["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Bi["Letterlike Symbols"](e)||Bi["Number Forms"](e)||Bi["Miscellaneous Technical"](e)&&(8960<=e&&e<=8967||8972<=e&&e<=8991||8996<=e&&e<=9e3||9003===e||9085<=e&&e<=9114||9150<=e&&e<=9165||9167===e||9169<=e&&e<=9179||9186<=e&&e<=9215)||Bi["Control Pictures"](e)&&9251!==e||Bi["Optical Character Recognition"](e)||Bi["Enclosed Alphanumerics"](e)||Bi["Geometric Shapes"](e)||Bi["Miscellaneous Symbols"](e)&&!(9754<=e&&e<=9759)||Bi["Miscellaneous Symbols and Arrows"](e)&&(11026<=e&&e<=11055||11088<=e&&e<=11097||11192<=e&&e<=11243)||Bi["CJK Symbols and Punctuation"](e)||Bi.Katakana(e)||Bi["Private Use Area"](e)||Bi["CJK Compatibility Forms"](e)||Bi["Small Form Variants"](e)||Bi["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||9984<=e&&e<=10087||10102<=e&&e<=10131||65532===e||65533===e));var e}function Wi(t){return 1424<=t&&t<=2303||Bi["Arabic Presentation Forms-A"](t)||Bi["Arabic Presentation Forms-B"](t)}function ji(t){for(var e=0,n=t;e<n.length;e+=1)if(Wi(n[e].charCodeAt(0)))return 1}function Fi(t){Vi&&Vi(t)}var Hi="deferred",Ui="loading",Xi="loaded",Vi=null,Gi="unavailable",Ki=null;function Zi(){tr.fire(new Et("pluginStateChange",{pluginStatus:Gi,pluginURL:Ki}))}function Ji(){return Gi}function Qi(){if(Gi!==Hi||!Ki)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Gi=Ui,Zi(),Ki&&Tt({url:Ki},(function(t){t?Fi(t):(Gi=Xi,Zi())}))}function $i(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pi,this.transition={})}var tr=new Dt,er={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Gi===Xi||null!=er.applyArabicShaping},isLoading:function(){return Gi===Ui},setState:function(t){Gi=t.pluginStatus,Ki=t.pluginURL},isParsed:function(){return null!=er.applyArabicShaping&&null!=er.processBidirectionalText&&null!=er.processStyledBidirectionalText},getPluginURL:function(){return Ki}};function nr(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(On(t))return new jn(t,e);if(Bn(t)){var n=Wn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var i=t;return"string"==typeof t&&"color"===e.type&&(i=ce.parse(t)),{kind:"constant",evaluate:function(){return i}}}(void 0===e?t.specification.default:e,t.specification)}function ir(t){this.property=t,this.value=new nr(t,void 0)}function rr(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}$i.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,i=t;n<i.length;n+=1)if(r=i[n].charCodeAt(0),!e&&Wi(r)||2304<=r&&r<=3583||3840<=r&&r<=4255||Bi.Khmer(r))return!1;var r;return!0}(t,er.isLoaded())},$i.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},$i.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}},nr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},nr.prototype.possiblyEvaluate=function(t,e){return this.property.possiblyEvaluate(this,t,e)},ir.prototype.transitioned=function(t,e){return new ar(this.property,this.value,e,u({},t.transition,this.transition),t.now)},ir.prototype.untransitioned=function(){return new ar(this.property,this.value,null,{},0)},rr.prototype.getValue=function(t){return v(this._values[t].value.value)},rr.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ir(this._values[t].property)),this._values[t].value=new nr(this._values[t].property,null===e?void 0:v(e))},rr.prototype.getTransition=function(t){return v(this._values[t].transition)},rr.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ir(this._values[t].property)),this._values[t].transition=v(e)||void 0},rr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],r=this.getValue(i);void 0!==r&&(t[i]=r);var a=this.getTransition(i);void 0!==a&&(t[i+"-transition"]=a)}return t},rr.prototype.transitioned=function(t,e){for(var n=new or(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var a=r[i];n._values[a]=this._values[a].transitioned(t,e._values[a])}return n},rr.prototype.untransitioned=function(){for(var t=new or(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e];t._values[i]=this._values[i].untransitioned()}return t};var ar=function(t,e,n,i,r){this.property=t,this.value=e,this.begin=r+i.delay||0,this.end=this.begin+i.duration||0,t.specification.transition&&(i.delay||i.duration)&&(this.prior=n)};ar.prototype.possiblyEvaluate=function(t,e){var n=t.now||0,i=this.value.possiblyEvaluate(t,e),r=this.prior;if(r){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return r.possiblyEvaluate(t,e);var a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t,e),i,function(){if(a<=0)return 0;if(1<=a)return 1;var t=a*a,e=t*a;return 4*(a<.5?e:3*(a-t)+e-.75)}())}return i};var or=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};function sr(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}function cr(t,e,n){this.property=t,this.value=e,this.parameters=n}or.prototype.possiblyEvaluate=function(t,e){for(var n=new lr(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var a=r[i];n._values[a]=this._values[a].possiblyEvaluate(t,e)}return n},or.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var n=e[t];if(this._values[n].prior)return!0}return!1},sr.prototype.getValue=function(t){return v(this._values[t].value)},sr.prototype.setValue=function(t,e){this._values[t]=new nr(this._values[t].property,null===e?void 0:v(e))},sr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],r=this.getValue(i);void 0!==r&&(t[i]=r)}return t},sr.prototype.possiblyEvaluate=function(t,e){for(var n=new lr(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var a=r[i];n._values[a]=this._values[a].possiblyEvaluate(t,e)}return n},cr.prototype.isConstant=function(){return"constant"===this.value.kind},cr.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},cr.prototype.evaluate=function(t,e,n){return this.property.evaluate(this.value,this.parameters,t,e,n)};var lr=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};function ur(t){this.specification=t}function hr(t,e){this.specification=t,this.overrides=e}function pr(t){this.specification=t}lr.prototype.get=function(t){return this._values[t]},ur.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},ur.prototype.interpolate=function(t,e,n){var i=Pe[this.specification.type];return i?i(t,e,n):t},hr.prototype.possiblyEvaluate=function(t,e,n){return"constant"===t.expression.kind||"camera"===t.expression.kind?new cr(this,{kind:"constant",value:t.expression.evaluate(e,null,{},n)},e):new cr(this,t.expression,e)},hr.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new cr(this,{kind:"constant",value:void 0},t.parameters);var i=Pe[this.specification.type];return i?new cr(this,{kind:"constant",value:i(t.value.value,e.value.value,n)},t.parameters):t},hr.prototype.evaluate=function(t,e,n,i,r){return"constant"===t.kind?t.value:t.evaluate(e,n,i,r)};var dr,fr=(mr.__proto__=dr=hr,((mr.prototype=Object.create(dr&&dr.prototype)).constructor=mr).prototype.possiblyEvaluate=function(t,e,n){if(void 0===t.value)return new cr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n),r="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i;return new cr(this,{kind:"constant",value:this._calculate(r,r,r,e)},e)}return"camera"!==t.expression.kind?new cr(this,t.expression,e):new cr(this,{kind:"constant",value:this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e)},e)},mr.prototype.evaluate=function(t,e,n,i,r){if("source"!==t.kind)return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,i),t.evaluate({zoom:Math.floor(e.zoom)},n,i),t.evaluate({zoom:Math.floor(e.zoom)+1},n,i),e):t.value;var a=t.evaluate(e,n,i,r);return this._calculate(a,a,a,e)},mr.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},mr.prototype.interpolate=function(t){return t},mr);function mr(){dr.apply(this,arguments)}function gr(t){this.specification=t}function yr(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var i=this.defaultPropertyValues[e]=new nr(n,void 0),r=this.defaultTransitionablePropertyValues[e]=new ir(n);this.defaultTransitioningPropertyValues[e]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=i.possiblyEvaluate({})}}function _r(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}function vr(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}pr.prototype.possiblyEvaluate=function(t,e,n){if(void 0!==t.value){if("constant"!==t.expression.kind)return this._calculate(t.expression.evaluate(new $i(Math.floor(e.zoom-1),e)),t.expression.evaluate(new $i(Math.floor(e.zoom),e)),t.expression.evaluate(new $i(Math.floor(e.zoom+1),e)),e);var i=t.expression.evaluate(e,null,{},n);return this._calculate(i,i,i,e)}},pr.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},pr.prototype.interpolate=function(t){return t},gr.prototype.possiblyEvaluate=function(t,e,n){return!!t.expression.evaluate(e,null,{},n)},gr.prototype.interpolate=function(){return!1},zi("DataDrivenProperty",hr),zi("DataConstantProperty",ur),zi("CrossFadedDataDrivenProperty",fr),zi("CrossFadedProperty",pr),zi("ColorRampProperty",gr);var Mr,br=(wr.__proto__=Mr=Dt,((wr.prototype=Object.create(Mr&&Mr.prototype)).constructor=wr).prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},wr.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},wr.prototype.setLayoutProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e){var i="layers."+this.id+".layout."+t;if(this._validate(xi,i,t,e,n))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e},wr.prototype.getPaintProperty=function(t){return g(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},wr.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e){var i="layers."+this.id+".paint."+t;if(this._validate(bi,i,t,e,n))return!1}if(g(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var r=this._transitionablePaint._values[t],a="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),s=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var c=this._transitionablePaint._values[t].value;return c.isDataDriven()||o||a||this._handleOverridablePaintPropertyUpdate(t,s,c)},wr.prototype._handleSpecialPaintPropertyUpdate=function(t){},wr.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},wr.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},wr.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},wr.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},wr.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,e)},wr.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),_(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},wr.prototype._validate=function(t,e,n,i,r){return void 0===r&&(r={}),(!r||!1!==r.validate)&&wi(this,t.call(vi,{key:e,layerType:this.type,objectKey:n,value:i,styleSpec:Bt,style:{glyphs:!0,sprite:!0}}))},wr.prototype.is3D=function(){return!1},wr.prototype.isTileClipped=function(){return!1},wr.prototype.hasOffscreenPass=function(){return!1},wr.prototype.resize=function(){},wr.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof cr&&Tn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},wr),xr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};function wr(t,e){if(Mr.call(this),this.id=t.id,this.type=t.type,this._featureFilter=function(){return!0},"custom"!==t.type&&(t=t,this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new sr(e.layout)),e.paint)){for(var n in this._transitionablePaint=new rr(e.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}function Ar(t,e){void 0===e&&(e=1);var n=0,i=0;return{members:t.map((function(t){var r,a=(r=t.type,xr[r].BYTES_PER_ELEMENT),o=n=Tr(n,Math.max(e,a)),s=t.components||1;return i=Math.max(i,a),n+=a*s,{name:t.name,type:t.type,components:s,offset:o}})),size:Tr(n,Math.max(i,e)),alignment:e}}function Tr(t,e){return Math.ceil(t/e)*e}vr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},vr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},vr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},vr.prototype.clear=function(){this.length=0},vr.prototype.resize=function(t){this.reserve(t),this.length=t},vr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},vr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Lr,Sr=(kr.__proto__=Lr=vr,((kr.prototype=Object.create(Lr&&Lr.prototype)).constructor=kr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},kr.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},kr.prototype.emplace=function(t,e,n){var i=2*t;return this.int16[0+i]=e,this.int16[1+i]=n,t},kr);function kr(){Lr.apply(this,arguments)}Sr.prototype.bytesPerElement=4,zi("StructArrayLayout2i4",Sr);var Or,zr=(Cr.__proto__=Or=vr,((Cr.prototype=Object.create(Or&&Or.prototype)).constructor=Cr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},Cr.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},Cr.prototype.emplace=function(t,e,n,i,r){var a=4*t;return this.int16[0+a]=e,this.int16[1+a]=n,this.int16[2+a]=i,this.int16[3+a]=r,t},Cr);function Cr(){Or.apply(this,arguments)}zr.prototype.bytesPerElement=8,zi("StructArrayLayout4i8",zr);var Er,Dr=(Nr.__proto__=Er=vr,((Nr.prototype=Object.create(Er&&Er.prototype)).constructor=Nr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},Nr.prototype.emplaceBack=function(t,e,n,i,r,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i,r,a)},Nr.prototype.emplace=function(t,e,n,i,r,a,o){var s=6*t;return this.int16[0+s]=e,this.int16[1+s]=n,this.int16[2+s]=i,this.int16[3+s]=r,this.int16[4+s]=a,this.int16[5+s]=o,t},Nr);function Nr(){Er.apply(this,arguments)}Dr.prototype.bytesPerElement=12,zi("StructArrayLayout2i4i12",Dr);var Ir,Pr=(Br.__proto__=Ir=vr,((Br.prototype=Object.create(Ir&&Ir.prototype)).constructor=Br).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},Br.prototype.emplaceBack=function(t,e,n,i,r,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i,r,a)},Br.prototype.emplace=function(t,e,n,i,r,a,o){var s=4*t,c=8*t;return this.int16[0+s]=e,this.int16[1+s]=n,this.uint8[4+c]=i,this.uint8[5+c]=r,this.uint8[6+c]=a,this.uint8[7+c]=o,t},Br);function Br(){Ir.apply(this,arguments)}Pr.prototype.bytesPerElement=8,zi("StructArrayLayout2i4ub8",Pr);var Rr,qr=(Yr.__proto__=Rr=vr,((Yr.prototype=Object.create(Rr&&Rr.prototype)).constructor=Yr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},Yr.prototype.emplaceBack=function(t,e,n,i,r,a,o,s){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,i,r,a,o,s)},Yr.prototype.emplace=function(t,e,n,i,r,a,o,s,c){var l=8*t;return this.uint16[0+l]=e,this.uint16[1+l]=n,this.uint16[2+l]=i,this.uint16[3+l]=r,this.uint16[4+l]=a,this.uint16[5+l]=o,this.uint16[6+l]=s,this.uint16[7+l]=c,t},Yr);function Yr(){Rr.apply(this,arguments)}qr.prototype.bytesPerElement=16,zi("StructArrayLayout8ui16",qr);var Wr,jr=(Fr.__proto__=Wr=vr,((Fr.prototype=Object.create(Wr&&Wr.prototype)).constructor=Fr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},Fr.prototype.emplaceBack=function(t,e,n,i,r,a,o,s,c,l,u,h){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,n,i,r,a,o,s,c,l,u,h)},Fr.prototype.emplace=function(t,e,n,i,r,a,o,s,c,l,u,h,p){var d=12*t;return this.int16[0+d]=e,this.int16[1+d]=n,this.int16[2+d]=i,this.int16[3+d]=r,this.uint16[4+d]=a,this.uint16[5+d]=o,this.uint16[6+d]=s,this.uint16[7+d]=c,this.int16[8+d]=l,this.int16[9+d]=u,this.int16[10+d]=h,this.int16[11+d]=p,t},Fr);function Fr(){Wr.apply(this,arguments)}jr.prototype.bytesPerElement=24,zi("StructArrayLayout4i4ui4i24",jr);var Hr,Ur=(Xr.__proto__=Hr=vr,((Xr.prototype=Object.create(Hr&&Hr.prototype)).constructor=Xr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},Xr.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},Xr.prototype.emplace=function(t,e,n,i){var r=3*t;return this.float32[0+r]=e,this.float32[1+r]=n,this.float32[2+r]=i,t},Xr);function Xr(){Hr.apply(this,arguments)}Ur.prototype.bytesPerElement=12,zi("StructArrayLayout3f12",Ur);var Vr,Gr=(Kr.__proto__=Vr=vr,((Kr.prototype=Object.create(Vr&&Vr.prototype)).constructor=Kr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},Kr.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},Kr.prototype.emplace=function(t,e){var n=+t;return this.uint32[0+n]=e,t},Kr);function Kr(){Vr.apply(this,arguments)}Gr.prototype.bytesPerElement=4,zi("StructArrayLayout1ul4",Gr);var Zr,Jr=(Qr.__proto__=Zr=vr,((Qr.prototype=Object.create(Zr&&Zr.prototype)).constructor=Qr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},Qr.prototype.emplaceBack=function(t,e,n,i,r,a,o,s,c,l,u){var h=this.length;return this.resize(h+1),this.emplace(h,t,e,n,i,r,a,o,s,c,l,u)},Qr.prototype.emplace=function(t,e,n,i,r,a,o,s,c,l,u,h){var p=12*t,d=6*t;return this.int16[0+p]=e,this.int16[1+p]=n,this.int16[2+p]=i,this.int16[3+p]=r,this.int16[4+p]=a,this.int16[5+p]=o,this.uint32[3+d]=s,this.uint16[8+p]=c,this.uint16[9+p]=l,this.int16[10+p]=u,this.int16[11+p]=h,t},Qr);function Qr(){Zr.apply(this,arguments)}Jr.prototype.bytesPerElement=24,zi("StructArrayLayout6i1ul2ui2i24",Jr);var $r,ta=(ea.__proto__=$r=vr,((ea.prototype=Object.create($r&&$r.prototype)).constructor=ea).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},ea.prototype.emplaceBack=function(t,e,n,i,r,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i,r,a)},ea.prototype.emplace=function(t,e,n,i,r,a,o){var s=6*t;return this.int16[0+s]=e,this.int16[1+s]=n,this.int16[2+s]=i,this.int16[3+s]=r,this.int16[4+s]=a,this.int16[5+s]=o,t},ea);function ea(){$r.apply(this,arguments)}ta.prototype.bytesPerElement=12,zi("StructArrayLayout2i2i2i12",ta);var na,ia=(ra.__proto__=na=vr,((ra.prototype=Object.create(na&&na.prototype)).constructor=ra).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},ra.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},ra.prototype.emplace=function(t,e,n,i,r){var a=12*t,o=3*t;return this.uint8[0+a]=e,this.uint8[1+a]=n,this.float32[1+o]=i,this.float32[2+o]=r,t},ra);function ra(){na.apply(this,arguments)}ia.prototype.bytesPerElement=12,zi("StructArrayLayout2ub2f12",ia);var aa,oa=(sa.__proto__=aa=vr,((sa.prototype=Object.create(aa&&aa.prototype)).constructor=sa).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},sa.prototype.emplaceBack=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g)},sa.prototype.emplace=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g,y){var _=24*t,v=12*t,M=48*t;return this.int16[0+_]=e,this.int16[1+_]=n,this.uint16[2+_]=i,this.uint16[3+_]=r,this.uint32[2+v]=a,this.uint32[3+v]=o,this.uint32[4+v]=s,this.uint16[10+_]=c,this.uint16[11+_]=l,this.uint16[12+_]=u,this.float32[7+v]=h,this.float32[8+v]=p,this.uint8[36+M]=d,this.uint8[37+M]=f,this.uint8[38+M]=m,this.uint32[10+v]=g,this.int16[22+_]=y,t},sa);function sa(){aa.apply(this,arguments)}oa.prototype.bytesPerElement=48,zi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",oa);var ca,la=(ua.__proto__=ca=vr,((ua.prototype=Object.create(ca&&ca.prototype)).constructor=ua).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},ua.prototype.emplaceBack=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g,y,_,v,M,b,x,w,A,T){var L=this.length;return this.resize(L+1),this.emplace(L,t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g,y,_,v,M,b,x,w,A,T)},ua.prototype.emplace=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g,y,_,v,M,b,x,w,A,T,L){var S=30*t,k=15*t;return this.int16[0+S]=e,this.int16[1+S]=n,this.int16[2+S]=i,this.int16[3+S]=r,this.int16[4+S]=a,this.int16[5+S]=o,this.int16[6+S]=s,this.int16[7+S]=c,this.uint16[8+S]=l,this.uint16[9+S]=u,this.uint16[10+S]=h,this.uint16[11+S]=p,this.uint16[12+S]=d,this.uint16[13+S]=f,this.uint16[14+S]=m,this.uint16[15+S]=g,this.uint16[16+S]=y,this.uint16[17+S]=_,this.uint16[18+S]=v,this.uint16[19+S]=M,this.uint16[20+S]=b,this.uint16[21+S]=x,this.uint32[11+k]=w,this.float32[12+k]=A,this.float32[13+k]=T,this.float32[14+k]=L,t},ua);function ua(){ca.apply(this,arguments)}la.prototype.bytesPerElement=60,zi("StructArrayLayout8i14ui1ul3f60",la);var ha,pa=(da.__proto__=ha=vr,((da.prototype=Object.create(ha&&ha.prototype)).constructor=da).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},da.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},da.prototype.emplace=function(t,e){var n=+t;return this.float32[0+n]=e,t},da);function da(){ha.apply(this,arguments)}pa.prototype.bytesPerElement=4,zi("StructArrayLayout1f4",pa);var fa,ma=(ga.__proto__=fa=vr,((ga.prototype=Object.create(fa&&fa.prototype)).constructor=ga).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},ga.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},ga.prototype.emplace=function(t,e,n,i){var r=3*t;return this.int16[0+r]=e,this.int16[1+r]=n,this.int16[2+r]=i,t},ga);function ga(){fa.apply(this,arguments)}ma.prototype.bytesPerElement=6,zi("StructArrayLayout3i6",ma);var ya,_a=(va.__proto__=ya=vr,((va.prototype=Object.create(ya&&ya.prototype)).constructor=va).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},va.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},va.prototype.emplace=function(t,e,n,i){var r=2*t,a=4*t;return this.uint32[0+r]=e,this.uint16[2+a]=n,this.uint16[3+a]=i,t},va);function va(){ya.apply(this,arguments)}_a.prototype.bytesPerElement=8,zi("StructArrayLayout1ul2ui8",_a);var Ma,ba=(xa.__proto__=Ma=vr,((xa.prototype=Object.create(Ma&&Ma.prototype)).constructor=xa).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},xa.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},xa.prototype.emplace=function(t,e,n,i){var r=3*t;return this.uint16[0+r]=e,this.uint16[1+r]=n,this.uint16[2+r]=i,t},xa);function xa(){Ma.apply(this,arguments)}ba.prototype.bytesPerElement=6,zi("StructArrayLayout3ui6",ba);var wa,Aa=(Ta.__proto__=wa=vr,((Ta.prototype=Object.create(wa&&wa.prototype)).constructor=Ta).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},Ta.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},Ta.prototype.emplace=function(t,e,n){var i=2*t;return this.uint16[0+i]=e,this.uint16[1+i]=n,t},Ta);function Ta(){wa.apply(this,arguments)}Aa.prototype.bytesPerElement=4,zi("StructArrayLayout2ui4",Aa);var La,Sa=(ka.__proto__=La=vr,((ka.prototype=Object.create(La&&La.prototype)).constructor=ka).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},ka.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},ka.prototype.emplace=function(t,e){var n=+t;return this.uint16[0+n]=e,t},ka);function ka(){La.apply(this,arguments)}Sa.prototype.bytesPerElement=2,zi("StructArrayLayout1ui2",Sa);var Oa,za=(Ca.__proto__=Oa=vr,((Ca.prototype=Object.create(Oa&&Oa.prototype)).constructor=Ca).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},Ca.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},Ca.prototype.emplace=function(t,e,n){var i=2*t;return this.float32[0+i]=e,this.float32[1+i]=n,t},Ca);function Ca(){Oa.apply(this,arguments)}za.prototype.bytesPerElement=8,zi("StructArrayLayout2f8",za);var Ea,Da=(Na.__proto__=Ea=vr,((Na.prototype=Object.create(Ea&&Ea.prototype)).constructor=Na).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},Na.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},Na.prototype.emplace=function(t,e,n,i,r){var a=4*t;return this.float32[0+a]=e,this.float32[1+a]=n,this.float32[2+a]=i,this.float32[3+a]=r,t},Na);function Na(){Ea.apply(this,arguments)}Da.prototype.bytesPerElement=16,zi("StructArrayLayout4f16",Da);var Ia=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(_r);Ia.prototype.size=24;var Pa,Ba=((Pa=Jr)&&(Ra.__proto__=Pa),((Ra.prototype=Object.create(Pa&&Pa.prototype)).constructor=Ra).prototype.get=function(t){return new Ia(this,t)},Ra);function Ra(){Pa.apply(this,arguments)}zi("CollisionBoxArray",Ba);var qa=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},n.associatedIconIndex.set=function(t){this._structArray.int16[this._pos2+22]=t},Object.defineProperties(e.prototype,n),e}(_r);qa.prototype.size=48;var Ya,Wa=((Ya=oa)&&(ja.__proto__=Ya),((ja.prototype=Object.create(Ya&&Ya.prototype)).constructor=ja).prototype.get=function(t){return new qa(this,t)},ja);function ja(){Ya.apply(this,arguments)}zi("PlacedSymbolArray",Wa);var Fa=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.rightJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.centerJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.leftJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+4]=t},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+5]=t},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.placedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+6]=t},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.verticalPlacedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+7]=t},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.key.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.verticalTextBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+13]=t},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+14]=t},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+15]=t},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.verticalIconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+16]=t},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.featureIndex.set=function(t){this._structArray.uint16[this._pos2+17]=t},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numHorizontalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+18]=t},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+19]=t},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+20]=t},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.numVerticalIconVertices.set=function(t){this._structArray.uint16[this._pos2+21]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+11]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},n.textBoxScale.set=function(t){this._structArray.float32[this._pos4+12]=t},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.set=function(t){this._structArray.float32[this._pos4+13]=t},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.set=function(t){this._structArray.float32[this._pos4+14]=t},Object.defineProperties(e.prototype,n),e}(_r);Fa.prototype.size=60;var Ha,Ua=((Ha=la)&&(Xa.__proto__=Ha),((Xa.prototype=Object.create(Ha&&Ha.prototype)).constructor=Xa).prototype.get=function(t){return new Fa(this,t)},Xa);function Xa(){Ha.apply(this,arguments)}zi("SymbolInstanceArray",Ua);var Va=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(_r);Va.prototype.size=4;var Ga,Ka=((Ga=pa)&&(Za.__proto__=Ga),((Za.prototype=Object.create(Ga&&Ga.prototype)).constructor=Za).prototype.getoffsetX=function(t){return this.float32[+t+0]},Za.prototype.get=function(t){return new Va(this,t)},Za);function Za(){Ga.apply(this,arguments)}zi("GlyphOffsetArray",Ka);var Ja=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(_r);Ja.prototype.size=6;var Qa,$a=((Qa=ma)&&(to.__proto__=Qa),((to.prototype=Object.create(Qa&&Qa.prototype)).constructor=to).prototype.getx=function(t){return this.int16[3*t+0]},to.prototype.gety=function(t){return this.int16[3*t+1]},to.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},to.prototype.get=function(t){return new Ja(this,t)},to);function to(){Qa.apply(this,arguments)}zi("SymbolLineVertexArray",$a);var eo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(_r);eo.prototype.size=8;var no,io=((no=_a)&&(ro.__proto__=no),((ro.prototype=Object.create(no&&no.prototype)).constructor=ro).prototype.get=function(t){return new eo(this,t)},ro);function ro(){no.apply(this,arguments)}function ao(t){void 0===t&&(t=[]),this.segments=t}zi("FeatureIndexArray",io);var oo=Ar([{name:"a_pos",components:2,type:"Int16"}],4).members;function so(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)}ao.prototype.prepareSegment=function(t,e,n,i){var r=this.segments[this.segments.length-1];return ao.MAX_VERTEX_ARRAY_LENGTH<t&&b("Max vertices per segment is "+ao.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>ao.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r},ao.prototype.get=function(){return this.segments},ao.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var i in n.vaos)n.vaos[i].destroy()}},ao.simpleSegment=function(t,e,n,i){return new ao([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])},ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zi("SegmentVector",ao);var co=e((function(t){t.exports=function(t,e){var n,i,r,a,o,s,c,l;for(n=3&t.length,i=t.length-n,r=e,o=3432918353,s=461845907,l=0;l<i;)c=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,r=27492+(65535&(a=5*(65535&(r=(r^=c=(65535&(c=(c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&t.charCodeAt(l+2))<<16;case 2:c^=(255&t.charCodeAt(l+1))<<8;case 1:r^=c=(65535&(c=(c=(65535&(c^=255&t.charCodeAt(l)))*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}})),lo=e((function(t){t.exports=function(t,e){for(var n,i=t.length,r=e^i,a=0;4<=i;)n=1540483477*(65535&(n=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++a;switch(i){case 3:r^=(255&t.charCodeAt(a+2))<<16;case 2:r^=(255&t.charCodeAt(a+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(a)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}})),uo=co,ho=co,po=lo;function fo(){this.ids=[],this.positions=[],this.indexed=!1}uo.murmur3=ho,uo.murmur2=po,fo.prototype.add=function(t,e,n,i){this.ids.push(go(t)),this.positions.push(e,n,i)},fo.prototype.getPositions=function(t){for(var e=go(t),n=0,i=this.ids.length-1;n<i;){var r=n+i>>1;this.ids[r]>=e?i=r:n=1+r}for(var a=[];this.ids[n]===e;){var o=this.positions[3*n],s=this.positions[3*n+1],c=this.positions[3*n+2];a.push({index:o,start:s,end:c}),n++}return a},fo.serialize=function(t,e){var n=new Float64Array(t.ids),i=new Uint32Array(t.positions);return function t(e,n,i,r){if(!(r<=i)){for(var a=e[i+r>>1],o=i-1,s=r+1;;){for(;e[++o]<a;);for(;e[--s]>a;);if(s<=o)break;yo(e,o,s),yo(n,3*o,3*s),yo(n,3*o+1,3*s+1),yo(n,3*o+2,3*s+2)}t(e,n,i,s),t(e,n,s+1,r)}}(n,i,0,n.length-1),e&&e.push(n.buffer,i.buffer),{ids:n,positions:i}},fo.deserialize=function(t){var e=new fo;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var mo=Math.pow(2,53)-1;function go(t){var e=+t;return!isNaN(e)&&e<=mo?e:uo(String(t))}function yo(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function _o(t,e){this.gl=t.gl,this.location=e}zi("FeaturePositionMap",fo);var vo,Mo,bo,xo,wo,Ao,To,Lo=(Yo.__proto__=To=_o,((Yo.prototype=Object.create(To&&To.prototype)).constructor=Yo).prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},Yo),So=(qo.__proto__=Ao=_o,((qo.prototype=Object.create(Ao&&Ao.prototype)).constructor=qo).prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},qo),ko=(Ro.__proto__=wo=_o,((Ro.prototype=Object.create(wo&&wo.prototype)).constructor=Ro).prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},Ro),Oo=(Bo.__proto__=xo=_o,((Bo.prototype=Object.create(xo&&xo.prototype)).constructor=Bo).prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},Bo),zo=(Po.__proto__=bo=_o,((Po.prototype=Object.create(bo&&bo.prototype)).constructor=Po).prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},Po),Co=(Io.__proto__=Mo=_o,((Io.prototype=Object.create(Mo&&Mo.prototype)).constructor=Io).prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},Io),Eo=new Float32Array(16),Do=(No.__proto__=vo=_o,((No.prototype=Object.create(vo&&vo.prototype)).constructor=No).prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},No);function No(t,e){vo.call(this,t,e),this.current=Eo}function Io(t,e){Mo.call(this,t,e),this.current=ce.transparent}function Po(t,e){bo.call(this,t,e),this.current=[0,0,0,0]}function Bo(t,e){xo.call(this,t,e),this.current=[0,0,0]}function Ro(t,e){wo.call(this,t,e),this.current=[0,0]}function qo(t,e){Ao.call(this,t,e),this.current=0}function Yo(t,e){To.call(this,t,e),this.current=0}function Wo(t){return[so(255*t.r,255*t.g),so(255*t.b,255*t.a)]}function jo(t,e,n){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=n}function Fo(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null}function Ho(t,e,n,i){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new i}function Uo(t,e,n,i,r,a){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a}function Xo(t,e,n,i,r,a,o){this.expression=t,this.type=n,this.useIntegerZoom=i,this.zoom=r,this.layerId=o,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new a,this.zoomOutPaintVertexArray=new a}function Vo(t,e,n,i){this.binders={},this.layoutAttributes=i,this._buffers=[];var r,a,o=[];for(var s in t.paint._values)if(n(s)){var c=t.paint.get(s);if(c instanceof cr&&Tn(c.property.specification)){var l=(r=s,a=t.type,{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[r]||[r.replace(a+"-","").replace(/-/g,"_")]),u=c.value,h=c.property.specification.type,p=c.property.useIntegerZoom,d=c.property.specification["property-type"],f="cross-faded"===d||"cross-faded-data-driven"===d;if("constant"===u.kind)this.binders[s]=f?new Fo(u.value,l):new jo(u.value,l,h),o.push("/u_"+s);else if("source"===u.kind||f){var m=Ko(s,h,"source");this.binders[s]=f?new Xo(u,l,h,p,e,m,t.id):new Ho(u,l,h,m),o.push("/a_"+s)}else{var g=Ko(s,h,"composite");this.binders[s]=new Uo(u,l,h,p,e,g),o.push("/z_"+s)}}}this.cacheKey=o.sort().join("")}function Go(t,e,n,i){void 0===i&&(i=function(){return!0}),this.programConfigurations={};for(var r=0,a=e;r<a.length;r+=1){var o=a[r];this.programConfigurations[o.id]=new Vo(o,n,i,t)}this.needsUpload=!1,this._featureMap=new fo,this._bufferOffset=0}function Ko(t,e,n){var i={color:{source:za,composite:Da},number:{source:pa,composite:za}},r={"line-pattern":{source:qr,composite:qr},"fill-pattern":{source:qr,composite:qr},"fill-extrusion-pattern":{source:qr,composite:qr}}[t];return r&&r[n]||i[e][n]}jo.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},jo.prototype.getBinding=function(t,e){return new("color"===this.type?Co:So)(t,e)},Fo.prototype.setConstantPatternPositions=function(t,e){this.patternTo=t.tlbr,this.patternFrom=e.tlbr},Fo.prototype.setUniform=function(t,e,n,i){var r="u_pattern_to"===i?this.patternTo:"u_pattern_from"===i?this.patternFrom:null;r&&t.set(r)},Fo.prototype.getBinding=function(t,e){return new zo(t,e)},Ho.prototype.populatePaintArray=function(t,e,n,i){var r=this.paintVertexArray.length,a=this.expression.evaluate(new $i(0),e,{},[],i);this.paintVertexArray.resize(t),this._setPaintValue(r,t,a)},Ho.prototype.updatePaintArray=function(t,e,n,i){var r=this.expression.evaluate({zoom:0},n,i);this._setPaintValue(t,e,r)},Ho.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var i=Wo(n),r=t;r<e;r++)this.paintVertexArray.emplace(r,i[0],i[1]);else{for(var a=t;a<e;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Ho.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ho.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Uo.prototype.populatePaintArray=function(t,e,n,i){var r=this.expression.evaluate(new $i(this.zoom),e,{},[],i),a=this.expression.evaluate(new $i(this.zoom+1),e,{},[],i),o=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(o,t,r,a)},Uo.prototype.updatePaintArray=function(t,e,n,i){var r=this.expression.evaluate({zoom:this.zoom},n,i),a=this.expression.evaluate({zoom:this.zoom+1},n,i);this._setPaintValue(t,e,r,a)},Uo.prototype._setPaintValue=function(t,e,n,i){if("color"===this.type)for(var r=Wo(n),a=Wo(i),o=t;o<e;o++)this.paintVertexArray.emplace(o,r[0],r[1],a[0],a[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}},Uo.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Uo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Uo.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,i=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(i)},Uo.prototype.getBinding=function(t,e){return new So(t,e)},Xo.prototype.populatePaintArray=function(t,e,n){var i=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(i,t,e.patterns&&e.patterns[this.layerId],n)},Xo.prototype.updatePaintArray=function(t,e,n,i,r){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],r)},Xo.prototype._setPaintValues=function(t,e,n,i){if(i&&n){var r=n.min,a=n.mid,o=n.max,s=i[r],c=i[a],l=i[o];if(s&&c&&l)for(var u=t;u<e;u++)this.zoomInPaintVertexArray.emplace(u,c.tl[0],c.tl[1],c.br[0],c.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1]),this.zoomOutPaintVertexArray.emplace(u,c.tl[0],c.tl[1],c.br[0],c.br[1],l.tl[0],l.tl[1],l.br[0],l.br[1])}},Xo.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Xo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Vo.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Ho||e instanceof Uo?e.maxValue:0},Vo.prototype.populatePaintArrays=function(t,e,n,i){for(var r in this.binders){var a=this.binders[r];(a instanceof Ho||a instanceof Uo||a instanceof Xo)&&a.populatePaintArray(t,e,n,i)}},Vo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var i=this.binders[n];i instanceof Fo&&i.setConstantPatternPositions(t,e)}},Vo.prototype.updatePaintArrays=function(t,e,n,i,r){var a=!1;for(var o in t)for(var s=0,c=e.getPositions(o);s<c.length;s+=1){var l=c[s],u=n.feature(l.index);for(var h in this.binders){var p=this.binders[h];if((p instanceof Ho||p instanceof Uo||p instanceof Xo)&&!0===p.expression.isStateDependent){var d=i.paint.get(h);p.expression=d.value,p.updatePaintArray(l.start,l.end,u,t[o],r),a=!0}}}return a},Vo.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof jo||n instanceof Fo)&&t.push.apply(t,n.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},Vo.prototype.getPaintVertexBuffers=function(){return this._buffers},Vo.prototype.getUniforms=function(t,e){var n=[];for(var i in this.binders){var r=this.binders[i];if(r instanceof jo||r instanceof Fo||r instanceof Uo)for(var a=0,o=r.uniformNames;a<o.length;a+=1){var s=o[a];if(e[s]){var c=r.getBinding(t,e[s]);n.push({name:s,property:i,binding:c})}}}return n},Vo.prototype.setUniforms=function(t,e,n,i){for(var r=0,a=e;r<a.length;r+=1){var o=a[r],s=o.name,c=o.property,l=o.binding;this.binders[c].setUniform(l,i,n.get(c),s)}},Vo.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Xo){var i=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;i&&this._buffers.push(i)}else(n instanceof Ho||n instanceof Uo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Vo.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof Ho||n instanceof Uo||n instanceof Xo)&&n.upload(t)}this.updatePaintBuffers()},Vo.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Ho||e instanceof Uo||e instanceof Xo)&&e.destroy()}},Go.prototype.populatePaintArrays=function(t,e,n,i,r){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,i,r);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Go.prototype.updatePaintArrays=function(t,e,n,i){for(var r=0,a=n;r<a.length;r+=1){var o=a[r];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(t,this._featureMap,e,o,i)||this.needsUpload}},Go.prototype.get=function(t){return this.programConfigurations[t]},Go.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Go.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},zi("ConstantBinder",jo),zi("CrossFadedConstantBinder",Fo),zi("SourceExpressionBinder",Ho),zi("CrossFadedCompositeBinder",Xo),zi("CompositeExpressionBinder",Uo),zi("ProgramConfiguration",Vo,{omit:["_buffers"]}),zi("ProgramConfigurationSet",Go);var Zo=8192,Jo={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function Qo(t){for(var e=Zo/t.extent,n=t.loadGeometry(),i=0;i<n.length;i++)for(var r=n[i],a=0;a<r.length;a++){var o=r[a];o.x=Math.round(o.x*e),o.y=Math.round(o.y*e),(o.x<Jo.min||o.x>Jo.max||o.y<Jo.min||o.y>Jo.max)&&(b("Geometry exceeds allowed extent, reduce your vector tile buffer size"),o.x=c(o.x,Jo.min,Jo.max),o.y=c(o.y,Jo.min,Jo.max))}return n}function $o(t,e,n,i,r){t.emplaceBack(2*e+(i+1)/2,2*n+(r+1)/2)}function ts(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Sr,this.indexArray=new ba,this.segments=new ao,this.programConfigurations=new Go(oo,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))}function es(t,e){for(var n=0;n<t.length;n++)if(cs(e,t[n]))return!0;for(var i=0;i<e.length;i++)if(cs(t,e[i]))return!0;return!!rs(t,e)}function ns(t,e){if(1===t.length)return ss(e,t[0]);for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++)if(cs(t,i[r]))return!0;for(var a=0;a<t.length;a++)if(ss(e,t[a]))return!0;for(var o=0;o<e.length;o++)if(rs(t,e[o]))return!0;return!1}function is(t,e,n){if(1<t.length){if(rs(t,e))return 1;for(var i=0;i<e.length;i++)if(as(e[i],t,n))return 1}for(var r=0;r<t.length;r++)if(as(t[r],e,n))return 1}function rs(t,e){var n,i,r,a;if(0!==t.length&&0!==e.length)for(var o=0;o<t.length-1;o++)for(var s=t[o],c=t[o+1],l=0;l<e.length-1;l++)if(i=c,x(n=s,r=e[l],a=e[l+1])!==x(i,r,a)&&x(n,i,r)!==x(n,i,a))return 1}function as(t,e,n){var i=n*n;if(1===e.length)return t.distSqr(e[0])<i;for(var r=1;r<e.length;r++)if(os(t,e[r-1],e[r])<i)return 1}function os(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return r<0?t.distSqr(e):1<r?t.distSqr(n):t.distSqr(n.sub(e)._mult(r)._add(e))}function ss(t,e){for(var n,i,r,a=!1,o=0;o<t.length;o++)for(var s=0,c=(n=t[o]).length-1;s<n.length;c=s++)i=n[s],r=n[c],i.y>e.y!=r.y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(a=!a);return a}function cs(t,e){for(var n=!1,i=0,r=t.length-1;i<t.length;r=i++){var a=t[i],o=t[r];a.y>e.y!=o.y>e.y&&e.x<(o.x-a.x)*(e.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function ls(t,e,n){var i=n[0],r=n[2];if(!(t.x<i.x&&e.x<i.x||t.x>r.x&&e.x>r.x||t.y<i.y&&e.y<i.y||t.y>r.y&&e.y>r.y)){var a=x(t,e,n[0]);return a!==x(t,e,n[1])||a!==x(t,e,n[2])||a!==x(t,e,n[3])}}function us(t,e,n){var i=e.paint.get(t).value;return"constant"===i.kind?i.value:n.programConfigurations.get(e.id).getMaxValue(t)}function hs(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ps(t,e,n,i,a){if(!e[0]&&!e[1])return t;var o=r.convert(e)._mult(a);"viewport"===n&&o._rotate(-i);for(var s=[],c=0;c<t.length;c++){var l=t[c];s.push(l.sub(o))}return s}ts.prototype.populate=function(t,e){var n=this.layers[0],i=[],r=null;"circle"===n.type&&(r=n.layout.get("circle-sort-key"));for(var a=0,o=t;a<o.length;a+=1){var s=o[a],c=s.feature,l=s.id,u=s.index,h=s.sourceLayerIndex;if(this.layers[0]._featureFilter(new $i(this.zoom),c)){var p=Qo(c),d=r?r.evaluate(c,{}):void 0,f={id:l,properties:c.properties,type:c.type,sourceLayerIndex:h,index:u,geometry:p,patterns:{},sortKey:d};i.push(f)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var m=0,g=i;m<g.length;m+=1){var y=g[m],_=y.geometry,v=y.index,M=y.sourceLayerIndex,b=t[v].feature;this.addFeature(y,_,v),e.featureIndex.insert(b,_,v,M,this.index)}},ts.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ts.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ts.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,oo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ts.prototype.addFeature=function(t,e,n){for(var i=0,r=e;i<r.length;i+=1)for(var a=0,o=r[i];a<o.length;a+=1){var s=o[a],c=s.x,l=s.y;if(!(c<0||Zo<=c||l<0||Zo<=l)){var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),h=u.vertexLength;$o(this.layoutVertexArray,c,l,-1,-1),$o(this.layoutVertexArray,c,l,1,-1),$o(this.layoutVertexArray,c,l,1,1),$o(this.layoutVertexArray,c,l,-1,1),this.indexArray.emplaceBack(h,h+1,h+2),this.indexArray.emplaceBack(h,h+3,h+2),u.vertexLength+=4,u.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{})},zi("CircleBucket",ts,{omit:["layers"]});var ds,fs,ms=new yr({"circle-sort-key":new hr(Bt.layout_circle["circle-sort-key"])}),gs={paint:new yr({"circle-radius":new hr(Bt.paint_circle["circle-radius"]),"circle-color":new hr(Bt.paint_circle["circle-color"]),"circle-blur":new hr(Bt.paint_circle["circle-blur"]),"circle-opacity":new hr(Bt.paint_circle["circle-opacity"]),"circle-translate":new ur(Bt.paint_circle["circle-translate"]),"circle-translate-anchor":new ur(Bt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ur(Bt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ur(Bt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new hr(Bt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new hr(Bt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new hr(Bt.paint_circle["circle-stroke-opacity"])}),layout:ms},ys="undefined"!=typeof Float32Array?Float32Array:Array;function _s(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*a+n[12]*o,t[1]=n[1]*i+n[5]*r+n[9]*a+n[13]*o,t[2]=n[2]*i+n[6]*r+n[10]*a+n[14]*o,t[3]=n[3]*i+n[7]*r+n[11]*a+n[15]*o,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)}),ds=new ys(3),ys!=Float32Array&&(ds[0]=0,ds[1]=0,ds[2]=0),fs=new ys(4),ys!=Float32Array&&(fs[0]=0,fs[1]=0,fs[2]=0,fs[3]=0);var vs,Ms,bs=(Ms=new ys(2),ys!=Float32Array&&(Ms[0]=0,Ms[1]=0),xs.__proto__=vs=br,((xs.prototype=Object.create(vs&&vs.prototype)).constructor=xs).prototype.createBucket=function(t){return new ts(t)},xs.prototype.queryRadius=function(t){var e=t;return us("circle-radius",this,e)+us("circle-stroke-width",this,e)+hs(this.paint.get("circle-translate"))},xs.prototype.queryIntersectsFeature=function(t,e,n,i,r,a,o,s){for(var c=ps(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),u="map"===this.paint.get("circle-pitch-alignment"),h=u?c:function(t){return c.map((function(e){return ws(e,t)}))}(s),p=u?l*o:l,d=0,f=i;d<f.length;d+=1)for(var m=0,g=f[d];m<g.length;m+=1){var y=g[m],_=u?y:ws(y,s),v=p,M=_s([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=M[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=a.cameraToCenterDistance/M[3]),w=v,cs(b=h,x=_)||as(x,b,w))return!0}var b,x,w;return!1},xs);function xs(t){vs.call(this,t,gs)}function ws(t,e){var n=_s([],[t.x,t.y,0,1],e);return new r(n[0]/n[3],n[1]/n[3])}var As,Ts=(Ls.__proto__=As=ts,(Ls.prototype=Object.create(As&&As.prototype)).constructor=Ls);function Ls(){As.apply(this,arguments)}function Ss(t,e,n,i){var r=e.width,a=e.height;if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==r*a*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(r*a*n);return t.width=r,t.height=a,t.data=i,t}function ks(t,e,n){var i=e.width,r=e.height;if(i!==t.width||r!==t.height){var a=Ss({},{width:i,height:r},n);Os(t,a,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,i),height:Math.min(t.height,r)},n),t.width=i,t.height=r,t.data=a.data}}function Os(t,e,n,i,r,a){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||n.x>t.width-r.width||n.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||i.x>e.width-r.width||i.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=t.data,s=e.data,c=0;c<r.height;c++)for(var l=((n.y+c)*t.width+n.x)*a,u=((i.y+c)*e.width+i.x)*a,h=0;h<r.width*a;h++)s[u+h]=o[l+h];return e}zi("HeatmapBucket",Ts,{omit:["layers"]});var zs=function(t,e){Ss(this,t,1,e)};function Cs(t,e){Ss(this,t,4,e)}zs.prototype.resize=function(t){ks(this,t,1)},zs.prototype.clone=function(){return new zs({width:this.width,height:this.height},new Uint8Array(this.data))},zs.copy=function(t,e,n,i,r){Os(t,e,n,i,r,1)},Cs.prototype.resize=function(t){ks(this,t,4)},Cs.prototype.replace=function(t,e){e?this.data.set(t):t instanceof Uint8ClampedArray?this.data=new Uint8Array(t.buffer):this.data=t},Cs.prototype.clone=function(){return new Cs({width:this.width,height:this.height},new Uint8Array(this.data))},Cs.copy=function(t,e,n,i,r){Os(t,e,n,i,r,4)},zi("AlphaImage",zs),zi("RGBAImage",Cs);var Es={paint:new yr({"heatmap-radius":new hr(Bt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new hr(Bt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ur(Bt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new gr(Bt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ur(Bt.paint_heatmap["heatmap-opacity"])})};function Ds(t,e){for(var n=new Uint8Array(1024),i={},r=0,a=0;r<256;r++,a+=4){i[e]=r/255;var o=t.evaluate(i);n[a+0]=Math.floor(255*o.r/o.a),n[a+1]=Math.floor(255*o.g/o.a),n[a+2]=Math.floor(255*o.b/o.a),n[a+3]=Math.floor(255*o.a)}return new Cs({width:256,height:1},n)}var Ns,Is,Ps=(Fs.__proto__=Is=br,((Fs.prototype=Object.create(Is&&Is.prototype)).constructor=Fs).prototype.createBucket=function(t){return new Ts(t)},Fs.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},Fs.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Ds(t,"heatmapDensity"),this.colorRampTexture=null},Fs.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},Fs.prototype.queryRadius=function(){return 0},Fs.prototype.queryIntersectsFeature=function(){return!1},Fs.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},Fs),Bs={paint:new yr({"hillshade-illumination-direction":new ur(Bt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ur(Bt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ur(Bt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ur(Bt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ur(Bt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ur(Bt.paint_hillshade["hillshade-accent-color"])})},Rs=(js.__proto__=Ns=br,((js.prototype=Object.create(Ns&&Ns.prototype)).constructor=js).prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},js),qs=Ar([{name:"a_pos",components:2,type:"Int16"}],4).members,Ys=Hs,Ws=Hs;function js(t){Ns.call(this,t,Bs)}function Fs(t){Is.call(this,t,Es),this._updateColorRamp()}function Hs(t,e,n){n=n||2;var i,r,a,o,s,c,l,u=e&&e.length,h=u?e[0]*n:t.length,p=Us(t,0,h,n,!0),d=[];if(!p||p.next===p.prev)return d;if(u&&(p=function(t,e,n,i){var r,a,o,s=[];for(r=0,a=e.length;r<a;r++)(o=Us(t,e[r]*i,r<a-1?e[r+1]*i:t.length,i,!1))===o.next&&(o.steiner=!0),s.push(ec(o));for(s.sort(Qs),r=0;r<s.length;r++)$s(s[r],n),n=Xs(n,n.next);return n}(t,e,p,n)),t.length>80*n){i=a=t[0],r=o=t[1];for(var f=n;f<h;f+=n)(s=t[f])<i&&(i=s),(c=t[f+1])<r&&(r=c),a<s&&(a=s),o<c&&(o=c);l=0!==(l=Math.max(a-i,o-r))?1/l:0}return Vs(p,d,n,i,r,l),d}function Us(t,e,n,i,r){var a,o;if(r===0<dc(t,e,n,i))for(a=e;a<n;a+=i)o=uc(a,t[a],t[a+1],o);else for(a=n-i;e<=a;a-=i)o=uc(a,t[a],t[a+1],o);return o&&rc(o,o.next)&&(hc(o),o=o.next),o}function Xs(t,e){if(!t)return t;e=e||t;var n,i=t;do{if(n=!1,i.steiner||!rc(i,i.next)&&0!==ic(i.prev,i,i.next))i=i.next;else{if(hc(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function Vs(t,e,n,i,r,a,o){if(t){!o&&a&&function(t,e,n,i){for(var r=t;null===r.z&&(r.z=tc(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,(r=r.next)!==t;);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,c,l=1;do{for(n=t,a=t=null,o=0;n;){for(o++,i=n,e=s=0;e<l&&(s++,i=i.nextZ);e++);for(c=l;0<s||0<c&&i;)0!==s&&(0===c||!i||n.z<=i.z)?(n=(r=n).nextZ,s--):(i=(r=i).nextZ,c--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,l*=2}while(1<o)}(r)}(t,i,r,a);for(var s,c,l=t;t.prev!==t.next;)if(s=t.prev,c=t.next,a?Ks(t,i,r,a):Gs(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),hc(t),t=c.next,l=c.next;else if((t=c)===l){o?1===o?Vs(t=Zs(Xs(t),e,n),e,n,i,r,a,2):2===o&&Js(t,e,n,i,r,a):Vs(Xs(t),e,n,i,r,a,1);break}}}function Gs(t){var e=t.prev,n=t,i=t.next;if(!(0<=ic(e,n,i))){for(var r=t.next.next;r!==t.prev;){if(nc(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&0<=ic(r.prev,r,r.next))return;r=r.next}return 1}}function Ks(t,e,n,i){var r=t.prev,a=t,o=t.next;if(!(0<=ic(r,a,o))){for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,c=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,l=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,u=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,h=tc(s,c,e,n,i),p=tc(l,u,e,n,i),d=t.prevZ,f=t.nextZ;d&&d.z>=h&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&nc(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&0<=ic(d.prev,d,d.next))return;if(d=d.prevZ,f!==t.prev&&f!==t.next&&nc(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=ic(f.prev,f,f.next))return;f=f.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&nc(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&0<=ic(d.prev,d,d.next))return;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&nc(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=ic(f.prev,f,f.next))return;f=f.nextZ}return 1}}function Zs(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!rc(r,a)&&ac(r,i,i.next,a)&&cc(r,a)&&cc(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),hc(i),hc(i.next),i=t=a),i=i.next}while(i!==t);return Xs(i)}function Js(t,e,n,i,r,a){var o,s,c=t;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&(s=l,(o=c).next.i!==s.i&&o.prev.i!==s.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ac(n,n.next,t,e))return 1;n=n.next}while(n!==t)}(o,s)&&(cc(o,s)&&cc(s,o)&&function(t,e){for(var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),(n=n.next)!==t;);return i}(o,s)&&(ic(o.prev,o,s.prev)||ic(o,s.prev,s))||rc(o,s)&&0<ic(o.prev,o,o.next)&&0<ic(s.prev,s,s.next)))){var u=lc(c,l);return c=Xs(c,c.next),u=Xs(u,u.next),Vs(c,e,n,i,r,a),void Vs(u,e,n,i,r,a)}l=l.next}c=c.next}while(c!==t)}function Qs(t,e){return t.x-e.x}function $s(t,e){if(e=function(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&o<s){if((o=s)===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n;var c,l,u,h=n,p=n.x,d=n.y,f=1/0;for(i=n;r>=i.x&&i.x>=p&&r!==i.x&&nc(a<d?r:o,a,p,d,a<d?o:r,a,i.x,i.y)&&(c=Math.abs(a-i.y)/(r-i.x),cc(i,t)&&(c<f||c===f&&(i.x>n.x||i.x===n.x&&(u=i,ic((l=n).prev,l,u.prev)<0&&ic(u.next,l,l.next)<0)))&&(n=i,f=c)),(i=i.next)!==h;);return n}(t,e)){var n=lc(e,t);Xs(e,e.next),Xs(n,n.next)}}function tc(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ec(t){for(var e=t,n=t;(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),(e=e.next)!==t;);return n}function nc(t,e,n,i,r,a,o,s){return 0<=(r-o)*(e-s)-(t-o)*(a-s)&&0<=(t-o)*(i-s)-(n-o)*(e-s)&&0<=(n-o)*(a-s)-(r-o)*(i-s)}function ic(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function rc(t,e){return t.x===e.x&&t.y===e.y}function ac(t,e,n,i){var r=sc(ic(t,e,n)),a=sc(ic(t,e,i)),o=sc(ic(n,i,t)),s=sc(ic(n,i,e));return r!==a&&o!==s||0===r&&oc(t,n,e)||0===a&&oc(t,i,e)||0===o&&oc(n,t,i)||0===s&&oc(n,e,i)}function oc(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function sc(t){return 0<t?1:t<0?-1:0}function cc(t,e){return ic(t.prev,t,t.next)<0?0<=ic(t,e,t.next)&&0<=ic(t,t.prev,e):ic(t,e,t.prev)<0||ic(t,t.next,e)<0}function lc(t,e){var n=new pc(t.i,t.x,t.y),i=new pc(e.i,e.x,e.y),r=t.next,a=e.prev;return(t.next=e).prev=t,(n.next=r).prev=n,(i.next=n).prev=i,(a.next=i).prev=a,i}function uc(t,e,n,i){var r=new pc(t,e,n);return i?(r.next=i.next,(r.prev=i).next.prev=r,i.next=r):(r.prev=r).next=r,r}function hc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function pc(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function dc(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}function fc(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function mc(t,e){return t<e?-1:e<t?1:0}function gc(t,e){var n,i,r=t.length;if(r<=1)return[t];for(var a,o,s=[],c=0;c<r;c++){var l=w(t[c]);0!==l&&(t[c].area=Math.abs(l),void 0===o&&(o=l<0),o===l<0?(a&&s.push(a),a=[t[c]]):a.push(t[c]))}if(a&&s.push(a),1<e)for(var u=0;u<s.length;u++)s[u].length<=e||(i=yc,function t(e,n,i,r,a){for(;i<r;){if(600<r-i){var o=r-i+1,s=n-i+1,c=Math.log(o),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(o-l)/o)*(s-o/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-s*l/o+u)),Math.min(r,Math.floor(n+(o-s)*l/o+u)),a)}var h=e[n],p=i,d=r;for(fc(e,i,n),0<a(e[r],h)&&fc(e,i,r);p<d;){for(fc(e,p,d),p++,d--;a(e[p],h)<0;)p++;for(;0<a(e[d],h);)d--}0===a(e[i],h)?fc(e,i,d):fc(e,++d,r),d<=n&&(i=d+1),n<=d&&(r=d-1)}}(n=s[u],e,1,s[u].length-1||n.length-1,i||mc),s[u]=s[u].slice(0,e));return s}function yc(t,e){return e.area-t.area}function _c(t,e,n){for(var i=n.patternDependencies,r=!1,a=0,o=e;a<o.length;a+=1){var s=o[a].paint.get(t+"-pattern");s.isConstant()||(r=!0);var c=s.constantOr(null);c&&(r=!0,i[c.to]=!0,i[c.from]=!0)}return r}function vc(t,e,n,i,r){for(var a=r.patternDependencies,o=0,s=e;o<s.length;o+=1){var c=s[o],l=c.paint.get(t+"-pattern").value;if("constant"!==l.kind){var u=l.evaluate({zoom:i-1},n,{},r.availableImages),h=l.evaluate({zoom:i},n,{},r.availableImages),p=l.evaluate({zoom:i+1},n,{},r.availableImages);u=u&&u.name?u.name:u,h=h&&h.name?h.name:h,p=p&&p.name?p.name:p,a[u]=!0,a[h]=!0,a[p]=!0,n.patterns[c.id]={min:u,mid:h,max:p}}}return n}function Mc(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Sr,this.indexArray=new ba,this.indexArray2=new Aa,this.programConfigurations=new Go(qs,t.layers,t.zoom),this.segments=new ao,this.segments2=new ao,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))}Hs.deviation=function(t,e,n,i){var r=e&&e.length,a=r?e[0]*n:t.length,o=Math.abs(dc(t,0,a,n));if(r)for(var s=0,c=e.length;s<c;s++){var l=e[s]*n,u=s<c-1?e[s+1]*n:t.length;o-=Math.abs(dc(t,l,u,n))}var h=0;for(s=0;s<i.length;s+=3){var p=i[s]*n,d=i[s+1]*n,f=i[s+2]*n;h+=Math.abs((t[p]-t[f])*(t[1+d]-t[1+p])-(t[p]-t[d])*(t[1+f]-t[1+p]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},Hs.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var a=0;a<t[r].length;a++)for(var o=0;o<e;o++)n.vertices.push(t[r][a][o]);0<r&&(i+=t[r-1].length,n.holes.push(i))}return n},Ys.default=Ws,Mc.prototype.populate=function(t,e){this.hasPattern=_c("fill",this.layers,e);for(var n=this.layers[0].layout.get("fill-sort-key"),i=[],r=0,a=t;r<a.length;r+=1){var o=a[r],s=o.feature,c=o.id,l=o.index,u=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new $i(this.zoom),s)){var h=Qo(s),p=n?n.evaluate(s,{},e.availableImages):void 0,d={id:c,properties:s.properties,type:s.type,sourceLayerIndex:u,index:l,geometry:h,patterns:{},sortKey:p};i.push(d)}}n&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var f=0,m=i;f<m.length;f+=1){var g=m[f],y=g.geometry,_=g.index,v=g.sourceLayerIndex;if(this.hasPattern){var M=vc("fill",this.layers,g,this.zoom,e);this.patternFeatures.push(M)}else this.addFeature(g,y,_,{});var b=t[_].feature;e.featureIndex.insert(b,y,_,v,this.index)}},Mc.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Mc.prototype.addFeatures=function(t,e){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var r=i[n];this.addFeature(r,r.geometry,r.index,e)}},Mc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Mc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Mc.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,qs),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},Mc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Mc.prototype.addFeature=function(t,e,n,i){for(var r=0,a=gc(e,500);r<a.length;r+=1){for(var o=a[r],s=0,c=0,l=o;c<l.length;c+=1)s+=l[c].length;for(var u=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),h=u.vertexLength,p=[],d=[],f=0,m=o;f<m.length;f+=1){var g=m[f];if(0!==g.length){g!==o[0]&&d.push(p.length/2);var y=this.segments2.prepareSegment(g.length,this.layoutVertexArray,this.indexArray2),_=y.vertexLength;this.layoutVertexArray.emplaceBack(g[0].x,g[0].y),this.indexArray2.emplaceBack(_+g.length-1,_),p.push(g[0].x),p.push(g[0].y);for(var v=1;v<g.length;v++)this.layoutVertexArray.emplaceBack(g[v].x,g[v].y),this.indexArray2.emplaceBack(_+v-1,_+v),p.push(g[v].x),p.push(g[v].y);y.vertexLength+=g.length,y.primitiveLength+=g.length}}for(var M=Ys(p,d),b=0;b<M.length;b+=3)this.indexArray.emplaceBack(h+M[b],h+M[b+1],h+M[b+2]);u.vertexLength+=s,u.primitiveLength+=M.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i)},zi("FillBucket",Mc,{omit:["layers","patternFeatures"]});var bc,xc=new yr({"fill-sort-key":new hr(Bt.layout_fill["fill-sort-key"])}),wc={paint:new yr({"fill-antialias":new ur(Bt.paint_fill["fill-antialias"]),"fill-opacity":new hr(Bt.paint_fill["fill-opacity"]),"fill-color":new hr(Bt.paint_fill["fill-color"]),"fill-outline-color":new hr(Bt.paint_fill["fill-outline-color"]),"fill-translate":new ur(Bt.paint_fill["fill-translate"]),"fill-translate-anchor":new ur(Bt.paint_fill["fill-translate-anchor"]),"fill-pattern":new fr(Bt.paint_fill["fill-pattern"])}),layout:xc},Ac=(Sc.__proto__=bc=br,((Sc.prototype=Object.create(bc&&bc.prototype)).constructor=Sc).prototype.recalculate=function(t,e){bc.prototype.recalculate.call(this,t,e);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},Sc.prototype.createBucket=function(t){return new Mc(t)},Sc.prototype.queryRadius=function(){return hs(this.paint.get("fill-translate"))},Sc.prototype.queryIntersectsFeature=function(t,e,n,i,r,a,o){return ns(ps(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),i)},Sc.prototype.isTileClipped=function(){return!0},Sc),Tc=Ar([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Lc=kc;function Sc(t){bc.call(this,t,wc)}function kc(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=r,t.readFields(Oc,this,e)}function Oc(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function zc(t){for(var e,n,i=0,r=0,a=t.length,o=a-1;r<a;o=r++)e=t[r],i+=((n=t[o]).x-e.x)*(e.y+n.y);return i}kc.types=["Unknown","Point","LineString","Polygon"],kc.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,a=0,o=0,s=0,c=[];t.pos<n;){if(a<=0){var l=t.readVarint();i=7&l,a=l>>3}if(a--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&c.push(e),e=[]),e.push(new r(o,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&c.push(e),c},kc.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,a=0,o=1/0,s=-1/0,c=1/0,l=-1/0;t.pos<e;){if(i<=0){var u=t.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)(r+=t.readSVarint())<o&&(o=r),s<r&&(s=r),(a+=t.readSVarint())<c&&(c=a),l<a&&(l=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,c,s,l]},kc.prototype.toGeoJSON=function(t,e,n){var i,r,a=this.extent*Math.pow(2,n),o=this.extent*t,s=this.extent*e,c=this.loadGeometry(),l=kc.types[this.type];function u(t){for(var e=0;e<t.length;e++){var n=t[e],i=180-360*(n.y+s)/a;t[e]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<c.length;i++)h[i]=c[i][0];u(c=h);break;case 2:for(i=0;i<c.length;i++)u(c[i]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],a=0;a<e;a++){var o=zc(t[a]);0!==o&&(void 0===i&&(i=o<0),i===o<0?(n&&r.push(n),n=[t[a]]):n.push(t[a]))}return n&&r.push(n),r}(c),i=0;i<c.length;i++)for(r=0;r<c[i].length;r++)u(c[i][r])}1===c.length?c=c[0]:l="Multi"+l;var p={type:"Feature",geometry:{type:l,coordinates:c},properties:this.properties};return"id"in this&&(p.id=this.id),p};var Cc=Ec;function Ec(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Dc,this,e),this.length=this._features.length}function Dc(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1==i?t.readString():2==i?t.readFloat():3==i?t.readDouble():4==i?t.readVarint64():5==i?t.readVarint():6==i?t.readSVarint():7==i?t.readBoolean():null}return e}(n))}function Nc(t,e,n){if(3===t){var i=new Cc(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}Ec.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Lc(this._pbf,e,this.extent,this._keys,this._values)};var Ic={VectorTile:function(t,e){this.layers=t.readFields(Nc,{},e)},VectorTileFeature:Lc,VectorTileLayer:Cc},Pc=Ic.VectorTileFeature.types,Bc=Math.pow(2,13);function Rc(t,e,n,i,r,a,o,s){t.emplaceBack(e,n,2*Math.floor(i*Bc)+o,r*Bc*2,a*Bc*2,Math.round(s))}function qc(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Dr,this.indexArray=new ba,this.programConfigurations=new Go(Tc,t.layers,t.zoom),this.segments=new ao,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))}qc.prototype.populate=function(t,e){this.features=[],this.hasPattern=_c("fill-extrusion",this.layers,e);for(var n=0,i=t;n<i.length;n+=1){var r=i[n],a=r.feature,o=r.id,s=r.index,c=r.sourceLayerIndex;if(this.layers[0]._featureFilter(new $i(this.zoom),a)){var l=Qo(a),u={id:o,sourceLayerIndex:c,index:s,geometry:l,properties:a.properties,type:a.type,patterns:{}};void 0!==a.id&&(u.id=a.id),this.hasPattern?this.features.push(vc("fill-extrusion",this.layers,u,this.zoom,e)):this.addFeature(u,l,s,{}),e.featureIndex.insert(a,l,s,c,this.index,!0)}}},qc.prototype.addFeatures=function(t,e){for(var n=0,i=this.features;n<i.length;n+=1){var r=i[n],a=r.geometry;this.addFeature(r,a,r.index,e)}},qc.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},qc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},qc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},qc.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Tc),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},qc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},qc.prototype.addFeature=function(t,e,n,i){for(var r=0,a=gc(e,500);r<a.length;r+=1){for(var o=a[r],s=0,c=0,l=o;c<l.length;c+=1)s+=l[c].length;for(var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),h=0,p=o;h<p.length;h+=1){var d=p[h];if(0!==d.length&&!((D=d).every((function(t){return t.x<0}))||D.every((function(t){return t.x>Zo}))||D.every((function(t){return t.y<0}))||D.every((function(t){return t.y>Zo}))))for(var f=0,m=0;m<d.length;m++){var g=d[m];if(1<=m){var y=d[m-1];if(E=y,!((C=g).x===E.x&&(C.x<0||C.x>Zo)||C.y===E.y&&(C.y<0||C.y>Zo))){u.vertexLength+4>ao.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=g.sub(y)._perp()._unit(),v=y.dist(g);32768<f+v&&(f=0),Rc(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,0,f),Rc(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,1,f),f+=v,Rc(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,f),Rc(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,f);var M=u.vertexLength;this.indexArray.emplaceBack(M,M+2,M+1),this.indexArray.emplaceBack(M+1,M+2,M+3),u.vertexLength+=4,u.primitiveLength+=2}}}}if(u.vertexLength+s>ao.MAX_VERTEX_ARRAY_LENGTH&&(u=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Pc[t.type]){for(var b=[],x=[],w=u.vertexLength,A=0,T=o;A<T.length;A+=1){var L=T[A];if(0!==L.length){L!==o[0]&&x.push(b.length/2);for(var S=0;S<L.length;S++){var k=L[S];Rc(this.layoutVertexArray,k.x,k.y,0,0,1,1,0),b.push(k.x),b.push(k.y)}}}for(var O=Ys(b,x),z=0;z<O.length;z+=3)this.indexArray.emplaceBack(w+O[z],w+O[z+2],w+O[z+1]);u.primitiveLength+=O.length/3,u.vertexLength+=s}}var C,E,D;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i)},zi("FillExtrusionBucket",qc,{omit:["layers","features"]});var Yc,Wc={paint:new yr({"fill-extrusion-opacity":new ur(Bt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new hr(Bt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ur(Bt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ur(Bt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new fr(Bt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new hr(Bt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new hr(Bt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ur(Bt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},jc=(Fc.__proto__=Yc=br,((Fc.prototype=Object.create(Yc&&Yc.prototype)).constructor=Fc).prototype.createBucket=function(t){return new qc(t)},Fc.prototype.queryRadius=function(){return hs(this.paint.get("fill-extrusion-translate"))},Fc.prototype.is3D=function(){return!0},Fc.prototype.queryIntersectsFeature=function(t,e,n,i,a,o,s,c){var l=ps(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),u=this.paint.get("fill-extrusion-height").evaluate(e,n),h=this.paint.get("fill-extrusion-base").evaluate(e,n),p=function(t){for(var e=[],n=0,i=l;n<i.length;n+=1){var a=i[n],o=[a.x,a.y,0,1];_s(o,o,t),e.push(new r(o[0]/o[3],o[1]/o[3]))}return e}(c),d=function(t,e){for(var n=[],i=[],a=e[8]*h,o=e[9]*h,s=e[10]*h,c=e[11]*h,l=e[8]*u,p=e[9]*u,d=e[10]*u,f=e[11]*u,m=0,g=t;m<g.length;m+=1){for(var y=[],_=[],v=0,M=g[m];v<M.length;v+=1){var b=M[v],x=b.x,w=b.y,A=e[0]*x+e[4]*w+e[12],T=e[1]*x+e[5]*w+e[13],L=e[2]*x+e[6]*w+e[14],S=e[3]*x+e[7]*w+e[15],k=L+s,O=S+c,z=A+l,C=T+p,E=L+d,D=S+f,N=new r((A+a)/O,(T+o)/O);N.z=k/O,y.push(N);var I=new r(z/D,C/D);I.z=E/D,_.push(I)}n.push(y),i.push(_)}return[n,i]}(i,c);return function(t,e,n){var i=1/0;ns(n,e)&&(i=Uc(n,e[0]));for(var r=0;r<e.length;r++)for(var a=e[r],o=t[r],s=0;s<a.length-1;s++){var c=a[s],l=a[s+1],u=o[s],h=[c,l,o[s+1],u,c];es(n,h)&&(i=Math.min(i,Uc(n,h)))}return i!==1/0&&i}(d[0],d[1],p)},Fc);function Fc(t){Yc.call(this,t,Wc)}function Hc(t,e){return t.x*e.x+t.y*e.y}function Uc(t,e){if(1===t.length){for(var n,i,r=0,a=e[r++];!n||a.equals(n);)if(!(n=e[r++]))return 1/0;for(;!i||a.equals(i)||n.equals(i);)if(!(i=e[r++]))return 1/0;var o=t[0],s=n.sub(a),c=i.sub(a),l=o.sub(a),u=Hc(s,s),h=Hc(s,c),p=Hc(c,c),d=Hc(l,s),f=Hc(l,c),m=u*p-h*h,g=(p*d-h*f)/m,y=(u*f-h*d)/m,_=1-g-y;return a.z*_+n.z*g+i.z*y}for(var v=1/0,M=0,b=e;M<b.length;M+=1){var x=b[M];v=Math.min(v,x.z)}return v}function Xc(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pr,this.indexArray=new ba,this.programConfigurations=new Go(Vc,t.layers,t.zoom),this.segments=new ao,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))}var Vc=Ar([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Gc=Ic.VectorTileFeature.types,Kc=Math.cos(Math.PI/180*37.5),Zc=Math.pow(2,14)/.5;Xc.prototype.populate=function(t,e){this.hasPattern=_c("line",this.layers,e);for(var n=this.layers[0].layout.get("line-sort-key"),i=[],r=0,a=t;r<a.length;r+=1){var o=a[r],s=o.feature,c=o.id,l=o.index,u=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new $i(this.zoom),s)){var h=Qo(s),p=n?n.evaluate(s,{}):void 0,d={id:c,properties:s.properties,type:s.type,sourceLayerIndex:u,index:l,geometry:h,patterns:{},sortKey:p};i.push(d)}}n&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var f=0,m=i;f<m.length;f+=1){var g=m[f],y=g.geometry,_=g.index,v=g.sourceLayerIndex;if(this.hasPattern){var M=vc("line",this.layers,g,this.zoom,e);this.patternFeatures.push(M)}else this.addFeature(g,y,_,{});var b=t[_].feature;e.featureIndex.insert(b,y,_,v,this.index)}},Xc.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Xc.prototype.addFeatures=function(t,e){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var r=i[n];this.addFeature(r,r.geometry,r.index,e)}},Xc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Xc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Xc.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Vc),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Xc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Xc.prototype.addFeature=function(t,e,n,i){for(var r=this.layers[0].layout,a=r.get("line-join").evaluate(t,{}),o=r.get("line-cap"),s=r.get("line-miter-limit"),c=r.get("line-round-limit"),l=0,u=e;l<u.length;l+=1){var h=u[l];this.addLine(h,t,a,o,s,c,n,i)}},Xc.prototype.addLine=function(t,e,n,i,r,a,o,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+e.properties.mapbox_clip_start,this.clipEnd=+e.properties.mapbox_clip_end;for(var c=0;c<t.length-1;c++)this.totalDistance+=t[c].dist(t[c+1]);this.updateScaledDistance()}for(var l="Polygon"===Gc[e.type],u=t.length;2<=u&&t[u-1].equals(t[u-2]);)u--;for(var h=0;h<u-1&&t[h].equals(t[h+1]);)h++;if(!(u<(l?3:2))){"bevel"===n&&(r=1.05);var p,d=this.overscaling<=16?15*Zo/(512*this.overscaling):0,f=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),m=void 0,g=void 0,y=void 0,_=void 0;this.e1=this.e2=-1,l&&(p=t[u-2],_=t[h].sub(p)._unit()._perp());for(var v=h;v<u;v++)if(!(g=v===u-1?l?t[h+1]:void 0:t[v+1])||!t[v].equals(g)){_&&(y=_),p&&(m=p),p=t[v],_=g?g.sub(p)._unit()._perp():y;var M=(y=y||_).add(_);0===M.x&&0===M.y||M._unit();var b=y.x*_.x+y.y*_.y,x=M.x*_.x+M.y*_.y,w=0!=x?1/x:1/0,A=2*Math.sqrt(2-2*x),T=x<Kc&&m&&g,L=0<y.x*_.y-y.y*_.x;if(T&&h<v){var S=p.dist(m);if(2*d<S){var k=p.sub(p.sub(m)._mult(d/S)._round());this.updateDistance(m,k),this.addCurrentVertex(k,y,0,0,f),m=k}}var O=m&&g,z=O?n:l?"butt":i;if(O&&"round"===z&&(w<a?z="miter":w<=2&&(z="fakeround")),"miter"===z&&r<w&&(z="bevel"),"bevel"===z&&(2<w&&(z="flipbevel"),w<r&&(z="miter")),m&&this.updateDistance(m,p),"miter"===z)M._mult(w),this.addCurrentVertex(p,M,0,0,f);else if("flipbevel"===z){if(100<w)M=_.mult(-1);else{var C=w*y.add(_).mag()/y.sub(_).mag();M._perp()._mult(C*(L?-1:1))}this.addCurrentVertex(p,M,0,0,f),this.addCurrentVertex(p,M.mult(-1),0,0,f)}else if("bevel"===z||"fakeround"===z){var E=-Math.sqrt(w*w-1),D=L?E:0,N=L?0:E;if(m&&this.addCurrentVertex(p,y,D,N,f),"fakeround"===z)for(var I=Math.round(180*A/Math.PI/20),P=1;P<I;P++){var B=P/I;if(.5!==B){var R=B-.5;B+=B*R*(B-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*R*R+(.848013+b*(.215638*b-1.06021)))}var q=_.sub(y)._mult(B)._add(y)._unit()._mult(L?-1:1);this.addHalfVertex(p,q.x,q.y,!1,L,0,f)}g&&this.addCurrentVertex(p,_,-D,-N,f)}else if("butt"===z)this.addCurrentVertex(p,M,0,0,f);else if("square"===z){var Y=m?1:-1;this.addCurrentVertex(p,M,Y,Y,f)}else"round"===z&&(m&&(this.addCurrentVertex(p,y,0,0,f),this.addCurrentVertex(p,y,1,1,f,!0)),g&&(this.addCurrentVertex(p,_,-1,-1,f,!0),this.addCurrentVertex(p,_,0,0,f)));if(T&&v<u-1){var W=p.dist(g);if(2*d<W){var j=p.add(g.sub(p)._mult(d/W)._round());this.updateDistance(p,j),this.addCurrentVertex(j,_,0,0,f),p=j}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,o,s)}},Xc.prototype.addCurrentVertex=function(t,e,n,i,r,a){void 0===a&&(a=!1);var o=e.x+e.y*n,s=e.y-e.x*n,c=-e.x+e.y*i,l=-e.y-e.x*i;this.addHalfVertex(t,o,s,a,!1,n,r),this.addHalfVertex(t,c,l,a,!0,-i,r),this.distance>Zc/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,i,r,a))},Xc.prototype.addHalfVertex=function(t,e,n,i,r,a,o){var s=t.x,c=t.y,l=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((s<<1)+(i?1:0),(c<<1)+(r?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6);var u=o.vertexLength++;0<=this.e1&&0<=this.e2&&(this.indexArray.emplaceBack(this.e1,this.e2,u),o.primitiveLength++),r?this.e2=u:this.e1=u},Xc.prototype.updateScaledDistance=function(){this.scaledDistance=0<this.totalDistance?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Zc-1):this.distance},Xc.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},zi("LineBucket",Xc,{omit:["layers","patternFeatures"]});var Jc,Qc=new yr({"line-cap":new ur(Bt.layout_line["line-cap"]),"line-join":new hr(Bt.layout_line["line-join"]),"line-miter-limit":new ur(Bt.layout_line["line-miter-limit"]),"line-round-limit":new ur(Bt.layout_line["line-round-limit"]),"line-sort-key":new hr(Bt.layout_line["line-sort-key"])}),$c={paint:new yr({"line-opacity":new hr(Bt.paint_line["line-opacity"]),"line-color":new hr(Bt.paint_line["line-color"]),"line-translate":new ur(Bt.paint_line["line-translate"]),"line-translate-anchor":new ur(Bt.paint_line["line-translate-anchor"]),"line-width":new hr(Bt.paint_line["line-width"]),"line-gap-width":new hr(Bt.paint_line["line-gap-width"]),"line-offset":new hr(Bt.paint_line["line-offset"]),"line-blur":new hr(Bt.paint_line["line-blur"]),"line-dasharray":new pr(Bt.paint_line["line-dasharray"]),"line-pattern":new fr(Bt.paint_line["line-pattern"]),"line-gradient":new gr(Bt.paint_line["line-gradient"])}),layout:Qc},tl=(el.__proto__=Jc=hr,((el.prototype=Object.create(Jc&&Jc.prototype)).constructor=el).prototype.possiblyEvaluate=function(t,e){return e=new $i(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),Jc.prototype.possiblyEvaluate.call(this,t,e)},el.prototype.evaluate=function(t,e,n,i){return e=u({},e,{zoom:Math.floor(e.zoom)}),Jc.prototype.evaluate.call(this,t,e,n,i)},new el($c.paint.properties["line-width"].specification));function el(){Jc.apply(this,arguments)}tl.useIntegerZoom=!0;var nl,il=(rl.__proto__=nl=br,((rl.prototype=Object.create(nl&&nl.prototype)).constructor=rl).prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},rl.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Ds(t,"lineProgress"),this.gradientTexture=null},rl.prototype.recalculate=function(t,e){nl.prototype.recalculate.call(this,t,e),this.paint._values["line-floorwidth"]=tl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},rl.prototype.createBucket=function(t){return new Xc(t)},rl.prototype.queryRadius=function(t){var e=t,n=al(us("line-width",this,e),us("line-gap-width",this,e)),i=us("line-offset",this,e);return n/2+Math.abs(i)+hs(this.paint.get("line-translate"))},rl.prototype.queryIntersectsFeature=function(t,e,n,i,a,o,s){var c=ps(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),l=s/2*al(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),u=this.paint.get("line-offset").evaluate(e,n);return u&&(i=function(t,e){for(var n=[],i=new r(0,0),a=0;a<t.length;a++){for(var o=t[a],s=[],c=0;c<o.length;c++){var l=o[c-1],u=o[c],h=o[c+1],p=0===c?i:u.sub(l)._unit()._perp(),d=c===o.length-1?i:h.sub(u)._unit()._perp(),f=p._add(d)._unit(),m=f.x*d.x+f.y*d.y;f._mult(1/m),s.push(f._mult(e)._add(u))}n.push(s)}return n}(i,u*s)),function(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];if(3<=t.length)for(var a=0;a<r.length;a++)if(cs(t,r[a]))return!0;if(is(t,r,n))return!0}return!1}(c,i,l)},rl.prototype.isTileClipped=function(){return!0},rl);function rl(t){nl.call(this,t,$c)}function al(t,e){return 0<e?e+2*t:t}var ol=Ar([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),sl=Ar([{name:"a_projected_pos",components:3,type:"Float32"}],4),cl=(Ar([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ar([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ll=(Ar([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Ar([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),ul=Ar([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function hl(t,e,n){return t.sections.forEach((function(t){var i,r,a;t.text=(i=t.text,r=n,"uppercase"===(a=e.layout.get("text-transform").evaluate(r,{}))?i=i.toLocaleUpperCase():"lowercase"===a&&(i=i.toLocaleLowerCase()),er.applyArabicShaping&&(i=er.applyArabicShaping(i)),i)})),t}function pl(t,e,n,i,r){var a,o,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?r-1:0,p=n?-1:1,d=t[e+h];for(h+=p,a=d&(1<<-u)-1,d>>=-u,u+=s;0<u;a=256*a+t[e+h],h+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;0<u;o=256*o+t[e+h],h+=p,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=l}return(d?-1:1)*o*Math.pow(2,a-i)}function dl(t,e,n,i,r,a){var o,s,c,l=8*a-r-1,u=(1<<l)-1,h=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),2<=(e+=1<=o+h?p/c:p*Math.pow(2,1-h))*c&&(o++,c/=2),u<=o+h?(s=0,o=u):1<=o+h?(s=(e*c-1)*Math.pow(2,r),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));8<=r;t[n+d]=255&s,d+=f,s/=256,r-=8);for(o=o<<r|s,l+=r;0<l;t[n+d]=255&o,d+=f,o/=256,l-=8);t[n+d-f]|=128*m}Ar([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ar([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),Ar([{type:"Float32",name:"offsetX"}]),Ar([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var fl={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},ml=24,gl=yl;function yl(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}yl.Varint=0,yl.Fixed64=1,yl.Bytes=2,yl.Fixed32=5;var _l="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function vl(t){return t.type===yl.Bytes?t.readVarint()+t.pos:t.pos+1}function Ml(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function bl(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;t<=r;r--)n.buf[r+i]=n.buf[r]}function xl(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function wl(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function Al(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Tl(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function Ll(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Sl(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function kl(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function Ol(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function zl(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Cl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function El(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Dl(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}yl.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,a=this.pos;this.type=7&i,t(r,e,this),this.pos===a&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Cl(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Dl(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Cl(this.buf,this.pos)+4294967296*Cl(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Cl(this.buf,this.pos)+4294967296*Dl(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=pl(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=pl(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,a=n.buf;if(i=(112&(r=a[n.pos++]))>>4,r<128)return Ml(t,i,e);if(i|=(127&(r=a[n.pos++]))<<3,r<128)return Ml(t,i,e);if(i|=(127&(r=a[n.pos++]))<<10,r<128)return Ml(t,i,e);if(i|=(127&(r=a[n.pos++]))<<17,r<128)return Ml(t,i,e);if(i|=(127&(r=a[n.pos++]))<<24,r<128)return Ml(t,i,e);if(i|=(1&(r=a[n.pos++]))<<31,r<128)return Ml(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t,e,n,i=this.readVarint()+this.pos,r=this.pos;return 12<=(this.pos=i)-r&&_l?(t=this.buf,e=r,n=i,_l.decode(t.subarray(e,n))):function(t,e){for(var n="",i=r;i<e;){var a,o,s,c=t[i],l=null,u=239<c?4:223<c?3:191<c?2:1;if(e<i+u)break;1===u?c<128&&(l=c):2===u?128==(192&(a=t[i+1]))&&(l=(31&c)<<6|63&a)<=127&&(l=null):3===u?(a=t[i+1],o=t[i+2],128==(192&a)&&128==(192&o)&&((l=(15&c)<<12|(63&a)<<6|63&o)<=2047||55296<=l&&l<=57343)&&(l=null)):4===u&&(a=t[i+1],o=t[i+2],s=t[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&((l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||1114112<=l)&&(l=null)),null===l?(l=65533,u=1):65535<l&&(l-=65536,n+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),n+=String.fromCharCode(l),i+=u}return n}(this.buf,i)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==yl.Bytes)return t.push(this.readVarint(e));var n=vl(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==yl.Bytes)return t.push(this.readSVarint());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==yl.Bytes)return t.push(this.readBoolean());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==yl.Bytes)return t.push(this.readFloat());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==yl.Bytes)return t.push(this.readDouble());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==yl.Bytes)return t.push(this.readFixed32());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==yl.Bytes)return t.push(this.readSFixed32());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==yl.Bytes)return t.push(this.readFixed64());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==yl.Bytes)return t.push(this.readSFixed64());var e=vl(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===yl.Varint)for(;127<this.buf[this.pos++];);else if(e===yl.Bytes)this.pos=this.readVarint()+this.pos;else if(e===yl.Fixed32)this.pos+=4;else{if(e!==yl.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),El(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),El(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),El(this.buf,-1&t,this.pos),El(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),El(this.buf,-1&t,this.pos),El(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){268435455<(t=+t||0)||t<0?function(e){var n,i,r,a,o,s,c;if(0<=t?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:i=i+1|(n=0)),0x10000000000000000<=t||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),s=n,(c=e).buf[c.pos++]=127&s|128,s>>>=7,c.buf[c.pos++]=127&s|128,s>>>=7,c.buf[c.pos++]=127&s|128,s>>>=7,c.buf[c.pos++]=127&s|128,s>>>=7,c.buf[c.pos]=127&s,o=(7&(r=i))<<4,(a=e).buf[a.pos++]|=o|((r>>>=3)?128:0),r&&(a.buf[a.pos++]=127&r|((r>>>=7)?128:0),r&&(a.buf[a.pos++]=127&r|((r>>>=7)?128:0),r&&(a.buf[a.pos++]=127&r|((r>>>=7)?128:0),r&&(a.buf[a.pos++]=127&r|((r>>>=7)?128:0),r&&(a.buf[a.pos++]=127&r)))))}(this):(this.realloc(4),this.buf[this.pos++]=127&t|(127<t?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,a=0;a<e.length;a++){if(55295<(i=e.charCodeAt(a))&&i<57344){if(!r){56319<i||a+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;128<=n&&bl(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),dl(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),dl(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;128<=i&&bl(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,yl.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,xl,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,wl,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Ll,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Al,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Tl,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Sl,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,kl,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Ol,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,zl,e)},writeBytesField:function(t,e){this.writeTag(t,yl.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,yl.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,yl.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,yl.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,yl.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,yl.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,yl.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,yl.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,yl.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,yl.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Nl=3;function Il(t,e,n){1===t&&n.readMessage(Pl,e)}function Pl(t,e,n){if(3===t){var i=n.readMessage(Bl,{}),r=i.id,a=i.bitmap,o=i.width,s=i.height,c=i.left,l=i.top,u=i.advance;e.push({id:r,bitmap:new zs({width:o+2*Nl,height:s+2*Nl},a),metrics:{width:o,height:s,left:c,top:l,advance:u}})}}function Bl(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var Rl=Nl;function ql(t){for(var e=0,n=0,i=0,r=t;i<r.length;i+=1){var a=r[i];e+=a.w*a.h,n=Math.max(n,a.w)}t.sort((function(t,e){return e.h-t.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,c=0,l=0,u=t;l<u.length;l+=1)for(var h=u[l],p=o.length-1;0<=p;p--){var d=o[p];if(!(h.w>d.w||h.h>d.h)){if(h.x=d.x,h.y=d.y,c=Math.max(c,h.y+h.h),s=Math.max(s,h.x+h.w),h.w===d.w&&h.h===d.h){var f=o.pop();p<o.length&&(o[p]=f)}else h.h===d.h?(d.x+=h.w,d.w-=h.w):(h.w===d.w||o.push({x:d.x+h.w,y:d.y,w:d.w-h.w,h:h.h}),d.y+=h.h,d.h-=h.h);break}}return{w:s,h:c,fill:e/(s*c)||0}}function Yl(t,e){var n=e.pixelRatio,i=e.version,r=e.stretchX,a=e.stretchY,o=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=r,this.stretchY=a,this.content=o,this.version=i}var Wl=1,jl={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};function Fl(t,e){var n={},i={};this.haveRenderCallbacks=[];var r=[];this.addImages(t,n,r),this.addImages(e,i,r);var a=ql(r),o=new Cs({width:a.w||1,height:a.h||1});for(var s in t){var c=t[s],l=n[s].paddedRect;Cs.copy(c.data,o,{x:0,y:0},{x:l.x+Wl,y:l.y+Wl},c.data)}for(var u in e){var h=e[u],p=i[u].paddedRect,d=p.x+Wl,f=p.y+Wl,m=h.data.width,g=h.data.height;Cs.copy(h.data,o,{x:0,y:0},{x:d,y:f},h.data),Cs.copy(h.data,o,{x:0,y:g-1},{x:d,y:f-1},{width:m,height:1}),Cs.copy(h.data,o,{x:0,y:0},{x:d,y:f+g},{width:m,height:1}),Cs.copy(h.data,o,{x:m-1,y:0},{x:d-1,y:f},{width:1,height:g}),Cs.copy(h.data,o,{x:0,y:0},{x:d+m,y:f},{width:1,height:g})}this.image=o,this.iconPositions=n,this.patternPositions=i}function Hl(){this.scale=1,this.fontStack="",this.imageName=null}jl.tl.get=function(){return[this.paddedRect.x+Wl,this.paddedRect.y+Wl]},jl.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Wl,this.paddedRect.y+this.paddedRect.h-Wl]},jl.tlbr.get=function(){return this.tl.concat(this.br)},jl.displaySize.get=function(){return[(this.paddedRect.w-2*Wl)/this.pixelRatio,(this.paddedRect.h-2*Wl)/this.pixelRatio]},Object.defineProperties(Yl.prototype,jl),Fl.prototype.addImages=function(t,e,n){for(var i in t){var r=t[i],a={x:0,y:0,w:r.data.width+2*Wl,h:r.data.height+2*Wl};n.push(a),e[i]=new Yl(a,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}},Fl.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},Fl.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var i=t.tl,r=i[0],a=i[1];n.update(e.data,void 0,{x:r,y:a})}},zi("ImagePosition",Yl),zi("ImageAtlas",Fl);var Ul={horizontal:1,vertical:2,horizontalOnly:3},Xl=-17;function Vl(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}function Gl(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m){var g,y=Vl.fromFeature(t,r);h===Ul.vertical&&y.verticalizePunctuation();var _=er.processBidirectionalText,v=er.processStyledBidirectionalText;if(_&&1===y.sections.length){g=[];for(var M=0,b=_(y.toString(),tu(y,l,a,e,i,d,f));M<b.length;M+=1){var x=b[M],w=new Vl;w.text=x,w.sections=y.sections;for(var A=0;A<x.length;A++)w.sectionIndex.push(0);g.push(w)}}else if(v){g=[];for(var T=0,L=v(y.text,y.sectionIndex,tu(y,l,a,e,i,d,f));T<L.length;T+=1){var S=L[T],k=new Vl;k.text=S[0],k.sectionIndex=S[1],k.sections=y.sections,g.push(k)}}else g=function(t,e){for(var n=[],i=t.text,r=0,a=0,o=e;a<o.length;a+=1){var s=o[a];n.push(t.substring(r,s)),r=s}return r<i.length&&n.push(t.substring(r,i.length)),n}(y,tu(y,l,a,e,i,d,f));var O=[],z={positionedLines:O,text:y.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(t,e,n,i,r,a,o,s,l,u,h){for(var p=0,d=Xl,f=0,m=0,g="right"===c?1:"left"===c?0:.5,y=0,_=0,v=r;_<v.length;_+=1){var M=v[_];M.trim();var b=M.getMaxScale(),x=(b-1)*ml,w={positionedGlyphs:[],lineOffset:0},A=(t.positionedLines[y]=w).positionedGlyphs,T=0;if(M.length()){for(var L=0;L<M.length();L++){var S=M.getSection(L),k=M.getSectionIndex(L),O=M.getCharCode(L),z=0,C=null,E=null,D=null,N=ml,I=!(s===Ul.horizontal||!u&&!qi(O)||u&&(Kl[O]||(U=O,Bi.Arabic(U)||Bi["Arabic Supplement"](U)||Bi["Arabic Extended-A"](U)||Bi["Arabic Presentation Forms-A"](U)||Bi["Arabic Presentation Forms-B"](U))));if(S.imageName){var P=i[S.imageName];if(!P)continue;D=S.imageName,t.iconsInText=t.iconsInText||!0,E=P.paddedRect;var B=P.displaySize;S.scale=S.scale*ml/h,C={width:B[0],height:B[1],left:Wl,top:-Rl,advance:I?B[1]:B[0]},z=x+(ml-B[1]*S.scale),N=C.advance;var R=I?B[0]*S.scale-ml*b:B[1]*S.scale-ml*b;0<R&&T<R&&(T=R)}else{var q=n[S.fontStack],Y=q&&q[O];if(Y&&Y.rect)E=Y.rect,C=Y.metrics;else{var W=e[S.fontStack],j=W&&W[O];if(!j)continue;C=j.metrics}z=(b-S.scale)*ml}I?(t.verticalizable=!0,A.push({glyph:O,imageName:D,x:p,y:d+z,vertical:I,scale:S.scale,fontStack:S.fontStack,sectionIndex:k,metrics:C,rect:E}),p+=N*S.scale+l):(A.push({glyph:O,imageName:D,x:p,y:d+z,vertical:I,scale:S.scale,fontStack:S.fontStack,sectionIndex:k,metrics:C,rect:E}),p+=C.advance*S.scale+l)}if(0!==A.length){var F=p-l;f=Math.max(F,f),nu(A,0,A.length-1,g,T)}p=0;var H=a*b+T;w.lineOffset=Math.max(T,x),d+=H,m=Math.max(H,m),++y}else d+=a,++y}var U,X=d-Xl,V=eu(o),G=V.horizontalAlign,K=V.verticalAlign;(function(t,e,n,i,r,o,s){var c,l=(e-n)*i;c=r!==a?-o*K-Xl:(-K*s+.5)*a;for(var u=0,h=t;u<h.length;u+=1)for(var p=0,d=h[u].positionedGlyphs;p<d.length;p+=1){var f=d[p];f.x+=l,f.y+=c}})(t.positionedLines,g,G,f,m,X,r.length),t.top+=-K*X,t.bottom=t.top+X,t.left+=-G*f,t.right=t.left+f}(z,e,n,i,g,o,s,h,l,p,m),!function(){for(var t=0,e=O;t<e.length;t+=1)if(0!==e[t].positionedGlyphs.length)return;return 1}()&&z}Hl.forText=function(t,e){var n=new Hl;return n.scale=t||1,n.fontStack=e,n},Hl.forImage=function(t){var e=new Hl;return e.imageName=t,e},Vl.fromFeature=function(t,e){for(var n=new Vl,i=0;i<t.sections.length;i++){var r=t.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,e)}return n},Vl.prototype.length=function(){return this.text.length},Vl.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Vl.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Vl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Vl.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n+1)||null,r=t.charCodeAt(n-1)||null;i&&Yi(i)&&!fl[t[n+1]]||r&&Yi(r)&&!fl[t[n-1]]||!fl[t[n]]?e+=t[n]:e+=fl[t[n]]}return e}(this.text)},Vl.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Kl[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,i=this.text.length-1;0<=i&&t<=i&&Kl[this.text.charCodeAt(i)];i--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},Vl.prototype.substring=function(t,e){var n=new Vl;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},Vl.prototype.toString=function(){return this.text},Vl.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)},Vl.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(Hl.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,i=0;i<t.text.length;++i)this.sectionIndex.push(n)},Vl.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Hl.forImage(e)),this.sectionIndex.push(this.sections.length-1)):b("Reached maximum number of images 6401")}else b("Can't add FormattedSection with an empty image.")},Vl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?63743<=this.imageSectionID?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Kl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Zl={};function Jl(t,e,n,i,r,a){if(e.imageName){var o=i[e.imageName];return o?o.displaySize[0]*e.scale*ml/a+r:0}var s=n[e.fontStack],c=s&&s[t];return c?c.metrics.advance*e.scale+r:0}function Ql(t,e,n,i){var r=Math.pow(t-e,2);return i?t<e?r/2:2*r:r+Math.abs(n)*n}function $l(t,e,n,i,r,a){for(var o=null,s=Ql(e,n,r,a),c=0,l=i;c<l.length;c+=1){var u=l[c],h=Ql(e-u.x,n,r,a)+u.badness;h<=s&&(o=u,s=h)}return{index:t,x:e,priorBreak:o,badness:s}}function tu(t,e,n,i,r,a,o){if("point"!==a)return[];if(!t)return[];for(var s,c=[],l=function(t,e,n,i,r,a){for(var o=0,s=0;s<t.length();s++){var c=t.getSection(s);o+=Jl(t.getCharCode(s),c,i,r,e,a)}return o/Math.max(1,Math.ceil(o/n))}(t,e,n,i,r,o),u=0<=t.text.indexOf(""),h=0,p=0;p<t.length();p++){var d=t.getSection(p),f=t.getCharCode(p);if(Kl[f]||(h+=Jl(f,d,i,r,e,o)),p<t.length()-1){var m=!((s=f)<11904||!(Bi["Bopomofo Extended"](s)||Bi.Bopomofo(s)||Bi["CJK Compatibility Forms"](s)||Bi["CJK Compatibility Ideographs"](s)||Bi["CJK Compatibility"](s)||Bi["CJK Radicals Supplement"](s)||Bi["CJK Strokes"](s)||Bi["CJK Symbols and Punctuation"](s)||Bi["CJK Unified Ideographs Extension A"](s)||Bi["CJK Unified Ideographs"](s)||Bi["Enclosed CJK Letters and Months"](s)||Bi["Halfwidth and Fullwidth Forms"](s)||Bi.Hiragana(s)||Bi["Ideographic Description Characters"](s)||Bi["Kangxi Radicals"](s)||Bi["Katakana Phonetic Extensions"](s)||Bi.Katakana(s)||Bi["Vertical Forms"](s)||Bi["Yi Radicals"](s)||Bi["Yi Syllables"](s)));(Zl[f]||m||d.imageName)&&c.push($l(p+1,h,l,c,(_=void 0,_=0,10===(g=f)&&(_-=1e4),m&&u&&(_+=150),40!==g&&65288!==g||(_+=50),41!==(y=t.getCharCode(p+1))&&65289!==y||(_+=50),_),!1))}}var g,y,_;return function t(e){return e?t(e.priorBreak).concat(e.index):[]}($l(t.length(),h,l,c,0,!0))}function eu(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function nu(t,e,n,i,r){if(i||r)for(var a=t[n],o=a.metrics.advance*a.scale,s=(t[n].x+o)*i,c=e;c<=n;c++)t[c].x-=s,t[c].y+=r}function iu(t,e,n,i,r,a){var o,s=t.image;if(s.content){var c=s.content,l=s.pixelRatio||1;o=[c[0]/l,c[1]/l,s.displaySize[0]-c[2]/l,s.displaySize[1]-c[3]/l]}var u,h,p,d,f=e.left*a,m=e.right*a;h="width"===n||"both"===n?(d=r[0]+f-i[3],r[0]+m+i[1]):(d=r[0]+(f+m-s.displaySize[0])/2)+s.displaySize[0];var g=e.top*a,y=e.bottom*a;return p="height"===n||"both"===n?(u=r[1]+g-i[0],r[1]+y+i[2]):(u=r[1]+(g+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:u,right:h,bottom:p,left:d,collisionPadding:o}}Zl[10]=!0,Zl[32]=!0,Zl[38]=!0,Zl[40]=!0,Zl[41]=!0,Zl[43]=!0,Zl[45]=!0,Zl[47]=!0,Zl[173]=!0,Zl[183]=!0,Zl[8203]=!0,Zl[8208]=!0,Zl[8211]=!0,Zl[8231]=!0;var ru,au=((ru=r)&&(ou.__proto__=ru),((ou.prototype=Object.create(ru&&ru.prototype)).constructor=ou).prototype.clone=function(){return new ou(this.x,this.y,this.angle,this.segment)},ou);function ou(t,e,n,i){ru.call(this,t,e),this.angle=n,void 0!==i&&(this.segment=i)}zi("Anchor",au);var su=128;function cu(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new $i(t+1))};if("source"===n.kind)return{kind:"source"};for(var i=n.zoomStops,r=n.interpolationType,a=0;a<i.length&&i[a]<=t;)a++;for(var o=a=Math.max(0,a-1);o<i.length&&i[o]<t+1;)o++;o=Math.min(i.length-1,o);var s=i[a],c=i[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:c,interpolationType:r}:{kind:"camera",minZoom:s,maxZoom:c,minSize:n.evaluate(new $i(s)),maxSize:n.evaluate(new $i(c)),interpolationType:r}}function lu(t,e,n){var i=e.uSize,r=e.uSizeT,a=n.lowerSize,o=n.upperSize;return"source"===t.kind?a/su:"composite"===t.kind?Ie(a/su,o/su,r):i}function uu(t,e){var n=0,i=0;if("constant"===t.kind)i=t.layoutSize;else if("source"!==t.kind){var r=t.interpolationType,a=t.minZoom,o=t.maxZoom,s=r?c(Qe.interpolationFactor(r,e,a,o),0,1):0;"camera"===t.kind?i=Ie(t.minSize,t.maxSize,s):n=s}return{uSizeT:n,uSize:i}}var hu=Object.freeze({__proto__:null,getSizeData:cu,evaluateSizeForFeature:lu,evaluateSizeForZoom:uu,SIZE_PACK_FACTOR:su});function pu(t,e,n,i,r){if(void 0===e.segment)return 1;for(var a=e,o=e.segment+1,s=0;-n/2<s;){if(--o<0)return;s-=t[o].dist(a),a=t[o]}s+=t[o].dist(t[o+1]),o++;for(var c=[],l=0;s<n/2;){var u=t[o-1],h=t[o],p=t[o+1];if(!p)return;var d=u.angleTo(h)-h.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),c.push({distance:s,angleDelta:d}),l+=d;s-c[0].distance>i;)l-=c.shift().angleDelta;if(r<l)return;o++,s+=h.dist(p)}return 1}function du(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function fu(t,e,n){return t?.6*e*n:0}function mu(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function gu(t,e,n,i,r,a){for(var o=fu(n,r,a),s=mu(n,i)*a,c=0,l=du(t)/2,u=0;u<t.length-1;u++){var h=t[u],p=t[u+1],d=h.dist(p);if(l<c+d){var f=(l-c)/d,m=Ie(h.x,p.x,f),g=Ie(h.y,p.y,f),y=new au(m,g,p.angleTo(h),u);return y._round(),!o||pu(t,y,s,o,e)?y:void 0}c+=d}}var yu=Wl;function _u(t,e,n,i){function a(t,e){return t+e[1]-e[0]}var o=[],s=t.image,c=s.pixelRatio,l=s.paddedRect.w-2*yu,u=s.paddedRect.h-2*yu,h=t.right-t.left,p=t.bottom-t.top,d=s.stretchX||[[0,l]],f=s.stretchY||[[0,u]],m=d.reduce(a,0),g=f.reduce(a,0),y=l-m,_=u-g,v=0,M=m,b=0,x=g,w=0,A=y,T=0,L=_;if(s.content&&i){var S=s.content;v=vu(d,0,S[0]),b=vu(f,0,S[1]),M=vu(d,S[0],S[2]),x=vu(f,S[1],S[3]),w=S[0]-v,T=S[1]-b,A=S[2]-S[0]-M,L=S[3]-S[1]-x}function k(i,a,o,l){var u=bu(i.stretch-v,M,h,t.left),d=xu(i.fixed-w,A,i.stretch,m),f=bu(a.stretch-b,x,p,t.top),y=xu(a.fixed-T,L,a.stretch,g),_=bu(o.stretch-v,M,h,t.left),S=xu(o.fixed-w,A,o.stretch,m),k=bu(l.stretch-b,x,p,t.top),O=xu(l.fixed-T,L,l.stretch,g),z=new r(u,f),C=new r(_,f),E=new r(_,k),D=new r(u,k),N=new r(d/c,y/c),I=new r(S/c,O/c),P=e*Math.PI/180;if(P){var B=Math.sin(P),R=Math.cos(P),q=[R,-B,B,R];z._matMult(q),C._matMult(q),D._matMult(q),E._matMult(q)}var Y=i.stretch+i.fixed,W=o.stretch+o.fixed,j=a.stretch+a.fixed,F=l.stretch+l.fixed;return{tl:z,tr:C,bl:D,br:E,tex:{x:s.paddedRect.x+yu+Y,y:s.paddedRect.y+yu+j,w:W-Y,h:F-j},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:N,pixelOffsetBR:I,minFontScaleX:A/c/h,minFontScaleY:L/c/p,isSDF:n}}if(i&&(s.stretchX||s.stretchY))for(var O=Mu(d,y,m),z=Mu(f,_,g),C=0;C<O.length-1;C++)for(var E=O[C],D=O[C+1],N=0;N<z.length-1;N++){var I=z[N],P=z[N+1];o.push(k(E,I,D,P))}else o.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:1+l},{fixed:0,stretch:1+u}));return o}function vu(t,e,n){for(var i=0,r=0,a=t;r<a.length;r+=1){var o=a[r];i+=Math.max(e,Math.min(n,o[1]))-Math.max(e,Math.min(n,o[0]))}return i}function Mu(t,e,n){for(var i=[{fixed:-yu,stretch:0}],r=0,a=t;r<a.length;r+=1){var o=a[r],s=o[0],c=o[1],l=i[i.length-1];i.push({fixed:s-l.stretch,stretch:l.stretch}),i.push({fixed:s-l.stretch,stretch:l.stretch+(c-s)})}return i.push({fixed:e+yu,stretch:n}),i}function bu(t,e,n,i){return t/e*n+i}function xu(t,e,n,i){return t-e*n/i}function wu(t,e,n,i,a,o,s,c,l,u,h,p){var d=s.top*c-l,f=s.bottom*c+l,m=s.left*c-l,g=s.right*c+l,y=s.collisionPadding;if(y&&(m-=y[0]*c,d-=y[1]*c,g+=y[2]*c,f+=y[3]*c),this.boxStartIndex=t.length,u){var _=f-d,v=g-m;0<_&&(_=Math.max(10*c,_),this._addLineCollisionCircles(t,e,n,n.segment,v,_,i,a,o,h))}else{if(p){var M=new r(m,d),b=new r(g,d),x=new r(m,f),w=new r(g,f),A=p*Math.PI/180;M._rotate(A),b._rotate(A),x._rotate(A),w._rotate(A),m=Math.min(M.x,b.x,x.x,w.x),g=Math.max(M.x,b.x,x.x,w.x),d=Math.min(M.y,b.y,x.y,w.y),f=Math.max(M.y,b.y,x.y,w.y)}t.emplaceBack(n.x,n.y,m,d,g,f,i,a,o,0,0)}this.boxEndIndex=t.length}wu.prototype._addLineCollisionCircles=function(t,e,n,i,r,a,o,s,c,l){var u=a/2,h=Math.floor(r/u)||1,p=1+.4*Math.log(l)/Math.LN2,d=Math.floor(h*p/2),f=-a/2,m=n,g=i+1,y=f,_=-r/2,v=_-r/4;do{if(--g<0){if(_<y)return;g=0;break}y-=e[g].dist(m),m=e[g]}while(v<y);for(var M=e[g].dist(e[g+1]),b=-d;b<h+d;b++){var x=b*u,w=_+x;if(x<0&&(w+=x),r<x&&(w+=x-r),!(w<y)){for(;y+M<w;){if(y+=M,1+ ++g>=e.length)return;M=e[g].dist(e[g+1])}var A=w-y,T=e[g],L=e[g+1].sub(T)._unit()._mult(A)._add(T)._round(),S=Math.abs(w-f)<u?0:.8*(w-f);t.emplaceBack(L.x,L.y,-a/2,-a/2,a/2,a/2,o,s,c,a/2,S)}}};var Au=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=Tu),this.data=t,this.length=this.data.length,this.compare=e,0<this.length)for(var n=(this.length>>1)-1;0<=n;n--)this._down(n)};function Tu(t,e){return t<e?-1:e<t?1:0}function Lu(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=1/0,a=1/0,o=-1/0,s=-1/0,c=t[0],l=0;l<c.length;l++){var u=c[l];(!l||u.x<i)&&(i=u.x),(!l||u.y<a)&&(a=u.y),(!l||u.x>o)&&(o=u.x),(!l||u.y>s)&&(s=u.y)}var h=o-i,p=s-a,d=Math.min(h,p),f=d/2,m=new Au([],Su);if(0===d)return new r(i,a);for(var g=i;g<o;g+=d)for(var y=a;y<s;y+=d)m.push(new ku(g+f,y+f,f,t));for(var _=function(t){for(var e=0,n=0,i=0,r=t[0],a=0,o=r.length,s=o-1;a<o;s=a++){var c=r[a],l=r[s],u=c.x*l.y-l.x*c.y;n+=(c.x+l.x)*u,i+=(c.y+l.y)*u,e+=3*u}return new ku(n/e,i/e,0,t)}(t),v=m.length;m.length;){var M=m.pop();(M.d>_.d||!_.d)&&(_=M,n&&console.log("found best %d after %d probes",Math.round(1e4*M.d)/1e4,v)),M.max-_.d<=e||(f=M.h/2,m.push(new ku(M.p.x-f,M.p.y-f,f,t)),m.push(new ku(M.p.x+f,M.p.y-f,f,t)),m.push(new ku(M.p.x-f,M.p.y+f,f,t)),m.push(new ku(M.p.x+f,M.p.y+f,f,t)),v+=4)}return n&&(console.log("num probes: "+v),console.log("best distance: "+_.d)),_.p}function Su(t,e){return e.max-t.max}function ku(t,e,n,i){this.p=new r(t,e),this.h=n,this.d=function(t,e){for(var n=!1,i=1/0,r=0;r<e.length;r++)for(var a=e[r],o=0,s=a.length,c=s-1;o<s;c=o++){var l=a[o],u=a[c];l.y>t.y!=u.y>t.y&&t.x<(u.x-l.x)*(t.y-l.y)/(u.y-l.y)+l.x&&(n=!n),i=Math.min(i,os(t,l,u))}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}Au.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Au.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,0<this.length&&(this.data[0]=e,this._down(0)),t}},Au.prototype.peek=function(){return this.data[0]},Au.prototype._up=function(t){for(var e=this.data,n=this.compare,i=e[t];0<t;){var r=t-1>>1,a=e[r];if(0<=n(i,a))break;e[t]=a,t=r}e[t]=i},Au.prototype._down=function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var a=1+(t<<1),o=e[a],s=a+1;if(s<this.length&&n(e[s],o)<0&&(o=e[a=s]),0<=n(o,r))break;e[t]=o,t=a}e[t]=r};var Ou=Number.POSITIVE_INFINITY;function zu(t,e){return e[1]!==Ou?function(t,e,n){var i=0,r=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":r=n-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-n}switch(t){case"top-right":case"bottom-right":case"right":i=-e;break;case"top-left":case"bottom-left":case"left":i=e}return[i,r]}(t,e[0],e[1]):function(t,e){var n=0,i=0;e<0&&(e=0);var r=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":i=r-7;break;case"bottom-right":case"bottom-left":i=7-r;break;case"bottom":i=7-e;break;case"top":i=e-7}switch(t){case"top-right":case"bottom-right":n=-r;break;case"top-left":case"bottom-left":n=r;break;case"left":n=e;break;case"right":n=-e}return[n,i]}(t,e[0])}function Cu(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Eu=255,Du=Eu*su;function Nu(t,e,n,i,a,o,s,c,l,u,h,p,d,f){var m=function(t,e,n,i,a,o,s){for(var c=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,l=[],u=0,h=t.positionedLines;u<h.length;u+=1)for(var p=h[u],d=0,f=p.positionedGlyphs;d<f.length;d+=1){var m=f[d];if(m.rect){var g=m.rect||{},y=Rl+1,_=!0,v=1,M=0,b=(i||s)&&m.vertical,x=m.metrics.advance*m.scale/2;if(s&&t.verticalizable){var w=(m.scale-1)*ml,A=(ml-m.metrics.width*m.scale)/2;M=p.lineOffset/2-(m.imageName?-A:w)}if(m.imageName){var T=o[m.imageName];_=T.sdf,v=T.pixelRatio,y=Wl/v}var L=i?[m.x+x,m.y]:[0,0],S=i?[0,0]:[m.x+x+e[0],m.y+e[1]-M],k=[0,0];b&&(k=S,S=[0,0]);var O=(m.metrics.left-y)*m.scale-x+S[0],z=(-m.metrics.top-y)*m.scale+S[1],C=O+g.w*m.scale/v,E=z+g.h*m.scale/v,D=new r(O,z),N=new r(C,z),I=new r(O,E),P=new r(C,E);if(b){var B=new r(-x,x-Xl),R=-Math.PI/2,q=ml/2-x,Y=m.imageName?q:0,W=new r(5-Xl-q,-Y),j=new(Function.prototype.bind.apply(r,[null].concat(k)));D._rotateAround(R,B)._add(W)._add(j),N._rotateAround(R,B)._add(W)._add(j),I._rotateAround(R,B)._add(W)._add(j),P._rotateAround(R,B)._add(W)._add(j)}if(c){var F=Math.sin(c),H=Math.cos(c),U=[H,-F,F,H];D._matMult(U),N._matMult(U),I._matMult(U),P._matMult(U)}var X=new r(0,0),V=new r(0,0);l.push({tl:D,tr:N,bl:I,br:P,tex:g,writingMode:t.writingMode,glyphOffset:L,sectionIndex:m.sectionIndex,isSDF:_,pixelOffsetTL:X,pixelOffsetBR:V,minFontScaleX:0,minFontScaleY:0})}}return l}(n,c,a,o,s,i,t.allowVerticalPlacement),g=t.textSizeData,y=null;"source"===g.kind?(y=[su*a.layout.get("text-size").evaluate(s,{})])[0]>Du&&b(t.layerIds[0]+': Value for "text-size" is >= '+Eu+'. Reduce your "text-size".'):"composite"===g.kind&&((y=[su*f.compositeTextSizes[0].evaluate(s,{}),su*f.compositeTextSizes[1].evaluate(s,{})])[0]>Du||y[1]>Du)&&b(t.layerIds[0]+': Value for "text-size" is >= '+Eu+'. Reduce your "text-size".'),t.addSymbols(t.text,m,y,c,o,s,u,e,l.lineStartIndex,l.lineLength,d);for(var _=0,v=h;_<v.length;_+=1)p[v[_]]=t.text.placedSymbolArray.length-1;return 4*m.length}function Iu(t){for(var e in t)return t[e];return null}function Pu(t,e,n,i){var r=t.compareText;if(e in r){for(var a=r[e],o=a.length-1;0<=o;o--)if(i.dist(a[o])<n)return 1}else r[e]=[];return r[e].push(i),0}var Bu=Ic.VectorTileFeature.types,Ru=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function qu(t,e,n,i,r,a,o,s,c,l,u,h,p){var d=s?Math.min(Du,Math.round(s[0])):0,f=s?Math.min(Du,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*i),Math.round(32*r),a,o,(d<<1)+(c?1:0),f,16*l,16*u,256*h,256*p)}function Yu(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function Wu(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(ji(n[e].text))return 1}function ju(t){this.layoutVertexArray=new jr,this.indexArray=new ba,this.programConfigurations=t,this.segments=new ao,this.dynamicLayoutVertexArray=new Ur,this.opacityVertexArray=new Gr,this.placedSymbolArray=new Wa}function Fu(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new ao,this.collisionVertexArray=new ia}function Hu(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[];var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cu(this.zoom,e["text-size"]),this.iconSizeData=cu(this.zoom,e["icon-size"]);var n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1);var a="viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey;this.sortFeaturesByY=a&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return Ul[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID}function Uu(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Vt,this.defaultValue=t}ju.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},ju.prototype.upload=function(t,e,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ol.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,sl.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Ru,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(t))},ju.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},zi("SymbolBuffers",ju),Fu.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,cl.members,!0)},Fu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},zi("CollisionBuffers",Fu),Hu.prototype.createArrays=function(){this.text=new ju(new Go(ol.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new ju(new Go(ol.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new Ka,this.lineVertexArray=new $a,this.symbolInstances=new Ua},Hu.prototype.calculateGlyphDependencies=function(t,e,n,i,r){for(var a=0;a<t.length;a++)if(e[t.charCodeAt(a)]=!0,(n||i)&&r){var o=fl[t.charAt(a)];o&&(e[o.charCodeAt(0)]=!0)}},Hu.prototype.populate=function(t,e){var n=this.layers[0],i=n.layout,r=i.get("text-font"),a=i.get("text-field"),o=i.get("icon-image"),s=("constant"!==a.value.kind||a.value.value instanceof he&&!a.value.value.isEmpty()||0<a.value.value.toString().length)&&("constant"!==r.value.kind||0<r.value.value.length),c=("constant"!==o.value.kind||!!o.value.value)&&0<Object.keys(o.parameters).length,l=i.get("symbol-sort-key");if(this.features=[],s||c){for(var u=e.iconDependencies,h=e.glyphDependencies,p=e.availableImages,d=new $i(this.zoom),f=0,m=t;f<m.length;f+=1){var g=m[f],y=g.feature,_=g.id,v=g.index,M=g.sourceLayerIndex;if(n._featureFilter(d,y)){var b=void 0;if(s){var x=n.getValueAndResolveTokens("text-field",y,p),w=he.factory(x);Wu(w)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ji()||this.hasRTLText&&er.isParsed())&&(b=hl(w,n,y))}var A=void 0;if(c){var T=n.getValueAndResolveTokens("icon-image",y,p);A=T instanceof pe?T:pe.fromString(T)}if(b||A){var L=this.sortFeaturesByKey?l.evaluate(y,{}):void 0,S={id:_,text:b,icon:A,index:v,sourceLayerIndex:M,geometry:Qo(y),properties:y.properties,type:Bu[y.type],sortKey:L};if(this.features.push(S),A&&(u[A.name]=!0),b){var k=r.evaluate(y,{}).join(","),O="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&0<=this.writingModes.indexOf(Ul.vertical);for(var z=0,C=b.sections;z<C.length;z+=1){var E=C[z];if(E.image)u[E.image.name]=!0;else{var D=Ri(b.toString()),N=E.fontStack||k,I=h[N]=h[N]||{};this.calculateGlyphDependencies(E.text,I,O,this.allowVerticalPlacement,D)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},i=[],r=0;function a(e){i.push(t[e]),r++}function o(t,e,r){var a=n[t];return delete n[t],n[e]=a,i[a].geometry[0].pop(),i[a].geometry[0]=i[a].geometry[0].concat(r[0]),a}function s(t,n,r){var a=e[n];return delete e[n],e[t]=a,i[a].geometry[0].shift(),i[a].geometry[0]=r[0].concat(i[a].geometry[0]),a}function c(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+":"+i.x+":"+i.y}for(var l=0;l<t.length;l++){var u=t[l],h=u.geometry,p=u.text?u.text.toString():null;if(p){var d=c(p,h),f=c(p,h,!0);if(d in n&&f in e&&n[d]!==e[f]){var m=s(d,f,h),g=o(d,f,i[m].geometry);delete e[d],delete n[f],n[c(p,i[g].geometry,!0)]=g,i[m].geometry=null}else d in n?o(d,f,h):f in e?s(d,f,h):(a(l),e[d]=r-1,n[f]=r-1)}else a(l)}return i.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},Hu.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},Hu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},Hu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Hu.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t),this.textCollisionCircle.upload(t),this.iconCollisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Hu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},Hu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Hu.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var i=t.dist(e[t.segment+1]),r=t.dist(e[t.segment]),a={},o=t.segment+1;o<e.length;o++)a[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:i},o<e.length-1&&(i+=e[o+1].dist(e[o]));for(var s=t.segment||0;0<=s;s--)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:r},0<s&&(r+=e[s-1].dist(e[s]));for(var c=0;c<e.length;c++){var l=a[c];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Hu.prototype.addSymbols=function(t,e,n,i,r,a,o,s,c,l,u){for(var h=t.indexArray,p=t.layoutVertexArray,d=t.segments.prepareSegment(4*e.length,p,h,a.sortKey),f=this.glyphOffsetArray.length,m=d.vertexLength,g=this.allowVerticalPlacement&&o===Ul.vertical?Math.PI/2:0,y=a.text&&a.text.sections,_=0;_<e.length;_++){var v=e[_],M=v.tl,b=v.tr,x=v.bl,w=v.br,A=v.tex,T=v.pixelOffsetTL,L=v.pixelOffsetBR,S=v.minFontScaleX,k=v.minFontScaleY,O=v.glyphOffset,z=v.isSDF,C=v.sectionIndex,E=d.vertexLength,D=O[1];qu(p,s.x,s.y,M.x,D+M.y,A.x,A.y,n,z,T.x,T.y,S,k),qu(p,s.x,s.y,b.x,D+b.y,A.x+A.w,A.y,n,z,L.x,T.y,S,k),qu(p,s.x,s.y,x.x,D+x.y,A.x,A.y+A.h,n,z,T.x,L.y,S,k),qu(p,s.x,s.y,w.x,D+w.y,A.x+A.w,A.y+A.h,n,z,L.x,L.y,S,k),Yu(t.dynamicLayoutVertexArray,s,g),h.emplaceBack(E,E+1,E+2),h.emplaceBack(E+1,E+2,E+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(O[0]),_!==e.length-1&&C===e[_+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,a,a.index,{},y&&y[C])}t.placedSymbolArray.emplaceBack(s.x,s.y,f,this.glyphOffsetArray.length-f,m,c,l,s.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],o,0,!1,0,u)},Hu.prototype._addCollisionDebugVertex=function(t,e,n,i,r,a){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,i,r,Math.round(a.x),Math.round(a.y))},Hu.prototype.addCollisionDebugVertices=function(t,e,n,i,a,o,s,c){var l=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),u=l.vertexLength,h=a.layoutVertexArray,p=a.collisionVertexArray,d=s.anchorX,f=s.anchorY;if(this._addCollisionDebugVertex(h,p,o,d,f,new r(t,e)),this._addCollisionDebugVertex(h,p,o,d,f,new r(n,e)),this._addCollisionDebugVertex(h,p,o,d,f,new r(n,i)),this._addCollisionDebugVertex(h,p,o,d,f,new r(t,i)),l.vertexLength+=4,c){var m=a.indexArray;m.emplaceBack(u,u+1,u+2),m.emplaceBack(u,u+2,u+3),l.primitiveLength+=2}else{var g=a.indexArray;g.emplaceBack(u,u+1),g.emplaceBack(u+1,u+2),g.emplaceBack(u+2,u+3),g.emplaceBack(u+3,u),l.primitiveLength+=4}},Hu.prototype.addDebugCollisionBoxes=function(t,e,n,i){for(var r=t;r<e;r++){var a=this.collisionBoxArray.get(r),o=a.x1,s=a.y1,c=a.x2,l=a.y2,u=0<a.radius;this.addCollisionDebugVertices(o,s,c,l,u?i?this.textCollisionCircle:this.iconCollisionCircle:i?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,n,u)}},Hu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Fu(ta,ll.members,Aa),this.iconCollisionBox=new Fu(ta,ll.members,Aa),this.textCollisionCircle=new Fu(ta,ul.members,ba),this.iconCollisionCircle=new Fu(ta,ul.members,ba);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},Hu.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,i,r,a,o,s,c){for(var l={},u=e;u<n;u++){var h=t.get(u);if(0===h.radius){l.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.textFeatureIndex=h.featureIndex;break}l.textCircles||(l.textCircles=[],l.textFeatureIndex=h.featureIndex),l.textCircles.push(h.anchorPointX,h.anchorPointY,h.radius,h.signedDistanceFromAnchor,1)}for(var p=i;p<r;p++){var d=t.get(p);if(0===d.radius){l.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},l.verticalTextFeatureIndex=d.featureIndex;break}}for(var f=a;f<o;f++){var m=t.get(f);if(0===m.radius){l.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},l.iconFeatureIndex=m.featureIndex;break}}for(var g=s;g<c;g++){var y=t.get(g);if(0===y.radius){l.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},l.verticalIconFeatureIndex=y.featureIndex;break}}return l},Hu.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},Hu.prototype.hasTextData=function(){return 0<this.text.segments.get().length},Hu.prototype.hasIconData=function(){return 0<this.icon.segments.get().length},Hu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox&&this.textCollisionCircle&&this.iconCollisionCircle},Hu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&0<this.textCollisionBox.segments.get().length},Hu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&0<this.iconCollisionBox.segments.get().length},Hu.prototype.hasTextCollisionCircleData=function(){return this.hasDebugData()&&0<this.textCollisionCircle.segments.get().length},Hu.prototype.hasIconCollisionCircleData=function(){return this.hasDebugData()&&0<this.iconCollisionCircle.segments.get().length},Hu.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),i=n.vertexStartIndex+4*n.numGlyphs,r=n.vertexStartIndex;r<i;r+=4)t.indexArray.emplaceBack(r,r+1,r+2),t.indexArray.emplaceBack(r+1,r+2,r+3)},Hu.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),i=[],r=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);i.push(0|Math.round(e*s.anchorX+n*s.anchorY)),r.push(s.featureIndex)}return a.sort((function(t,e){return i[t]-i[e]||r[e]-r[t]})),a},Hu.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},Hu.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(1<this.text.segments.get().length||1<this.icon.segments.get().length)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,i=this.symbolInstanceIndexes;n<i.length;n+=1){var r=i[n],a=this.symbolInstances.get(r);this.featureSortOrder.push(a.featureIndex),[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(t,n,i){0<=t&&i.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),0<=a.verticalPlacedTextSymbolIndex&&this.addIndicesForPlacedSymbol(this.text,a.verticalPlacedTextSymbolIndex),0<=a.placedIconSymbolIndex&&this.addIndicesForPlacedSymbol(this.icon,a.placedIconSymbolIndex),0<=a.verticalPlacedIconSymbolIndex&&this.addIndicesForPlacedSymbol(this.icon,a.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},zi("SymbolBucket",Hu,{omit:["layers","collisionBoxArray","features","compareText"]}),Hu.MAX_GLYPHS=65535,Hu.addDynamicAttributes=Yu;var Xu=new yr({"symbol-placement":new ur(Bt.layout_symbol["symbol-placement"]),"symbol-spacing":new ur(Bt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ur(Bt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new hr(Bt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ur(Bt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ur(Bt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ur(Bt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ur(Bt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ur(Bt.layout_symbol["icon-rotation-alignment"]),"icon-size":new hr(Bt.layout_symbol["icon-size"]),"icon-text-fit":new ur(Bt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ur(Bt.layout_symbol["icon-text-fit-padding"]),"icon-image":new hr(Bt.layout_symbol["icon-image"]),"icon-rotate":new hr(Bt.layout_symbol["icon-rotate"]),"icon-padding":new ur(Bt.layout_symbol["icon-padding"]),"icon-keep-upright":new ur(Bt.layout_symbol["icon-keep-upright"]),"icon-offset":new hr(Bt.layout_symbol["icon-offset"]),"icon-anchor":new hr(Bt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ur(Bt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ur(Bt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ur(Bt.layout_symbol["text-rotation-alignment"]),"text-field":new hr(Bt.layout_symbol["text-field"]),"text-font":new hr(Bt.layout_symbol["text-font"]),"text-size":new hr(Bt.layout_symbol["text-size"]),"text-max-width":new hr(Bt.layout_symbol["text-max-width"]),"text-line-height":new ur(Bt.layout_symbol["text-line-height"]),"text-letter-spacing":new hr(Bt.layout_symbol["text-letter-spacing"]),"text-justify":new hr(Bt.layout_symbol["text-justify"]),"text-radial-offset":new hr(Bt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ur(Bt.layout_symbol["text-variable-anchor"]),"text-anchor":new hr(Bt.layout_symbol["text-anchor"]),"text-max-angle":new ur(Bt.layout_symbol["text-max-angle"]),"text-writing-mode":new ur(Bt.layout_symbol["text-writing-mode"]),"text-rotate":new hr(Bt.layout_symbol["text-rotate"]),"text-padding":new ur(Bt.layout_symbol["text-padding"]),"text-keep-upright":new ur(Bt.layout_symbol["text-keep-upright"]),"text-transform":new hr(Bt.layout_symbol["text-transform"]),"text-offset":new hr(Bt.layout_symbol["text-offset"]),"text-allow-overlap":new ur(Bt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ur(Bt.layout_symbol["text-ignore-placement"]),"text-optional":new ur(Bt.layout_symbol["text-optional"])}),Vu={paint:new yr({"icon-opacity":new hr(Bt.paint_symbol["icon-opacity"]),"icon-color":new hr(Bt.paint_symbol["icon-color"]),"icon-halo-color":new hr(Bt.paint_symbol["icon-halo-color"]),"icon-halo-width":new hr(Bt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new hr(Bt.paint_symbol["icon-halo-blur"]),"icon-translate":new ur(Bt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ur(Bt.paint_symbol["icon-translate-anchor"]),"text-opacity":new hr(Bt.paint_symbol["text-opacity"]),"text-color":new hr(Bt.paint_symbol["text-color"],{runtimeType:Jt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new hr(Bt.paint_symbol["text-halo-color"]),"text-halo-width":new hr(Bt.paint_symbol["text-halo-width"]),"text-halo-blur":new hr(Bt.paint_symbol["text-halo-blur"]),"text-translate":new ur(Bt.paint_symbol["text-translate"]),"text-translate-anchor":new ur(Bt.paint_symbol["text-translate-anchor"])}),layout:Xu};Uu.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Uu.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Uu.prototype.possibleOutputs=function(){return[void 0]},Uu.prototype.serialize=function(){return null},zi("FormatSectionOverride",Uu,{omit:["defaultValue"]});var Gu,Ku,Zu,Ju=(rh.__proto__=Zu=br,((rh.prototype=Object.create(Zu&&Zu.prototype)).constructor=rh).prototype.recalculate=function(t,e){if(Zu.prototype.recalculate.call(this,t,e),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var n=this.layout.get("text-writing-mode");if(n){for(var i=[],r=0,a=n;r<a.length;r+=1){var o=a[r];i.indexOf(o)<0&&i.push(o)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},rh.prototype.getValueAndResolveTokens=function(t,e,n){var i,r=this.layout.get(t).evaluate(e,{},n),a=this._unevaluatedLayout._values[t];return a.isDataDriven()||Bn(a.value)||!r?r:(i=e.properties,r.replace(/{([^{}]+)}/g,(function(t,e){return e in i?String(i[e]):""})))},rh.prototype.createBucket=function(t){return new Hu(t)},rh.prototype.queryRadius=function(){return 0},rh.prototype.queryIntersectsFeature=function(){return!1},rh.prototype._setPaintOverrides=function(){for(var t=0,e=Vu.paint.overridableProperties;t<e.length;t+=1){var n=e[t];if(rh.hasPaintOverride(this.layout,n)){var i,r=this.paint.get(n),a=new Uu(r),o=new Pn(a,r.property.specification);i="constant"===r.value.kind||"source"===r.value.kind?new qn("source",o):new Yn("composite",o,r.value.zoomStops,r.value._interpolationType),this.paint._values[n]=new cr(r.property,i,r.parameters)}}},rh.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!(!this.layout||e.isDataDriven()||n.isDataDriven())&&rh.hasPaintOverride(this.layout,t)},rh.hasPaintOverride=function(t,e){function n(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if(r.overrides&&r.overrides.hasOverride(i))return a=!0,0}}var i=t.get("text-field"),r=Vu.paint.properties[e],a=!1;if("constant"===i.value.kind&&i.value.value instanceof he)n(i.value.value.sections);else if("source"===i.value.kind){var o=function(t){a||(t instanceof ge&&fe(t.value)===ee?n(t.value.sections):t instanceof Me?n(t.sections):t.eachChild(o))},s=i.value;s._styleExpression&&o(s._styleExpression.expression)}return a},rh),Qu={paint:new yr({"background-color":new ur(Bt.paint_background["background-color"]),"background-pattern":new pr(Bt.paint_background["background-pattern"]),"background-opacity":new ur(Bt.paint_background["background-opacity"])})},$u=(ih.__proto__=Ku=br,(ih.prototype=Object.create(Ku&&Ku.prototype)).constructor=ih),th={paint:new yr({"raster-opacity":new ur(Bt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ur(Bt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ur(Bt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ur(Bt.paint_raster["raster-brightness-max"]),"raster-saturation":new ur(Bt.paint_raster["raster-saturation"]),"raster-contrast":new ur(Bt.paint_raster["raster-contrast"]),"raster-resampling":new ur(Bt.paint_raster["raster-resampling"]),"raster-fade-duration":new ur(Bt.paint_raster["raster-fade-duration"])})},eh=(nh.__proto__=Gu=br,(nh.prototype=Object.create(Gu&&Gu.prototype)).constructor=nh);function nh(t){Gu.call(this,t,th)}function ih(t){Ku.call(this,t,Qu)}function rh(t){Zu.call(this,t,Vu)}var ah,oh=(ch.__proto__=ah=br,((ch.prototype=Object.create(ah&&ah.prototype)).constructor=ch).prototype.is3D=function(){return"3d"===this.implementation.renderingMode},ch.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},ch.prototype.recalculate=function(){},ch.prototype.updateTransitions=function(){},ch.prototype.hasTransition=function(){},ch.prototype.serialize=function(){},ch.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},ch.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},ch),sh={circle:bs,heatmap:Ps,hillshade:Rs,fill:Ac,"fill-extrusion":jc,line:il,symbol:Ju,background:$u,raster:eh};function ch(t){ah.call(this,t,{}),this.implementation=t}function lh(t,e,n,i){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,i)}var uh=self.HTMLImageElement,hh=self.HTMLCanvasElement,ph=self.HTMLVideoElement,dh=self.ImageData,fh=self.ImageBitmap;function mh(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})}function gh(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new mh(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=A()?t:self}function yh(t,e,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[t*i-2*Math.PI*6378137/2,e*i-2*Math.PI*6378137/2]}function _h(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}lh.prototype.update=function(t,e,n){var i=t.width,r=t.height,a=!(this.size&&this.size[0]===i&&this.size[1]===r||n),o=this.context,s=o.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),a)this.size=[i,r],t instanceof uh||t instanceof hh||t instanceof ph||t instanceof dh||fh&&t instanceof fh?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,i,r,0,this.format,s.UNSIGNED_BYTE,t.data);else{var c=n||{x:0,y:0},l=c.x,u=c.y;t instanceof uh||t instanceof hh||t instanceof ph||t instanceof dh||fh&&t instanceof fh?s.texSubImage2D(s.TEXTURE_2D,0,l,u,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,l,u,i,r,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},lh.prototype.bind=function(t,e,n){var i=this.context.gl;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e)},lh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},lh.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null},mh.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},mh.prototype.remove=function(){delete this._channel,this._callback=function(){}},gh.prototype.send=function(t,e,n,i,r){var a=this;void 0===r&&(r=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var s=S(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:t,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:Ni(e,s)},s),{cancel:function(){n&&delete a.callbacks[o],a.target.postMessage({id:o,type:"<cancel>",targetMapId:i,sourceMapId:a.mapId})}}},gh.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var i=this.cancelCallbacks[n];delete this.cancelCallbacks[n],i&&i()}else A()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},gh.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},gh.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(Ii(e.error)):i(null,Ii(e.data)))}else{var r=!1,a=S(this.globalScope)?void 0:[],o=e.hasCallback?function(e,i){r=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Ni(e):null,data:Ni(i,a)},a)}:function(t){r=!0},s=null,c=Ii(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,c,o);else if(this.parent.getWorkerSource){var l=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,l[0],c.source)[l[1]](c,o)}else o(new Error("Could not find function "+e.type));!r&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},gh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)},_h.prototype.setNorthEast=function(t){return this._ne=t instanceof vh?new vh(t.lng,t.lat):vh.convert(t),this},_h.prototype.setSouthWest=function(t){return this._sw=t instanceof vh?new vh(t.lng,t.lat):vh.convert(t),this},_h.prototype.extend=function(t){var e,n,i=this._sw,r=this._ne;if(t instanceof vh)n=e=t;else{if(!(t instanceof _h))return Array.isArray(t)?t.every(Array.isArray)?this.extend(_h.convert(t)):this.extend(vh.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return i||r?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),r.lng=Math.max(n.lng,r.lng),r.lat=Math.max(n.lat,r.lat)):(this._sw=new vh(e.lng,e.lat),this._ne=new vh(n.lng,n.lat)),this},_h.prototype.getCenter=function(){return new vh((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},_h.prototype.getSouthWest=function(){return this._sw},_h.prototype.getNorthEast=function(){return this._ne},_h.prototype.getNorthWest=function(){return new vh(this.getWest(),this.getNorth())},_h.prototype.getSouthEast=function(){return new vh(this.getEast(),this.getSouth())},_h.prototype.getWest=function(){return this._sw.lng},_h.prototype.getSouth=function(){return this._sw.lat},_h.prototype.getEast=function(){return this._ne.lng},_h.prototype.getNorth=function(){return this._ne.lat},_h.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},_h.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},_h.prototype.isEmpty=function(){return!(this._sw&&this._ne)},_h.prototype.contains=function(t){var e=vh.convert(t),n=e.lng,i=e.lat,r=this._sw.lat<=i&&i<=this._ne.lat,a=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(a=this._sw.lng>=n&&n>=this._ne.lng),r&&a},_h.convert=function(t){return!t||t instanceof _h?t:new _h(t)};var vh=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,90<this.lat||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};vh.prototype.wrap=function(){return new vh(l(this.lng,-180,180),this.lat)},vh.prototype.toArray=function(){return[this.lng,this.lat]},vh.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},vh.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,i=t.lat*e,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(r,1))},vh.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new _h(new vh(this.lng-n,this.lat-e),new vh(this.lng+n,this.lat+e))},vh.convert=function(t){if(t instanceof vh)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new vh(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new vh(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Mh=2*Math.PI*6371008.8;function bh(t){return Mh*Math.cos(t*Math.PI/180)}function xh(t){return(180+t)/360}function wh(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Ah(t,e){return t/bh(e)}function Th(t){var e=180-360*t;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}function Lh(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n}function Sh(t,e,n){this.z=t,this.x=e,this.y=n,this.key=zh(0,t,t,e,n)}function kh(t,e){this.wrap=t,this.canonical=e,this.key=zh(t,e.z,e.z,e.x,e.y)}function Oh(t,e,n,i,r){this.overscaledZ=t,this.wrap=e,this.canonical=new Sh(n,+i,+r),this.key=zh(e,t,n,i,r)}function zh(t,e,n,i,r){(t*=2)<0&&(t=-1*t-1);var a=1<<n;return(a*a*t+a*r+i).toString(36)+n.toString(36)+e.toString(36)}function Ch(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return b('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var i=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var r=0;r<i;r++)this.data[this._idx(-1,r)]=this.data[this._idx(0,r)],this.data[this._idx(i,r)]=this.data[this._idx(i-1,r)],this.data[this._idx(r,-1)]=this.data[this._idx(r,0)],this.data[this._idx(r,i)]=this.data[this._idx(r,i-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(i,-1)]=this.data[this._idx(i-1,0)],this.data[this._idx(-1,i)]=this.data[this._idx(0,i-1)],this.data[this._idx(i,i)]=this.data[this._idx(i-1,i-1)]}function Eh(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}}function Dh(t,e,n,i,r){this.type="Feature",(this._vectorTileFeature=t)._z=e,t._x=n,t._y=i,this.properties=t.properties,this.id=r}Lh.fromLngLat=function(t,e){void 0===e&&(e=0);var n=vh.convert(t);return new Lh(xh(n.lng),wh(n.lat),Ah(e,n.lat))},Lh.prototype.toLngLat=function(){return new vh(360*this.x-180,Th(this.y))},Lh.prototype.toAltitude=function(){return this.z*bh(Th(this.y))},Lh.prototype.meterInMercatorCoordinateUnits=function(){return 1/Mh*(t=Th(this.y),1/Math.cos(t*Math.PI/180));var t},Sh.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Sh.prototype.url=function(t,e){var n,i,r,a,o,s=(n=this.x,i=this.y,r=this.z,a=yh(256*n,256*(i=Math.pow(2,r)-i-1),r),o=yh(256*(n+1),256*(i+1),r),a[0]+","+a[1]+","+o[0]+","+o[1]),c=function(t,e,n){for(var i,r="",a=t;0<a;a--)r+=(e&(i=1<<a-1)?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",c).replace("{bbox-epsg-3857}",s)},Sh.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new r((t.x*e-this.x)*Zo,(t.y*e-this.y)*Zo)},Sh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},Oh.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Oh.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Oh(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Oh(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Oh.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?zh(this.wrap*e,t,this.canonical.z,this.canonical.x,this.canonical.y):zh(this.wrap*e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Oh.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Oh.prototype.children=function(t){if(this.overscaledZ>=t)return[new Oh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Oh(e,this.wrap,e,n,i),new Oh(e,this.wrap,e,1+n,i),new Oh(e,this.wrap,e,n,1+i),new Oh(e,this.wrap,e,1+n,1+i)]},Oh.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Oh.prototype.wrapped=function(){return new Oh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Oh.prototype.unwrapTo=function(t){return new Oh(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Oh.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Oh.prototype.toUnwrapped=function(){return new kh(this.wrap,this.canonical)},Oh.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Oh.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Lh(t.x-this.wrap,t.y))},zi("CanonicalTileID",Sh),zi("OverscaledTileID",Oh,{omit:["posMatrix"]}),Ch.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),i=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[i],n[1+i],n[2+i])},Ch.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Ch.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Ch.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Ch.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Ch.prototype.getPixels=function(){return new Cs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ch.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var i=e*this.dim,r=e*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(e){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-e*this.dim,c=-n*this.dim,l=a;l<o;l++)for(var u=i;u<r;u++)this.data[this._idx(u,l)]=t.data[this._idx(u+s,l+c)]},zi("DEMData",Ch),Eh.prototype.encode=function(t){return this._stringToNumber[t]},Eh.prototype.decode=function(t){return this._numberToString[t]};var Nh={geometry:{configurable:!0}};function Ih(){this.state={},this.stateChanges={},this.deletedStates={}}function Ph(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Ai(Zo,16,0),this.grid3D=new Ai(Zo,16,0),this.featureIndexArray=new io,this.promoteId=e}function Bh(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,a=0,o=t;a<o.length;a+=1){var s=o[a];e=Math.min(e,s.x),n=Math.min(n,s.y),i=Math.max(i,s.x),r=Math.max(r,s.y)}return{minX:e,minY:n,maxX:i,maxY:r}}function Rh(t,e){return e-t}function qh(t,e){this.tileID=t,this.uid=p(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}function Yh(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},Wh.mark(this._marks.start)}Nh.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Nh.geometry.set=function(t){this._geometry=t},Dh.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Dh.prototype,Nh),Ih.prototype.updateState=function(t,e,n){var i=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},u(this.stateChanges[t][i],n),null===this.deletedStates[t])for(var r in this.deletedStates[t]={},this.state[t])r!==i&&(this.deletedStates[t][r]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][i])for(var a in this.deletedStates[t][i]={},this.state[t][i])n[a]||(this.deletedStates[t][i][a]=null);else for(var o in n)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][o]&&delete this.deletedStates[t][i][o]},Ih.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var i=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][i]&&(this.deletedStates[t][i]=this.deletedStates[t][i]||{},this.deletedStates[t][i][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][i])for(n in this.deletedStates[t][i]={},this.stateChanges[t][i])this.deletedStates[t][i][n]=null;else this.deletedStates[t][i]=null;else this.deletedStates[t]=null}},Ih.prototype.getState=function(t,e){var n=String(e),i=this.state[t]||{},r=this.stateChanges[t]||{},a=u({},i[n],r[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var o=this.deletedStates[t][e];if(null===o)return{};for(var s in o)delete a[s]}return a},Ih.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Ih.prototype.coalesceChanges=function(t,e){var n={};for(var i in this.stateChanges){this.state[i]=this.state[i]||{};var r={};for(var a in this.stateChanges[i])this.state[i][a]||(this.state[i][a]={}),u(this.state[i][a],this.stateChanges[i][a]),r[a]=this.state[i][a];n[i]=r}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var c in this.state[o])s[c]={},this.state[o][c]={};else for(var l in this.deletedStates[o]){if(null===this.deletedStates[o][l])this.state[o][l]={};else for(var h=0,p=Object.keys(this.deletedStates[o][l]);h<p.length;h+=1){var d=p[h];delete this.state[o][l][d]}s[l]=this.state[o][l]}n[o]=n[o]||{},u(n[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in t)t[f].setFeatureState(n,e)},Ph.prototype.insert=function(t,e,n,i,r,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r);for(var s=a?this.grid3D:this.grid,c=0;c<e.length;c++){for(var l=e[c],u=[1/0,1/0,-1/0,-1/0],h=0;h<l.length;h++){var p=l[h];u[0]=Math.min(u[0],p.x),u[1]=Math.min(u[1],p.y),u[2]=Math.max(u[2],p.x),u[3]=Math.max(u[3],p.y)}u[0]<Zo&&u[1]<Zo&&0<=u[2]&&0<=u[3]&&s.insert(o,u[0],u[1],u[2],u[3])}},Ph.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ic.VectorTile(new gl(this.rawTileData)).layers,this.sourceLayerCoder=new Eh(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ph.prototype.query=function(t,e,n){var i=this;this.loadVTLayers();for(var a=t.params||{},o=Zo/t.tileSize/t.scale,s=Jn(a.filter),c=t.queryGeometry,l=t.queryPadding*o,u=Bh(c),h=this.grid.query(u.minX-l,u.minY-l,u.maxX+l,u.maxY+l),p=Bh(t.cameraQueryGeometry),d=0,f=this.grid3D.query(p.minX-l,p.minY-l,p.maxX+l,p.maxY+l,(function(e,n,i,a){return function(t,e,n,i,a){for(var o=0,s=t;o<s.length;o+=1){var c=s[o];if(e<=c.x&&n<=c.y&&i>=c.x&&a>=c.y)return!0}var l=[new r(e,n),new r(e,a),new r(i,a),new r(i,n)];if(2<t.length)for(var u=0,h=l;u<h.length;u+=1)if(cs(t,h[u]))return!0;for(var p=0;p<t.length-1;p++)if(ls(t[p],t[p+1],l))return!0;return!1}(t.cameraQueryGeometry,e-l,n-l,i+l,a+l)}));d<f.length;d+=1){var m=f[d];h.push(m)}h.sort(Rh);for(var g,y={},_=function(r){var l=h[r];if(l!==g){g=l;var u=i.featureIndexArray.get(l),p=null;i.loadMatchingFeature(y,u.bucketIndex,u.sourceLayerIndex,u.featureIndex,s,a.layers,e,(function(e,r,a){p=p||Qo(e);var s={};return void 0!==a&&(s=n.getState(r.sourceLayer||"_geojsonTileLayer",a)),r.queryIntersectsFeature(c,e,s,p,i.z,t.transform,o,t.pixelPosMatrix)}))}},v=0;v<h.length;v++)_(v);return y},Ph.prototype.loadMatchingFeature=function(t,e,n,i,r,a,o,s){var c=this.bucketLayerIDs[e];if(!a||function(t,e){for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return 1}(a,c)){var l=this.sourceLayerCoder.decode(n),u=this.vtLayers[l].feature(i);if(r(new $i(this.tileID.overscaledZ),u))for(var h=this.getId(u,l),p=0;p<c.length;p++){var d=c[p];if(!(a&&a.indexOf(d)<0)){var f=o[d];if(f){var m=!s||s(u,f,h);if(m){var g=new Dh(u,this.z,this.x,this.y,h);g.layer=f.serialize();var y=t[d];void 0===y&&(y=t[d]=[]),y.push({featureIndex:i,feature:g,intersectionZ:m})}}}}}},Ph.prototype.lookupSymbolFeatures=function(t,e,n,i,r,a){var o={};this.loadVTLayers();for(var s=Jn(i),c=0,l=t;c<l.length;c+=1){var u=l[c];this.loadMatchingFeature(o,e,n,u,s,r,a)}return o},Ph.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var i=0,r=n[e];i<r.length;i+=1)if(t===r[i])return!0;return!1},Ph.prototype.getId=function(t,e){var n=t.id;if(this.promoteId){var i="string"==typeof this.promoteId?this.promoteId:this.promoteId[e];"boolean"==typeof(n=t.properties[i])&&(n=Number(n))}return n},zi("FeatureIndex",Ph,{omit:["rawTileData","sourceLayerCoder"]}),qh.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<P.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},qh.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},qh.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var i in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var i=function(){var t=a[r],i=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==i.length){t.layers=i,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return i.filter((function(e){return e.id===t}))[0]})));for(var o=0,s=i;o<s.length;o+=1){var c=s[o];n[c.id]=t}}},r=0,a=t;r<a.length;r+=1)i();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var r=this.buckets[i];if(r instanceof Hu){if(this.hasSymbolBuckets=!0,!n)break;r.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof Hu&&o.hasRTLText){this.hasRTLText=!0,er.isLoading()||er.isLoaded()||"deferred"!==Ji()||Qi();break}}for(var s in this.queryPadding=0,this.buckets){var c=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(c))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Ba},qh.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},qh.prototype.getBucket=function(t){return this.buckets[t.id]},qh.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var i=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new lh(t,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new lh(t,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)},qh.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},qh.prototype.queryRenderedFeatures=function(t,e,n,i,r,a,o,s,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:r,tileSize:this.tileSize,pixelPosMatrix:c,transform:o,params:a,queryPadding:this.queryPadding*s},t,e):{}},qh.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var i=n.loadVTLayers(),r=e?e.sourceLayer:"",a=i._geojsonTileLayer||i[r];if(a)for(var o=Jn(e&&e.filter),s=this.tileID.canonical,c=s.z,l=s.x,u=s.y,h={z:c,x:l,y:u},p=0;p<a.length;p++){var d=a.feature(p);if(o(new $i(this.tileID.overscaledZ),d)){var f=new Dh(d,c,l,u,n.getId(d,r));f.tile=h,t.push(f)}}}},qh.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},qh.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},qh.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=T(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),r=!1;if(this.expirationTime>i)r=!1;else if(e)if(this.expirationTime<e)r=!0;else{var a=this.expirationTime-e;a?this.expirationTime=i+Math.max(a,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},qh.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},qh.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var i in this.buckets){var r=this.buckets[i],a=r.layers[0].sourceLayer||"_geojsonTileLayer",o=n[a],s=t[a];o&&s&&0!==Object.keys(s).length&&(r.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(i).queryRadius(r))))}}},qh.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},qh.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<P.now()},qh.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},qh.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=P.now()+t},qh.prototype.setDependencies=function(t,e){for(var n={},i=0,r=e;i<r.length;i+=1)n[r[i]]=!0;this.dependencies[t]=n},qh.prototype.hasDependency=function(t,e){for(var n=0,i=t;n<i.length;n+=1){var r=i[n],a=this.dependencies[r];if(a)for(var o=0,s=e;o<s.length;o+=1)if(a[s[o]])return!0}return!1};var Wh=self.performance;Yh.prototype.finish=function(){Wh.mark(this._marks.end);var t=Wh.getEntriesByName(this._marks.measure);return 0===t.length&&(Wh.measure(this._marks.measure,this._marks.start,this._marks.end),t=Wh.getEntriesByName(this._marks.measure),Wh.clearMarks(this._marks.start),Wh.clearMarks(this._marks.end),Wh.clearMeasures(this._marks.measure)),t},t.Actor=gh,t.AlphaImage=zs,t.CanonicalTileID=Sh,t.CollisionBoxArray=Ba,t.Color=ce,t.DEMData=Ch,t.DataConstantProperty=ur,t.DictionaryCoder=Eh,t.EXTENT=Zo,t.ErrorEvent=It,t.EvaluationParameters=$i,t.Event=Et,t.Evented=Dt,t.FeatureIndex=Ph,t.FillBucket=Mc,t.FillExtrusionBucket=qc,t.ImageAtlas=Fl,t.ImagePosition=Yl,t.LineBucket=Xc,t.LngLat=vh,t.LngLatBounds=_h,t.MercatorCoordinate=Lh,t.ONE_EM=ml,t.OverscaledTileID=Oh,t.Point=r,t.Point$1=r,t.Properties=yr,t.Protobuf=gl,t.RGBAImage=Cs,t.RequestManager=j,t.RequestPerformance=Yh,t.ResourceType=_t,t.SegmentVector=ao,t.SourceFeatureState=Ih,t.StructArrayLayout1ui2=Sa,t.StructArrayLayout2i4=Sr,t.StructArrayLayout2ui4=Aa,t.StructArrayLayout3ui6=ba,t.StructArrayLayout4i8=zr,t.SymbolBucket=Hu,t.Texture=lh,t.Tile=qh,t.Transitionable=rr,t.Uniform1f=So,t.Uniform1i=Lo,t.Uniform2f=ko,t.Uniform3f=Oo,t.Uniform4f=zo,t.UniformColor=Co,t.UniformMatrix4f=Do,t.UnwrappedTileID=kh,t.ValidationError=Rt,t.WritingMode=Ul,t.ZoomHistory=Pi,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=Yu,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,r=new Array(t.length),a=null;t.forEach((function(t,o){e(t,(function(t,e){t&&(a=t),r[o]=e,0==--i&&n(a,r)}))}))},t.bezier=o,t.bindAll=m,t.browser=P,t.cacheEntryPossiblyAdded=function(t){++gt>lt&&(t.getActor().send("enforceCacheSizeLimit",ct),gt=0)},t.clamp=c,t.clearTileCache=function(t){var e=self.caches.delete(st);t&&e.catch(t).then((function(){return t()}))},t.clone=function(t){var e=new ys(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=v,t.clone$2=function(t){var e=new ys(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.config=B,t.create=function(){var t=new ys(16);return ys!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new ys(9);return ys!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new ys(4);return ys!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Rn,t.createLayout=Ar,t.createStyleLayer=function(t){return"custom"===t.type?new oh(t):new sh[t.type](t)},t.cross=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=n[0],s=n[1],c=n[2];return t[0]=r*c-a*s,t[1]=a*o-i*c,t[2]=i*s-r*o,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"!=typeof e||null===e||null===n)return e===n;if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var r in e)if(!t(e[r],n[r]))return!1;return!0},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=s,t.emitValidationErrors=wi,t.endsWith=g,t.enforceCacheSizeLimit=function(t){dt(),Q&&Q.then((function(e){e.keys().then((function(n){for(var i=0;i<n.length-t;i++)e.delete(n[i])}))}))},t.evaluateSizeForFeature=lu,t.evaluateSizeForZoom=uu,t.evaluateVariableOffset=zu,t.evented=tr,t.extend=u,t.featureFilter=Jn,t.filterObject=_,t.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=eu,t.getAnchorJustification=Cu,t.getArrayBuffer=Tt,t.getImage=Ot,t.getJSON=function(t,e){return At(u(t,{type:"json"}),e)},t.getRTLTextPluginStatus=Ji,t.getReferrer=bt,t.getVideo=function(t,e){var n,i,r=self.document.createElement("video");r.muted=!0,r.onloadstart=function(){e(null,r)};for(var a=0;a<t.length;a++){var o=self.document.createElement("source");n=t[a],i=void 0,(i=self.document.createElement("a")).href=n,i.protocol===self.document.location.protocol&&i.host===self.document.location.host||(r.crossOrigin="Anonymous"),o.src=t[a],r.appendChild(o)}return{cancel:function(){}}},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],h=e[9],p=e[10],d=e[11],f=e[12],m=e[13],g=e[14],y=e[15],_=n*s-i*o,v=n*c-r*o,M=n*l-a*o,b=i*c-r*s,x=i*l-a*s,w=r*l-a*c,A=u*m-h*f,T=u*g-p*f,L=u*y-d*f,S=h*g-p*m,k=h*y-d*m,O=p*y-d*g,z=_*O-v*k+M*S+b*L-x*T+w*A;return z?(z=1/z,t[0]=(s*O-c*k+l*S)*z,t[1]=(r*k-i*O-a*S)*z,t[2]=(m*w-g*x+y*b)*z,t[3]=(p*x-h*w-d*b)*z,t[4]=(c*L-o*O-l*T)*z,t[5]=(n*O-r*L+a*T)*z,t[6]=(g*M-f*w-y*v)*z,t[7]=(u*w-p*M+d*v)*z,t[8]=(o*k-s*L+l*A)*z,t[9]=(i*L-n*k-a*A)*z,t[10]=(f*x-m*M+y*_)*z,t[11]=(h*M-u*x-d*_)*z,t[12]=(s*T-o*S-c*A)*z,t[13]=(n*S-i*T+r*A)*z,t[14]=(m*v-f*b-g*_)*z,t[15]=(u*b-h*v+p*_)*z,t):null},t.isChar=Bi,t.isMapboxURL=H,t.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},t.makeRequest=At,t.mapObject=y,t.mercatorXfromLng=xh,t.mercatorYfromLat=wh,t.mercatorZfromAltitude=Ah,t.multiply=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],h=e[8],p=e[9],d=e[10],f=e[11],m=e[12],g=e[13],y=e[14],_=e[15],v=n[0],M=n[1],b=n[2],x=n[3];return t[0]=v*i+M*s+b*h+x*m,t[1]=v*r+M*c+b*p+x*g,t[2]=v*a+M*l+b*d+x*y,t[3]=v*o+M*u+b*f+x*_,v=n[4],M=n[5],b=n[6],x=n[7],t[4]=v*i+M*s+b*h+x*m,t[5]=v*r+M*c+b*p+x*g,t[6]=v*a+M*l+b*d+x*y,t[7]=v*o+M*u+b*f+x*_,v=n[8],M=n[9],b=n[10],x=n[11],t[8]=v*i+M*s+b*h+x*m,t[9]=v*r+M*c+b*p+x*g,t[10]=v*a+M*l+b*d+x*y,t[11]=v*o+M*u+b*f+x*_,v=n[12],M=n[13],b=n[14],x=n[15],t[12]=v*i+M*s+b*h+x*m,t[13]=v*r+M*c+b*p+x*g,t[14]=v*a+M*l+b*d+x*y,t[15]=v*o+M*u+b*f+x*_,t},t.mvt=Ic,t.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],a=n*n+i*i+r*r;return 0<a&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t},t.number=Ie,t.offscreenCanvasSupported=yt,t.ortho=function(t,e,n,i,r,a,o){var s=1/(e-n),c=1/(i-r),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*c,t[14]=(o+a)*l,t[15]=1,t},t.parseGlyphPBF=function(t){return new gl(t).readFields(Il,[])},t.pbf=gl,t.performSymbolLayout=function(t,e,n,i,a,o){t.createArrays();var s=512*t.overscaling;t.tilePixelRatio=Zo/s,t.compareText={},t.iconsNeedLinear=!1;var c=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){var h=t.textSizeData,p=h.minZoom,d=h.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new $i(p)),l["text-size"].possiblyEvaluate(new $i(d))]}if("composite"===t.iconSizeData.kind){var f=t.iconSizeData,m=f.minZoom,g=f.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new $i(m)),l["icon-size"].possiblyEvaluate(new $i(g))]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new $i(t.zoom+1)),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new $i(t.zoom+1)),u.textMaxSize=l["text-size"].possiblyEvaluate(new $i(18));for(var y=c.get("text-line-height")*ml,_="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),v=c.get("text-keep-upright"),M=c.get("text-size"),x=function(){var o=A[w],s=c.get("text-font").evaluate(o,{}).join(","),l=M.evaluate(o,{}),h=u.layoutTextSize.evaluate(o,{}),p=u.layoutIconSize.evaluate(o,{}),d={horizontal:{},vertical:void 0},f=o.text,m=[0,0];if(f){var g=f.toString(),x=c.get("text-letter-spacing").evaluate(o,{})*ml,T=function(){for(var t=0,e=g;t<e.length;t+=1)if(n=e[t].charCodeAt(0),Bi.Arabic(n)||Bi["Arabic Supplement"](n)||Bi["Arabic Extended-A"](n)||Bi["Arabic Presentation Forms-A"](n)||Bi["Arabic Presentation Forms-B"](n))return;var n;return 1}()?x:0,L=c.get("text-anchor").evaluate(o,{}),S=c.get("text-variable-anchor");if(!S){var k=c.get("text-radial-offset").evaluate(o,{});m=k?zu(L,[k*ml,Ou]):c.get("text-offset").evaluate(o,{}).map((function(t){return t*ml}))}var O=_?"center":c.get("text-justify").evaluate(o,{}),z=c.get("symbol-placement"),C="point"===z?c.get("text-max-width").evaluate(o,{})*ml:0,E=function(){t.allowVerticalPlacement&&Ri(g)&&(d.vertical=Gl(f,e,n,a,s,C,y,L,"left",T,m,Ul.vertical,!0,z,h,l))};if(!_&&S){for(var D="auto"===O?S.map((function(t){return Cu(t)})):[O],N=!1,I=0;I<D.length;I++){var P=D[I];if(!d.horizontal[P])if(N)d.horizontal[P]=d.horizontal[0];else{var B=Gl(f,e,n,a,s,C,y,"center",P,T,m,Ul.horizontal,!1,z,h,l);B&&(N=1===(d.horizontal[P]=B).positionedLines.length)}}E()}else{"auto"===O&&(O=Cu(L));var R=Gl(f,e,n,a,s,C,y,L,O,T,m,Ul.horizontal,!1,z,h,l);R&&(d.horizontal[O]=R),E(),Ri(g)&&_&&v&&(d.vertical=Gl(f,e,n,a,s,C,y,L,O,T,m,Ul.vertical,!1,z,h,l))}}var q,Y,W,j,F,H,U,X,V,G,K=void 0,Z=!1;if(o.icon&&o.icon.name){var J=i[o.icon.name];J&&(q=a[o.icon.name],Y=c.get("icon-offset").evaluate(o,{}),j=(W=eu(c.get("icon-anchor").evaluate(o,{}))).horizontalAlign,F=W.verticalAlign,H=Y[0],U=Y[1],V=(X=H-q.displaySize[0]*j)+q.displaySize[0],K={image:q,top:G=U-q.displaySize[1]*F,bottom:G+q.displaySize[1],left:X,right:V},Z=J.sdf,void 0===t.sdfIcons?t.sdfIcons=J.sdf:t.sdfIcons!==J.sdf&&b("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),J.pixelRatio===t.pixelRatio&&0===c.get("icon-rotate").constantOr(1)||(t.iconsNeedLinear=!0))}var Q=Iu(d.horizontal)||d.vertical;t.iconsInText=!!Q&&Q.iconsInText,(Q||K)&&function(t,e,n,i,a,o,s,c,l,u){var h=o.textMaxSize.evaluate(e,{});void 0===h&&(h=s);var p,d,f,m,g,y,_,v,M,x,w,A,T,L,S=t.layers[0].layout,k=S.get("icon-offset").evaluate(e,{}),O=Iu(n.horizontal),z=s/24,C=t.tilePixelRatio*z,E=t.tilePixelRatio*h/24,D=t.tilePixelRatio*c,N=t.tilePixelRatio*S.get("symbol-spacing"),I=S.get("text-padding")*t.tilePixelRatio,P=S.get("icon-padding")*t.tilePixelRatio,B=S.get("text-max-angle")/180*Math.PI,R="map"===S.get("text-rotation-alignment")&&"point"!==S.get("symbol-placement"),q="map"===S.get("icon-rotation-alignment")&&"point"!==S.get("symbol-placement"),Y=S.get("symbol-placement"),W=N/2,j=S.get("icon-text-fit");function F(r,s){s.x<0||s.x>=Zo||s.y<0||s.y>=Zo||function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g,y,_,v,M,x,w){var A,T,L,S,k,O=t.addToLineVertexArray(e,n),z=0,C=0,E=0,D=0,N=-1,I=-1,P={},B=uo(""),R=0,q=0;if(q=void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(R=(A=s.layout.get("text-offset").evaluate(M,{}).map((function(t){return t*ml})))[0],A[1]):(R=s.layout.get("text-radial-offset").evaluate(M,{})*ml,Ou),t.allowVerticalPlacement&&i.vertical){var Y=s.layout.get("text-rotate").evaluate(M,{})+90;S=new wu(c,n,e,l,u,h,i.vertical,p,d,f,t.overscaling,Y),o&&(k=new wu(c,n,e,l,u,h,o,g,y,f,t.overscaling,Y))}if(r){var W=s.layout.get("icon-rotate").evaluate(M,{}),j="none"!==s.layout.get("icon-text-fit"),F=_u(r,W,w,j),H=o?_u(o,W,w,j):void 0;L=new wu(c,n,e,l,u,h,r,g,y,!1,t.overscaling,W),z=4*F.length;var U=t.iconSizeData,X=null;"source"===U.kind?(X=[su*s.layout.get("icon-size").evaluate(M,{})])[0]>Du&&b(t.layerIds[0]+': Value for "icon-size" is >= '+Eu+'. Reduce your "icon-size".'):"composite"===U.kind&&((X=[su*x.compositeIconSizes[0].evaluate(M,{}),su*x.compositeIconSizes[1].evaluate(M,{})])[0]>Du||X[1]>Du)&&b(t.layerIds[0]+': Value for "icon-size" is >= '+Eu+'. Reduce your "icon-size".'),t.addSymbols(t.icon,F,X,v,_,M,!1,e,O.lineStartIndex,O.lineLength,-1),N=t.icon.placedSymbolArray.length-1,H&&(C=4*H.length,t.addSymbols(t.icon,H,X,v,_,M,Ul.vertical,e,O.lineStartIndex,O.lineLength,-1),I=t.icon.placedSymbolArray.length-1)}for(var V in i.horizontal){var G=i.horizontal[V];if(!T){B=uo(G.text);var K=s.layout.get("text-rotate").evaluate(M,{});T=new wu(c,n,e,l,u,h,G,p,d,f,t.overscaling,K)}var Z=1===G.positionedLines.length;if(E+=Nu(t,e,G,a,s,f,M,m,O,i.vertical?Ul.horizontal:Ul.horizontalOnly,Z?Object.keys(i.horizontal):[V],P,N,x),Z)break}i.vertical&&(D+=Nu(t,e,i.vertical,a,s,f,M,m,O,Ul.vertical,["vertical"],P,I,x));var J=T?T.boxStartIndex:t.collisionBoxArray.length,Q=T?T.boxEndIndex:t.collisionBoxArray.length,$=S?S.boxStartIndex:t.collisionBoxArray.length,tt=S?S.boxEndIndex:t.collisionBoxArray.length,et=L?L.boxStartIndex:t.collisionBoxArray.length,nt=L?L.boxEndIndex:t.collisionBoxArray.length,it=k?k.boxStartIndex:t.collisionBoxArray.length,rt=k?k.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=Hu.MAX_GLYPHS&&b("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==M.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,M.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,0<=P.right?P.right:-1,0<=P.center?P.center:-1,0<=P.left?P.left:-1,P.vertical||-1,N,I,B,J,Q,$,tt,et,nt,it,rt,l,E,D,z,C,0,p,R,q)}(t,s,r,n,i,a,p,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,C,I,R,l,D,P,q,k,e,o,u)}if(i&&"none"!==j&&(t.allowVerticalPlacement&&n.vertical&&(p=iu(i,n.vertical,j,S.get("icon-text-fit-padding"),k,z)),O&&(i=iu(i,O,j,S.get("icon-text-fit-padding"),k,z))),"line"===Y)for(var H=0,U=function(t,e,n){for(var i=[],a=0;a<t.length;a++)for(var o=t[a],s=void 0,c=0;c<o.length-1;c++){var l=o[c],u=o[c+1];l.x<0&&u.x<0||(l.x<0?l=new r(0,l.y+(u.y-l.y)*((0-l.x)/(u.x-l.x)))._round():u.x<0&&(u=new r(0,l.y+(u.y-l.y)*((0-l.x)/(u.x-l.x)))._round()),l.y<0&&u.y<0||(l.y<0?l=new r(l.x+(u.x-l.x)*((0-l.y)/(u.y-l.y)),0)._round():u.y<0&&(u=new r(l.x+(u.x-l.x)*((0-l.y)/(u.y-l.y)),0)._round()),l.x>=e&&u.x>=e||(l.x>=e?l=new r(e,l.y+(u.y-l.y)*((e-l.x)/(u.x-l.x)))._round():u.x>=e&&(u=new r(e,l.y+(u.y-l.y)*((e-l.x)/(u.x-l.x)))._round()),l.y>=n&&u.y>=n||(l.y>=n?l=new r(l.x+(u.x-l.x)*((n-l.y)/(u.y-l.y)),n)._round():u.y>=n&&(u=new r(l.x+(u.x-l.x)*((n-l.y)/(u.y-l.y)),n)._round()),s&&l.equals(s[s.length-1])||(s=[l],i.push(s)),s.push(u)))))}return i}(e.geometry,Zo,Zo);H<U.length;H+=1)for(var X=U[H],V=0,G=(d=X,f=N,m=B,g=n.vertical||O,y=i,_=24,v=E,M=t.overscaling,x=Zo,w=fu(g,_,v),f-(T=(A=mu(g,y))*v)<f/4&&(f=T+f/4),function t(e,n,i,r,a,o,s,c,l){for(var u=o/2,h=du(e),p=0,d=n-i,f=[],m=0;m<e.length-1;m++){for(var g=e[m],y=e[m+1],_=g.dist(y),v=y.angleTo(g);d+i<p+_;){var M=((d+=i)-p)/_,b=Ie(g.x,y.x,M),x=Ie(g.y,y.y,M);if(0<=b&&b<l&&0<=x&&x<l&&0<=d-u&&d+u<=h){var w=new au(b,x,v,m);w._round(),r&&!pu(e,w,o,r,a)||f.push(w)}}p+=_}return c||f.length||s||(f=t(e,p/2,i,r,a,o,s,!0,l)),f}(d,(L=0===d[0].x||d[0].x===x||0===d[0].y||d[0].y===x)?f/2*M%f:(A/2+2*_)*v*M%f,f,w,m,T,L,!1,x));V<G.length;V+=1){var K=G[V];O&&Pu(t,O.text,W,K)||F(X,K)}else if("line-center"===Y)for(var Z=0,J=e.geometry;Z<J.length;Z+=1){var Q=J[Z];if(1<Q.length){var $=gu(Q,B,n.vertical||O,i,24,E);$&&F(Q,$)}}else if("Polygon"===e.type)for(var tt=0,et=gc(e.geometry,0);tt<et.length;tt+=1){var nt=et[tt],it=Lu(nt,16);F(nt[0],new au(it.x,it.y,0))}else if("LineString"===e.type)for(var rt=0,at=e.geometry;rt<at.length;rt+=1){var ot=at[rt];F(ot,new au(ot[0].x,ot[0].y,0))}else if("Point"===e.type)for(var st=0,ct=e.geometry;st<ct.length;st+=1)for(var lt=0,ut=ct[st];lt<ut.length;lt+=1){var ht=ut[lt];F([ht],new au(ht.x,ht.y,0))}}(t,o,d,K,i,u,h,p,m,Z)},w=0,A=t.features;w<A.length;w+=1)x();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,i,r){var a,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(a=1/(i-r),t[10]=(r+i)*a,t[14]=2*r*i*a):(t[10]=-1,t[14]=-2*i),t},t.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}return n},t.plugin=er,t.polygonIntersectsPolygon=es,t.postMapLoadEvent=ot,t.postTurnstileEvent=rt,t.potpack=ql,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=zi,t.registerForPluginStateChange=function(t){return t({pluginStatus:Gi,pluginURL:Ki}),tr.on("pluginStateChange",t),t},t.rotate=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c+a*s,t[1]=r*c+o*s,t[2]=i*-s+a*c,t[3]=r*-s+o*c,t},t.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*r+l*i,t[5]=o*r+u*i,t[6]=s*r+h*i,t[7]=c*r+p*i,t[8]=l*r-a*i,t[9]=u*r-o*i,t[10]=h*r-s*i,t[11]=p*r-c*i,t},t.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[0],o=e[1],s=e[2],c=e[3],l=e[4],u=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*r+l*i,t[1]=o*r+u*i,t[2]=s*r+h*i,t[3]=c*r+p*i,t[4]=l*r-a*i,t[5]=u*r-o*i,t[6]=h*r-s*i,t[7]=p*r-c*i,t},t.scale=function(t,e,n){var i=n[0],r=n[1],a=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){ct=t,lt=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),Gi===Hi||Gi===Ui||Gi===Xi)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ki=P.resolveURL(t),Gi=Hi,Vi=e,Zi(),n||Qi()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],i=t[2];return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(i),y:e*Math.sin(n)*Math.sin(i),z:e*Math.cos(i)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=Bt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=hu,t.transformMat3=function(t,e,n){var i=e[0],r=e[1],a=e[2];return t[0]=i*n[0]+r*n[3]+a*n[6],t[1]=i*n[1]+r*n[4]+a*n[7],t[2]=i*n[2]+r*n[5]+a*n[8],t},t.transformMat4=_s,t.translate=function(t,e,n){var i,r,a,o,s,c,l,u,h,p,d,f,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],h=e[8],p=e[9],d=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=c,t[6]=l,t[7]=u,t[8]=h,t[9]=p,t[10]=d,t[11]=f,t[12]=i*m+s*g+h*y+e[12],t[13]=r*m+c*g+p*y+e[13],t[14]=a*m+l*g+d*y+e[14],t[15]=o*m+u*g+f*y+e[15]),t},t.triggerPluginCompletionEvent=Fi,t.uniqueId=p,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Mi,t.validateStyle=vi,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=Ic,t.version="1.8.1",t.warnOnce=b,t.webpSupported=R,t.window=self,t.wrap=l})),n(0,(function(t){function e(t){var n=typeof t;if("number"==n||"boolean"==n||"string"==n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var i="[",r=0,a=t;r<a.length;r+=1)i+=e(a[r])+",";return i+"]"}for(var o=Object.keys(t).sort(),s="{",c=0;c<o.length;c++)s+=JSON.stringify(o[c])+":"+e(t[o[c]])+",";return s+"}"}function n(n){for(var i="",r=0,a=t.refProperties;r<a.length;r+=1)i+="/"+e(n[a[r]]);return i}function i(t){this.keyCache={},t&&this.replace(t)}function r(e){var n={},i=[];for(var r in e){var a=e[r],o=n[r]={};for(var s in a){var c=a[+s];if(c&&0!==c.bitmap.width&&0!==c.bitmap.height){var l={x:0,y:0,w:c.bitmap.width+2,h:c.bitmap.height+2};i.push(l),o[s]={rect:l,metrics:c.metrics}}}}var u=t.potpack(i),h=u.w,p=u.h,d=new t.AlphaImage({width:h||1,height:p||1});for(var f in e){var m=e[f];for(var g in m){var y=m[+g];if(y&&0!==y.bitmap.width&&0!==y.bitmap.height){var _=n[f][g].rect;t.AlphaImage.copy(y.bitmap,d,{x:0,y:0},{x:_.x+1,y:_.y+1},y.bitmap)}}}this.image=d,this.positions=n}function a(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId}function o(e,n,i){for(var r=new t.EvaluationParameters(n),a=0,o=e;a<o.length;a+=1)o[a].recalculate(r,i)}function s(e,n){var i=t.getArrayBuffer(e.request,(function(e,i,r,a){e?n(e):i&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(i)),rawData:i,cacheControl:r,expires:a})}));return function(){i.cancel(),n()}}function c(t,e,n,i){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=i||s,this.loading={},this.loaded={}}function l(){this.loaded={}}i.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},i.prototype.update=function(e,i){for(var r=this,a=0,o=e;a<o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var c=this._layers[s.id]=t.createStyleLayer(s);c._featureFilter=t.featureFilter(c.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,u=i;l<u.length;l+=1){var h=u[l];delete this.keyCache[h],delete this._layerConfigs[h],delete this._layers[h]}this.familiesBySource={};for(var p=0,d=function(t,e){for(var i={},r=0;r<t.length;r++){var a=e&&e[t[r].id]||n(t[r]);e&&(e[t[r].id]=a);var o=i[a];(o=o||(i[a]=[])).push(t[r])}var s=[];for(var c in i)s.push(i[c]);return s}(t.values(this._layerConfigs),this.keyCache);p<d.length;p+=1){var f=d[p].map((function(t){return r._layers[t.id]})),m=f[0];if("none"!==m.visibility){var g=m.source||"",y=this.familiesBySource[g];y=y||(this.familiesBySource[g]={});var _=m.sourceLayer||"_geojsonTileLayer",v=y[_];(v=v||(y[_]=[])).push(f)}}},t.register("GlyphAtlas",r),a.prototype.parse=function(e,n,i,a,s){var c=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var l=new t.DictionaryCoder(Object.keys(e.layers).sort()),u=new t.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];var h,p,d,f,m={},g={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:i},y=n.familiesBySource[this.source];for(var _ in y){var v=e.layers[_];if(v){1===v.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+_+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var M=l.encode(_),b=[],x=0;x<v.length;x++){var w=v.feature(x),A=u.getId(w,_);b.push({feature:w,id:A,index:x,sourceLayerIndex:M})}for(var T=0,L=y[_];T<L.length;T+=1){var S=L[T],k=S[0];k.minzoom&&this.zoom<Math.floor(k.minzoom)||k.maxzoom&&this.zoom>=k.maxzoom||"none"!==k.visibility&&(o(S,this.zoom,i),(m[k.id]=k.createBucket({index:u.bucketLayerIDs.length,layers:S,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:M,sourceID:this.source})).populate(b,g),u.bucketLayerIDs.push(S.map((function(t){return t.id}))))}}}var O=t.mapObject(g.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(O).length?a.send("getGlyphs",{uid:this.uid,stacks:O},(function(t,e){h||(h=t,p=e,E.call(c))})):p={};var z=Object.keys(g.iconDependencies);z.length?a.send("getImages",{icons:z,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){h||(h=t,d=e,E.call(c))})):d={};var C=Object.keys(g.patternDependencies);function E(){if(h)return s(h);if(p&&d&&f){var e=new r(p),n=new t.ImageAtlas(d,f);for(var a in m){var c=m[a];c instanceof t.SymbolBucket?(o(c.layers,this.zoom,i),t.performSymbolLayout(c,p,e.positions,d,n.iconPositions,this.showCollisionBoxes)):c.hasPattern&&(c instanceof t.LineBucket||c instanceof t.FillBucket||c instanceof t.FillExtrusionBucket)&&(o(c.layers,this.zoom,i),c.addFeatures(g,n.patternPositions))}this.status="done",s(null,{buckets:t.values(m).filter((function(t){return!t.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?e.positions:null})}}C.length?a.send("getImages",{icons:C,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){h||(h=t,f=e,E.call(c))})):f={},E.call(this)},c.prototype.loadTile=function(e,n){var i=this,r=e.uid;this.loading||(this.loading={});var o=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[r]=new a(e);s.abort=this.loadVectorData(e,(function(e,a){if(delete i.loading[r],e||!a)return s.status="done",i.loaded[r]=s,n(e);var c=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl);var u={};if(o){var h=o.finish();h&&(u.resourceTiming=JSON.parse(JSON.stringify(h)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,i.layerIndex,i.availableImages,i.actor,(function(e,i){if(e||!i)return n(e);n(null,t.extend({rawTileData:c.slice(0)},i,l,u))})),i.loaded=i.loaded||{},i.loaded[r]=s}))},c.prototype.reloadTile=function(t,e){var n=this,i=this.loaded,r=t.uid,a=this;if(i&&i[r]){var o=i[r];o.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,i){var r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,r)),e(t,i)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},c.prototype.abortTile=function(t,e){var n=this.loading,i=t.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),e()},c.prototype.removeTile=function(t,e){var n=this.loaded,i=t.uid;n&&n[i]&&delete n[i],e()};var u=t.window.ImageBitmap;l.prototype.loadTile=function(e,n){var i=e.uid,r=e.encoding,a=e.rawImageData,o=u&&a instanceof u?this.getImageData(a):a,s=new t.DEMData(i,o,r);this.loaded=this.loaded||{},n(null,this.loaded[i]=s)},l.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},l.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var h={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function p(t){var e=0;if(t&&0<t.length){e+=Math.abs(d(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(d(t[n]))}return e}function d(t){var e,n,i,r,a,o,s=0,c=t.length;if(2<c){for(o=0;o<c;o++)a=o===c-2?(i=c-2,r=c-1,0):o===c-1?(i=c-1,r=0,1):(r=(i=o)+1,o+2),e=t[i],n=t[r],s+=(f(t[a][0])-f(e[0]))*Math.sin(f(n[1]));s=s*h.RADIUS*h.RADIUS/2}return s}function f(t){return t*Math.PI/180}var m={geometry:function t(e){var n,i=0;switch(e.type){case"Polygon":return p(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=p(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}},ring:d};function g(t,e){return function(n){return t(n,e)}}function y(t,e){e=!!e,t[0]=_(t[0],e);for(var n=1;n<t.length;n++)t[n]=_(t[n],!e);return t}function _(t,e){return n=t,0<=m.ring(n)===e?t:t.reverse();var n}function v(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))}var M=t.vectorTile.VectorTileFeature.prototype.toGeoJSON;v.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,i=this._feature.geometry;n<i.length;n+=1){var r=i[n];e.push([new t.Point$1(r[0],r[1])])}return e}for(var a=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var c=[],l=0,u=s[o];l<u.length;l+=1){var h=u[l];c.push(new t.Point$1(h[0],h[1]))}a.push(c)}return a},v.prototype.toGeoJSON=function(t,e,n){return M.call(this,t,e,n)};var b=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};b.prototype.feature=function(t){return new v(this._features[t])};var x=t.vectorTile.VectorTileFeature,w=A;function A(t,e){this.options=e||{},this.features=t,this.length=t.length}function T(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}A.prototype.feature=function(t){return new T(this.features[t],this.options.extent)},T.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var i=e[n],r=[],a=0;a<i.length;a++)r.push(new t.Point$1(i[a][0],i[a][1]));this.geometry.push(r)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,i=1/0,r=-1/0,a=0;a<t.length;a++)for(var o=t[a],s=0;s<o.length;s++){var c=o[s];e=Math.min(e,c.x),n=Math.max(n,c.x),i=Math.min(i,c.y),r=Math.max(r,c.y)}return[e,i,n,r]},T.prototype.toGeoJSON=x.prototype.toGeoJSON;var L=O,S=O,k=w;function O(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,z,t.layers[n])}(e,n),n.finish()}function z(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)i.feature=t.feature(n),e.writeMessage(2,C,i);var r=i.keys;for(n=0;n<r.length;n++)e.writeStringField(3,r[n]);var a=i.values;for(n=0;n<a.length;n++)e.writeMessage(4,P,a[n])}function C(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,E,t),e.writeVarintField(3,n.type),e.writeMessage(4,I,n)}function E(t,e){var n=t.feature,i=t.keys,r=t.values,a=t.keycache,o=t.valuecache;for(var s in n.properties){var c=a[s];void 0===c&&(i.push(s),c=i.length-1,a[s]=c),e.writeVarint(c);var l=n.properties[s],u=typeof l;"string"!=u&&"boolean"!=u&&"number"!=u&&(l=JSON.stringify(l));var h=u+":"+l,p=o[h];void 0===p&&(r.push(l),p=r.length-1,o[h]=p),e.writeVarint(p)}}function D(t,e){return(e<<3)+(7&t)}function N(t){return t<<1^t>>31}function I(t,e){for(var n=t.loadGeometry(),i=t.type,r=0,a=0,o=n.length,s=0;s<o;s++){var c=n[s],l=1;1===i&&(l=c.length),e.writeVarint(D(1,l));for(var u=3===i?c.length-1:c.length,h=0;h<u;h++){1===h&&1!==i&&e.writeVarint(D(2,u-1));var p=c[h].x-r,d=c[h].y-a;e.writeVarint(N(p)),e.writeVarint(N(d)),r+=p,a+=d}3===i&&e.writeVarint(15)}}function P(t,e){var n=typeof t;"string"==n?e.writeStringField(1,t):"boolean"==n?e.writeBooleanField(7,t):"number"==n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function B(t,e,n,i){R(t,n,i),R(e,2*n,2*i),R(e,2*n+1,2*i+1)}function R(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function q(t,e,n,i){var r=t-n,a=e-i;return r*r+a*a}function Y(t){return t[0]}function W(t){return t[1]}function j(t,e,n,i,r){void 0===e&&(e=Y),void 0===n&&(n=W),void 0===i&&(i=64),void 0===r&&(r=Float64Array),this.nodeSize=i;for(var a=(this.points=t).length<65536?Uint16Array:Uint32Array,o=this.ids=new a(t.length),s=this.coords=new r(2*t.length),c=0;c<t.length;c++)s[2*(o[c]=c)]=e(t[c]),s[2*c+1]=n(t[c]);!function t(e,n,i,r,a,o){if(!(a-r<=i)){var s=r+a>>1;!function t(e,n,i,r,a,o){for(;r<a;){if(600<a-r){var s=a-r+1,c=i-r+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);t(e,n,i,Math.max(r,Math.floor(i-c*u/s+h)),Math.min(a,Math.floor(i+(s-c)*u/s+h)),o)}var p=n[2*i+o],d=r,f=a;for(B(e,n,r,i),n[2*a+o]>p&&B(e,n,r,a);d<f;){for(B(e,n,d,f),d++,f--;n[2*d+o]<p;)d++;for(;n[2*f+o]>p;)f--}n[2*r+o]===p?B(e,n,r,f):B(e,n,++f,a),f<=i&&(r=f+1),i<=f&&(a=f-1)}}(e,n,s,r,a,o%2),t(e,n,i,r,s-1,o+1),t(e,n,i,1+s,a,o+1)}}(o,s,i,0,o.length-1,0)}function F(t){this.options=K(Object.create(H),t),this.trees=new Array(this.options.maxZoom+1)}L.fromVectorTileJs=S,L.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var i in t)n[i]=new w(t[i].features,e),n[i].name=i,n[i].version=e.version,n[i].extent=e.extent;return O({layers:n})},L.GeoJSONWrapper=k,j.prototype.range=function(t,e,n,i){return function(t,e,n,i,r,a,o){for(var s,c,l=[0,t.length-1,0],u=[];l.length;){var h=l.pop(),p=l.pop(),d=l.pop();if(p-d<=o)for(var f=d;f<=p;f++)s=e[2*f],c=e[2*f+1],n<=s&&s<=r&&i<=c&&c<=a&&u.push(t[f]);else{var m=Math.floor((d+p)/2);s=e[2*m],c=e[2*m+1],n<=s&&s<=r&&i<=c&&c<=a&&u.push(t[m]);var g=(h+1)%2;(0===h?n<=s:i<=c)&&(l.push(d),l.push(m-1),l.push(g)),(0===h?s<=r:c<=a)&&(l.push(m+1),l.push(p),l.push(g))}}return u}(this.ids,this.coords,t,e,n,i,this.nodeSize)};var H={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!(j.prototype.within=function(t,e,n){return function(t,e,n,i,r,a){for(var o=[0,t.length-1,0],s=[],c=r*r;o.length;){var l=o.pop(),u=o.pop(),h=o.pop();if(u-h<=a)for(var p=h;p<=u;p++)q(e[2*p],e[2*p+1],n,i)<=c&&s.push(t[p]);else{var d=Math.floor((h+u)/2),f=e[2*d],m=e[2*d+1];q(f,m,n,i)<=c&&s.push(t[d]);var g=(l+1)%2;(0===l?n-r<=f:i-r<=m)&&(o.push(h),o.push(d-1),o.push(g)),(0===l?f<=n+r:m<=i+r)&&(o.push(d+1),o.push(u),o.push(g))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)}),generateId:!1,reduce:null,map:function(t){return t}};function U(t){return{type:"Feature",id:t.id,properties:X(t),geometry:{type:"Point",coordinates:[360*(t.x-.5),(e=(180-360*t.y)*Math.PI/180,360*Math.atan(Math.exp(e))/Math.PI-90)]}};var e}function X(t){var e=t.numPoints,n=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return K(K({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function V(t){return t/360+.5}function G(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:1<n?1:n}function K(t,e){for(var n in e)t[n]=e[n];return t}function Z(t){return t.x}function J(t){return t.y}function Q(t,e,n,i,r,a){var o=r-n,s=a-i;if(0!==o||0!==s){var c=((t-n)*o+(e-i)*s)/(o*o+s*s);1<c?(n=r,i=a):0<c&&(n+=o*c,i+=s*c)}return(o=t-n)*o+(s=e-i)*s}function $(t,e,n,i){var r={id:void 0===t?null:t,type:e,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)tt(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<e.length;i++)tt(t,e[i]);else if("MultiPolygon"===n)for(i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)tt(t,e[i][r])}(r),r}function tt(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function et(t,e,n,i){if(e.geometry){var r=e.geometry.coordinates,a=e.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],c=e.id;if(n.promoteId?c=e.properties[n.promoteId]:n.generateId&&(c=i||0),"Point"===a)nt(r,s);else if("MultiPoint"===a)for(var l=0;l<r.length;l++)nt(r[l],s);else if("LineString"===a)it(r,s,o,!1);else if("MultiLineString"===a){if(n.lineMetrics){for(l=0;l<r.length;l++)s=[],it(r[l],s,o,!1),t.push($(c,"LineString",s,e.properties));return}rt(r,s,o,!1)}else if("Polygon"===a)rt(r,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"!==a)throw new Error("Input data is not a valid GeoJSON object.");for(l=0;l<e.geometry.geometries.length;l++)et(t,{id:c,geometry:e.geometry.geometries[l],properties:e.properties},n,i);return}for(l=0;l<r.length;l++){var u=[];rt(r[l],u,o,!0),s.push(u)}}t.push($(c,a,s,e.properties))}}function nt(t,e){e.push(at(t[0])),e.push(ot(t[1])),e.push(0)}function it(t,e,n,i){for(var r,a,o=0,s=0;s<t.length;s++){var c=at(t[s][0]),l=ot(t[s][1]);e.push(c),e.push(l),e.push(0),0<s&&(o+=i?(r*l-c*a)/2:Math.sqrt(Math.pow(c-r,2)+Math.pow(l-a,2))),r=c,a=l}var u=e.length-3;e[2]=1,function t(e,n,i,r){for(var a,o=r,s=i-n>>1,c=i-n,l=e[n],u=e[n+1],h=e[i],p=e[i+1],d=n+3;d<i;d+=3){var f=Q(e[d],e[d+1],l,u,h,p);if(o<f)a=d,o=f;else if(f===o){var m=Math.abs(d-s);m<c&&(a=d,c=m)}}r<o&&(3<a-n&&t(e,n,a,r),e[a+2]=o,3<i-a&&t(e,a,i,r))}(e,0,u,n),e[2+u]=1,e.size=Math.abs(o),e.start=0,e.end=e.size}function rt(t,e,n,i){for(var r=0;r<t.length;r++){var a=[];it(t[r],a,n,i),e.push(a)}}function at(t){return t/360+.5}function ot(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:1<n?1:n}function st(t,e,n,i,r,a,o,s){if(i/=e,a>=(n/=e)&&o<i)return t;if(o<n||i<=a)return null;for(var c=[],l=0;l<t.length;l++){var u=t[l],h=u.geometry,p=u.type,d=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(n<=d&&f<i)c.push(u);else if(!(f<n||i<=d)){var m=[];if("Point"===p||"MultiPoint"===p)ct(h,m,n,i,r);else if("LineString"===p)lt(h,m,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===p)ht(h,m,n,i,r,!1);else if("Polygon"===p)ht(h,m,n,i,r,!0);else if("MultiPolygon"===p)for(var g=0;g<h.length;g++){var y=[];ht(h[g],y,n,i,r,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===p){for(g=0;g<m.length;g++)c.push($(u.id,p,m[g],u.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===m.length?(p="LineString",m=m[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===m.length?"Point":"MultiPoint"),c.push($(u.id,p,m,u.tags))}}}return c.length?c:null}function ct(t,e,n,i,r){for(var a=0;a<t.length;a+=3){var o=t[a+r];n<=o&&o<=i&&(e.push(t[a]),e.push(t[a+1]),e.push(t[a+2]))}}function lt(t,e,n,i,r,a,o){for(var s,c,l=ut(t),u=0===r?dt:ft,h=t.start,p=0;p<t.length-3;p+=3){var d=t[p],f=t[p+1],m=t[p+2],g=t[p+3],y=t[p+4],_=0===r?d:f,v=0===r?g:y,M=!1;o&&(s=Math.sqrt(Math.pow(d-g,2)+Math.pow(f-y,2))),_<n?n<v&&(c=u(l,d,f,g,y,n),o&&(l.start=h+s*c)):i<_?v<i&&(c=u(l,d,f,g,y,i),o&&(l.start=h+s*c)):pt(l,d,f,m),v<n&&n<=_&&(c=u(l,d,f,g,y,n),M=!0),i<v&&_<=i&&(c=u(l,d,f,g,y,i),M=!0),!a&&M&&(o&&(l.end=h+s*c),e.push(l),l=ut(t)),o&&(h+=s)}var b=t.length-3;d=t[b],f=t[b+1],m=t[b+2],(_=0===r?d:f)>=n&&_<=i&&pt(l,d,f,m),b=l.length-3,a&&3<=b&&(l[b]!==l[0]||l[b+1]!==l[1])&&pt(l,l[0],l[1],l[2]),l.length&&e.push(l)}function ut(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ht(t,e,n,i,r,a){for(var o=0;o<t.length;o++)lt(t[o],e,n,i,r,a,!1)}function pt(t,e,n,i){t.push(e),t.push(n),t.push(i)}function dt(t,e,n,i,r,a){var o=(a-e)/(i-e);return t.push(a),t.push(n+(r-n)*o),t.push(1),o}function ft(t,e,n,i,r,a){var o=(a-n)/(r-n);return t.push(e+(i-e)*o),t.push(a),t.push(1),o}function mt(t,e){for(var n=[],i=0;i<t.length;i++){var r,a=t[i],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)r=gt(a.geometry,e);else if("MultiLineString"===o||"Polygon"===o){r=[];for(var s=0;s<a.geometry.length;s++)r.push(gt(a.geometry[s],e))}else if("MultiPolygon"===o)for(r=[],s=0;s<a.geometry.length;s++){for(var c=[],l=0;l<a.geometry[s].length;l++)c.push(gt(a.geometry[s][l],e));r.push(c)}n.push($(a.id,o,r,a.tags))}return n}function gt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var i=0;i<t.length;i+=3)n.push(t[i]+e,t[i+1],t[i+2]);return n}function yt(t,e){if(t.transformed)return t;var n,i,r,a=1<<t.z,o=t.x,s=t.y;for(n=0;n<t.features.length;n++){var c=t.features[n],l=c.geometry,u=c.type;if(c.geometry=[],1===u)for(i=0;i<l.length;i+=2)c.geometry.push(_t(l[i],l[i+1],e,a,o,s));else for(i=0;i<l.length;i++){var h=[];for(r=0;r<l[i].length;r+=2)h.push(_t(l[i][r],l[i][r+1],e,a,o,s));c.geometry.push(h)}}return t.transformed=!0,t}function _t(t,e,n,i,r,a){return[Math.round(n*(t*i-r)),Math.round(n*(e*i-a))]}function vt(t,e,n,i,r){for(var a=e===r.maxZoom?0:r.tolerance/((1<<e)*r.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){o.numFeatures++,Mt(o,t[s],a,r);var c=t[s].minX,l=t[s].minY,u=t[s].maxX,h=t[s].maxY;c<o.minX&&(o.minX=c),l<o.minY&&(o.minY=l),u>o.maxX&&(o.maxX=u),h>o.maxY&&(o.maxY=h)}return o}function Mt(t,e,n,i){var r=e.geometry,a=e.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<r.length;s+=3)o.push(r[s]),o.push(r[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===a)bt(o,r,t,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<r.length;s++)bt(o,r[s],t,n,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var c=0;c<r.length;c++){var l=r[c];for(s=0;s<l.length;s++)bt(o,l[s],t,n,!0,0===s)}if(o.length){var u=e.tags||null;if("LineString"===a&&i.lineMetrics){for(var h in u={},e.tags)u[h]=e.tags[h];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var p={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:u};null!==e.id&&(p.id=e.id),t.features.push(p)}}function bt(t,e,n,i,r,a){var o=i*i;if(0<i&&e.size<(r?o:i))n.numPoints+=e.length/3;else{for(var s=[],c=0;c<e.length;c+=3)(0===i||e[c+2]>o)&&(n.numSimplified++,s.push(e[c]),s.push(e[c+1])),n.numPoints++;r&&function(t,e){for(var n=0,i=0,r=t.length,a=r-2;i<r;a=i,i+=2)n+=(t[i]-t[a])*(t[i+1]+t[a+1]);if(0<n===e)for(i=0,r=t.length;i<r/2;i+=2){var o=t[i],s=t[i+1];t[i]=t[r-2-i],t[i+1]=t[r-1-i],t[r-2-i]=o,t[r-1-i]=s}}(s,a),t.push(s)}}function xt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||24<e.maxZoom)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var i,r,a,o,s,c,l=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)et(n,t.features[i],e,i);else"Feature"===t.type?et(n,t,e):et(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),s=st(o=i=l,1,-1-(a=(r=e).buffer/r.extent),a,0,-1,2,r),c=st(i,1,1-a,2+a,0,-1,2,r),(s||c)&&(o=st(i,1,-a,1+a,0,-1,2,r)||[],s&&(o=mt(s,1).concat(o)),c&&(o=o.concat(mt(c,-1)))),(l=o).length&&this.splitTile(l,0,0,0),n&&(l.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function wt(t,e,n){return 32*((1<<t)*n+e)+t}function At(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return e(null,null);var r=new b(i.features),a=L(r);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:r,rawData:a.buffer})}F.prototype.load=function(t){var e=this.options,n=e.log,i=e.minZoom,r=e.maxZoom,a=e.nodeSize;n&&console.time("total time");var o,s,c,l,u="prepare "+t.length+" points";n&&console.time(u),this.points=t;for(var h=[],p=0;p<t.length;p++)t[p].geometry&&h.push((o=p,c=(s=t[p].geometry.coordinates)[0],l=s[1],{x:V(c),y:G(l),zoom:1/0,index:o,parentId:-1}));this.trees[r+1]=new j(h,Z,J,a,Float32Array),n&&console.timeEnd(u);for(var d=r;i<=d;d--){var f=+Date.now();h=this._cluster(h,d),this.trees[d]=new j(h,Z,J,a,Float32Array),n&&console.log("z%d: %d clusters in %dms",d,h.length,Date.now()-f)}return n&&console.timeEnd("total time"),this},F.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[1])),r=180===t[2]?180:((t[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,t[3]));if(360<=t[2]-t[0])n=-180,r=180;else if(r<n){var o=this.getClusters([n,i,180,a],e),s=this.getClusters([-180,i,r,a],e);return o.concat(s)}for(var c=this.trees[this._limitZoom(e)],l=[],u=0,h=c.range(V(n),G(a),V(r),G(i));u<h.length;u+=1){var p=h[u],d=c.points[p];l.push(d.numPoints?U(d):this.points[d.index])}return l},F.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var a=r.points[e];if(!a)throw new Error(i);for(var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],c=0,l=r.within(a.x,a.y,o);c<l.length;c+=1){var u=l[c],h=r.points[u];h.parentId===t&&s.push(h.numPoints?U(h):this.points[h.index])}if(0===s.length)throw new Error(i);return s},F.prototype.getLeaves=function(t,e,n){e=e||10,n=n||0;var i=[];return this._appendLeaves(i,t,e,n,0),i},F.prototype.getTile=function(t,e,n){var i=this.trees[this._limitZoom(t)],r=Math.pow(2,t),a=this.options,o=a.extent,s=a.radius/o,c=(n-s)/r,l=(n+1+s)/r,u={features:[]};return this._addTileFeatures(i.range((e-s)/r,c,(e+1+s)/r,l),i.points,e,n,r,u),0===e&&this._addTileFeatures(i.range(1-s/r,c,1,l),i.points,r,n,r,u),e===r-1&&this._addTileFeatures(i.range(0,c,s/r,l),i.points,-1,n,r,u),u.features.length?u:null},F.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},F.prototype._appendLeaves=function(t,e,n,i,r){for(var a=0,o=this.getChildren(e);a<o.length;a+=1){var s=o[a],c=s.properties;if(c&&c.cluster?r+c.point_count<=i?r+=c.point_count:r=this._appendLeaves(t,c.cluster_id,n,i,r):r<i?r++:t.push(s),t.length===n)break}return r},F.prototype._addTileFeatures=function(t,e,n,i,r,a){for(var o=0,s=t;o<s.length;o+=1){var c=e[s[o]],l=c.numPoints,u={type:1,geometry:[[Math.round(this.options.extent*(c.x*r-n)),Math.round(this.options.extent*(c.y*r-i))]],tags:l?X(c):this.points[c.index].properties},h=void 0;l?h=c.id:this.options.generateId?h=c.index:this.points[c.index].id&&(h=this.points[c.index].id),void 0!==h&&(u.id=h),a.features.push(u)}},F.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},F.prototype._cluster=function(t,e){for(var n=[],i=this.options,r=i.radius,a=i.extent,o=i.reduce,s=r/(a*Math.pow(2,e)),c=0;c<t.length;c++){var l=t[c];if(!(l.zoom<=e)){l.zoom=e;for(var u=this.trees[e+1],h=u.within(l.x,l.y,s),p=l.numPoints||1,d=l.x*p,f=l.y*p,m=o&&1<p?this._map(l,!0):null,g=(c<<5)+(e+1)+this.points.length,y=0,_=h;y<_.length;y+=1){var v=_[y],M=u.points[v];if(!(M.zoom<=e)){M.zoom=e;var b=M.numPoints||1;d+=M.x*b,f+=M.y*b,p+=b,M.parentId=g,o&&o(m=m||this._map(l,!0),this._map(M))}}1===p?n.push(l):(l.parentId=g,n.push({x:d/p,y:f/p,zoom:1/0,id:g,parentId:-1,numPoints:p,properties:m}))}}return n},F.prototype._getOriginId=function(t){return t-this.points.length>>5},F.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!(F.prototype._map=function(t,e){if(t.numPoints)return e?K({},t.properties):t.properties;var n=this.points[t.index].properties,i=this.options.map(n);return e&&i===n?K({},i):i}),promoteId:null,generateId:!1,debug:0},xt.prototype.splitTile=function(t,e,n,i,r,a,o){for(var s=[t,e,n,i],c=this.options,l=c.debug;s.length;){i=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var u=1<<e,h=wt(e,n,i),p=this.tiles[h];if(!p&&(1<l&&console.time("creation"),p=this.tiles[h]=vt(t,e,n,i,c),this.tileCoords.push({z:e,x:n,y:i}),l)){1<l&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var d="z"+e;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(p.source=t,r){if(e===c.maxZoom||e===r)continue;var f=1<<r-e;if(n!==Math.floor(a/f)||i!==Math.floor(o/f))continue}else if(e===c.indexMaxZoom||p.numPoints<=c.indexMaxPoints)continue;if(p.source=null,0!==t.length){1<l&&console.time("clipping");var m,g,y,_,v,M,b=.5*c.buffer/c.extent,x=.5-b,w=.5+b,A=1+b;m=g=y=_=null,v=st(t,u,n-b,n+w,0,p.minX,p.maxX,c),M=st(t,u,n+x,n+A,0,p.minX,p.maxX,c),t=null,v&&(m=st(v,u,i-b,i+w,1,p.minY,p.maxY,c),g=st(v,u,i+x,i+A,1,p.minY,p.maxY,c),v=null),M&&(y=st(M,u,i-b,i+w,1,p.minY,p.maxY,c),_=st(M,u,i+x,i+A,1,p.minY,p.maxY,c),M=null),1<l&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*i),s.push(g||[],e+1,2*n,2*i+1),s.push(y||[],e+1,2*n+1,2*i),s.push(_||[],e+1,2*n+1,2*i+1)}}},xt.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,a=i.debug;if(t<0||24<t)return null;var o=1<<t,s=wt(t,e=(e%o+o)%o,n);if(this.tiles[s])return yt(this.tiles[s],r);1<a&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,l=t,u=e,h=n;!c&&0<l;)l--,u=Math.floor(u/2),h=Math.floor(h/2),c=this.tiles[wt(l,u,h)];return c&&c.source?(1<a&&console.log("found parent tile z%d-%d-%d",l,u,h),1<a&&console.time("drilling down"),this.splitTile(c.source,l,u,h,t,e,n),1<a&&console.timeEnd("drilling down"),this.tiles[s]?yt(this.tiles[s],r):null):null};var Tt,Lt=(St.__proto__=Tt=c,((St.prototype=Object.create(Tt&&Tt.prototype)).constructor=St).prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},St.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(i&&i.request&&i.request.collectResourceTiming)&&new t.RequestPerformance(i.request);this.loadGeoJSON(i,(function(a,o){if(a||!o)return n(a);if("object"!=typeof o)return n(new Error("Input data given to '"+i.source+"' is not a valid GeoJSON object."));!function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(g(t,n)),e;case"GeometryCollection":return e.geometries=e.geometries.map(g(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return r=n,"Polygon"===(i=e).type?i.coordinates=y(i.coordinates,r):"MultiPolygon"===i.type&&(i.coordinates=i.coordinates.map(g(y,r))),i;default:return e}var i,r}(o,!0);try{e._geoJSONIndex=i.cluster?new F(function(){var e=i.superclusterOptions,n=i.clusterProperties;if(!n||!e)return e;for(var r={},a={},o={accumulated:null,zoom:0},s={properties:null},c=Object.keys(n),l=0,u=c;l<u.length;l+=1){var h=u[l],p=n[h],d=p[0],f=p[1],m=t.createExpression(f),g=t.createExpression("string"==typeof d?[d,["accumulated"],["get",h]]:d);r[h]=m.value,a[h]=g.value}return e.map=function(t){s.properties=t;for(var e={},n=0,i=c;n<i.length;n+=1){var a=i[n];e[a]=r[a].evaluate(o,s)}return e},e.reduce=function(t,e){s.properties=e;for(var n=0,i=c;n<i.length;n+=1){var r=i[n];o.accumulated=t[r],t[r]=a[r].evaluate(o,s)}},e}()).load(o.features):new xt(o,i.geojsonVtOptions)}catch(a){return n(a)}e.loaded={};var s={};if(r){var c=r.finish();c&&(s.resourceTiming={},s.resourceTiming[i.source]=JSON.parse(JSON.stringify(c)))}n(null,s)}))}},St.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},St.prototype.reloadTile=function(t,e){var n=this.loaded,i=t.uid;return n&&n[i]?Tt.prototype.reloadTile.call(this,t,e):this.loadTile(t,e)},St.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},St.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},St.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},St.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},St.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},St);function St(t,e,n,i){Tt.call(this,t,e,n,At),i&&(this.loadGeoJSON=i)}function kt(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:Lt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}}return kt.prototype.setReferrer=function(t,e){this.referrer=e},kt.prototype.setImages=function(t,e,n){this.availableImages[t]=e,n()},kt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},kt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},kt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},kt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},kt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},kt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},kt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},kt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},kt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var i=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==i.removeSource?i.removeSource(e,n):n()}},kt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},kt.prototype.syncRTLPluginState=function(e,n,i){try{t.plugin.setState(n);var r=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=r){this.self.importScripts(r);var a=t.plugin.isParsed();i(a?void 0:new Error("RTL Text Plugin failed to import scripts from "+r),a)}}catch(e){i(e.toString())}},kt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||[]},kt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(this.layerIndexes[t]=new i)},kt.prototype.getWorkerSource=function(t,e,n){var i=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][n]){var r={send:function(e,n,r){i.actor.send(e,n,r,t)}};this.workerSources[t][e][n]=new this.workerSourceTypes[e](r,this.getLayerIndex(t),this.getAvailableImages(t))}return this.workerSources[t][e][n]},kt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new l),this.demWorkerSources[t][e]},kt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&void 0!==t.window&&t.window instanceof WorkerGlobalScope&&(t.window.worker=new kt(t.window)),kt})),n(0,(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if("Worker"in window&&"Blob"in window&&"URL"in window){var t,e,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{e=new Worker(i),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(i),t}}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&(i=t&&t.failIfMajorPerformanceCaveat,void 0===n[i]&&(n[i]=(r=i,a=document.createElement("canvas"),(o=Object.create(e.webGLContextAttributes)).failIfMajorPerformanceCaveat=r,a.probablySupportsContext?a.probablySupportsContext("webgl",o)||a.probablySupportsContext("experimental-webgl",o):a.supportsContext?a.supportsContext("webgl",o)||a.supportsContext("experimental-webgl",o):a.getContext("webgl",o)||a.getContext("experimental-webgl",o))),n[i]));var i,r,a,o}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var n={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,i){var r=t.window.document.createElement(e);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},i=t.window.document.documentElement.style;function r(t){if(!i)return t[0];for(var e=0;e<t.length;e++)if(t[e]in i)return t[e];return t[0]}var a,o=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){i&&o&&(a=i[o],i[o]="none")},n.enableDrag=function(){i&&o&&(i[o]=a)};var s=r(["transform","WebkitTransform"]),c=!(n.setTransform=function(t,e){t.style[s]=e});try{var l=Object.defineProperty({},"passive",{get:function(){c=!0}});t.window.addEventListener("test",l,l),t.window.removeEventListener("test",l,l)}catch(t){c=!1}n.addEventListener=function(t,e,n,i){void 0===i&&(i={}),"passive"in i&&c?t.addEventListener(e,n,i):t.addEventListener(e,n,i.capture)},n.removeEventListener=function(t,e,n,i){void 0===i&&(i={}),"passive"in i&&c?t.removeEventListener(e,n,i):t.removeEventListener(e,n,i.capture)};var u=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",u,!0)};n.suppressClick=function(){t.window.addEventListener("click",u,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",u,!0)}),0)},n.mousePos=function(e,n){var i=e.getBoundingClientRect(),r=t.window.TouchEvent&&n instanceof t.window.TouchEvent?n.touches[0]:n;return new t.Point(r.clientX-i.left-e.clientLeft,r.clientY-i.top-e.clientTop)},n.touchPos=function(e,n){for(var i=e.getBoundingClientRect(),r=[],a="touchend"===n.type?n.changedTouches:n.touches,o=0;o<a.length;o++)r.push(new t.Point(a[o].clientX-i.left-e.clientLeft,a[o].clientY-i.top-e.clientTop));return r},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&0<=t.window.navigator.platform.toUpperCase().indexOf("MAC")?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var h,p=((h=t.Evented)&&(d.__proto__=h),((d.prototype=Object.create(h&&h.prototype)).constructor=d).prototype.isLoaded=function(){return this.loaded},d.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var i=n[e],r=i.ids,a=i.callback;this._notify(r,a)}this.requestors=[]}},d.prototype.getImage=function(t){return this.images[t]},d.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},d.prototype._validate=function(e,n){var i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),i=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),i=!1),i},d.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,i=0,r=t;i<r.length;i+=1){var a=r[i];if(a[0]<n||a[1]<a[0]||e<a[1])return!1;n=a[1]}return!0},d.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},d.prototype.updateImage=function(t,e){var n=this.images[t];e.version=n.version+1,this.images[t]=e,this.updatedImages[t]=!0},d.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},d.prototype.listImages=function(){return Object.keys(this.images)},d.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var i=0,r=t;i<r.length;i+=1){var a=r[i];this.images[a]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},d.prototype._notify=function(e,n){for(var i={},r=0,a=e;r<a.length;r+=1){var o=a[r];this.images[o]||this.fire(new t.Event("styleimagemissing",{id:o}));var s=this.images[o];s?i[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,i)},d.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},d.prototype.getPattern=function(e){var n=this.patterns[e],i=this.getImage(e);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{var r={w:i.data.width+2,h:i.data.height+2,x:0,y:0},a=new t.ImagePosition(r,i);this.patterns[e]={bin:r,position:a}}return this._updatePatternAtlas(),this.patterns[e].position},d.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},d.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var i=t.potpack(e),r=i.w,a=i.h,o=this.atlasImage;for(var s in o.resize({width:r||1,height:a||1}),this.patterns){var c=this.patterns[s].bin,l=c.x+1,u=c.y+1,h=this.images[s].data,p=h.width,d=h.height;t.RGBAImage.copy(h,o,{x:0,y:0},{x:l,y:u},{width:p,height:d}),t.RGBAImage.copy(h,o,{x:0,y:d-1},{x:l,y:u-1},{width:p,height:1}),t.RGBAImage.copy(h,o,{x:0,y:0},{x:l,y:u+d},{width:p,height:1}),t.RGBAImage.copy(h,o,{x:p-1,y:0},{x:l-1,y:u},{width:1,height:d}),t.RGBAImage.copy(h,o,{x:0,y:0},{x:l+p,y:u},{width:1,height:d})}this.dirty=!0},d.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},d.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if(!this.callbackDispatchedThisFrame[i]){this.callbackDispatchedThisFrame[i]=!0;var r=this.images[i];o=void 0,(o=(a=r).userImage)&&o.render&&o.render()&&(a.data.replace(new Uint8Array(o.data.buffer)),1)&&this.updateImage(i,r)}}var a,o},d);function d(){h.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}var f=y,m=y,g=1e20;function y(t,e,n,i,r,a){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=i||.25,this.fontFamily=r||"sans-serif",this.fontWeight=a||"normal",this.radius=n||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(0<=navigator.userAgent.indexOf("Gecko/")?1.2:1))}function _(t,e,n,i,r,a,o){for(var s=0;s<e;s++){for(var c=0;c<n;c++)i[c]=t[c*e+s];for(v(i,r,a,o,n),c=0;c<n;c++)t[c*e+s]=r[c]}for(c=0;c<n;c++){for(s=0;s<e;s++)i[s]=t[c*e+s];for(v(i,r,a,o,e),s=0;s<e;s++)t[c*e+s]=Math.sqrt(r[s])}}function v(t,e,n,i,r){i[n[0]=0]=-g,i[1]=+g;for(var a=1,o=0;a<r;a++){for(var s=(t[a]+a*a-(t[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);s<=i[o];)o--,s=(t[a]+a*a-(t[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);n[++o]=a,i[o]=s,i[o+1]=+g}for(o=a=0;a<r;a++){for(;i[o+1]<a;)o++;e[a]=(a-n[o])*(a-n[o])+t[n[o]]}}function M(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}}function b(){this.specification=t.styleSpec.light.position}function x(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}y.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var r=e.data[4*i+3]/255;this.gridOuter[i]=1==r?0:0==r?g:Math.pow(Math.max(0,.5-r),2),this.gridInner[i]=1==r?g:0==r?0:Math.pow(Math.max(0,r-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++){var a=this.gridOuter[i]-this.gridInner[i];n[i]=Math.max(0,Math.min(255,Math.round(255-255*(a/this.radius+this.cutoff))))}return n},f.default=m,M.prototype.setURL=function(t){this.url=t},M.prototype.getGlyphs=function(e,n){var i=this,r=[];for(var a in e)for(var o=0,s=e[a];o<s.length;o+=1){var c=s[o];r.push({stack:a,id:c})}t.asyncAll(r,(function(t,e){var n=t.stack,r=t.id,a=i.entries[n],o=(a=a||(i.entries[n]={glyphs:{},requests:{}})).glyphs[r];if(void 0===o){if(o=i._tinySDF(a,n,r))return a.glyphs[r]=o,void e(null,{stack:n,id:r,glyph:o});var s=Math.floor(r/256);if(65535<256*s)e(new Error("glyphs > 65535 not supported"));else{var c=a.requests[s];c||(c=a.requests[s]=[],M.loadGlyphRange(n,s,i.url,i.requestManager,(function(t,e){if(e)for(var n in e)i._doesCharSupportLocalGlyph(+n)||(a.glyphs[+n]=e[+n]);for(var r=0,o=c;r<o.length;r+=1)(0,o[r])(t,e);delete a.requests[s]}))),c.push((function(t,i){t?e(t):i&&e(null,{stack:n,id:r,glyph:i[r]||null})}))}}else e(null,{stack:n,id:r,glyph:o})}),(function(t,e){if(t)n(t);else if(e){for(var i={},r=0,a=e;r<a.length;r+=1){var o=a[r],s=o.stack,c=o.id,l=o.glyph;(i[s]||(i[s]={}))[c]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,i)}}))},M.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},M.prototype._tinySDF=function(e,n,i){var r=this.localIdeographFontFamily;if(r&&this._doesCharSupportLocalGlyph(i)){var a=e.tinySDF;if(!a){var o="400";/bold/i.test(n)?o="900":/medium/i.test(n)?o="500":/light/i.test(n)&&(o="200"),a=e.tinySDF=new M.TinySDF(24,3,8,.25,r,o)}return{id:i,bitmap:new t.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=function(e,n,i,r,a){var o=256*n,s=255+o,c=r.transformRequest(r.normalizeGlyphsURL(i).replace("{fontstack}",e).replace("{range}",o+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(c,(function(e,n){if(e)a(e);else if(n){for(var i={},r=0,o=t.parseGlyphPBF(n);r<o.length;r+=1){var s=o[r];i[s.id]=s}a(null,i)}}))},M.TinySDF=f,b.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},b.prototype.interpolate=function(e,n,i){return{x:t.number(e.x,n.x,i),y:t.number(e.y,n.y,i),z:t.number(e.z,n.z,i)}};var w,A=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new b,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),T=((w=t.Evented)&&(L.__proto__=w),((L.prototype=Object.create(w&&w.prototype)).constructor=L).prototype.getLight=function(){return this._transitionable.serialize()},L.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var i in e){var r=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),r):this._transitionable.setValue(i,r)}},L.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},L.prototype.hasTransition=function(){return this._transitioning.hasTransition()},L.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},L.prototype._validate=function(e,n,i){return(!i||!1!==i.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},L);function L(e){w.call(this),this._transitionable=new t.Transitionable(A),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}function S(e,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),r=0;r<i.length;r++){var a=i[r],o=new S.Actor(a,n,this.id);o.name="Worker "+r,this.actors.push(o)}}function k(e,n,i){function r(r,a){if(r)return i(r);if(a){var o=t.pick(t.extend(a,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(t){return t.id}))),o.tiles=n.canonicalizeTileset(o,e.url),i(null,o)}}return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),r):t.browser.frame((function(){return r(null,e)}))}function O(e,n,i){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=i||24}x.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},x.prototype.getDashRanges=function(t,e,n){var i=[],r=t.length%2==1?-t[t.length-1]*n:0,a=t[0]*n,o=!0;i.push({left:r,right:a,isDash:o,zeroLength:0===t[0]});for(var s=t[0],c=1;c<t.length;c++){o=!o;var l=t[c];r=s*n,a=(s+=l)*n,i.push({left:r,right:a,isDash:o,zeroLength:0===l})}return i},x.prototype.addRoundDash=function(t,e,n){for(var i=e/2,r=-n;r<=n;r++)for(var a=this.nextRow+n+r,o=this.width*a,s=0,c=t[s],l=0;l<this.width;l++){1<l/c.right&&(c=t[++s]);var u=Math.abs(l-c.left),h=Math.abs(l-c.right),p=Math.min(u,h),d=void 0,f=r/n*(1+i);if(c.isDash){var m=i-Math.abs(f);d=Math.sqrt(p*p+m*m)}else d=i-Math.sqrt(p*p+f*f);this.data[o+l]=Math.max(0,Math.min(255,d+128))}},x.prototype.addRegularDash=function(t){for(var e=t.length-1;0<=e;--e){var n=t[e],i=t[e+1];n.zeroLength?t.splice(e,1):i&&i.isDash===n.isDash&&(i.left=n.left,t.splice(e,1))}var r=t[0],a=t[t.length-1];r.isDash===a.isDash&&(r.left=a.left-this.width,a.right=r.right+this.width);for(var o=this.width*this.nextRow,s=0,c=t[s],l=0;l<this.width;l++){1<l/c.right&&(c=t[++s]);var u=Math.abs(l-c.left),h=Math.abs(l-c.right),p=Math.min(u,h),d=c.isDash?p:-p;this.data[o+l]=Math.max(0,Math.min(255,d+128))}},x.prototype.addDash=function(e,n){var i=n?7:0,r=2*i+1;if(this.nextRow+r>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var a=0,o=0;o<e.length;o++)a+=e[o];var s=this.width/a,c=this.getDashRanges(e,this.width,s);n?this.addRoundDash(c,s,i):this.addRegularDash(c);var l={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:a};return this.nextRow+=r,this.dirty=!0,l},x.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))},S.prototype.broadcast=function(e,n,i){i=i||function(){},t.asyncAll(this.actors,(function(t,i){t.send(e,n,i)}),i)},S.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},S.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},S.Actor=t.Actor,O.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},O.prototype.contains=function(e){var n=Math.pow(2,e.z),i=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),a=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=i&&e.x<a&&e.y>=r&&e.y<o};var z,C,E,D,N,I=((N=t.Evented)&&(U.__proto__=N),((U.prototype=Object.create(N&&N.prototype)).constructor=U).prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,(function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new O(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},U.prototype.loaded=function(){return this._loaded},U.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},U.prototype.onAdd=function(t){this.map=t,this.load()},U.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},U.prototype.serialize=function(){return t.extend({},this._options)},U.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(i,r){return delete e.request,e.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",r,a.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",r,a.bind(this)))},U.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},U.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},U.prototype.hasTransition=function(){return!1},U),P=((D=t.Evented)&&(H.__proto__=D),((H.prototype=Object.create(D&&D.prototype)).constructor=H).prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,(function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new O(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},H.prototype.loaded=function(){return this._loaded},H.prototype.onAdd=function(t){this.map=t,this.load()},H.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},H.prototype.serialize=function(){return t.extend({},this._options)},H.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},H.prototype.loadTile=function(e,n){var i=this,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),(function(r,a){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(a){i.map._refreshExpiredTiles&&e.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=i.map.painter.context,s=o.gl;e.texture=i.map.painter.getTileTexture(a.width),e.texture?e.texture.update(a,{useMipmap:!0}):(e.texture=new t.Texture(o,a,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(i.dispatcher),n(null)}}))},H.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},H.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},H.prototype.hasTransition=function(){return!1},H),B=(F.__proto__=E=P,((F.prototype=Object.create(E&&E.prototype)).constructor=F).prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},F.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),function(i,r){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=t.window.ImageBitmap&&r instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?r:t.browser.getImageData(r,1),o={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",o,function(t,i){t&&(e.state="errored",n(t)),i&&(e.dem=i,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},F.prototype._getNeighboringTiles=function(e){var n=e.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,a=0===n.x?e.wrap-1:e.wrap,o=(n.x+1+i)%i,s=n.x+1===i?e.wrap+1:e.wrap,c={};return c[new t.OverscaledTileID(e.overscaledZ,a,n.z,r,n.y).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},0<n.y&&(c[new t.OverscaledTileID(e.overscaledZ,a,n.z,r,n.y-1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<i&&(c[new t.OverscaledTileID(e.overscaledZ,a,n.z,r,n.y+1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},c[new t.OverscaledTileID(e.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),c},F.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},F),R=((C=t.Evented)&&(j.__proto__=C),((j.prototype=Object.create(C&&C.prototype)).constructor=j).prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&0<e._resourceTiming.length&&(i.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",i))}}))},j.prototype.onAdd=function(t){this.map=t,this.load()},j.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var i={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&0<n._resourceTiming.length&&(i.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",i))}})),this},j.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},j.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},j.prototype.getClusterLeaves=function(t,e,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},i),this},j.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var i=t.extend({},this.workerOptions),r=this._data;"string"==typeof r?(i.request=this.map._requestManager.transformRequest(t.browser.resolveURL(r),t.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(r),this.actor.send(this.type+".loadData",i,(function(t,r){n._removed||r&&r.abandoned||(n._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[n.id]&&(n._resourceTiming=r.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:i.source},null),e(t))}))},j.prototype.loaded=function(){return this._loaded},j.prototype.loadTile=function(e,n){var i=this,r=e.actor?"reloadTile":"loadTile";e.actor=this.actor;var a={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(r,a,(function(t,a){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(a,i.map.painter,"reloadTile"==r),n(null))}))},j.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},j.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},j.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},j.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},j.prototype.hasTransition=function(){return!1},j),q=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Y=((z=t.Evented)&&(W.__proto__=z),((W.prototype=Object.create(z&&z.prototype)).constructor=W).prototype.load=function(e,n){var i=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(r,a){i._loaded=!0,r?i.fire(new t.ErrorEvent(r)):a&&(i.image=a,e&&(i.coordinates=e),n&&n(),i._finishLoading())}))},W.prototype.loaded=function(){return this._loaded},W.prototype.updateImage=function(t){var e=this;return this.image&&t.url&&(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null}))),this},W.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},W.prototype.onAdd=function(t){this.map=t,this.load()},W.prototype.setCoordinates=function(e){var n=this,i=(this.coordinates=e).map(t.MercatorCoordinate.fromLngLat);this.tileID=function(){for(var e=1/0,n=1/0,r=-1/0,a=-1/0,o=0,s=i;o<s.length;o+=1){var c=s[o];e=Math.min(e,c.x),n=Math.min(n,c.y),r=Math.max(r,c.x),a=Math.max(a,c.y)}var l=r-e,u=a-n,h=Math.max(l,u),p=Math.max(0,Math.floor(-Math.log(h)/Math.LN2)),d=Math.pow(2,p);return new t.CanonicalTileID(p,Math.floor((e+r)/2*d),Math.floor((n+a)/2*d))}(),this.minzoom=this.maxzoom=this.tileID.z;var r=i.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},W.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},W.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t).buckets={}:t.state="errored",e(null)},W.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},W.prototype.hasTransition=function(){return!1},W);function W(t,e,n,i){z.call(this),this.id=t,this.dispatcher=n,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=e}function j(e,n,i,r){C.call(this),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(n.clusterRadius||50)*a,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties},n.workerOptions)}function F(e,n,i,r){E.call(this,e,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}function H(e,n,i,r){D.call(this),this.id=e,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}function U(e,n,i,r){if(N.call(this),this.id=e,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(n,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}var X,V,G=(Q.__proto__=V=Y,((Q.prototype=Object.create(V&&V.prototype)).constructor=Q).prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var i=0,r=n.urls;i<r.length;i+=1){var a=r[i];this.urls.push(this.map._requestManager.transformRequest(a,t.ResourceType.Source).url)}t.getVideo(this.urls,(function(n,i){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(e.video=i,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},Q.prototype.pause=function(){this.video&&this.video.pause()},Q.prototype.play=function(){this.video&&this.video.play()},Q.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},Q.prototype.getVideo=function(){return this.video},Q.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Q.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},Q.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Q.prototype.hasTransition=function(){return this.video&&!this.video.paused},Q),K=(J.__proto__=X=Y,((J.prototype=Object.create(X&&X.prototype)).constructor=J).prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},J.prototype.getCanvas=function(){return this.canvas},J.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},J.prototype.onRemove=function(){this.pause()},J.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,i=n.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,q.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,i.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[r];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},J.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},J.prototype.hasTransition=function(){return this._playing},J.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},J),Z={vector:I,raster:P,"raster-dem":B,geojson:R,video:G,image:Y,canvas:K};function J(e,n,i,r){X.call(this,e,n,i,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+e,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}function Q(t,e,n,i){V.call(this,t,e,n,i),this.roundZoom=!0,this.type="video",this.options=e}function $(e,n,i,r,a){var o,s,c,l=function(t,e,n){if(t)for(var i=0,r=t;i<r.length;i+=1){var a=e[r[i]];if(a&&a.source===n&&"fill-extrusion"===a.type)return!0}else for(var o in e){var s=e[o];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,n,e.id),u=a.maxPitchScaleFactor(),h=e.tilesIn(i,u,l);h.sort(tt);for(var p=[],d=0,f=h;d<f.length;d+=1){var m=f[d];p.push({wrappedTileID:m.tileID.wrapped().key,queryResults:m.tile.queryRenderedFeatures(n,e._state,m.queryGeometry,m.cameraQueryGeometry,m.scale,r,a,u,(o=e.transform,s=m.tileID,c=t.identity([]),t.translate(c,c,[1,1,0]),t.scale(c,c,[.5*o.width,.5*o.height,1]),t.multiply(c,c,o.calculatePosMatrix(s.toUnwrapped()))))})}var g=function(){for(var t={},e={},n=0,i=p;n<i.length;n+=1){var r=i[n],a=r.queryResults,o=r.wrappedTileID,s=e[o]=e[o]||{};for(var c in a)for(var l=a[c],u=s[c]=s[c]||{},h=t[c]=t[c]||[],d=0,f=l;d<f.length;d+=1){var m=f[d];u[m.featureIndex]||(u[m.featureIndex]=!0,h.push(m))}}return t}();for(var y in g)g[y].forEach((function(t){var n=t.feature,i=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i}));return g}function tt(t,e){var n=t.tileID,i=e.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function et(t,e){this.max=t,this.onRemove=e,this.reset()}function nt(t,e,n){var i=(this.context=t).gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}function it(t,e,n,i){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=i;var r=(this.context=t).gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}et.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var i=n[e];i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value)}return this.data={},this.order=[],this},et.prototype.add=function(t,e,n){var i=this,r=t.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);var a={value:e,timeout:void 0};if(void 0!==n&&(a.timeout=setTimeout((function(){i.remove(t,a)}),n)),this.data[r].push(a),this.order.push(r),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},et.prototype.has=function(t){return t.wrapped().key in this.data},et.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},et.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},et.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},et.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},et.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,i=void 0===e?0:this.data[n].indexOf(e),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this},et.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},et.prototype.filter=function(t){var e=[];for(var n in this.data)for(var i=0,r=this.data[n];i<r.length;i+=1){var a=r[i];t(a.value)||e.push(a)}for(var o=0,s=e;o<s.length;o+=1){var c=s[o];this.remove(c.value.tileID,c)}},nt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},nt.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},nt.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var rt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};function at(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}function ot(t,e,n){this.context=t,this.width=e,this.height=n;var i=t.gl,r=this.framebuffer=i.createFramebuffer();this.colorAttachment=new ve(t,r),this.depthAttachment=new Me(t,r)}it.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},it.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},it.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],r=e.attributes[i.name];void 0!==r&&t.enableVertexAttribArray(r)}},it.prototype.setVertexAttribPointers=function(t,e,n){for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i],a=e.attributes[r.name];void 0!==a&&t.vertexAttribPointer(a,r.components,t[rt[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}},it.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},at.prototype.get=function(){return this.current},at.prototype.set=function(t){},at.prototype.getDefault=function(){return this.default},at.prototype.setDefault=function(){this.set(this.default)};var st,ct,lt,ut,ht,pt,dt,ft,mt,gt,yt,_t,vt,Mt,bt,xt,wt,At,Tt,Lt,St,kt,Ot,zt,Ct,Et,Dt,Nt,It,Pt,Bt,Rt,qt,Yt,Wt=(tn.__proto__=Yt=at,((tn.prototype=Object.create(Yt&&Yt.prototype)).constructor=tn).prototype.getDefault=function(){return t.Color.transparent},tn.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a&&!this.dirty||(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},tn),jt=($e.__proto__=qt=at,(($e.prototype=Object.create(qt&&qt.prototype)).constructor=$e).prototype.getDefault=function(){return 1},$e.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},$e),Ft=(Qe.__proto__=Rt=at,((Qe.prototype=Object.create(Rt&&Rt.prototype)).constructor=Qe).prototype.getDefault=function(){return 0},Qe.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},Qe),Ht=(Je.__proto__=Bt=at,((Je.prototype=Object.create(Bt&&Bt.prototype)).constructor=Je).prototype.getDefault=function(){return[!0,!0,!0,!0]},Je.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&!this.dirty||(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},Je),Ut=(Ze.__proto__=Pt=at,((Ze.prototype=Object.create(Pt&&Pt.prototype)).constructor=Ze).prototype.getDefault=function(){return!0},Ze.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.depthMask(t),this.current=t,this.dirty=!1)},Ze),Xt=(Ke.__proto__=It=at,((Ke.prototype=Object.create(It&&It.prototype)).constructor=Ke).prototype.getDefault=function(){return 255},Ke.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},Ke),Vt=(Ge.__proto__=Nt=at,((Ge.prototype=Object.create(Nt&&Nt.prototype)).constructor=Ge).prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Ge.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask&&!this.dirty||(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},Ge),Gt=(Ve.__proto__=Dt=at,((Ve.prototype=Object.create(Dt&&Dt.prototype)).constructor=Ve).prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},Ve.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&!this.dirty||(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},Ve),Kt=(Xe.__proto__=Et=at,((Xe.prototype=Object.create(Et&&Et.prototype)).constructor=Xe).prototype.getDefault=function(){return!1},Xe.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},Xe),Zt=(Ue.__proto__=Ct=at,((Ue.prototype=Object.create(Ct&&Ct.prototype)).constructor=Ue).prototype.getDefault=function(){return[0,1]},Ue.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&!this.dirty||(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},Ue),Jt=(He.__proto__=zt=at,((He.prototype=Object.create(zt&&zt.prototype)).constructor=He).prototype.getDefault=function(){return!1},He.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},He),Qt=(Fe.__proto__=Ot=at,((Fe.prototype=Object.create(Ot&&Ot.prototype)).constructor=Fe).prototype.getDefault=function(){return this.gl.LESS},Fe.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},Fe),$t=(je.__proto__=kt=at,((je.prototype=Object.create(kt&&kt.prototype)).constructor=je).prototype.getDefault=function(){return!1},je.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},je),te=(We.__proto__=St=at,((We.prototype=Object.create(St&&St.prototype)).constructor=We).prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},We.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&!this.dirty||(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},We),ee=(Ye.__proto__=Lt=at,((Ye.prototype=Object.create(Lt&&Lt.prototype)).constructor=Ye).prototype.getDefault=function(){return t.Color.transparent},Ye.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a&&!this.dirty||(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},Ye),ne=(qe.__proto__=Tt=at,((qe.prototype=Object.create(Tt&&Tt.prototype)).constructor=qe).prototype.getDefault=function(){return this.gl.FUNC_ADD},qe.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},qe),ie=(Re.__proto__=At=at,((Re.prototype=Object.create(At&&At.prototype)).constructor=Re).prototype.getDefault=function(){return!1},Re.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},Re),re=(Be.__proto__=wt=at,((Be.prototype=Object.create(wt&&wt.prototype)).constructor=Be).prototype.getDefault=function(){return this.gl.BACK},Be.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.cullFace(t),this.current=t,this.dirty=!1)},Be),ae=(Pe.__proto__=xt=at,((Pe.prototype=Object.create(xt&&xt.prototype)).constructor=Pe).prototype.getDefault=function(){return this.gl.CCW},Pe.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.frontFace(t),this.current=t,this.dirty=!1)},Pe),oe=(Ie.__proto__=bt=at,((Ie.prototype=Object.create(bt&&bt.prototype)).constructor=Ie).prototype.getDefault=function(){return null},Ie.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.useProgram(t),this.current=t,this.dirty=!1)},Ie),se=(Ne.__proto__=Mt=at,((Ne.prototype=Object.create(Mt&&Mt.prototype)).constructor=Ne).prototype.getDefault=function(){return this.gl.TEXTURE0},Ne.prototype.set=function(t){t===this.current&&!this.dirty||(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},Ne),ce=(De.__proto__=vt=at,((De.prototype=Object.create(vt&&vt.prototype)).constructor=De).prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},De.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&!this.dirty||(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},De),le=(Ee.__proto__=_t=at,((Ee.prototype=Object.create(_t&&_t.prototype)).constructor=Ee).prototype.getDefault=function(){return null},Ee.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},Ee),ue=(Ce.__proto__=yt=at,((Ce.prototype=Object.create(yt&&yt.prototype)).constructor=Ce).prototype.getDefault=function(){return null},Ce.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},Ce),he=(ze.__proto__=gt=at,((ze.prototype=Object.create(gt&&gt.prototype)).constructor=ze).prototype.getDefault=function(){return null},ze.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},ze),pe=(Oe.__proto__=mt=at,((Oe.prototype=Object.create(mt&&mt.prototype)).constructor=Oe).prototype.getDefault=function(){return null},Oe.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},Oe),de=(ke.__proto__=ft=at,((ke.prototype=Object.create(ft&&ft.prototype)).constructor=ke).prototype.getDefault=function(){return null},ke.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},ke),fe=(Se.__proto__=dt=at,((Se.prototype=Object.create(dt&&dt.prototype)).constructor=Se).prototype.getDefault=function(){return null},Se.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},Se),me=(Le.__proto__=pt=at,((Le.prototype=Object.create(pt&&pt.prototype)).constructor=Le).prototype.getDefault=function(){return 4},Le.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},Le),ge=(Te.__proto__=ht=at,((Te.prototype=Object.create(ht&&ht.prototype)).constructor=Te).prototype.getDefault=function(){return!1},Te.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},Te),ye=(Ae.__proto__=ut=at,((Ae.prototype=Object.create(ut&&ut.prototype)).constructor=Ae).prototype.getDefault=function(){return!1},Ae.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},Ae),_e=(we.__proto__=lt=at,((we.prototype=Object.create(lt&&lt.prototype)).constructor=we).prototype.getDefault=function(){return null},we),ve=(xe.__proto__=ct=_e,((xe.prototype=Object.create(ct&&ct.prototype)).constructor=xe).prototype.setDirty=function(){this.dirty=!0},xe.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},xe),Me=(be.__proto__=st=_e,((be.prototype=Object.create(st&&st.prototype)).constructor=be).prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},be);function be(){st.apply(this,arguments)}function xe(){ct.apply(this,arguments)}function we(t,e){lt.call(this,t),this.context=t,this.parent=e}function Ae(){ut.apply(this,arguments)}function Te(){ht.apply(this,arguments)}function Le(){pt.apply(this,arguments)}function Se(t){dt.call(this,t),this.vao=t.extVertexArrayObject}function ke(){ft.apply(this,arguments)}function Oe(){mt.apply(this,arguments)}function ze(){gt.apply(this,arguments)}function Ce(){yt.apply(this,arguments)}function Ee(){_t.apply(this,arguments)}function De(){vt.apply(this,arguments)}function Ne(){Mt.apply(this,arguments)}function Ie(){bt.apply(this,arguments)}function Pe(){xt.apply(this,arguments)}function Be(){wt.apply(this,arguments)}function Re(){At.apply(this,arguments)}function qe(){Tt.apply(this,arguments)}function Ye(){Lt.apply(this,arguments)}function We(){St.apply(this,arguments)}function je(){kt.apply(this,arguments)}function Fe(){Ot.apply(this,arguments)}function He(){zt.apply(this,arguments)}function Ue(){Ct.apply(this,arguments)}function Xe(){Et.apply(this,arguments)}function Ve(){Dt.apply(this,arguments)}function Ge(){Nt.apply(this,arguments)}function Ke(){It.apply(this,arguments)}function Ze(){Pt.apply(this,arguments)}function Je(){Bt.apply(this,arguments)}function Qe(){Rt.apply(this,arguments)}function $e(){qt.apply(this,arguments)}function tn(){Yt.apply(this,arguments)}ot.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var en=function(t,e,n){this.func=t,this.mask=e,this.range=n};en.ReadOnly=!1,en.ReadWrite=!0,en.disabled=new en(519,en.ReadOnly,[0,1]);var nn=function(t,e,n,i,r,a){this.test=t,this.ref=e,this.mask=n,this.fail=i,this.depthFail=r,this.pass=a};function rn(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n}nn.disabled=new nn({func:519,mask:0},0,0,7680,7680,7680),rn.disabled=new rn(rn.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),rn.unblended=new rn(rn.Replace,t.Color.transparent,[!0,!0,!0,!0]),rn.alphaBlended=new rn([1,771],t.Color.transparent,[!0,!0,!0,!0]);var an=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};function on(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Wt(this),this.clearDepth=new jt(this),this.clearStencil=new Ft(this),this.colorMask=new Ht(this),this.depthMask=new Ut(this),this.stencilMask=new Xt(this),this.stencilFunc=new Vt(this),this.stencilOp=new Gt(this),this.stencilTest=new Kt(this),this.depthRange=new Zt(this),this.depthTest=new Jt(this),this.depthFunc=new Qt(this),this.blend=new $t(this),this.blendFunc=new te(this),this.blendColor=new ee(this),this.blendEquation=new ne(this),this.cullFace=new ie(this),this.cullFaceSide=new re(this),this.frontFace=new ae(this),this.program=new oe(this),this.activeTexture=new se(this),this.viewport=new ce(this),this.bindFramebuffer=new le(this),this.bindRenderbuffer=new ue(this),this.bindTexture=new he(this),this.bindVertexBuffer=new pe(this),this.bindElementBuffer=new de(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new fe(this),this.pixelStoreUnpack=new me(this),this.pixelStoreUnpackPremultiplyAlpha=new ge(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear"),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query")}an.disabled=new an(!1,1029,2305),an.backCCW=new an(!0,1029,2305),on.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},on.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},on.prototype.createIndexBuffer=function(t,e){return new nt(this,t,e)},on.prototype.createVertexBuffer=function(t,e,n){return new it(this,t,e,n)},on.prototype.createRenderbuffer=function(t,e,n){var i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),r},on.prototype.createFramebuffer=function(t,e){return new ot(this,t,e)},on.prototype.clear=function(t){var e=t.color,n=t.depth,i=this.gl,r=0;e&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),i.clear(r)},on.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},on.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},on.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},on.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,rn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},on.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var sn,cn=((sn=t.Evented)&&(ln.__proto__=sn),((ln.prototype=Object.create(sn&&sn.prototype)).constructor=ln).prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},ln.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},ln.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},ln.prototype.getSource=function(){return this._source},ln.prototype.pause=function(){this._paused=!0},ln.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},ln.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},ln.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},ln.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},ln.prototype.serialize=function(){return this._source.serialize()},ln.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},ln.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(un).map((function(t){return t.key}))},ln.prototype.getRenderableIds=function(e){var n=this,i=[];for(var r in this._tiles)this._isIdRenderable(r,e)&&i.push(this._tiles[r]);return e?i.sort((function(e,i){var r=e.tileID,a=i.tileID,o=new t.Point(r.canonical.x,r.canonical.y)._rotate(n.transform.angle),s=new t.Point(a.canonical.x,a.canonical.y)._rotate(n.transform.angle);return r.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x})).map((function(t){return t.tileID.key})):i.map((function(t){return t.tileID})).sort(un).map((function(t){return t.key}))},ln.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},ln.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},ln.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},ln.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},ln.prototype._tileLoaded=function(e,n,i,r){if(r)return e.state="errored",void(404!==r.status?this._source.fire(new t.ErrorEvent(r,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},ln.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var i=e[n];if(t.neighboringTiles&&t.neighboringTiles[i]){var r=this.getTileByID(i);a(t,r),a(r,t)}}function a(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,i=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),a=e.tileID.key;0===n&&0==i||1<Math.abs(i)||(1<Math.abs(n)&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,i),t.neighboringTiles&&t.neighboringTiles[a]&&(t.neighboringTiles[a].backfilled=!0)))}},ln.prototype.getTile=function(t){return this.getTileByID(t.key)},ln.prototype.getTileByID=function(t){return this._tiles[t]},ln.prototype._retainLoadedChildren=function(t,e,n,i){for(var r in this._tiles){var a=this._tiles[r];if(!(i[r]||!a.hasData()||a.tileID.overscaledZ<=e||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>e+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var c=o;c.overscaledZ>e;)if(t[(c=c.scaledTo(c.overscaledZ-1)).key]){i[o.key]=o;break}}}},ln.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var i=t.overscaledZ-1;e<=i;i--){var r=t.scaledTo(i),a=this._getLoadedTile(r);if(a)return a}},ln.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},ln.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)},ln.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,n=Math.round(e);if(this._prevLng=t,n){var i={};for(var r in this._tiles){var a=this._tiles[r];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+n),i[a.tileID.key]=a}for(var o in this._tiles=i,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var s in this._tiles){var c=this._tiles[s];this._setTileReloadTimer(s,c)}}},ln.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return n._source.hasTile(t)})))):i=[];var r=e.coveringZoomLevel(this._source),a=Math.max(r-ln.maxOverzooming,this._source.minzoom),o=Math.max(r+ln.maxUnderzooming,this._source.minzoom),s=this._updateRetainedTiles(i,r);if(hn(this._source.type)){for(var c={},l={},u=0,h=Object.keys(s);u<h.length;u+=1){var p=h[u],d=s[p],f=this._tiles[p];if(f&&!(f.fadeEndTime&&f.fadeEndTime<=t.browser.now())){var m=this.findLoadedParent(d,a);m&&(this._addTile(m.tileID),c[m.tileID.key]=m.tileID),l[p]=d}}for(var g in this._retainLoadedChildren(l,r,o,s),c)s[g]||(this._coveredTiles[g]=!0,s[g]=c[g])}for(var y in s)this._tiles[y].clearFadeHold();for(var _=0,v=t.keysDifference(this._tiles,s);_<v.length;_+=1){var M=v[_],b=this._tiles[M];b.hasSymbolBuckets&&!b.holdingForFade()?b.setHoldDuration(this.map._fadeDuration):b.hasSymbolBuckets&&!b.symbolFadeFinished()||this._removeTile(M)}this._updateLoadedParentTileCache()}},ln.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},ln.prototype._updateRetainedTiles=function(t,e){for(var n={},i={},r=Math.max(e-ln.maxOverzooming,this._source.minzoom),a=Math.max(e+ln.maxUnderzooming,this._source.minzoom),o={},s=0,c=t;s<c.length;s+=1){var l=c[s],u=this._addTile(l);n[l.key]=l,u.hasData()||e<this._source.maxzoom&&(o[l.key]=l)}this._retainLoadedChildren(o,e,a,n);for(var h=0,p=t;h<p.length;h+=1){var d=p[h],f=this._tiles[d.key];if(!f.hasData()){if(e+1>this._source.maxzoom){var m=d.children(this._source.maxzoom)[0],g=this.getTile(m);if(g&&g.hasData()){n[m.key]=m;continue}}else{var y=d.children(this._source.maxzoom);if(n[y[0].key]&&n[y[1].key]&&n[y[2].key]&&n[y[3].key])continue}for(var _=f.wasRequested(),v=d.overscaledZ-1;r<=v;--v){var M=d.scaledTo(v);if(i[M.key])break;if(i[M.key]=!0,!(f=this.getTile(M))&&_&&(f=this._addTile(M)),f&&(n[M.key]=M,_=f.wasRequested(),f.hasData()))break}}}return n},ln.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,i=this._tiles[t].tileID;0<i.overscaledZ;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}e.push(i.key);var r=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(r))break;i=r}for(var a=0,o=e;a<o.length;a+=1){var s=o[a];this._loadedParentTiles[s]=n}}},ln.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var i=Boolean(n);return i||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,i||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},ln.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),i))},ln.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),0<e.uses||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},ln.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},ln.prototype.tilesIn=function(e,n,i){var r=this,a=[],o=this.transform;if(!o)return a;for(var s=i?o.getCameraQueryGeometry(e):e,c=e.map((function(t){return o.pointCoordinate(t)})),l=s.map((function(t){return o.pointCoordinate(t)})),u=this.getIds(),h=1/0,p=1/0,d=-1/0,f=-1/0,m=0,g=l;m<g.length;m+=1){var y=g[m];h=Math.min(h,y.x),p=Math.min(p,y.y),d=Math.max(d,y.x),f=Math.max(f,y.y)}for(var _=function(e){var i=r._tiles[u[e]];if(!i.holdingForFade()){var s=i.tileID,m=Math.pow(2,o.zoom-i.tileID.overscaledZ),g=n*i.queryPadding*t.EXTENT/i.tileSize/m,y=[s.getTilePoint(new t.MercatorCoordinate(h,p)),s.getTilePoint(new t.MercatorCoordinate(d,f))];if(y[0].x-g<t.EXTENT&&y[0].y-g<t.EXTENT&&0<=y[1].x+g&&0<=y[1].y+g){var _=c.map((function(t){return s.getTilePoint(t)})),v=l.map((function(t){return s.getTilePoint(t)}));a.push({tile:i,tileID:s,queryGeometry:_,cameraQueryGeometry:v,scale:m})}}},v=0;v<u.length;v++)_(v);return a},ln.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),i=0,r=n;i<r.length;i+=1){var a=r[i];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return n},ln.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(hn(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},ln.prototype.setFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.updateState(t,e,n)},ln.prototype.removeFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.removeFeatureState(t,e,n)},ln.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},ln.prototype.setDependencies=function(t,e,n){var i=this._tiles[t];i&&i.setDependencies(e,n)},ln.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))},ln);function ln(e,n,i){var r=this;sn.call(this),this.id=e,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))})),this.on("error",(function(){r._sourceErrored=!0})),this._source=function(e,n,i,r){var a=new Z[n.type](e,n,i,r);if(a.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+a.id);return t.bindAll(["load","abort","unload","serialize","prepare"],a),a}(e,n,i,this),this._tiles={},this._cache=new et(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}function un(t,e){var n=Math.abs(2*t.wrap)-(t.wrap<0),i=Math.abs(2*e.wrap)-(e.wrap<0);return t.overscaledZ-e.overscaledZ||i-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function hn(t){return"raster"===t||"image"===t||"video"===t}function pn(){return new t.window.Worker(Da.workerUrl)}function dn(){this.active={}}cn.maxOverzooming=10,cn.maxUnderzooming=3,dn.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<dn.workerCount;)this.workers.push(new pn);return this.active[t]=!0,this.workers.slice()},dn.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var fn,mn=Math.floor(t.browser.hardwareConcurrency/2);function gn(e,n){var i={};for(var r in e)"ref"!==r&&(i[r]=e[r]);return t.refProperties.forEach((function(t){t in n&&(i[t]=n[t])})),i}function yn(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=gn(t[i],e[t[i].ref]));return t}dn.workerCount=Math.max(Math.min(mn,6),1);var _n={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vn(t,e,n){n.push({command:_n.addSource,args:[t,e[t]]})}function Mn(t,e,n){e.push({command:_n.removeSource,args:[t]}),n[t]=!0}function bn(e,n,i){var r;for(r in e[i])if(e[i].hasOwnProperty(r)&&"data"!==r&&!t.deepEqual(e[i][r],n[i][r]))return;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!t.deepEqual(e[i][r],n[i][r]))return;return 1}function xn(e,n,i,r,a,o){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:o,args:[r,s,n[s],a]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:o,args:[r,s,n[s],a]}))}function wn(t){return t.id}function An(t,e){return t[e.id]=e,t}function Tn(e,n){if(!e)return[{command:_n.setStyle,args:[n]}];var i=[];try{if(!t.deepEqual(e.version,n.version))return[{command:_n.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||i.push({command:_n.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||i.push({command:_n.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||i.push({command:_n.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||i.push({command:_n.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||i.push({command:_n.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||i.push({command:_n.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||i.push({command:_n.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||i.push({command:_n.setLight,args:[n.light]});var r={},a=[];!function(e,n,i,r){var a,o,s,c;for(a in n=n||{},e=e||{})e.hasOwnProperty(a)&&(n.hasOwnProperty(a)||Mn(a,i,r));for(a in n)n.hasOwnProperty(a)&&(e.hasOwnProperty(a)?t.deepEqual(e[a],n[a])||("geojson"===e[a].type&&"geojson"===n[a].type&&bn(e,n,a)?i.push({command:_n.setGeoJSONSourceData,args:[a,n[a].data]}):(s=n,Mn(o=a,c=i,r),vn(o,s,c))):vn(a,n,i))}(e.sources,n.sources,a,r);var o=[];e.layers&&e.layers.forEach((function(t){r[t.source]?i.push({command:_n.removeLayer,args:[t.id]}):o.push(t)})),i=i.concat(a),function(e,n,i){n=n||[];var r,a,o,s,c,l,u,h=(e=e||[]).map(wn),p=n.map(wn),d=e.reduce(An,{}),f=n.reduce(An,{}),m=h.slice(),g=Object.create(null);for(a=r=0;r<h.length;r++)o=h[r],f.hasOwnProperty(o)?a++:(i.push({command:_n.removeLayer,args:[o]}),m.splice(m.indexOf(o,a),1));for(a=r=0;r<p.length;r++)o=p[p.length-1-r],m[m.length-1-r]!==o&&(d.hasOwnProperty(o)?(i.push({command:_n.removeLayer,args:[o]}),m.splice(m.lastIndexOf(o,m.length-a),1)):a++,l=m[m.length-r],i.push({command:_n.addLayer,args:[f[o],l]}),m.splice(m.length-r,0,o),g[o]=!0);for(r=0;r<p.length;r++)if(s=d[o=p[r]],c=f[o],!g[o]&&!t.deepEqual(s,c))if(t.deepEqual(s.source,c.source)&&t.deepEqual(s["source-layer"],c["source-layer"])&&t.deepEqual(s.type,c.type)){for(u in xn(s.layout,c.layout,i,o,null,_n.setLayoutProperty),xn(s.paint,c.paint,i,o,null,_n.setPaintProperty),t.deepEqual(s.filter,c.filter)||i.push({command:_n.setFilter,args:[o,c.filter]}),t.deepEqual(s.minzoom,c.minzoom)&&t.deepEqual(s.maxzoom,c.maxzoom)||i.push({command:_n.setLayerZoomRange,args:[o,c.minzoom,c.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?xn(s[u],c[u],i,o,u.slice(6),_n.setPaintProperty):t.deepEqual(s[u],c[u])||i.push({command:_n.setLayerProperty,args:[o,u,c[u]]}));for(u in c)c.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?xn(s[u],c[u],i,o,u.slice(6),_n.setPaintProperty):t.deepEqual(s[u],c[u])||i.push({command:_n.setLayerProperty,args:[o,u,c[u]]}))}else i.push({command:_n.removeLayer,args:[o]}),l=m[m.lastIndexOf(o)+1],i.push({command:_n.addLayer,args:[c,l]})}(o,n.layers,i)}catch(e){console.warn("Unable to compute style diff:",e),i=[{command:_n.setStyle,args:[n]}]}return i}function Ln(t,e,n){var i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var a=0;a<this.xCellCount*this.yCellCount;a++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0}function Sn(e,n,i,r,a){var o=t.create();return n?(t.scale(o,o,[1/a,1/a,1]),i||t.rotateZ(o,o,r.angle)):t.multiply(o,r.labelPlaneMatrix,e),o}function kn(e,n,i,r,a){if(n){var o=t.clone(e);return t.scale(o,o,[a,a,1]),i||t.rotateZ(o,o,-r.angle),o}return r.glCoordMatrix}function On(e,n){var i=[e.x,e.y,0,1];Rn(i,i,n);var r=i[3];return{point:new t.Point(i[0]/r,i[1]/r),signedDistanceFromCamera:r}}function zn(e,n,i,r,a,o,s,c){var l,u,h,p,d=r?e.textSizeData:e.iconSizeData,f=t.evaluateSizeForZoom(d,i.transform.zoom),m=[256/i.width*2+1,256/i.height*2+1],g=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;g.clear();for(var y=e.lineVertexArray,_=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,v=i.transform.width/i.transform.height,M=!1,b=0;b<_.length;b++){var x=_.get(b);if(x.hidden||x.writingMode===t.WritingMode.vertical&&!M)Bn(x.numGlyphs,g);else{M=!1;var w=[x.anchorX,x.anchorY,0,1];if(t.transformMat4(w,w,n),u=m,h=(l=w)[0]/l[3],p=l[1]/l[3],h>=-u[0]&&h<=u[0]&&p>=-u[1]&&p<=u[1]){var A=.5+w[3]/i.transform.cameraToCenterDistance*.5,T=t.evaluateSizeForFeature(d,f,x),L=s?T*A:T/A,S=new t.Point(x.anchorX,x.anchorY),k=On(S,a).point,O={},z=Dn(x,L,!1,c,n,a,o,e.glyphOffsetArray,y,g,k,S,O,v);M=z.useVertical,(z.notEnoughRoom||M||z.needsFlipping&&Dn(x,L,!0,c,n,a,o,e.glyphOffsetArray,y,g,k,S,O,v).notEnoughRoom)&&Bn(x.numGlyphs,g)}else Bn(x.numGlyphs,g)}}r?e.text.dynamicLayoutVertexBuffer.updateData(g):e.icon.dynamicLayoutVertexBuffer.updateData(g)}function Cn(t,e,n,i,r,a,o,s,c,l,u,h){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(p-1),y=In(t*m,n,i,r,a,o,s.segment,d,f,c,l,u,h);if(!y)return null;var _=In(t*g,n,i,r,a,o,s.segment,d,f,c,l,u,h);return _?{first:y,last:_}:null}function En(e,n,i,r){return e===t.WritingMode.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*r?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<i.y:n.x>i.x)?{needsFlipping:!0}:null}function Dn(e,n,i,r,a,o,s,c,l,u,h,p,d,f){var m,g=n/24,y=e.lineOffsetX*g,_=e.lineOffsetY*g;if(1<e.numGlyphs){var v=e.glyphStartIndex+e.numGlyphs,M=e.lineStartIndex,b=e.lineStartIndex+e.lineLength,x=Cn(g,c,y,_,i,h,p,e,l,o,d,!1);if(!x)return{notEnoughRoom:!0};var w=On(x.first.point,s).point,A=On(x.last.point,s).point;if(r&&!i){var T=En(e.writingMode,w,A,f);if(T)return T}m=[x.first];for(var L=e.glyphStartIndex+1;L<v-1;L++)m.push(In(g*c.getoffsetX(L),y,_,i,h,p,e.segment,M,b,l,o,d,!1));m.push(x.last)}else{if(r&&!i){var S=On(p,a).point,k=e.lineStartIndex+e.segment+1,O=new t.Point(l.getx(k),l.gety(k)),z=On(O,a),C=0<z.signedDistanceFromCamera?z.point:Nn(p,O,S,1,a),E=En(e.writingMode,S,C,f);if(E)return E}var D=In(g*c.getoffsetX(e.glyphStartIndex),y,_,i,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,o,d,!1);if(!D)return{notEnoughRoom:!0};m=[D]}for(var N=0,I=m;N<I.length;N+=1){var P=I[N];t.addDynamicAttributes(u,P.point,P.angle)}return{}}function Nn(t,e,n,i,r){var a=On(t.add(t.sub(e)._unit()),r).point,o=n.sub(a);return n.add(o._mult(i/o.mag()))}function In(e,n,i,r,a,o,s,c,l,u,h,p,d){var f=r?e-n:e+n,m=0<f?1:-1,g=0;r&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);for(var y=0<m?c+s:c+s+1,_=y,v=a,M=a,b=0,x=0,w=Math.abs(f);b+x<=w;){if((y+=m)<c||l<=y)return null;if(M=v,void 0===(v=p[y])){var A=new t.Point(u.getx(y),u.gety(y)),T=On(A,h);if(0<T.signedDistanceFromCamera)v=p[y]=T.point;else{var L=y-m;v=Nn(0===b?o:new t.Point(u.getx(L),u.gety(L)),A,M,w-b+1,h)}}b+=x,x=M.dist(v)}var S=(w-b)/x,k=v.sub(M),O=k.mult(S)._add(M);return O._add(k._unit()._perp()._mult(i*m)),{point:O,angle:g+Math.atan2(v.y-M.y,v.x-M.x),tileDistance:d?{prevTileDistance:y-m===_?0:u.gettileUnitDistanceFromAnchor(y-m),lastSegmentViewportDistance:w-b}:null}}Ln.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ln.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Ln.prototype.insertCircle=function(t,e,n,i){this._forEachCell(e-i,n-i,e+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(i)},Ln.prototype._insertBoxCell=function(t,e,n,i,r,a){this.boxCells[r].push(a)},Ln.prototype._insertCircleCell=function(t,e,n,i,r,a){this.circleCells[r].push(a)},Ln.prototype._query=function(t,e,n,i,r,a){if(n<0||t>this.width||i<0||e>this.height)return!r&&[];var o=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var c=0;c<this.circleKeys.length;c++){var l=this.circles[3*c],u=this.circles[3*c+1],h=this.circles[3*c+2];o.push({key:this.circleKeys[c],x1:l-h,y1:u-h,x2:l+h,y2:u+h})}return a?o.filter(a):o}var p={hitTest:r,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,n,i,this._queryCell,o,p,a),r?0<o.length:o},Ln.prototype._queryCircle=function(t,e,n,i,r){var a=t-n,o=t+n,s=e-n,c=e+n;if(o<0||a>this.width||c<0||s>this.height)return!i&&[];var l=[],u={hitTest:i,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(a,s,o,c,this._queryCellCircle,l,u,r),i?0<l.length:l},Ln.prototype.query=function(t,e,n,i,r){return this._query(t,e,n,i,!1,r)},Ln.prototype.hitTest=function(t,e,n,i,r){return this._query(t,e,n,i,!0,r)},Ln.prototype.hitTestCircle=function(t,e,n,i){return this._queryCircle(t,e,n,!0,i)},Ln.prototype._queryCell=function(t,e,n,i,r,a,o,s){var c=o.seenUids,l=this.boxCells[r];if(null!==l)for(var u=this.bboxes,h=0,p=l;h<p.length;h+=1){var d=p[h];if(!c.box[d]){c.box[d]=!0;var f=4*d;if(t<=u[2+f]&&e<=u[3+f]&&n>=u[0+f]&&i>=u[1+f]&&(!s||s(this.boxKeys[d]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[d],x1:u[f],y1:u[1+f],x2:u[2+f],y2:u[3+f]})}}}var m=this.circleCells[r];if(null!==m)for(var g=this.circles,y=0,_=m;y<_.length;y+=1){var v=_[y];if(!c.circle[v]){c.circle[v]=!0;var M=3*v;if(this._circleAndRectCollide(g[M],g[1+M],g[2+M],t,e,n,i)&&(!s||s(this.circleKeys[v]))){if(o.hitTest)return a.push(!0),!0;var b=g[M],x=g[1+M],w=g[2+M];a.push({key:this.circleKeys[v],x1:b-w,y1:x-w,x2:b+w,y2:x+w})}}}},Ln.prototype._queryCellCircle=function(t,e,n,i,r,a,o,s){var c=o.circle,l=o.seenUids,u=this.boxCells[r];if(null!==u)for(var h=this.bboxes,p=0,d=u;p<d.length;p+=1){var f=d[p];if(!l.box[f]){l.box[f]=!0;var m=4*f;if(this._circleAndRectCollide(c.x,c.y,c.radius,h[0+m],h[1+m],h[2+m],h[3+m])&&(!s||s(this.boxKeys[f])))return a.push(!0),!0}}var g=this.circleCells[r];if(null!==g)for(var y=this.circles,_=0,v=g;_<v.length;_+=1){var M=v[_];if(!l.circle[M]){l.circle[M]=!0;var b=3*M;if(this._circlesCollide(y[b],y[1+b],y[2+b],c.x,c.y,c.radius)&&(!s||s(this.circleKeys[M])))return a.push(!0),!0}}},Ln.prototype._forEachCell=function(t,e,n,i,r,a,o,s){for(var c=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),u=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i),p=c;p<=u;p++)for(var d=l;d<=h;d++){var f=this.xCellCount*d+p;if(r.call(this,t,e,n,i,f,a,o,s))return}},Ln.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Ln.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Ln.prototype._circlesCollide=function(t,e,n,i,r,a){var o=i-t,s=r-e,c=n+a;return o*o+s*s<c*c},Ln.prototype._circleAndRectCollide=function(t,e,n,i,r,a,o){var s=(a-i)/2,c=Math.abs(t-(i+s));if(s+n<c)return!1;var l=(o-r)/2,u=Math.abs(e-(r+l));if(l+n<u)return!1;if(c<=s||u<=l)return!0;var h=c-s,p=u-l;return h*h+p*p<=n*n};var Pn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Bn(t,e){for(var n=0;n<t;n++){var i=e.length;e.resize(i+4),e.float32.set(Pn,3*i)}}function Rn(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t[3]=n[3]*i+n[7]*r+n[15],t}function qn(t,e,n){void 0===e&&(e=new Ln(t.width+200,t.height+200,25)),void 0===n&&(n=new Ln(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200}function Yn(t,e,n){t[e+4]=n?1:0}function Wn(e,n,i){return n*(t.EXTENT/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}function jn(t,e,n,i){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):i&&n?1:0,this.placed=n}function Fn(t,e,n,i,r){this.text=new jn(t?t.text:null,e,n,r),this.icon=new jn(t?t.icon:null,e,i,r)}function Hn(t,e,n){this.text=t,this.icon=e,this.skipFade=n}function Un(t,e,n,i,r){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}function Xn(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}function Vn(e,n,i,r,a){var o=t.getAnchorAlignment(e),s=-(o.horizontalAlign-.5)*n,c=-(o.verticalAlign-.5)*i,l=t.evaluateVariableOffset(e,r);return new t.Point(s+l[0]*a,c+l[1]*a)}function Gn(e,n,i,r,a,o){var s=e.x1,c=e.x2,l=e.y1,u=e.y2,h=e.anchorPointX,p=e.anchorPointY,d=new t.Point(n,i);return r&&d._rotate(a?o:-o),{x1:s+d.x,y1:l+d.y,x2:c+d.x,y2:u+d.y,anchorPointX:h,anchorPointY:p}}function Kn(t,e,n,i){this.transform=t.clone(),this.collisionIndex=new qn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new Xn(n),(this.prevPlacement=i)&&(i.prevPlacement=void 0),this.placedOrientations={}}function Zn(t,e,n,i,r){t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0)}qn.prototype.placeCollisionBox=function(t,e,n,i,r){var a=this.projectAndGetPerspectiveRatio(i,t.anchorPointX,t.anchorPointY),o=n*a.perspectiveRatio,s=t.x1*o+a.point.x,c=t.y1*o+a.point.y,l=t.x2*o+a.point.x,u=t.y2*o+a.point.y;return!this.isInsideGrid(s,c,l,u)||!e&&this.grid.hitTest(s,c,l,u,r)?{box:[],offscreen:!1}:{box:[s,c,l,u],offscreen:this.isOffscreen(s,c,l,u)}},qn.prototype.approximateTileDistance=function(t,e,n,i,r){var a=r?1:i/this.pitchfactor,o=t.lastSegmentViewportDistance*n;return t.prevTileDistance+o+(a-1)*o*Math.abs(Math.sin(e))},qn.prototype.placeCollisionCircles=function(e,n,i,r,a,o,s,c,l,u,h,p,d){var f=[],m=this.projectAnchor(l,a.anchorX,a.anchorY),g=c/24,y=a.lineOffsetX*c,_=a.lineOffsetY*c,v=new t.Point(a.anchorX,a.anchorY),M=Cn(g,s,y,_,!1,On(v,u).point,v,a,o,u,{},!0),b=!1,x=!1,w=!0,A=m.perspectiveRatio*r,T=1/(r*i),L=0,S=0;M&&(L=this.approximateTileDistance(M.first.tileDistance,M.first.angle,T,m.cameraDistance,p),S=this.approximateTileDistance(M.last.tileDistance,M.last.angle,T,m.cameraDistance,p));for(var k=0;k<e.length;k+=5){var O=e[k],z=e[k+1],C=e[k+2],E=e[k+3];if(!M||E<-L||S<E)Yn(e,k,!1);else{var D=this.projectPoint(l,O,z),N=C*A;if(0<f.length){var I=D.x-f[f.length-4],P=D.y-f[f.length-3];if(I*I+P*P<N*N*2&&k+8<e.length){var B=e[k+8];if(-L<B&&B<S){Yn(e,k,!1);continue}}}var R=k/5;f.push(D.x,D.y,N,R),Yn(e,k,!0);var q=D.x-N,Y=D.y-N,W=D.x+N,j=D.y+N;if(w=w&&this.isOffscreen(q,Y,W,j),x=x||this.isInsideGrid(q,Y,W,j),!n&&this.grid.hitTestCircle(D.x,D.y,N,d)){if(!h)return{circles:[],offscreen:!1};b=!0}}}return{circles:b||!x?[]:f,offscreen:w}},qn.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],i=1/0,r=1/0,a=-1/0,o=-1/0,s=0,c=e;s<c.length;s+=1){var l=c[s],u=new t.Point(l.x+100,l.y+100);i=Math.min(i,u.x),r=Math.min(r,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y),n.push(u)}for(var h={},p={},d=0,f=this.grid.query(i,r,a,o).concat(this.ignoredGrid.query(i,r,a,o));d<f.length;d+=1){var m=f[d],g=m.key;if(void 0===h[g.bucketInstanceId]&&(h[g.bucketInstanceId]={}),!h[g.bucketInstanceId][g.featureIndex]){var y=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(n,y)&&(h[g.bucketInstanceId][g.featureIndex]=!0,void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]=[]),p[g.bucketInstanceId].push(g.featureIndex))}}return p},qn.prototype.insertCollisionBox=function(t,e,n,i,r){var a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r};(e?this.ignoredGrid:this.grid).insert(a,t[0],t[1],t[2],t[3])},qn.prototype.insertCollisionCircles=function(t,e,n,i,r){for(var a=e?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:i,collisionGroupID:r},s=0;s<t.length;s+=4)a.insertCircle(o,t[s],t[s+1],t[s+2])},qn.prototype.projectAnchor=function(t,e,n){var i=[e,n,0,1];return Rn(i,i,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5,cameraDistance:i[3]}},qn.prototype.projectPoint=function(e,n,i){var r=[n,i,0,1];return Rn(r,r,e),new t.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100)},qn.prototype.projectAndGetPerspectiveRatio=function(e,n,i){var r=[n,i,0,1];return Rn(r,r,e),{point:new t.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},qn.prototype.isOffscreen=function(t,e,n,i){return n<100||t>=this.screenRightBoundary||i<100||e>this.screenBottomBoundary},qn.prototype.isInsideGrid=function(t,e,n,i){return 0<=n&&t<this.gridRightBoundary&&0<=i&&e<this.gridBottomBoundary},jn.prototype.isHidden=function(){return 0===this.opacity&&!this.placed},Fn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()},Xn.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]},Kn.prototype.getBucketParts=function(e,n,i,r){var a=i.getBucket(n),o=i.latestFeatureIndex;if(a&&o&&n.id===a.layerIds[0]){var s=i.collisionBoxArray,c=a.layers[0].layout,l=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/t.EXTENT,h=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),p=Sn(h,"map"===c.get("text-pitch-alignment"),"map"===c.get("text-rotation-alignment"),this.transform,Wn(i,1,this.transform.zoom));this.retainedQueryData[a.bucketInstanceId]=new Un(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,i.tileID);var d={bucket:a,layout:c,posMatrix:h,textLabelPlaneMatrix:p,scale:l,textPixelRatio:u,holdingForFade:i.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(r)for(var f=0,m=a.sortKeyRanges;f<m.length;f+=1){var g=m[f],y=g.sortKey,_=g.symbolInstanceStart,v=g.symbolInstanceEnd;e.push({sortKey:y,symbolInstanceStart:_,symbolInstanceEnd:v,parameters:d})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:d})}},Kn.prototype.attemptAnchorPlacement=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f){var m,g=[h.textOffset0,h.textOffset1],y=Vn(t,n,i,g,r),_=this.collisionIndex.placeCollisionBox(Gn(e,y.x,y.y,a,o,this.transform.angle),u,s,c,l.predicate);if(!f||0!==this.collisionIndex.placeCollisionBox(Gn(f,y.x,y.y,a,o,this.transform.angle),u,s,c,l.predicate).box.length)return 0<_.box.length?(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(m=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:g,width:n,height:i,anchor:t,textBoxScale:r,prevAnchor:m},this.markUsedJustification(p,t,h,d),p.allowVerticalPlacement&&(this.markUsedOrientation(p,d,h),this.placedOrientations[h.crossTileID]=d),{shift:y,placedGlyphBoxes:_}):void 0},Kn.prototype.placeLayerBucketPart=function(e,n,i){var r=this,a=e.parameters,o=a.bucket,s=a.layout,c=a.posMatrix,l=a.textLabelPlaneMatrix,u=a.scale,h=a.textPixelRatio,p=a.holdingForFade,d=a.collisionBoxArray,f=a.partiallyEvaluatedTextSize,m=a.collisionGroup,g=s.get("text-optional"),y=s.get("icon-optional"),_=s.get("text-allow-overlap"),v=s.get("icon-allow-overlap"),M="map"===s.get("text-rotation-alignment"),b="map"===s.get("text-pitch-alignment"),x="none"!==s.get("icon-text-fit"),w="viewport-y"===s.get("symbol-z-order"),A=_&&(v||!o.hasIconData()||y),T=v&&(_||!o.hasTextData()||g);function L(e,a){if(!n[e.crossTileID])if(p)r.placements[e.crossTileID]=new Hn(!1,!1,!1);else{var d,w=!1,L=!1,S=!0,k=null,O={box:null,offscreen:null},z={box:null,offscreen:null},C=null,E=null,D=0,N=0,I=0;a.textFeatureIndex&&(D=a.textFeatureIndex),a.verticalTextFeatureIndex&&(N=a.verticalTextFeatureIndex);var P=a.textBox;if(P){var B=function(n){var i=t.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&r.prevPlacement){var a=r.prevPlacement.placedOrientations[e.crossTileID];a&&(i=r.placedOrientations[e.crossTileID]=a,r.markUsedOrientation(o,i,e))}return i},R=function(n,i){if(o.allowVerticalPlacement&&0<e.numVerticalGlyphVertices&&a.verticalTextBox)for(var r=0,s=o.writingModes;r<s.length&&(s[r]===t.WritingMode.vertical?(O=i(),z=O):O=n(),!(O&&O.box&&O.box.length));r+=1);else O=n()};if(s.get("text-variable-anchor")){var q=s.get("text-variable-anchor");if(r.prevPlacement&&r.prevPlacement.variableOffsets[e.crossTileID]){var Y=r.prevPlacement.variableOffsets[e.crossTileID];0<q.indexOf(Y.anchor)&&(q=q.filter((function(t){return t!==Y.anchor}))).unshift(Y.anchor)}var W=function(t,n,i){for(var a=t.x2-t.x1,s=t.y2-t.y1,l=e.textBoxScale,u=x&&!v?n:null,p={box:[],offscreen:!1},d=_?2*q.length:q.length,f=0;f<d;++f){var g=q[f%q.length],y=f>=q.length,A=r.attemptAnchorPlacement(g,t,a,s,l,M,b,h,c,m,y,e,o,i,u);if(A&&(p=A.placedGlyphBoxes)&&p.box&&p.box.length){w=!0,k=A.shift;break}}return p};R((function(){return W(P,a.iconBox,t.WritingMode.horizontal)}),(function(){var n=a.verticalTextBox,i=O&&O.box&&O.box.length;return o.allowVerticalPlacement&&!i&&0<e.numVerticalGlyphVertices&&n?W(n,a.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),O&&(w=O.box,S=O.offscreen);var j=B(O&&O.box);if(!w&&r.prevPlacement){var F=r.prevPlacement.variableOffsets[e.crossTileID];F&&(r.variableOffsets[e.crossTileID]=F,r.markUsedJustification(o,F.anchor,e,j))}}else{var H=function(t,n){var i=r.collisionIndex.placeCollisionBox(t,_,h,c,m.predicate);return i&&i.box&&i.box.length&&(r.markUsedOrientation(o,n,e),r.placedOrientations[e.crossTileID]=n),i};R((function(){return H(P,t.WritingMode.horizontal)}),(function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&0<e.numVerticalGlyphVertices&&n?H(n,t.WritingMode.vertical):{box:null,offscreen:null}})),B(O&&O.box&&O.box.length)}}w=(d=O)&&d.box&&0<d.box.length,S=d&&d.offscreen;var U=a.textCircles;if(U){var X=o.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),V=t.evaluateSizeForFeature(o.textSizeData,f,X);C=r.collisionIndex.placeCollisionCircles(U,_,u,h,X,o.lineVertexArray,o.glyphOffsetArray,V,c,l,i,b,m.predicate),w=_||0<C.circles.length,S=S&&C.offscreen}if(a.iconFeatureIndex&&(I=a.iconFeatureIndex),a.iconBox){var G=function(t){var e=x&&k?Gn(t,k.x,k.y,M,b,r.transform.angle):t;return r.collisionIndex.placeCollisionBox(e,v,h,c,m.predicate)};L=z&&z.box&&z.box.length&&a.verticalIconBox?0<(E=G(a.verticalIconBox)).box.length:0<(E=G(a.iconBox)).box.length,S=S&&E.offscreen}var K=g||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,Z=y||0===e.numIconVertices;K||Z?Z?K||(L=L&&w):w=L&&w:L=w=L&&w,w&&d&&d.box&&(z&&z.box&&N?r.collisionIndex.insertCollisionBox(d.box,s.get("text-ignore-placement"),o.bucketInstanceId,N,m.ID):r.collisionIndex.insertCollisionBox(d.box,s.get("text-ignore-placement"),o.bucketInstanceId,D,m.ID)),L&&E&&r.collisionIndex.insertCollisionBox(E.box,s.get("icon-ignore-placement"),o.bucketInstanceId,I,m.ID),w&&C&&r.collisionIndex.insertCollisionCircles(C.circles,s.get("text-ignore-placement"),o.bucketInstanceId,D,m.ID),r.placements[e.crossTileID]=new Hn(w||A,L||T,S||o.justReloaded),n[e.crossTileID]=!0}}if(!o.collisionArrays&&d&&o.deserializeCollisionBoxes(d),w)for(var S=o.getSortedSymbolIndexes(this.transform.angle),k=S.length-1;0<=k;--k){var O=S[k];L(o.symbolInstances.get(O),o.collisionArrays[O])}else for(var z=e.symbolInstanceStart;z<e.symbolInstanceEnd;z++)L(o.symbolInstances.get(z),o.collisionArrays[z]);o.justReloaded=!1},Kn.prototype.markUsedJustification=function(e,n,i,r){var a,o={left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex};a=r===t.WritingMode.vertical?i.verticalPlacedTextSymbolIndex:o[t.getAnchorJustification(n)];for(var s=0,c=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex,i.verticalPlacedTextSymbolIndex];s<c.length;s+=1){var l=c[s];0<=l&&(e.text.placedSymbolArray.get(l).crossTileID=0<=a&&l!==a?0:i.crossTileID)}},Kn.prototype.markUsedOrientation=function(e,n,i){for(var r=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,a=n===t.WritingMode.vertical?n:0,o=0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex];o<s.length;o+=1){var c=s[o];e.text.placedSymbolArray.get(c).placedOrientation=r}i.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).placedOrientation=a)},Kn.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var i=e?e.symbolFadeChange(t):1,r=e?e.opacities:{},a=e?e.variableOffsets:{},o=e?e.placedOrientations:{};for(var s in this.placements){var c=this.placements[s],l=r[s];n=l?(this.opacities[s]=new Fn(l,i,c.text,c.icon),n||c.text!==l.text.placed||c.icon!==l.icon.placed):(this.opacities[s]=new Fn(null,i,c.text,c.icon,c.skipFade),n||c.text||c.icon)}for(var u in r){var h=r[u];if(!this.opacities[u]){var p=new Fn(h,i,!1,!1);p.isHidden()||(this.opacities[u]=p,n=n||h.text.placed||h.icon.placed)}}for(var d in a)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=a[d]);for(var f in o)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=o[f]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},Kn.prototype.updateLayerOpacities=function(t,e){for(var n={},i=0,r=e;i<r.length;i+=1){var a=r[i],o=a.getBucket(t);o&&a.latestFeatureIndex&&t.id===o.layerIds[0]&&this.updateBucketOpacities(o,n,a.collisionBoxArray)}},Kn.prototype.updateBucketOpacities=function(e,n,i){var r=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear(),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexArray.clear(),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexArray.clear();var a=e.layers[0].layout,o=new Fn(null,0,!1,!1,!0),s=a.get("text-allow-overlap"),c=a.get("icon-allow-overlap"),l=a.get("text-variable-anchor"),u="map"===a.get("text-rotation-alignment"),h="map"===a.get("text-pitch-alignment"),p="none"!==a.get("icon-text-fit"),d=new Fn(null,0,s&&(c||!e.hasIconData()||a.get("icon-optional")),c&&(s||!e.hasTextData()||a.get("text-optional")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData())&&e.deserializeCollisionBoxes(i);for(var f=function(t,e,n){for(var i=0;i<e/4;i++)t.opacityVertexArray.emplaceBack(n)},m=function(i){var a=e.symbolInstances.get(i),s=a.numHorizontalGlyphVertices,c=a.numVerticalGlyphVertices,m=a.crossTileID,g=n[m],y=r.opacities[m];g?y=o:y||(y=d,r.opacities[m]=y),n[m]=!0;var _=0<s||0<c,v=0<a.numIconVertices,M=r.placedOrientations[a.crossTileID],b=M===t.WritingMode.vertical,x=M===t.WritingMode.horizontal||M===t.WritingMode.horizontalOnly;if(_){var w=ri(y.text),A=b?oi:w;f(e.text,s,A);var T=x?oi:w;f(e.text,c,T);var L=y.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(t){0<=t&&(e.text.placedSymbolArray.get(t).hidden=L||b?1:0)})),0<=a.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=L||x?1:0);var S=r.variableOffsets[a.crossTileID];S&&r.markUsedJustification(e,S.anchor,a,M);var k=r.placedOrientations[a.crossTileID];k&&(r.markUsedJustification(e,"left",a,k),r.markUsedOrientation(e,k,a))}if(v){var O=ri(y.icon),z=!(p&&a.verticalPlacedIconSymbolIndex&&b);if(0<=a.placedIconSymbolIndex){var C=z?O:oi;f(e.icon,a.numIconVertices,C),e.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=y.icon.isHidden()}if(0<=a.verticalPlacedIconSymbolIndex){var E=z?oi:O;f(e.icon,a.numVerticalIconVertices,E),e.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=y.icon.isHidden()}}if(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData()){var D=e.collisionArrays[i];if(D){var N=new t.Point(0,0);if(D.textBox||D.verticalTextBox){var I=!0;if(l){var P=r.variableOffsets[m];P?(N=Vn(P.anchor,P.width,P.height,P.textOffset,P.textBoxScale),u&&N._rotate(h?r.transform.angle:-r.transform.angle)):I=!1}D.textBox&&Zn(e.textCollisionBox.collisionVertexArray,y.text.placed,!I||b,N.x,N.y),D.verticalTextBox&&Zn(e.textCollisionBox.collisionVertexArray,y.text.placed,!I||x,N.x,N.y)}var B=Boolean(!x&&D.verticalIconBox);D.iconBox&&Zn(e.iconCollisionBox.collisionVertexArray,y.icon.placed,B,p?N.x:0,p?N.y:0),D.verticalIconBox&&Zn(e.iconCollisionBox.collisionVertexArray,y.icon.placed,!B,p?N.x:0,p?N.y:0);var R=D.textCircles;if(R&&e.hasTextCollisionCircleData())for(var q=0;q<R.length;q+=5){var Y=g||0===R[q+4];Zn(e.textCollisionCircle.collisionVertexArray,y.text.placed,Y)}}}},g=0;g<e.symbolInstances.length;g++)m(g);e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexBuffer&&e.iconCollisionCircle.collisionVertexBuffer.updateData(e.iconCollisionCircle.collisionVertexArray),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexBuffer&&e.textCollisionCircle.collisionVertexBuffer.updateData(e.textCollisionCircle.collisionVertexArray)},Kn.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Kn.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},Kn.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Kn.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},Kn.prototype.setStale=function(){this.stale=!0};var Jn=Math.pow(2,25),Qn=Math.pow(2,24),$n=Math.pow(2,17),ti=Math.pow(2,16),ei=Math.pow(2,9),ni=Math.pow(2,8),ii=Math.pow(2,1);function ri(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*Jn+e*Qn+n*$n+e*ti+n*ei+e*ni+n*ii+e}function ai(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}var oi=0;function si(t,e,n,i,r,a,o){this.placement=new Kn(t,r,a,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}function ci(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var i=0;i<e.length;i++){var r=e.get(i),a=r.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,t)})}}ai.prototype.continuePlacement=function(t,e,n,i,r){for(var a=this._bucketParts;this._currentTileIndex<t.length;){var o=t[this._currentTileIndex];if(e.getBucketParts(a,i,o,this._sortAcrossTiles),this._currentTileIndex++,r())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<a.length;){var s=a[this._currentPartIndex];if(e.placeLayerBucketPart(s,this._seenCrossTileIDs,n),this._currentPartIndex++,r())return!0}return!1},si.prototype.isDone=function(){return this._done},si.prototype.continuePlacement=function(e,n,i){for(var r=this,a=t.browser.now(),o=function(){var e=t.browser.now()-a;return!r._forceFullPlacement&&2<e};0<=this._currentPlacementIndex;){var s=n[e[this._currentPlacementIndex]],c=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=c)&&(!s.maxzoom||s.maxzoom>c)){if(this._inProgressLayer||(this._inProgressLayer=new ai(s)),this._inProgressLayer.continuePlacement(i[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},si.prototype.commit=function(t){return this.placement.commit(t),this.placement};var li=512/t.EXTENT/2;function ui(){this.maxCrossTileID=0}function hi(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}function pi(){this.layerIndexes={},this.crossTileIDs=new ui,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}function di(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))}ci.prototype.getScaledCoordinates=function(e,n){var i=n.canonical.z-this.tileID.canonical.z,r=li/Math.pow(2,i);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},ci.prototype.findMatches=function(t,e,n){for(var i=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),r=0;r<t.length;r++){var a=t.get(r);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,e),c=0,l=o;c<l.length;c+=1){var u=l[c];if(Math.abs(u.coord.x-s.x)<=i&&Math.abs(u.coord.y-s.y)<=i&&!n[u.crossTileID]){n[u.crossTileID]=!0,a.crossTileID=u.crossTileID;break}}}}},ui.prototype.generate=function(){return++this.maxCrossTileID},hi.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var i=this.indexes[n],r={};for(var a in i){var o=i[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+e),r[o.tileID.key]=o}this.indexes[n]=r}this.lng=t},hi.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var i=0;i<e.symbolInstances.length;i++)e.symbolInstances.get(i).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var r=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>t.overscaledZ)for(var s in o){var c=o[s];c.tileID.isChildOf(t)&&c.findMatches(e.symbolInstances,t,r)}else{var l=o[t.scaledTo(Number(a)).key];l&&l.findMatches(e.symbolInstances,t,r)}}for(var u=0;u<e.symbolInstances.length;u++){var h=e.symbolInstances.get(u);h.crossTileID||(h.crossTileID=n.generate(),r[h.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new ci(t,e.symbolInstances,e.bucketInstanceId),!0},hi.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var i=0,r=e.indexedSymbolInstances[n];i<r.length;i+=1){var a=r[i];delete this.usedCrossTileIDs[t][a.crossTileID]}},hi.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var i=this.indexes[n];for(var r in i)t[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],e=!0)}return e},pi.prototype.addLayer=function(t,e,n){var i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new hi);var r=!1,a={};i.handleWrapJump(n);for(var o=0,s=e;o<s.length;o+=1){var c=s[o],l=c.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(c.tileID,l,this.crossTileIDs)&&(r=!0),a[l.bucketInstanceId]=!0)}return i.removeStaleBuckets(a)&&(r=!0),r},pi.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var fi,mi=t.pick(_n,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),gi=t.pick(_n,["setCenter","setZoom","setBearing","setPitch"]),yi=function(){var e={},n=t.styleSpec.$version;for(var i in t.styleSpec.$root){var r,a=t.styleSpec.$root[i];a.required&&null!=(r="version"===i?n:"array"===a.type?[]:{})&&(e[i]=r)}return e}(),_i=((fi=t.Evented)&&(vi.__proto__=fi),((vi.prototype=Object.create(fi&&fi.prototype)).constructor=vi).prototype.loadURL=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var a=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(a,(function(e,n){i._request=null,e?i.fire(new t.ErrorEvent(e)):n&&i._load(n,r)}))},vi.prototype.loadJSON=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){i._request=null,i._load(e,!1!==n.validate)}))},vi.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(yi,!1)},vi.prototype._load=function(e,n){if(!n||!di(this,t.validateStyle(e))){for(var i in this._loaded=!0,(this.stylesheet=e).sources)this.addSource(i,e.sources[i],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var r=yn(this.stylesheet.layers);this._order=r.map((function(t){return t.id})),this._layers={};for(var a=0,o=r;a<o.length;a+=1){var s=o[a];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},vi.prototype._loadSprite=function(e){var n,i,r,a,o,s,c,l,u,h=this;function p(){if(s)r(s);else if(a&&o){var e=t.browser.getImageData(o),n={};for(var i in a){var c=a[i],l=c.width,u=c.height,h=c.x,p=c.y,d=c.sdf,f=c.pixelRatio,m=c.stretchX,g=c.stretchY,y=c.content,_=new t.RGBAImage({width:l,height:u});t.RGBAImage.copy(e,_,{x:h,y:p},{x:0,y:0},{width:l,height:u}),n[i]={data:_,pixelRatio:f,sdf:d,stretchX:m,stretchY:g,content:y}}r(null,n)}}this._spriteRequest=(n=e,i=this.map._requestManager,r=function(e,n){if(h._spriteRequest=null,e)h.fire(new t.ErrorEvent(e));else if(n)for(var i in n)h.imageManager.addImage(i,n[i]);h.imageManager.setLoaded(!0),h.dispatcher.broadcast("setImages",h.imageManager.listImages()),h.fire(new t.Event("data",{dataType:"style"}))},c=1<t.browser.devicePixelRatio?"@2x":"",l=t.getJSON(i.transformRequest(i.normalizeSpriteURL(n,c,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,s||(s=t,a=e,p())})),u=t.getImage(i.transformRequest(i.normalizeSpriteURL(n,c,".png"),t.ResourceType.SpriteImage),(function(t,e){u=null,s||(s=t,o=e,p())})),{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}})},vi.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var i=e.sourceLayer;if(i){var r=n.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(i))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+i+'" does not exist on source "'+r.id+'" as specified by style layer "'+e.id+'"')))}}},vi.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},vi.prototype._serializeLayers=function(t){for(var e=[],n=0,i=t;n<i.length;n+=1){var r=i[n],a=this._layers[r];"custom"!==a.type&&e.push(a.serialize())}return e},vi.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},vi.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},vi.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var i=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var a in(i.length||r.length)&&this._updateWorkerLayers(i,r),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var c in this.sourceCaches)this.sourceCaches[c].used=!1;for(var l=this.imageManager.listImages(),u=0,h=this._order;u<h.length;u+=1){var p=h[u],d=this._layers[p];d.recalculate(e,l),!d.isHidden(e.zoom)&&d.source&&(this.sourceCaches[d.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},vi.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},vi.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},vi.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},vi.prototype.setState=function(e){var n=this;if(this._checkLoaded(),di(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=yn(e.layers);var i=Tn(this.serialize(),e).filter((function(t){return!(t.command in gi)}));if(0===i.length)return!1;var r=i.filter((function(t){return!(t.command in mi)}));if(0<r.length)throw new Error("Unimplemented: "+r.map((function(t){return t.command})).join(", ")+".");return i.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},vi.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._changedImages[e]=!0,this._changed=!0,this.fire(new t.Event("data",{dataType:"style"}))},vi.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},vi.prototype.getImage=function(t){return this.imageManager.getImage(t)},vi.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._changedImages[e]=!0,this._changed=!0,this.fire(new t.Event("data",{dataType:"style"}))},vi.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},vi.prototype.addSource=function(e,n,i){var r=this;if(void 0===i&&(i={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(0<=["vector","raster","geojson","video","image"].indexOf(n.type)&&this._validate(t.validateStyle.source,"sources."+e,n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=this.sourceCaches[e]=new cn(e,n,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:r.loaded(),source:a.serialize(),sourceId:e}})),a.onAdd(this.map),this._changed=!0}},vi.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.clearTiles(),i.onRemove&&i.onRemove(this.map),this._changed=!0},vi.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},vi.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},vi.prototype.addLayer=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var r=e.id;if(this.getLayer(r))this.fire(new t.ErrorEvent(new Error('Layer with id "'+r+'" already exists on this map')));else{var a;if("custom"===e.type){if(di(this,t.validateCustomStyleLayer(e)))return;a=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(r,e.source),e=t.clone$1(e),e=t.extend(e,{source:r})),this._validate(t.validateStyle.layer,"layers."+r,e,{arrayIndex:-1},i))return;a=t.createStyleLayer(e),this._validateLayer(a),a.setEventedParent(this,{layer:{id:r}})}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=a,this._removedLayers[r]&&a.source&&"custom"!==a.type){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}},vi.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var i=this._order.indexOf(e);this._order.splice(i,1);var r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(r,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},vi.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var i=this._order.indexOf(e);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},vi.prototype.getLayer=function(t){return this._layers[t]},vi.prototype.setLayerZoomRange=function(e,n,i){this._checkLoaded();var r=this.getLayer(e);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},vi.prototype.setFilter=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var r=this.getLayer(e);if(r){if(!t.deepEqual(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.validateStyle.filter,"layers."+r.id+".filter",n,null,i)||(r.filter=t.clone$1(n),this._updateLayer(r)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},vi.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},vi.prototype.setLayoutProperty=function(e,n,i,r){void 0===r&&(r={}),this._checkLoaded();var a=this.getLayer(e);a?t.deepEqual(a.getLayoutProperty(n),i)||(a.setLayoutProperty(n,i,r),this._updateLayer(a)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},vi.prototype.getLayoutProperty=function(e,n){var i=this.getLayer(e);if(i)return i.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},vi.prototype.setPaintProperty=function(e,n,i,r){void 0===r&&(r={}),this._checkLoaded();var a=this.getLayer(e);a?t.deepEqual(a.getPaintProperty(n),i)||(a.setPaintProperty(n,i,r)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},vi.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},vi.prototype.setFeatureState=function(e,n){this._checkLoaded();var i=e.source,r=e.sourceLayer,a=this.sourceCaches[i];if(void 0!==a){var o=a.getSource().type;"geojson"===o&&r?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||r?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),a.setFeatureState(r,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},vi.prototype.removeFeatureState=function(e,n){this._checkLoaded();var i=e.source,r=this.sourceCaches[i];if(void 0!==r){var a=r.getSource().type,o="vector"===a?e.sourceLayer:void 0;"vector"!==a||o?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):r.removeFeatureState(o,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},vi.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,i=e.sourceLayer,r=this.sourceCaches[n];if(void 0!==r){if("vector"!==r.getSource().type||i)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),r.getFeatureState(i,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},vi.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},vi.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},vi.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},vi.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},i={},r=[],a=this._order.length-1;0<=a;a--){var o=this._order[a];if(n(o)){i[o]=a;for(var s=0,c=t;s<c.length;s+=1){var l=c[s][o];if(l)for(var u=0,h=l;u<h.length;u+=1){var p=h[u];r.push(p)}}}}r.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var d=[],f=this._order.length-1;0<=f;f--){var m=this._order[f];if(n(m))for(var g=r.length-1;0<=g;g--){var y=r[g].feature;if(i[y.layer.id]<f)break;d.push(y),r.pop()}else for(var _=0,v=t;_<v.length;_+=1){var M=v[_][m];if(M)for(var b=0,x=M;b<x.length;b+=1){var w=x[b];d.push(w.feature)}}}return d},vi.prototype.queryRenderedFeatures=function(e,n,i){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var a=0,o=n.layers;a<o.length;a+=1){var s=o[a],c=this._layers[s];if(!c)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];r[c.source]=!0}}var l=[];for(var u in this.sourceCaches)n.layers&&!r[u]||l.push($(this.sourceCaches[u],this._layers,e,n,i));return this.placement&&l.push(function(t,e,n,i,r,a){for(var o={},s=r.queryRenderedSymbols(n),c=[],l=0,u=Object.keys(s).map(Number);l<u.length;l+=1){var h=u[l];c.push(a[h])}c.sort(tt);for(var p=function(){var e=f[d],n=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,i.filter,i.layers,t);for(var r in n){var a=o[r]=o[r]||[],c=n[r];c.sort((function(t,n){var i=e.featureSortOrder;if(i){var r=i.indexOf(t.featureIndex);return i.indexOf(n.featureIndex)-r}return n.featureIndex-t.featureIndex}));for(var l=0,u=c;l<u.length;l+=1){var h=u[l];a.push(h)}}},d=0,f=c;d<f.length;d+=1)p();function m(n){o[n].forEach((function(i){var r=i.feature,a=t[n],o=e[a.source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o}))}for(var g in o)m(g);return o}(this._layers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},vi.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var i=this.sourceCaches[e];return i?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),i=[],r={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;r[s]||(r[s]=!0,o.querySourceFeatures(i,e))}return i}(i,n):[]},vi.prototype.addSourceType=function(t,e,n){return vi.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(vi.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},vi.prototype.getLight=function(){return this.light.getLight()},vi.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var i=this.light.getLight(),r=!1;for(var a in e)if(!t.deepEqual(e[a],i[a])){r=!0;break}if(r){var o={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(o)}},vi.prototype._validate=function(e,n,i,r,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&di(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:i,styleSpec:t.styleSpec},r)))},vi.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},vi.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},vi.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},vi.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},vi.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},vi.prototype._updatePlacement=function(e,n,i,r,a){void 0===a&&(a=!1);for(var o=!1,s=!1,c={},l=0,u=this._order;l<u.length;l+=1){var h=u[l],p=this._layers[h];if("symbol"===p.type){if(!c[p.source]){var d=this.sourceCaches[p.source];c[p.source]=d.getRenderableIds(!0).map((function(t){return d.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(p,c[p.source],e.center.lng);o=o||f}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||0===i)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new si(e,this._order,a,n,i,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(var m=0,g=this._order;m<g.length;m+=1){var y=g[m],_=this._layers[y];"symbol"===_.type&&this.placement.updateLayerOpacities(_,c[_.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},vi.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},vi.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var i=this.sourceCaches[e.source];i&&i.setDependencies(e.tileID.key,e.type,e.icons)},vi.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},vi.prototype.getResource=function(e,n,i){return t.makeRequest(n,i)},vi);function vi(e,n){var i=this;void 0===n&&(n={}),fi.call(this),this.map=e,this.dispatcher=new S(fn=fn||new dn,this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new M(e._requestManager,n.localIdeographFontFamily),this.lineAtlas=new x(256,512),this.crossTileSymbolIndex=new pi,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var r=this;this._rtlTextPluginCallback=vi.registerForPluginStateChange((function(e){var n={pluginStatus:e.pluginStatus,pluginURL:e.pluginURL};r.dispatcher.broadcast("syncRTLPluginState",n,(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var i in r.sourceCaches)r.sourceCaches[i].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=i.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in i._layers){var a=i._layers[r];a.source===n.id&&i._validateLayer(a)}}}}))}_i.getSourceType=function(t){return Z[t]},_i.setSourceType=function(t,e){Z[t]=e},_i.registerForPluginStateChange=t.registerForPluginStateChange;var Mi=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),bi=Vi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),xi=Vi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),wi=Vi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ai=Vi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ti=Vi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Li=Vi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Si=Vi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ki=Vi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Oi=Vi("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),zi=Vi("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ci=Vi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Ei=Vi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Di=Vi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ni=Vi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Ii=Vi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Pi=Vi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Bi=Vi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ri=Vi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),qi=Vi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Yi=Vi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Wi=Vi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),ji=Vi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Fi=Vi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Hi=Vi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Ui=Vi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Xi=Vi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Vi(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i={};return{fragmentSource:t=t.replace(n,(function(t,e,n,r,a){return i[a]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+a+"\nvarying "+n+" "+r+" "+a+";\n#else\nuniform "+n+" "+r+" u_"+a+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+a+"\n    "+n+" "+r+" "+a+" = u_"+a+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,r,a){var o="float"===r?"vec2":"vec4",s=a.match(/color/)?"color":o;return i[a]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+a+"\nuniform lowp float u_"+a+"_t;\nattribute "+n+" "+o+" a_"+a+";\nvarying "+n+" "+r+" "+a+";\n#else\nuniform "+n+" "+r+" u_"+a+";\n#endif\n":"vec4"==s?"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+a+" = a_"+a+";\n#else\n    "+n+" "+r+" "+a+" = u_"+a+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+a+" = unpack_mix_"+s+"(a_"+a+", u_"+a+"_t);\n#else\n    "+n+" "+r+" "+a+" = u_"+a+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+a+"\nuniform lowp float u_"+a+"_t;\nattribute "+n+" "+o+" a_"+a+";\n#else\nuniform "+n+" "+r+" u_"+a+";\n#endif\n":"vec4"==s?"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+n+" "+r+" "+a+" = a_"+a+";\n#else\n    "+n+" "+r+" "+a+" = u_"+a+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+n+" "+r+" "+a+" = unpack_mix_"+s+"(a_"+a+", u_"+a+"_t);\n#else\n    "+n+" "+r+" "+a+" = u_"+a+";\n#endif\n"}))}}function Gi(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}var Ki=Object.freeze({__proto__:null,prelude:bi,background:xi,backgroundPattern:wi,circle:Ai,clippingMask:Ti,heatmap:Li,heatmapTexture:Si,collisionBox:ki,collisionCircle:Oi,debug:zi,fill:Ci,fillOutline:Ei,fillOutlinePattern:Di,fillPattern:Ni,fillExtrusion:Ii,fillExtrusionPattern:Pi,hillshadePrepare:Bi,hillshade:Ri,line:qi,lineGradient:Yi,linePattern:Wi,lineSDF:ji,raster:Fi,symbolIcon:Hi,symbolSDF:Ui,symbolTextAndIcon:Xi});function Zi(t,e,n,i,r){var a=t.gl;this.program=a.createProgram();var o=n?n.defines():[];r&&o.push("#define OVERDRAW_INSPECTOR;");var s=o.concat(bi.fragmentSource,e.fragmentSource).join("\n"),c=o.concat(bi.vertexSource,e.vertexSource).join("\n"),l=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(l,s),a.compileShader(l),a.attachShader(this.program,l);var u=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(u,c),a.compileShader(u),a.attachShader(this.program,u);for(var h=n?n.layoutAttributes:[],p=0;p<h.length;p++)a.bindAttribLocation(this.program,p,h[p].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var d={},f=0;f<this.numAttributes;f++){var m=a.getActiveAttrib(this.program,f);m&&(this.attributes[m.name]=a.getAttribLocation(this.program,m.name))}for(var g=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),y=0;y<g;y++){var _=a.getActiveUniform(this.program,y);_&&(d[_.name]=a.getUniformLocation(this.program,_.name))}this.fixedUniforms=i(t,d),this.binderUniforms=n?n.getUniforms(t,d):[]}}}function Ji(e,n,i){var r=1/Wn(i,1,n.transform.tileZoom),a=Math.pow(2,i.tileID.overscaledZ),o=i.tileSize*Math.pow(2,n.transform.tileZoom)/a,s=o*(i.tileID.canonical.x+i.tileID.wrap*a),c=o*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,c>>16],u_pixel_coord_lower:[65535&s,65535&c]}}function Qi(e,n,i,r){var a=n.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],c=t.create$1();"viewport"===a.properties.get("anchor")&&t.fromRotation(c,-n.transform.angle),t.transformMat3(s,s,c);var l=a.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+i,u_opacity:r}}function $i(t){return{u_matrix:t}}function tr(e,n,i,r){return t.extend($i(e),Ji(i,n,r))}function er(e,n,i,r){var a,o,s=e.transform;if("map"===r.paint.get("circle-pitch-alignment")){var c=Wn(i,1,s.zoom);a=!0,o=[c,c]}else a=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,i,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:o}}function nr(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}}function ir(t){return{u_matrix:t}}Gi.prototype.bind=function(t,e,n,i,r,a,o,s){this.context=t;for(var c=this.boundPaintVertexBuffers.length!==i.length,l=0;!c&&l<i.length;l++)this.boundPaintVertexBuffers[l]!==i[l]&&(c=!0);var u=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||c||this.boundIndexBuffer!==r||this.boundVertexOffset!==a||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||u?this.freshBind(e,n,i,r,a,o,s):(t.bindVertexArrayOES.set(this.vao),o&&o.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind())},Gi.prototype.freshBind=function(t,e,n,i,r,a,o){var s,c=t.numAttributes,l=this.context,u=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=l.currentNumAttributes||0;for(var h=c;h<s;h++)u.disableVertexAttribArray(h)}e.enableAttributes(u,t);for(var p=0,d=n;p<d.length;p+=1)d[p].enableAttributes(u,t);a&&a.enableAttributes(u,t),o&&o.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,r);for(var f=0,m=n;f<m.length;f+=1){var g=m[f];g.bind(),g.setVertexAttribPointers(u,t,r)}a&&(a.bind(),a.setVertexAttribPointers(u,t,r)),i&&i.bind(),o&&(o.bind(),o.setVertexAttribPointers(u,t,r)),l.currentNumAttributes=c},Gi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},Zi.prototype.draw=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m){var g,y=t.gl;if(!this.failedToCreate){for(var _ in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(i),t.setColorMode(r),t.setCullFace(a),this.fixedUniforms)this.fixedUniforms[_].set(o[_]);d&&d.setUniforms(t,this.binderUniforms,h,{zoom:p});for(var v=((g={})[y.LINES]=2,g[y.TRIANGLES]=3,g[y.LINE_STRIP]=1,g[e]),M=0,b=u.get();M<b.length;M+=1){var x=b[M],w=x.vaos||(x.vaos={});(w[s]||(w[s]=new Gi)).bind(t,this,c,d?d.getPaintVertexBuffers():[],l,x.vertexOffset,f,m),y.drawElements(e,x.primitiveLength*v,y.UNSIGNED_SHORT,x.primitiveOffset*v*2)}}};var rr=function(t,e,n){var i=Wn(n,1,e.zoom),r=Math.pow(2,e.zoom-n.tileID.overscaledZ),a=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:i,u_extrude_scale:[e.pixelsToGLUnits[0]/(i*r),e.pixelsToGLUnits[1]/(i*r)],u_overscale_factor:a}},ar=function(t,e){return{u_matrix:t,u_color:e}},or=function(e,n,i){var r=i.paint.get("hillshade-shadow-color"),a=i.paint.get("hillshade-highlight-color"),o=i.paint.get("hillshade-accent-color"),s=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var c,l,u,h=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),h),u_image:0,u_latrange:(c=n.tileID,l=Math.pow(2,c.canonical.z),u=c.canonical.y,[new t.MercatorCoordinate(0,u/l).toLngLat().lat,new t.MercatorCoordinate(0,(u+1)/l).toLngLat().lat]),u_light:[i.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:a,u_accent:o}},sr=function(e,n,i){var r=n.stride,a=t.create();return t.ortho(a,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(a,a,[0,-t.EXTENT,0]),{u_matrix:a,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_maxzoom:i,u_unpack:n.getUnpackVector()}};function cr(e,n,i){var r=e.transform;return{u_matrix:ur(e,n,i),u_ratio:1/Wn(n,1,r.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}}function lr(t,e){return 1/Wn(t,1,e.tileZoom)}function ur(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function hr(t,e,n,i,r){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:0<(o=r.paint.get("raster-saturation"))?1-1/(1.001-o):-o,u_contrast_factor:0<(a=r.paint.get("raster-contrast"))?1/(1-a):1+a,u_spin_weights:function(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}(r.paint.get("raster-hue-rotate"))};var a,o}function pr(t,e,n,i,r,a,o,s,c,l){var u=r.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+c,u_pitch_with_map:+i,u_texsize:l,u_texture:0}}function dr(e,n,i,r,a,o,s,c,l,u,h){var p=a.transform;return t.extend(pr(e,n,i,r,a,o,s,c,l,u),{u_gamma_scale:r?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+h})}var fr={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:nr,collisionCircle:nr,debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_maxzoom:new t.Uniform1f(e,n.u_maxzoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function mr(t,e,n,i,r,a,o,s){for(var c=t.context,l=c.gl,u=r?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),h=0;h<i.length;h++){var p=i[h],d=e.getTile(p),f=d.getBucket(n);if(f){var m=r?s?f.textCollisionCircle:f.iconCollisionCircle:s?f.textCollisionBox:f.iconCollisionBox;if(m){var g=p.posMatrix;0===a[0]&&0===a[1]||(g=t.translatePosMatrix(p.posMatrix,d,a,o)),u.draw(c,r?l.TRIANGLES:l.LINES,en.disabled,nn.disabled,t.colorModeForRenderPass(),an.disabled,rr(g,t.transform,d),n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,t.transform.zoom,null,null,m.collisionVertexBuffer)}}}}function gr(t,e,n,i,r,a,o){mr(t,e,n,i,!1,r,a,o),mr(t,e,n,i,!0,r,a,o)}var yr=t.identity(new Float32Array(16));function _r(e,n,i,r,a,o,s,c,l,u,h){var p,d,f,m,g,y,_,v,M,b,x=e.text.placedSymbolArray,w=e.text.dynamicLayoutVertexArray,A=e.icon.dynamicLayoutVertexArray,T={};w.clear();for(var L=0;L<x.length;L++){var S=x.get(L),k=e.allowVerticalPlacement&&!S.placedOrientation,O=S.hidden||!S.crossTileID||k?null:r[S.crossTileID];if(O){var z=new t.Point(S.anchorX,S.anchorY),C=On(z,i?c:s),E=.5+o.cameraToCenterDistance/C.signedDistanceFromCamera*.5,D=a.evaluateSizeForFeature(e.textSizeData,u,S)*E/t.ONE_EM;i&&(D*=e.tilePixelRatio/l);for(var N=O.width,I=O.height,P=(p=O.anchor,d=N,f=I,m=O.textOffset,g=O.textBoxScale,y=D,v=-((_=t.getAnchorAlignment(p)).horizontalAlign-.5)*d,M=-(_.verticalAlign-.5)*f,b=t.evaluateVariableOffset(p,m),new t.Point((v/g+b[0])*y,(M/g+b[1])*y)),B=i?On(z.add(P),s).point:C.point.add(n?P.rotate(-o.angle):P),R=e.allowVerticalPlacement&&S.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,q=0;q<S.numGlyphs;q++)t.addDynamicAttributes(w,B,R);h&&0<=S.associatedIconIndex&&(T[S.associatedIconIndex]={shiftedAnchor:B,angle:R})}else Bn(S.numGlyphs,w)}if(h){A.clear();for(var Y=e.icon.placedSymbolArray,W=0;W<Y.length;W++){var j=Y.get(W);if(j.hidden)Bn(j.numGlyphs,A);else{var F=T[W];if(F)for(var H=0;H<j.numGlyphs;H++)t.addDynamicAttributes(A,F.shiftedAnchor,F.angle);else Bn(j.numGlyphs,A)}}e.icon.dynamicLayoutVertexBuffer.updateData(A)}e.text.dynamicLayoutVertexBuffer.updateData(w)}function vr(e,n,i,r,a,o,s,c,l,u,h,p){for(var d,f,m=e.context,g=m.gl,y=e.transform,_="map"===c,v="map"===l,M=_&&"point"!==i.layout.get("symbol-placement"),b=_&&!v&&!M,x=void 0!==i.layout.get("symbol-sort-key").constantOr(1),w=e.depthModeForSublayer(0,en.ReadOnly),A=i.layout.get("text-variable-anchor"),T=[],L=0,S=r;L<S.length;L+=1){var k=S[L],O=n.getTile(k),z=O.getBucket(i);if(z){var C=a?z.text:z.icon;if(C&&C.segments.get().length){var E=C.programConfigurations.get(i.id),D=a||z.sdfIcons,N=a?z.textSizeData:z.iconSizeData,I=v||0!==y.pitch;d||(d=e.useProgram((dt=D,ft=a,z.iconsInText&&ft?"symbolTextAndIcon":dt?"symbolSDF":"symbolIcon"),E),f=t.evaluateSizeForZoom(N,y.zoom));var P=void 0,B=[0,0],R=void 0,q=void 0,Y=null,W=void 0;if(a){if(R=O.glyphAtlasTexture,q=g.LINEAR,P=O.glyphAtlasTexture.size,z.iconsInText){B=O.imageAtlasTexture.size,Y=O.imageAtlasTexture;var j="composite"===N.kind||"camera"===N.kind;W=I||e.options.rotating||e.options.zooming||j?g.LINEAR:g.NEAREST}}else{var F=1!==i.layout.get("icon-size").constantOr(0)||z.iconsNeedLinear;R=O.imageAtlasTexture,q=D||e.options.rotating||e.options.zooming||F||I?g.LINEAR:g.NEAREST,P=O.imageAtlasTexture.size}var H=Wn(O,1,e.transform.zoom),U=Sn(k.posMatrix,v,_,e.transform,H),X=kn(k.posMatrix,v,_,e.transform,H),V=A&&z.hasTextData(),G="none"!==i.layout.get("icon-text-fit")&&V&&z.hasIconData();M&&zn(z,k.posMatrix,e,a,U,X,v,u);var K=e.translatePosMatrix(k.posMatrix,O,o,s),Z=M||a&&A||G?yr:U,J=e.translatePosMatrix(X,O,o,s,!0),Q=D&&0!==i.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),$={program:d,buffers:C,uniformValues:D?z.iconsInText?(it=N.kind,rt=f,at=b,ot=v,st=e,ct=K,lt=Z,ut=J,ht=P,pt=B,t.extend(dr(it,rt,at,ot,st,ct,lt,ut,!0,ht,!0),{u_texsize_icon:pt,u_texture_icon:1})):dr(N.kind,f,b,v,e,K,Z,J,a,P,!0):pr(N.kind,f,b,v,e,K,Z,J,a,P),atlasTexture:R,atlasTextureIcon:Y,atlasInterpolation:q,atlasInterpolationIcon:W,isSDF:D,hasHalo:Q};if(x)for(var tt=0,et=C.segments.get();tt<et.length;tt+=1){var nt=et[tt];T.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:$})}else T.push({segments:C.segments,sortKey:0,state:$})}}}var it,rt,at,ot,st,ct,lt,ut,ht,pt,dt,ft;x&&T.sort((function(t,e){return t.sortKey-e.sortKey}));for(var mt=0,gt=T;mt<gt.length;mt+=1){var yt=gt[mt],_t=yt.state;if(m.activeTexture.set(g.TEXTURE0),_t.atlasTexture.bind(_t.atlasInterpolation,g.CLAMP_TO_EDGE),_t.atlasTextureIcon&&(m.activeTexture.set(g.TEXTURE1),_t.atlasTextureIcon&&_t.atlasTextureIcon.bind(_t.atlasInterpolationIcon,g.CLAMP_TO_EDGE)),_t.isSDF){var vt=_t.uniformValues;_t.hasHalo&&(vt.u_is_halo=1,Mr(_t.buffers,yt.segments,i,e,_t.program,w,h,p,vt)),vt.u_is_halo=0}Mr(_t.buffers,yt.segments,i,e,_t.program,w,h,p,_t.uniformValues)}}function Mr(t,e,n,i,r,a,o,s,c){var l=i.context,u=l.gl;r.draw(l,u.TRIANGLES,a,o,s,an.disabled,c,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,i.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function br(e,n,i,r,a,o,s){var c,l,u,h,p,d,f,m,g,y,_=e.context.gl,v=i.paint.get("fill-pattern"),M=v&&v.constantOr(1),b=i.getCrossfadeParameters();c=s?(l=M&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",_.LINES):(l=M?"fillPattern":"fill",_.TRIANGLES);for(var x=0,w=r;x<w.length;x+=1){var A=w[x],T=n.getTile(A);if(!M||T.patternsLoaded()){var L=T.getBucket(i);if(L){var S=L.programConfigurations.get(i.id),k=e.useProgram(l,S);M&&(e.context.activeTexture.set(_.TEXTURE0),T.imageAtlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),S.updatePaintBuffers(b));var O=v.constantOr(null);if(O&&T.imageAtlas){var z=T.imageAtlas,C=z.patternPositions[O.to.toString()],E=z.patternPositions[O.from.toString()];C&&E&&S.setConstantPatternPositions(C,E)}var D=e.translatePosMatrix(A.posMatrix,T,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(s){h=L.indexBuffer2,p=L.segments2;var N=[_.drawingBufferWidth,_.drawingBufferHeight];u="fillOutlinePattern"===l&&M?(d=D,f=e,m=b,g=T,y=N,t.extend(tr(d,f,m,g),{u_world:y})):{u_matrix:D,u_world:N}}else h=L.indexBuffer,p=L.segments,u=M?tr(D,e,b,T):$i(D);k.draw(e.context,c,a,e.stencilModeForClipping(A),o,an.disabled,u,i.id,L.layoutVertexBuffer,h,p,i.paint,e.transform.zoom,S)}}}}function xr(e,n,i,r,a,o,s){for(var c=e.context,l=c.gl,u=i.paint.get("fill-extrusion-pattern"),h=u.constantOr(1),p=i.getCrossfadeParameters(),d=i.paint.get("fill-extrusion-opacity"),f=0,m=r;f<m.length;f+=1){var g=m[f],y=n.getTile(g),_=y.getBucket(i);if(_){var v=_.programConfigurations.get(i.id),M=e.useProgram(h?"fillExtrusionPattern":"fillExtrusion",v);h&&(e.context.activeTexture.set(l.TEXTURE0),y.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers(p));var b=u.constantOr(null);if(b&&y.imageAtlas){var x=y.imageAtlas,w=x.patternPositions[b.to.toString()],A=x.patternPositions[b.from.toString()];w&&A&&v.setConstantPatternPositions(w,A)}var T=e.translatePosMatrix(g.posMatrix,y,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),L=i.paint.get("fill-extrusion-vertical-gradient"),S=h?(k=T,O=e,z=L,C=d,E=g,D=p,N=y,t.extend(Qi(k,O,z,C),Ji(D,O,N),{u_height_factor:-Math.pow(2,E.overscaledZ)/N.tileSize/8})):Qi(T,e,L,d);M.draw(c,c.gl.TRIANGLES,a,o,s,an.backCCW,S,i.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,i.paint,e.transform.zoom,v)}}var k,O,z,C,E,D,N}function wr(t,e,n,i,r,a){var o=t.context,s=o.gl,c=e.fbo;if(c){var l=t.useProgram("hillshade");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,c.colorAttachment.get());var u=or(t,e,n);l.draw(o,s.TRIANGLES,i,r,a,an.disabled,u,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function Ar(e,n,i,r,a,o,s){var c=e.context,l=c.gl,u=n.dem;if(u&&u.data){var h=u.dim,p=u.stride,d=u.getPixels();if(c.activeTexture.set(l.TEXTURE1),c.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(p),n.demTexture){var f=n.demTexture;f.update(d,{premultiply:!1}),f.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(c,d,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);c.activeTexture.set(l.TEXTURE0);var m=n.fbo;if(!m){var g=new t.Texture(c,{width:h,height:h,data:null},l.RGBA);g.bind(l.LINEAR,l.CLAMP_TO_EDGE),(m=n.fbo=c.createFramebuffer(h,h)).colorAttachment.set(g.texture)}c.bindFramebuffer.set(m.framebuffer),c.viewport.set([0,0,h,h]),e.useProgram("hillshadePrepare").draw(c,l.TRIANGLES,a,o,s,an.disabled,sr(n.tileID,u,r),i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Tr(e,n,i,r,a){var o=r.paint.get("raster-fade-duration");if(0<o){var s=t.browser.now(),c=(s-e.timeAdded)/o,l=n?(s-n.timeAdded)/o:-1,u=i.getSource(),h=a.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),d=p&&e.refreshedUponExpiration?1:t.clamp(p?c:1-l,0,1);return e.refreshedUponExpiration&&1<=c&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}function Lr(e,n,i){var r=e.context,a=r.gl,o=i.posMatrix,s=e.useProgram("debug"),c=en.disabled,l=nn.disabled,u=e.colorModeForRenderPass(),h="$debug";s.draw(r,a.LINE_STRIP,c,l,u,an.disabled,ar(o,t.Color.red),h,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var p=n.getTileByID(i.key).latestRawTileData,d=p&&p.byteLength||0,f=Math.floor(d/1024),m=n.getTile(i).tileSize,g=512/Math.min(m,512),y=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(y+=" => "+i.overscaledZ);for(var _=function(t,e,n,i){i=i||1;var r,a,o,s,c,l,u,h,p=[];for(r=0,a=t.length;r<a;r++)if(c=kr[t[r]]){for(h=null,o=0,s=c[1].length;o<s;o+=2)h=-1===c[1][o]&&-1===c[1][o+1]?null:(l=e+c[1][o]*i,u=n-c[1][o+1]*i,h&&p.push(h.x,h.y,l,u),{x:l,y:u});e+=c[0]*i}return p}(y+" "+f+"kb",50,200*g,5*g),v=new t.StructArrayLayout2i4,M=new t.StructArrayLayout2ui4,b=0;b<_.length;b+=2)v.emplaceBack(_[b],_[b+1]),M.emplaceBack(b,b+1);for(var x=r.createVertexBuffer(v,Mi.members),w=r.createIndexBuffer(M),A=t.SegmentVector.simpleSegment(0,0,v.length/2,v.length/2),T=t.EXTENT/(Math.pow(2,e.transform.zoom-i.overscaledZ)*m*g),L=[],S=-1;S<=1;S++)for(var k=-1;k<=1&&(0!==S||0!==k);k++)L.push([S,k]);for(var O=0;O<L.length;O++){var z=L[O];s.draw(r,a.LINES,c,l,u,an.disabled,ar(t.translate([],o,[T*z[0],T*z[1],0]),t.Color.white),h,x,w,A)}s.draw(r,a.LINES,c,l,u,an.disabled,ar(o,t.Color.black),h,x,w,A),x.destroy(),w.destroy(),A.destroy()}function Sr(t,e){this.context=new on(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=cn.maxUnderzooming+cn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.crossTileSymbolIndex=new pi,this.gpuTimers={}}var kr={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Or={symbol:function(e,n,i,r,a){if("translucent"===e.renderPass){var o=nn.disabled,s=e.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(e,n,i,r,a,o,s){for(var c=n.transform,l="map"===a,u="map"===o,h=0,p=e;h<p.length;h+=1){var d=p[h],f=r.getTile(d),m=f.getBucket(i);if(m&&m.text&&m.text.segments.get().length){var g=m.textSizeData,y=t.evaluateSizeForZoom(g,c.zoom),_=Wn(f,1,n.transform.zoom),v=Sn(d.posMatrix,u,l,n.transform,_),M="none"!==i.layout.get("icon-text-fit")&&m.hasIconData();if(y){var b=Math.pow(2,c.zoom-f.tileID.overscaledZ);_r(m,l,u,s,t.symbolSize,c,v,d.posMatrix,b,y,M)}}}}(r,e,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),a),0!==i.paint.get("icon-opacity").constantOr(1)&&vr(e,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),o,s),0!==i.paint.get("text-opacity").constantOr(1)&&vr(e,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(gr(e,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),gr(e,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,i,r){if("translucent"===e.renderPass){var a=i.paint.get("circle-opacity"),o=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),c=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var l=e.context,u=l.gl,h=e.depthModeForSublayer(0,en.ReadOnly),p=nn.disabled,d=e.colorModeForRenderPass(),f=[],m=0;m<r.length;m++){var g=r[m],y=n.getTile(g),_=y.getBucket(i);if(_){var v=_.programConfigurations.get(i.id),M={programConfiguration:v,program:e.useProgram("circle",v),layoutVertexBuffer:_.layoutVertexBuffer,indexBuffer:_.indexBuffer,uniformValues:er(e,g,y,i)};if(c)for(var b=0,x=_.segments.get();b<x.length;b+=1){var w=x[b];f.push({segments:new t.SegmentVector([w]),sortKey:w.sortKey,state:M})}else f.push({segments:_.segments,sortKey:0,state:M})}}c&&f.sort((function(t,e){return t.sortKey-e.sortKey}));for(var A=0,T=f;A<T.length;A+=1){var L=T[A],S=L.state,k=S.programConfiguration,O=S.program,z=S.layoutVertexBuffer,C=S.indexBuffer,E=S.uniformValues,D=L.segments;O.draw(l,u.TRIANGLES,h,p,d,an.disabled,E,i.id,z,C,D,i.paint,e.transform.zoom,k)}}}},heatmap:function(e,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var a=e.context,o=a.gl,s=e.depthModeForSublayer(0,en.ReadOnly),c=nn.disabled,l=new rn([o.ONE,o.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var i=t.gl;t.activeTexture.set(i.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{var a=i.createTexture();i.bindTexture(i.TEXTURE_2D,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,i,r){var a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,n.width/4,n.height/4,0,a.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),r.colorAttachment.set(i),e.extTextureHalfFloat&&a.checkFramebufferStatus(a.FRAMEBUFFER)!==a.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,r.colorAttachment.setDirty(),t(e,n,i,r))}(t,e,a,r)}}(a,e,i),a.clear({color:t.Color.transparent});for(var u=0;u<r.length;u++){var h=r[u];if(!n.hasRenderableParent(h)){var p=n.getTile(h),d=p.getBucket(i);if(d){var f=d.programConfigurations.get(i.id),m=e.useProgram("heatmap",f),g=e.transform.zoom;m.draw(a,o.TRIANGLES,s,c,l,an.disabled,(y=h.posMatrix,_=p,v=g,M=i.paint.get("heatmap-intensity"),{u_matrix:y,u_extrude_scale:Wn(_,1,v),u_intensity:M}),i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,i.paint,e.transform.zoom,f)}}}a.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var i=e.context,r=i.gl,a=n.heatmapFbo;if(a){i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);var o=n.colorRampTexture;(o=o||(n.colorRampTexture=new t.Texture(i,n.colorRamp,r.RGBA))).bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(i,r.TRIANGLES,en.disabled,nn.disabled,e.colorModeForRenderPass(),an.disabled,function(e,n,i,r){var a=t.create();t.ortho(a,0,e.width,e.height,0,0,1);var o=e.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:i,u_color_ramp:r,u_opacity:n.paint.get("heatmap-opacity")}}(e,n,0,1),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,i));var y,_,v,M},line:function(e,n,i,r){if("translucent"===e.renderPass){var a=i.paint.get("line-opacity"),o=i.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1)){var s=e.depthModeForSublayer(0,en.ReadOnly),c=e.colorModeForRenderPass(),l=i.paint.get("line-dasharray"),u=i.paint.get("line-pattern"),h=u.constantOr(1),p=i.paint.get("line-gradient"),d=i.getCrossfadeParameters(),f=h?"linePattern":l?"lineSDF":p?"lineGradient":"line",m=e.context,g=m.gl,y=!0;if(p){m.activeTexture.set(g.TEXTURE0);var _=i.gradientTexture;if(!i.gradient)return;(_=_||(i.gradientTexture=new t.Texture(m,i.gradient,g.RGBA))).bind(g.LINEAR,g.CLAMP_TO_EDGE)}for(var v=0,M=r;v<M.length;v+=1){var b=M[v],x=n.getTile(b);if(!h||x.patternsLoaded()){var w=x.getBucket(i);if(w){var A=w.programConfigurations.get(i.id),T=e.context.program.get(),L=e.useProgram(f,A),S=y||L.program!==T,k=u.constantOr(null);if(k&&x.imageAtlas){var O=x.imageAtlas,z=O.patternPositions[k.to.toString()],C=O.patternPositions[k.from.toString()];z&&C&&A.setConstantPatternPositions(z,C)}var E=h?(J=i,Q=d,tt=lr(Z=x,$=(K=e).transform),{u_matrix:ur(K,Z,J),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/Wn(Z,1,$.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[t.browser.devicePixelRatio,tt,Q.fromScale,Q.toScale],u_fade:Q.t,u_units_to_pixels:[1/$.pixelsToGLUnits[0],1/$.pixelsToGLUnits[1]]}):l?(B=x,R=i,q=l,Y=d,j=void 0,W=(P=e).transform,j=P.lineAtlas,F=lr(B,W),H="round"===R.layout.get("line-cap"),U=j.getDash(q.from,H),X=j.getDash(q.to,H),V=U.width*Y.fromScale,G=X.width*Y.toScale,t.extend(cr(P,B,R),{u_patternscale_a:[F/V,-U.height/2],u_patternscale_b:[F/G,-X.height/2],u_sdfgamma:j.width/(256*Math.min(V,G)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:U.y,u_tex_y_b:X.y,u_mix:Y.t})):p?(D=e,N=x,I=i,t.extend(cr(D,N,I),{u_image:0})):cr(e,x,i);h?(m.activeTexture.set(g.TEXTURE0),x.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),A.updatePaintBuffers(d)):l&&(S||e.lineAtlas.dirty)&&(m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m)),L.draw(m,g.TRIANGLES,s,e.stencilModeForClipping(b),c,an.disabled,E,i.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,i.paint,e.transform.zoom,A),y=!1}}}}}var D,N,I,P,B,R,q,Y,W,j,F,H,U,X,V,G,K,Z,J,Q,$,tt},fill:function(e,n,i,r){var a=i.paint.get("fill-color"),o=i.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=e.colorModeForRenderPass(),c=i.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!c.constantOr(1)&&1===a.constantOr(t.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){var u=e.depthModeForSublayer(1,"opaque"===e.renderPass?en.ReadWrite:en.ReadOnly);br(e,n,i,r,u,s,!1)}if("translucent"===e.renderPass&&i.paint.get("fill-antialias")){var h=e.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,en.ReadOnly);br(e,n,i,r,h,s,!0)}}},"fill-extrusion":function(t,e,n,i){var r=n.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===t.renderPass){var a=new en(t.context.gl.LEQUAL,en.ReadWrite,t.depthRangeFor3D);if(1!==r||n.paint.get("fill-extrusion-pattern").constantOr(1))xr(t,e,n,i,a,nn.disabled,rn.disabled),xr(t,e,n,i,a,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var o=t.colorModeForRenderPass();xr(t,e,n,i,a,nn.disabled,o)}}},hillshade:function(t,e,n,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var r=t.context,a=e.getSource().maxzoom,o=t.depthModeForSublayer(0,en.ReadOnly),s=t.colorModeForRenderPass(),c="translucent"===t.renderPass?t.stencilConfigForOverlap(i):[{},i],l=c[0],u=0,h=c[1];u<h.length;u+=1){var p=h[u],d=e.getTile(p);d.needsHillshadePrepare&&"offscreen"===t.renderPass?Ar(t,d,n,a,o,nn.disabled,s):"translucent"===t.renderPass&&wr(t,d,n,o,l[p.overscaledZ],s)}r.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,i){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&i.length)for(var r=t.context,a=r.gl,o=e.getSource(),s=t.useProgram("raster"),c=t.colorModeForRenderPass(),l=o instanceof Y?[{},i]:t.stencilConfigForOverlap(i),u=l[0],h=l[1],p=h[h.length-1].overscaledZ,d=!t.options.moving,f=0,m=h;f<m.length;f+=1){var g=m[f],y=t.depthModeForSublayer(g.overscaledZ-p,1===n.paint.get("raster-opacity")?en.ReadWrite:en.ReadOnly,a.LESS),_=e.getTile(g),v=t.transform.calculatePosMatrix(g.toUnwrapped(),d);_.registerFadeDuration(n.paint.get("raster-fade-duration"));var M=e.findLoadedParent(g,0),b=Tr(_,M,e,n,t.transform),x=void 0,w=void 0,A="nearest"===n.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;r.activeTexture.set(a.TEXTURE0),_.texture.bind(A,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(a.TEXTURE1),M?(M.texture.bind(A,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,M.tileID.overscaledZ-_.tileID.overscaledZ),w=[_.tileID.canonical.x*x%1,_.tileID.canonical.y*x%1]):_.texture.bind(A,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var T=hr(v,w||[0,0],x||1,b,n);o instanceof Y?s.draw(r,a.TRIANGLES,y,nn.disabled,c,an.disabled,T,n.id,o.boundsBuffer,t.quadTriangleIndexBuffer,o.boundsSegments):s.draw(r,a.TRIANGLES,y,u[g.overscaledZ],c,an.disabled,T,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(e,n,i){var r,a,o,s,c,l,u,h,p,d,f,m,g,y,_,v,M,b,x,w=i.paint.get("background-color"),A=i.paint.get("background-opacity");if(0!==A){var T=e.context,L=T.gl,S=e.transform,k=S.tileSize,O=i.paint.get("background-pattern");if(!e.isPatternMissing(O)){var z=!O&&1===w.a&&1===A&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===z){var C=nn.disabled,E=e.depthModeForSublayer(0,"opaque"==z?en.ReadWrite:en.ReadOnly),D=e.colorModeForRenderPass(),N=e.useProgram(O?"backgroundPattern":"background"),I=S.coveringTiles({tileSize:k});O&&(T.activeTexture.set(L.TEXTURE0),e.imageManager.bind(e.context));for(var P=i.getCrossfadeParameters(),B=0,R=I;B<R.length;B+=1){var q=R[B],Y=e.transform.calculatePosMatrix(q.toUnwrapped()),W=O?(r=Y,a=A,o=e,s=O,c={tileID:q,tileSize:k},l=P,x=b=M=v=_=y=g=m=f=d=p=h=u=void 0,t.extend((u=s,h=l,d=c,f=(p=o).imageManager.getPattern(u.from.toString()),m=p.imageManager.getPattern(u.to.toString()),y=(g=p.imageManager.getPixelSize()).width,_=g.height,v=Math.pow(2,d.tileID.overscaledZ),b=(M=d.tileSize*Math.pow(2,p.transform.tileZoom)/v)*(d.tileID.canonical.x+d.tileID.wrap*v),x=M*d.tileID.canonical.y,{u_image:0,u_pattern_tl_a:f.tl,u_pattern_br_a:f.br,u_pattern_tl_b:m.tl,u_pattern_br_b:m.br,u_texsize:[y,_],u_mix:h.t,u_pattern_size_a:f.displaySize,u_pattern_size_b:m.displaySize,u_scale_a:h.fromScale,u_scale_b:h.toScale,u_tile_units_to_pixels:1/Wn(d,1,p.transform.tileZoom),u_pixel_coord_upper:[b>>16,x>>16],u_pixel_coord_lower:[65535&b,65535&x]}),{u_matrix:r,u_opacity:a})):{u_matrix:Y,u_opacity:A,u_color:w};N.draw(T,L.TRIANGLES,E,C,D,an.disabled,W,i.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(t,e,n){for(var i=0;i<n.length;i++)Lr(t,e,n[i])},custom:function(t,e,n){var i=t.context,r=n.implementation;if("offscreen"===t.renderPass){var a=r.prerender;a&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),a.call(r,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(nn.disabled);var o="3d"===r.renderingMode?new en(t.context.gl.LEQUAL,en.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,en.ReadOnly);i.setDepthMode(o),r.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}};function zr(t,e){this.points=t,this.planes=e}function Cr(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)}function Er(e,n,i,r,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}}Sr.prototype.resize=function(e,n){var i=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,a=this.style._order;r<a.length;r+=1){var o=a[r];this.style._layers[o].resize()}this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Sr.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Mi.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(i,Mi.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var r=new t.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(t.EXTENT,0,t.EXTENT,0),r.emplaceBack(0,t.EXTENT,0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(r,q.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(a,Mi.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(o);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var c=this.context.gl;this.stencilClearMode=new nn({func:c.ALWAYS,mask:0},0,255,c.ZERO,c.ZERO,c.ZERO)},Sr.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var i=t.create();t.ortho(i,0,this.width,this.height,0,0,1),t.scale(i,i,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,en.disabled,this.stencilClearMode,rn.disabled,an.disabled,ir(i),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Sr.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,i=n.gl;256<this.nextStencilID+e.length&&this.clearStencil(),n.setColorMode(rn.disabled),n.setDepthMode(en.disabled);var r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var a=0,o=e;a<o.length;a+=1){var s=o[a],c=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;r.draw(n,i.TRIANGLES,en.disabled,new nn({func:i.ALWAYS,mask:0},c,255,i.KEEP,i.KEEP,i.REPLACE),rn.disabled,an.disabled,ir(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Sr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,256<this.nextStencilID+1&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new nn({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},Sr.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new nn({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Sr.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,i=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),r=i[i.length-1].overscaledZ,a=i[0].overscaledZ-r+1;if(1<a){this.currentStencilSource=void 0,256<this.nextStencilID+a&&this.clearStencil();for(var o={},s=0;s<a;s++)o[s+r]=new nn({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=a,[o,i]}return[((e={})[r]=nn.disabled,e),i]},Sr.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new rn([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?rn.unblended:rn.alphaBlended},Sr.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return en.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new en(n||this.context.gl.LEQUAL,e,[i,i])},Sr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Sr.prototype.render=function(e,n){var i=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var r=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var c,l,u={},h={},p={};for(var d in a){var f=a[d];u[d]=f.getVisibleCoordinates(),h[d]=u[d].slice().reverse(),p[d]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<r.length;m++){var g=r[m];if(this.style._layers[g].is3D()){this.opaquePassCutoff=m;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var y=0,_=r;y<_.length;y+=1){var v=_[y],M=this.style._layers[v];if(M.hasOffscreenPass()&&!M.isHidden(this.transform.zoom)){var b=h[M.source];"custom"!==M.type&&!b.length||this.renderLayer(this,a[M.source],M,b)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;0<=this.currentLayer;this.currentLayer--){var x=this.style._layers[r[this.currentLayer]],w=a[x.source],A=u[x.source];this._renderTileClippingMasks(x,A),this.renderLayer(this,w,x,A)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var T=this.style._layers[r[this.currentLayer]],L=a[T.source],S=("symbol"===T.type?p:h)[T.source];this._renderTileClippingMasks(T,u[T.source]),this.renderLayer(this,L,T,S)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(i.transform.zoom)&&(t.source!==(l&&l.id)&&(l=i.style.sourceCaches[t.source]),(!c||c.getSource().maxzoom<l.getSource().maxzoom)&&(c=l))})),c&&Or.debug(this,c,c.getVisibleCoordinates())),this.context.setDefault()},Sr.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},Sr.prototype.renderLayer=function(t,e,n,i){n.isHidden(this.transform.zoom)||"background"!==n.type&&"custom"!==n.type&&!i.length||(this.id=n.id,this.gpuTimingStart(n),Or[n.type](t,e,n,i,this.style.placement.variableOffsets),this.gpuTimingEnd())},Sr.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];(n=n||(this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()})).calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},Sr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},Sr.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},Sr.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var i=t[n],r=this.context.extTimerQuery,a=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),e[n]=a}return e},Sr.prototype.translatePosMatrix=function(e,n,i,r,a){if(!i[0]&&!i[1])return e;var o=a?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){var s=Math.sin(o),c=Math.cos(o);i=[i[0]*c-i[1]*s,i[0]*s+i[1]*c]}var l=[a?i[0]:Wn(n,i[0],this.transform.zoom),a?i[1]:Wn(n,i[1],this.transform.zoom),0],u=new Float32Array(16);return t.translate(u,e,l),u},Sr.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},Sr.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&0<e.length?e.pop():null},Sr.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},Sr.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new Zi(this.context,Ki[t],e,fr[t],this._showOverdrawInspector)),this.cache[n]},Sr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Sr.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},zr.fromInvProjectionMatrix=function(e,n,i){var r=Math.pow(2,i),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return t.transformMat4([],n,e)})).map((function(e){return t.scale$1([],e,1/e[3]/n*r)})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var n=t.sub([],a[e[0]],a[e[1]]),i=t.sub([],a[e[2]],a[e[1]]),r=t.normalize([],t.cross([],n,i)),o=-t.dot(r,a[e[1]]);return r.concat(o)}));return new zr(a,o)},Cr.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],i=t.clone$2(this.min),r=t.clone$2(this.max),a=0;a<n.length;a++)i[a]=n[a]?this.min[a]:this.center[a],r[a]=n[a]?this.center[a]:this.max[a];return r[2]=this.max[2],new Cr(i,r)},Cr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},Cr.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},Cr.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],i=!0,r=0;r<e.planes.length;r++){for(var a=e.planes[r],o=0,s=0;s<n.length;s++)o+=0<=t.dot$1(a,n[s]);if(0===o)return 0;o!==n.length&&(i=!1)}if(i)return 2;for(var c=0;c<3;c++){for(var l=Number.MAX_VALUE,u=-Number.MAX_VALUE,h=0;h<e.points.length;h++){var p=e.points[h][c]-this.min[c];l=Math.min(l,p),u=Math.max(u,p)}if(u<0||l>this.max[c]-this.min[c])return 0}return 1};var Dr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};function Nr(e){var n,i,r,a;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),i=!1,r=null,a=function(){r=null,i&&(n(),r=setTimeout(a,300),i=!1)},function(){return i=!0,r||a(),r})}function Ir(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)}Er.prototype.clone=function(){var t=new Er(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},Dr.minZoom.get=function(){return this._minZoom},Dr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Dr.maxZoom.get=function(){return this._maxZoom},Dr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Dr.minPitch.get=function(){return this._minPitch},Dr.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Dr.maxPitch.get=function(){return this._maxPitch},Dr.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},Dr.renderWorldCopies.get=function(){return this._renderWorldCopies},Dr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Dr.worldSize.get=function(){return this.tileSize*this.scale},Dr.centerPoint.get=function(){return this.size._div(2)},Dr.size.get=function(){return new t.Point(this.width,this.height)},Dr.bearing.get=function(){return-this.angle/Math.PI*180},Dr.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Dr.pitch.get=function(){return this._pitch/Math.PI*180},Dr.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Dr.fov.get=function(){return this._fov/Math.PI*180},Dr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Dr.zoom.get=function(){return this._zoom},Dr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Dr.center.get=function(){return this._center},Dr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Er.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},Er.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var i=this.pointCoordinate(new t.Point(0,0)),r=this.pointCoordinate(new t.Point(this.width,0)),a=this.pointCoordinate(new t.Point(this.width,this.height)),o=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(i.x,r.x,a.x,o.x)),c=Math.floor(Math.max(i.x,r.x,a.x,o.x)),l=s-1;l<=c+1;l++)0!==l&&n.push(new t.UnwrappedTileID(l,e));return n},Er.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),i=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var r=t.MercatorCoordinate.fromLngLat(this.center),a=Math.pow(2,n),o=[a*r.x,a*r.y,0],s=zr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),c=e.minzoom||0;function l(t){return{aabb:new Cr([t*a,0,0],[(t+1)*a,a,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}}this.pitch<=60&&(c=n);var u=[],h=[],p=n,d=e.reparseOverscaled?i:n;if(this._renderWorldCopies)for(var f=1;f<=3;f++)u.push(l(-f)),u.push(l(f));for(u.push(l(0));0<u.length;){var m=u.pop(),g=m.x,y=m.y,_=m.fullyVisible;if(!_){var v=m.aabb.intersects(s);if(0===v)continue;_=2===v}var M=m.aabb.distanceX(o),b=m.aabb.distanceY(o),x=Math.max(Math.abs(M),Math.abs(b)),w=3+(1<<p-m.zoom)-2;if(m.zoom===p||w<x&&m.zoom>=c)h.push({tileID:new t.OverscaledTileID(m.zoom===p?d:m.zoom,m.wrap,m.zoom,g,y),distanceSq:t.sqrLen([o[0]-.5-g,o[1]-.5-y])});else for(var A=0;A<4;A++){var T=(g<<1)+A%2,L=(y<<1)+(A>>1);u.push({aabb:m.aabb.quadrant(A),zoom:m.zoom+1,x:T,y:L,wrap:m.wrap,fullyVisible:_})}}return h.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},Er.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Dr.unmodified.get=function(){return this._unmodified},Er.prototype.zoomScale=function(t){return Math.pow(2,t)},Er.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Er.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},Er.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},Dr.point.get=function(){return this.project(this.center)},Er.prototype.setLocationAtPoint=function(e,n){var i=this.pointCoordinate(n),r=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(e),o=new t.MercatorCoordinate(a.x-(i.x-r.x),a.y-(i.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},Er.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Er.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Er.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},Er.prototype.coordinateLocation=function(t){return t.toLngLat()},Er.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],i=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(i,i,this.pixelMatrixInverse);var r=n[3],a=i[3],o=n[0]/r,s=i[0]/a,c=n[1]/r,l=i[1]/a,u=n[2]/r,h=i[2]/a,p=u==h?0:(0-u)/(h-u);return new t.MercatorCoordinate(t.number(o,s,p)/this.worldSize,t.number(c,l,p)/this.worldSize)},Er.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},Er.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},Er.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Er.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Er.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var i=e.key,r=n?this._alignedPosMatrixCache:this._posMatrixCache;if(r[i])return r[i];var a=e.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*e.wrap,c=t.identity(new Float64Array(16));return t.translate(c,c,[s*o,a.y*o,0]),t.scale(c,c,[o/t.EXTENT,o/t.EXTENT,1]),t.multiply(c,n?this.alignedProjMatrix:this.projMatrix,c),r[i]=new Float32Array(c),r[i]},Er.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Er.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,i,r,a=-90,o=90,s=-180,c=180,l=this.size,u=this._unmodified;if(this.latRange){var h=this.latRange;a=t.mercatorYfromLat(h[1])*this.worldSize,e=(o=t.mercatorYfromLat(h[0])*this.worldSize)-a<l.y?l.y/(o-a):0}if(this.lngRange){var p=this.lngRange;s=t.mercatorXfromLng(p[0])*this.worldSize,n=(c=t.mercatorXfromLng(p[1])*this.worldSize)-s<l.x?l.x/(c-s):0}var d=this.point,f=Math.max(n||0,e||0);if(f)return this.center=this.unproject(new t.Point(n?(c+s)/2:d.x,e?(o+a)/2:d.y)),this.zoom+=this.scaleZoom(f),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var m=d.y,g=l.y/2;m-g<a&&(r=a+g),o<m+g&&(r=o-g)}if(this.lngRange){var y=d.x,_=l.x/2;y-_<s&&(i=s+_),c<y+_&&(i=c-_)}void 0===i&&void 0===r||(this.center=this.unproject(new t.Point(void 0!==i?i:d.x,void 0!==r?r:d.y))),this._unmodified=u,this._constraining=!1}},Er.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,n=Math.PI/2+this._pitch,i=Math.sin(e)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-e,.01,Math.PI-.01)),r=this.point,a=r.x,o=r.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),c=this.height/50,l=new Float64Array(16);t.perspective(l,this._fov,this.width/this.height,c,s),t.scale(l,l,[1,-1,1]),t.translate(l,l,[0,0,-this.cameraToCenterDistance]),t.rotateX(l,l,this._pitch),t.rotateZ(l,l,this.angle),t.translate(l,l,[-a,-o,0]),this.mercatorMatrix=t.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),t.scale(l,l,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l,this.invProjMatrix=t.invert([],this.projMatrix);var u=this.width%2/2,h=this.height%2/2,p=Math.cos(this.angle),d=Math.sin(this.angle),f=a-Math.round(a)+p*u+d*h,m=o-Math.round(o)+p*h+d*u,g=new Float64Array(l);if(t.translate(g,g,[.5<f?f-1:f,.5<m?m-1:m,0]),this.alignedProjMatrix=g,l=t.create(),t.scale(l,l,[this.width/2,-this.height/2,1]),t.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=t.create(),t.scale(l,l,[1,-1,1]),t.translate(l,l,[-1,-1,0]),t.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Er.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Er.prototype.getCameraPoint=function(){var e=this._pitch,n=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,n))},Er.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var i=n.x,r=n.y,a=n.x,o=n.y,s=0,c=e;s<c.length;s+=1){var l=c[s];i=Math.min(i,l.x),r=Math.min(r,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y)}return[new t.Point(i,r),new t.Point(a,r),new t.Point(a,o),new t.Point(i,o),new t.Point(i,r)]},Object.defineProperties(Er.prototype,Dr),Nr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Nr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Nr.prototype.getHashString=function(e){var n=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,r),o=Math.round(n.lng*a)/a,s=Math.round(n.lat*a)/a,c=this._map.getBearing(),l=this._map.getPitch(),u="";if(u+=e?"/"+o+"/"+s+"/"+i:i+"/"+s+"/"+o,(c||l)&&(u+="/"+Math.round(10*c)/10),l&&(u+="/"+Math.round(l)),this._hashName){var h=this._hashName,p=!1,d=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===h?(p=!0,e+"="+u):t})).filter((function(t){return t}));return p||d.push(h+"="+u),"#"+d.join("&")}return"#"+u},Nr.prototype._getCurrentHash=function(){var e,n=this,i=t.window.location.hash.replace("#","");return this._hashName?(i.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):i.split("/")},Nr.prototype._onHashChange=function(){var t=this._getCurrentHash();if(3<=t.length&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Nr.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(e){}};var Pr=function(e){function i(i,r,a,o){void 0===o&&(o={});var s=n.mousePos(r.getCanvasContainer(),a),c=r.unproject(s);e.call(this,i,t.extend({point:s,lngLat:c,originalEvent:a},o)),this._defaultPrevented=!1,this.target=r}e&&(i.__proto__=e);var r={defaultPrevented:{configurable:!0}};return((i.prototype=Object.create(e&&e.prototype)).constructor=i).prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),Br=function(e){function i(i,r,a){var o=n.touchPos(r.getCanvasContainer(),a),s=o.map((function(t){return r.unproject(t)})),c=o.reduce((function(t,e,n,i){return t.add(e.div(i.length))}),new t.Point(0,0)),l=r.unproject(c);e.call(this,i,{points:o,point:c,lngLats:s,lngLat:l,originalEvent:a}),this._defaultPrevented=!1}e&&(i.__proto__=e);var r={defaultPrevented:{configurable:!0}};return((i.prototype=Object.create(e&&e.prototype)).constructor=i).prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),Rr=function(t){function e(e,n,i){t.call(this,e,{originalEvent:i}),this._defaultPrevented=!1}t&&(e.__proto__=t);var n={defaultPrevented:{configurable:!0}};return((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event);function qr(e,n){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)}function Yr(e,n){this._map=e,this._el=n.element||e.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,this._clickTolerance=n.clickTolerance||1,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)}Ir.prototype.setZoomRate=function(t){this._defaultZoomRate=t},Ir.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},Ir.prototype.isEnabled=function(){return!!this._enabled},Ir.prototype.isActive=function(){return!!this._active},Ir.prototype.isZooming=function(){return!!this._zooming},Ir.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},Ir.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ir.prototype.onWheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,i=t.browser.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":400<r?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this.isActive()||this._start(e)),e.preventDefault()}},Ir.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},Ir.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Ir.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var i="wheel"===this._type&&4.000244140625<Math.abs(this._delta)?this._wheelZoomRate:this._defaultZoomRate,r=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==r&&(r=1/r);var a="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(a*r))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,c=this._easing,l=!1;if("wheel"===this._type&&s&&c){var u=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),h=c(u);n.zoom=t.number(s,o,h),u<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):l=!0}else n.zoom=o,l=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),l&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},Ir.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var i=this._prevEase,r=(t.browser.now()-i.start)/i.duration,a=i.easing(.01+r)-i.easing(r),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=t.bezier(o,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},qr.prototype.isEnabled=function(){return!!this._enabled},qr.prototype.isActive=function(){return!!this._active},qr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},qr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},qr.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=this._lastPos=n.mousePos(this._el,e),this._active=!0)},qr.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=e,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(i.x,e.x),a=Math.max(i.x,e.x),o=Math.min(i.y,e.y),s=Math.max(i.y,e.y);n.setTransform(this._box,"translate("+r+"px,"+o+"px)"),this._box.style.width=a-r+"px",this._box.style.height=s-o+"px"}},qr.prototype._onMouseUp=function(e){if(0===e.button){var i=this._startPos,r=n.mousePos(this._el,e);this._finish(),n.suppressClick(),i.x===r.x&&i.y===r.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},qr.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},qr.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},qr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Wr=t.bezier(0,0,.25,1);function jr(e,n){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,this._inertiaOptions=Fr,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)}Yr.prototype.isEnabled=function(){return"disabled"!==this._state},Yr.prototype.isActive=function(){return"active"===this._state},Yr.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},Yr.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Yr.prototype.onMouseDown=function(e){if("enabled"===this._state){var i="touchstart"===e.type;if(i)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=n.mouseButton(e),e.altKey||e.metaKey)return;if(this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==n.mouseButton(e))return;this._eventButton=0}n.disableDrag(),i?(t.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("touchend",this._onMouseUp)):(t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp)),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=n.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},Yr.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);this._lastPos.equals(e)||"pending"===this._state&&e.dist(this._startPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Yr.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var n=this._map.transform,i=this._prevPos,r=this._lastPos,a=.8*(i.x-r.x),o=-.5*(i.y-r.y),s=n.bearing-a,c=n.pitch-o,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([t.browser.now(),this._map._normalizeBearing(s,u[1])]);var h=n.bearing;if(n.bearing=s,this._pitchWithRotate){var p=n.pitch;n.pitch=c,n.pitch!==p&&this._fireEvent("pitch",e)}n.bearing!==h&&this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._prevPos=this._lastPos}},Yr.prototype._onMouseUp=function(t){var e="touchend"===t.type;if(e&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),e||n.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},Yr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Yr.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("touchend",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),n.enableDrag()},Yr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},Yr.prototype._inertialRotate=function(t){var e=this;function n(){Math.abs(r)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)}this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,r=i.getBearing(),a=this._inertia;if(a.length<2)n();else{var o=a[0],s=a[a.length-1],c=a[a.length-2],l=i._normalizeBearing(r,c[1]),u=s[1]-o[1],h=u<0?-1:1,p=(s[0]-o[0])/1e3;if(0!=u&&0!=p){var d=Math.abs(.25/p*u);180<d&&(d=180);var f=d/180;l+=h*d*(f/2),Math.abs(i._normalizeBearing(l,0))<this._bearingSnap&&(l=i._normalizeBearing(0,l)),i.rotateTo(l,{duration:1e3*f,easing:Wr,noMoveStart:!0},{originalEvent:t})}else n()}},Yr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},Yr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();0<e.length&&160<n-e[0][0];)e.shift()};var Fr={linearity:.3,easing:t.bezier(0,0,.3,1),maxSpeed:1400,deceleration:2500};function Hr(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)}function Ur(t){return t*(2-t)}function Xr(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)}function Vr(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)}jr.prototype.isEnabled=function(){return"disabled"!==this._state},jr.prototype.isActive=function(){return"active"===this._state},jr.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled",this._inertiaOptions=t.extend(Fr,e))},jr.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},jr.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==n.mouseButton(e)||(n.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},jr.prototype.onTouchStart=function(e){this.isEnabled()&&(e.touches&&1<e.touches.length&&("pending"===this._state||"active"===this._state)||(n.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},jr.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=n.mousePos(this._el,e),this._startTouch=this._lastTouch=t.window.TouchEvent&&e instanceof t.window.TouchEvent?n.touchPos(this._el,e):null,this._inertia=[[t.browser.now(),this._startPos]]},jr.prototype._touchesMatch=function(t,e){return!(!t||!e||t.length!==e.length)&&t.every((function(t,n){return e[n]===t}))},jr.prototype._onMove=function(e){e.preventDefault();var i=t.window.TouchEvent&&e instanceof t.window.TouchEvent?n.touchPos(this._el,e):null,r=n.mousePos(this._el,e);(i?this._touchesMatch(this._lastTouch,i):this._lastPos.equals(r))||"pending"===this._state&&r.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=r,this._lastTouch=i,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},jr.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t)if(this._map.touchZoomRotate.isActive())this._abort(t);else if(this._shouldStart&&(this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._shouldStart=!1),this.isActive()){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._prevPos=this._lastPos,delete this._lastMoveEvent}},jr.prototype._onMouseUp=function(t){if(0===n.mouseButton(t))switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},jr.prototype._onTouchEnd=function(t){if(t.touches&&0!==t.touches.length)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(t)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},jr.prototype._abort=function(e){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",e),this._fireEvent("moveend",e)),this._unbind(),this._deactivate(),t.window.TouchEvent&&e instanceof t.window.TouchEvent&&1<e.touches.length&&n.addEventListener(t.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},jr.prototype._onBlur=function(t){this._abort(t)},jr.prototype._unbind=function(){n.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onTouchEnd),n.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.removeEventListener(t.window.document,"mouseup",this._onMouseUp),n.removeEventListener(t.window,"blur",this._onBlur)},jr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},jr.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],i=e[0],r=n[1].sub(i[1]),a=(n[0]-i[0])/1e3;if(0==a||n[1].equals(i[1]))this._fireEvent("moveend",t);else{var o=this._inertiaOptions,s=o.linearity,c=o.easing,l=o.maxSpeed,u=o.deceleration,h=r.mult(s/a),p=h.mag();l<p&&(p=l,h._unit()._mult(p));var d=p/(u*s),f=h.mult(-d/2);this._map.panBy(f,{duration:1e3*d,easing:c,noMoveStart:!0},{originalEvent:t})}}},jr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},jr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();0<e.length&&160<n-e[0][0];)e.shift()},Hr.prototype.isEnabled=function(){return!!this._enabled},Hr.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Hr.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Hr.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,i=0,r=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),r=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),r=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(a=1,t.preventDefault());break;default:return}var o=this._map,s=o.getZoom(),c={duration:300,delayEndEvents:500,easing:Ur,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:o.getBearing()+15*n,pitch:o.getPitch()+10*i,offset:[100*-r,100*-a],center:o.getCenter()};o.easeTo(c,{originalEvent:t})}},Xr.prototype.isEnabled=function(){return!!this._enabled},Xr.prototype.isActive=function(){return!!this._active},Xr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Xr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Xr.prototype.onTouchStart=function(t){var e=this;if(this.isEnabled()&&!(1<t.points.length))if(this._tapped){var n=t.points[0],i=this._tappedPoint;if(i&&i.dist(n)<=30){t.originalEvent.preventDefault();var r=function(){e._tapped&&e._zoom(t),e._map.off("touchcancel",a),e._resetTapped()},a=function(){e._map.off("touchend",r),e._resetTapped()};this._map.once("touchend",r),this._map.once("touchcancel",a)}else this._resetTapped()}else this._tappedPoint=t.points[0],this._tapped=setTimeout((function(){e._tapped=null,e._tappedPoint=null}),300)},Xr.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},Xr.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},Xr.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},Xr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Gr=t.bezier(0,0,.15,1);function Kr(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)}Vr.prototype.isEnabled=function(){return!!this._enabled},Vr.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},Vr.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Vr.prototype.disableRotation=function(){this._rotationDisabled=!0},Vr.prototype.enableRotation=function(){this._rotationDisabled=!1},Vr.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},Vr.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var i=n.mousePos(this._el,e.touches[0]),r=n.mousePos(this._el,e.touches[1]),a=i.add(r).div(2);this._startVec=i.sub(r),this._startAround=this._map.transform.pointLocation(a),this._gestureIntent=void 0,this._inertia=[],n.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(t.window.document,"touchend",this._onEnd)}},Vr.prototype._getTouchEventData=function(t){var e=n.mousePos(this._el,t.touches[0]),i=n.mousePos(this._el,t.touches[1]),r=e.sub(i);return{vec:r,center:e.add(i).div(2),scale:r.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*r.angleWith(this._startVec)/Math.PI}},Vr.prototype._onMove=function(e){if(2===e.touches.length){var n=this._getTouchEventData(e),i=n.vec,r=n.scale,a=n.bearing;if(!this._gestureIntent){var o=this._rotationDisabled&&1!==r||.15<Math.abs(1-r);10<Math.abs(a)?this._gestureIntent="rotate":o&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=i)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},Vr.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var i=this._getTouchEventData(this._lastTouchEvent),r=i.center,a=i.bearing,o=i.scale,s=n.pointLocation(r),c=n.locationPoint(s);"rotate"===e&&(n.bearing=this._startBearing+a),n.zoom=n.scaleZoom(this._startScale*o),n.setLocationAtPoint(this._startAround,c),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),o,r])}},Vr.prototype._onEnd=function(e){n.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onEnd);var i=this._gestureIntent,r=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new t.Event(i+"end",{originalEvent:e})),this._drainInertiaBuffer();var a=this._inertia,o=this._map;if(a.length<2)o.snapToNorth({},{originalEvent:e});else{var s=a[a.length-1],c=a[0],l=o.transform.scaleZoom(r*s[1]),u=o.transform.scaleZoom(r*c[1]),h=l-u,p=(s[0]-c[0])/1e3,d=s[2];if(0!=p&&l!==u){var f=.15*h/p;2.5<Math.abs(f)&&(f=0<f?2.5:-2.5);var m=1e3*Math.abs(f/(12*.15)),g=l+f*m/2e3;o.easeTo({zoom:g,duration:m,easing:Gr,around:this._aroundCenter?o.getCenter():o.unproject(d),noMoveStart:!0},{originalEvent:e})}else o.snapToNorth({},{originalEvent:e})}}},Vr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();2<e.length&&160<n-e[0][0];)e.shift()};var Zr,Jr={scrollZoom:Ir,boxZoom:qr,dragRotate:Yr,dragPan:jr,keyboard:Hr,doubleClickZoom:Xr,touchZoomRotate:Vr},Qr=((Zr=t.Evented)&&($r.__proto__=Zr),(($r.prototype=Object.create(Zr&&Zr.prototype)).constructor=$r).prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},$r.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},$r.prototype.panBy=function(e,n,i){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),i)},$r.prototype.panTo=function(e,n,i){return this.easeTo(t.extend({center:e},n),i)},$r.prototype.getZoom=function(){return this.transform.zoom},$r.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},$r.prototype.zoomTo=function(e,n,i){return this.easeTo(t.extend({zoom:e},n),i)},$r.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},$r.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},$r.prototype.getBearing=function(){return this.transform.bearing},$r.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},$r.prototype.rotateTo=function(e,n,i){return this.easeTo(t.extend({bearing:e},n),i)},$r.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},$r.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},$r.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},$r.prototype.getPitch=function(){return this.transform.pitch},$r.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},$r.prototype.cameraForBounds=function(e,n){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,n)},$r.prototype._cameraForBoxAndBearing=function(e,n,i,r){if("number"==typeof(r=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var a=r.padding;r.padding={top:a,bottom:a,right:a,left:a}}if(t.deepEqual(Object.keys(r.padding).sort((function(t,e){return t<e?-1:e<t?1:0})),["bottom","left","right","top"])){var o=this.transform,s=o.project(t.LngLat.convert(e)),c=o.project(t.LngLat.convert(n)),l=s.rotate(-i*Math.PI/180),u=c.rotate(-i*Math.PI/180),h=new t.Point(Math.max(l.x,u.x),Math.max(l.y,u.y)),p=new t.Point(Math.min(l.x,u.x),Math.min(l.y,u.y)),d=h.sub(p),f=(o.width-r.padding.left-r.padding.right)/d.x,m=(o.height-r.padding.top-r.padding.bottom)/d.y;if(!(m<0||f<0)){var g=Math.min(o.scaleZoom(o.scale*Math.min(f,m)),r.maxZoom),y=t.Point.convert(r.offset),_=(r.padding.left-r.padding.right)/2,v=(r.padding.top-r.padding.bottom)/2,M=new t.Point(y.x+_,y.y+v).mult(o.scale/o.zoomScale(g));return{center:o.unproject(s.add(c).div(2).sub(M)),zoom:g,bearing:i}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},$r.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},$r.prototype.fitScreenCoordinates=function(e,n,i,r,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),i,r),r,a)},$r.prototype._fitInternal=function(e,n,i){return e?(n=t.extend(e,n)).linear?this.easeTo(n,i):this.flyTo(n,i):this},$r.prototype.jumpTo=function(e,n){this.stop();var i=this.transform,r=!1,a=!1,o=!1;return"zoom"in e&&i.zoom!==+e.zoom&&(r=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=t.LngLat.convert(e.center)),"bearing"in e&&i.bearing!==+e.bearing&&(a=!0,i.bearing=+e.bearing),"pitch"in e&&i.pitch!==+e.pitch&&(o=!0,i.pitch=+e.pitch),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),r&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),a&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),o&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},$r.prototype.easeTo=function(e,n){var i=this;this.stop(),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var r=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),c="zoom"in e?+e.zoom:a,l="bearing"in e?this._normalizeBearing(e.bearing,o):o,u="pitch"in e?+e.pitch:s,h=r.centerPoint.add(t.Point.convert(e.offset)),p=r.pointLocation(h),d=t.LngLat.convert(e.center||p);this._normalizeCenter(d);var f,m,g=r.project(p),y=r.project(d).sub(g),_=r.zoomScale(c-a);return e.around&&(f=t.LngLat.convert(e.around),m=r.locationPoint(f)),this._zooming=c!==a,this._rotating=o!==l,this._pitching=u!==s,this._prepareEase(n,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(i._zooming&&(r.zoom=t.number(a,c,e)),i._rotating&&(r.bearing=t.number(o,l,e)),i._pitching&&(r.pitch=t.number(s,u,e)),f)r.setLocationAtPoint(f,m);else{var p=r.zoomScale(r.zoom-a),d=a<c?Math.min(2,_):Math.max(.5,_),v=Math.pow(d,1-e),M=r.unproject(g.add(y.mult(e*v)).mult(p));r.setLocationAtPoint(r.renderWorldCopies?M.wrap():M,h)}i._fireMoveEvents(n)}),(function(){e.delayEndEvents?i._easeEndTimeoutID=setTimeout((function(){return i._afterEase(n)}),e.delayEndEvents):i._afterEase(n)}),e),this},$r.prototype._prepareEase=function(e,n){this._moving=!0,n||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},$r.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},$r.prototype._afterEase=function(e){var n=this._zooming,i=this._rotating,r=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),r&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},$r.prototype.flyTo=function(e,n){var i=this;if(!e.essential&&t.browser.prefersReducedMotion){var r=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var a=this.transform,o=this.getZoom(),s=this.getBearing(),c=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,a.minZoom,a.maxZoom):o,u="bearing"in e?this._normalizeBearing(e.bearing,s):s,h="pitch"in e?+e.pitch:c,p=a.zoomScale(l-o),d=a.centerPoint.add(t.Point.convert(e.offset)),f=a.pointLocation(d),m=t.LngLat.convert(e.center||f);this._normalizeCenter(m);var g=a.project(f),y=a.project(m).sub(g),_=e.curve,v=Math.max(a.width,a.height),M=v/p,b=y.mag();if("minZoom"in e){var x=t.clamp(Math.min(e.minZoom,o,l),a.minZoom,a.maxZoom),w=v/a.zoomScale(x-o);_=Math.sqrt(w/b*2)}var A=_*_;function T(t){var e=(M*M-v*v+(t?-1:1)*A*A*b*b)/(2*(t?M:v)*A*b);return Math.log(Math.sqrt(e*e+1)-e)}function L(t){return(Math.exp(t)-Math.exp(-t))/2}function S(t){return(Math.exp(t)+Math.exp(-t))/2}var k=T(0),O=function(t){return S(k)/S(k+_*t)},z=function(t){return v*((S(k)*(L(e=k+_*t)/S(e))-L(k))/A)/b;var e},C=(T(1)-k)/_;if(Math.abs(b)<1e-6||!isFinite(C)){if(Math.abs(v-M)<1e-6)return this.easeTo(e,n);var E=M<v?-1:1;C=Math.abs(Math.log(M/v))/_,z=function(){return 0},O=function(t){return Math.exp(E*_*t)}}if("duration"in e)e.duration=+e.duration;else{var D="screenSpeed"in e?e.screenSpeed/_:+e.speed;e.duration=1e3*C/D}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==u,this._pitching=h!==c,this._prepareEase(n,!1),this._ease((function(e){var r=e*C,p=1/O(r);a.zoom=1===e?l:o+a.scaleZoom(p),i._rotating&&(a.bearing=t.number(s,u,e)),i._pitching&&(a.pitch=t.number(c,h,e));var f=1===e?m:a.unproject(g.add(y.mult(z(r))).mult(p));a.setLocationAtPoint(a.renderWorldCopies?f.wrap():f,d),i._fireMoveEvents(n)}),(function(){return i._afterEase(n)}),e),this},$r.prototype.isEasing=function(){return!!this._easeFrameId},$r.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},$r.prototype._ease=function(e,n,i){!1===i.animate||0===i.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$r.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$r.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var i=Math.abs(e-n);return Math.abs(e-360-n)<i&&(e-=360),Math.abs(e+360-n)<i&&(e+=360),e},$r.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=180<n?-360:n<-180?360:0}},$r);function $r(e,n){Zr.call(this),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}function ta(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)}function ea(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}Kr.prototype.getDefaultPosition=function(){return"bottom-right"},Kr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Kr.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Kr.prototype._updateEditLink=function(){var e=this._editLink;e=e||(this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var i=n.reduce((function(t,e,i){return e.value&&(t+=e.key+"="+e.value+(i<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+i+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow"}},Kr.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},Kr.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var i in n){var r=n[i];if(r.used){var a=r.getSource();a.attribution&&t.indexOf(a.attribution)<0&&t.push(a.attribution)}}t.sort((function(t,e){return t.length-e.length}));var o=(t=t.filter((function(e,n){for(var i=n+1;i<t.length;i++)if(0<=t[i].indexOf(e))return!1;return!0}))).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,t.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Kr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},ta.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ta.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ta.prototype.getDefaultPosition=function(){return"bottom-left"},ta.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},ta.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},ta.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}},ea.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},ea.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,i=e?this._queue.concat(e):this._queue;n<i.length;n+=1){var r=i[n];if(r.id===t)return void(r.cancelled=!0)}},ea.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if(!i.cancelled&&(i.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ea.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var na={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ia=t.window.HTMLImageElement,ra=t.window.HTMLElement,aa=t.window.ImageBitmap,oa={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},sa=function(i){function r(e){var r=this;if(null!=(e=t.extend({},oa,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&60<e.maxPitch)throw new Error("maxPitch must be less than or equal to 60");var a=new Er(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(i.call(this,a,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new ea,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},na,e.locale),this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof ra))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return r._update(!1)})),this.on("moveend",(function(){return r._update(!1)})),this.on("zoom",(function(){return r._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var i=t.getCanvasContainer(),r=null,a=!1,o=null;for(var s in Jr)t[s]=new Jr[s](t,e),e.interactive&&e[s]&&t[s].enable(e[s]);n.addEventListener(i,"mouseout",(function(e){t.fire(new Pr("mouseout",t,e))})),n.addEventListener(i,"mousedown",(function(r){a=!0,o=n.mousePos(i,r);var s=new Pr("mousedown",t,r);t.fire(s),s.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(r),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(r),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(r))})),n.addEventListener(i,"mouseup",(function(e){var n=t.dragRotate.isActive();r&&!n&&t.fire(new Pr("contextmenu",t,r)),r=null,a=!1,t.fire(new Pr("mouseup",t,e))})),n.addEventListener(i,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Pr("mousemove",t,e))}})),n.addEventListener(i,"mouseover",(function(e){for(var n=e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Pr("mouseover",t,e))})),n.addEventListener(i,"touchstart",(function(n){var i=new Br("touchstart",t,n);t.fire(i),i.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(n),t.touchZoomRotate.onStart(n),t.doubleClickZoom.onTouchStart(i))}),{passive:!1}),n.addEventListener(i,"touchmove",(function(e){t.fire(new Br("touchmove",t,e))}),{passive:!1}),n.addEventListener(i,"touchend",(function(e){t.fire(new Br("touchend",t,e))})),n.addEventListener(i,"touchcancel",(function(e){t.fire(new Br("touchcancel",t,e))})),n.addEventListener(i,"click",(function(r){var a=n.mousePos(i,r);(!o||a.equals(o)||a.dist(o)<e.clickTolerance)&&t.fire(new Pr("click",t,r))})),n.addEventListener(i,"dblclick",(function(e){var n=new Pr("dblclick",t,e);t.fire(n),n.defaultPrevented||t.doubleClickZoom.onDblClick(n)})),n.addEventListener(i,"contextmenu",(function(e){var n=t.dragRotate.isActive();a||n?a&&(r=e):t.fire(new Pr("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()})),n.addEventListener(i,"wheel",(function(n){e.interactive&&t.stop();var i=new Rr("wheel",t,n);t.fire(i),i.defaultPrevented||t.scrollZoom.onWheel(n)}),{passive:!1})}(this,e);var o="string"==typeof e.hash&&e.hash||void 0;this._hash=e.hash&&new Nr(o).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new Kr({customAttribution:e.customAttribution})),this.addControl(new ta,e.logoPosition),this.on("style.load",(function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)})),this.on("data",(function(e){r._update("style"===e.dataType),r.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){r.fire(new t.Event(e.dataType+"dataloading",e))}))}i&&(r.__proto__=i);var a={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return((r.prototype=Object.create(i&&i.prototype)).constructor=r).prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(e,n){if(void 0===n&&e.getDefaultPosition&&(n=e.getDefaultPosition()),void 0===n&&(n="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var i=e.onAdd(this);this._controls.push(e);var r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this},r.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return-1<n&&this._controls.splice(n,1),e.onRemove(this),this},r.prototype.resize=function(e){var n=this._containerDimensions(),i=n[0],r=n[1];return this._resizeCanvas(i,r),this.transform.resize(i,r),this.painter.resize(i,r),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},r.prototype.setMinZoom=function(t){if(-2<=(t=null==t?-2:t)&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(0<=t&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(t){if(60<(t=null==t?60:t))throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},r.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},r.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},r.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},r.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},r.prototype._createDelegatedListener=function(t,e,n){var i,r=this;if("mouseenter"===t||"mouseover"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){var o=r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[];o.length?a||(a=!0,n.call(r,new Pr(t,r,i.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}if("mouseleave"!==t&&"mouseout"!==t)return{layer:e,listener:n,delegates:((i={})[t]=function(t){var i=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];i.length&&(t.features=i,n.call(r,t),delete t.features)},i)};var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){(r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[]).length?o=!0:o&&(o=!1,n.call(r,new Pr(t,r,i.originalEvent)))},mouseout:function(e){o&&(o=!1,n.call(r,new Pr(t,r,e.originalEvent)))}}}},r.prototype.on=function(t,e,n){if(void 0===n)return i.prototype.on.call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(r),r.delegates)this.on(a,r.delegates[a]);return this},r.prototype.once=function(t,e,n){if(void 0===n)return i.prototype.once.call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var a in r.delegates)this.once(a,r.delegates[a]);return this},r.prototype.off=function(t,e,n){var r=this;return void 0===n?i.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(i){for(var a=i[t],o=0;o<a.length;o++){var s=a[o];if(s.layer===e&&s.listener===n){for(var c in s.delegates)r.off(c,s.delegates[c]);return a.splice(o,1)}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var i;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])i=[t.Point.convert(e)];else{var r=t.Point.convert(e[0]),a=t.Point.convert(e[1]);i=[r,new t.Point(a.x,r.y),a,new t.Point(r.x,a.y),r]}return this.style.queryRenderedFeatures(i,n,this.transform)},r.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},r.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},r.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},r.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new _i(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t)):delete this.style,this},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new _i(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(e,n){var i=this;if("string"==typeof e){var r=this._requestManager.normalizeStyleURL(e),a=this._requestManager.transformRequest(r,t.ResourceType.Style);t.getJSON(a,(function(e,r){e?i.fire(new t.ErrorEvent(e)):r&&i._updateDiff(r,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},r.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(i){t.warnOnce("Unable to perform style diff: "+(i.message||i.error||i)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},r.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},r.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var i in n){var r=n[i];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0},r.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},r.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},r.prototype.getSource=function(t){return this.style.getSource(t)},r.prototype.addImage=function(e,n,i){void 0===i&&(i={});var r=i.pixelRatio;void 0===r&&(r=1);var a=i.sdf;void 0===a&&(a=!1);var o=i.stretchX,s=i.stretchY,c=i.content;if(this._lazyInitEmptyStyle(),n instanceof ia||aa&&n instanceof aa){var l=t.browser.getImageData(n),u=l.width,h=l.height,p=l.data;this.style.addImage(e,{data:new t.RGBAImage({width:u,height:h},p),pixelRatio:r,stretchX:o,stretchY:s,content:c,sdf:a,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var d=n.width,f=n.height,m=n.data,g=n;this.style.addImage(e,{data:new t.RGBAImage({width:d,height:f},new Uint8Array(m)),pixelRatio:r,stretchX:o,stretchY:s,content:c,sdf:a,version:0,userImage:g}),g.onAdd&&g.onAdd(this,e)}},r.prototype.updateImage=function(e,n){var i=this.style.getImage(e);if(!i)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var r=n instanceof ia||aa&&n instanceof aa?t.browser.getImageData(n):n,a=r.width,o=r.height,s=r.data;if(void 0===a||void 0===o)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==i.data.width||o!==i.data.height)return this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var c=!(n instanceof ia||aa&&n instanceof aa);i.data.replace(s,c),this.style.updateImage(e,i)},r.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(t){this.style.removeImage(t)},r.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},r.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},r.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},r.prototype.getLayer=function(t){return this.style.getLayer(t)},r.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},r.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},r.prototype.getFilter=function(t){return this.style.getFilter(t)},r.prototype.setPaintProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setPaintProperty(t,e,n,i),this._update(!0)},r.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},r.prototype.setLayoutProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setLayoutProperty(t,e,n,i),this._update(!0)},r.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},r.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},r.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},r.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var r=this._controlContainer=n.create("div","mapboxgl-control-container",t),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){a[t]=n.create("div","mapboxgl-ctrl-"+t,r)}))},r.prototype._resizeCanvas=function(e,n){var i=t.browser.devicePixelRatio||1;this._canvas.width=i*e,this._canvas.height=i*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},r.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);i?(this.painter=new Sr(i,this.transform),t.webpSupported.testSupport(i)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},r.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(t){return this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint()),this},r.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},r.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},r.prototype._render=function(){var e,n=this,i=0,r=this.painter.context.extTimerQuery;this.listens("gpu-timing-frame")&&(e=r.createQueryEXT(),r.beginQueryEXT(r.TIME_ELAPSED_EXT,e),i=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var o=this.transform.zoom,s=t.browser.now();this.style.zoomHistory.update(o,s);var c=new t.EvaluationParameters(o,{now:s,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),l=c.crossFadingFactor();1===l&&l===this._crossFadingFactor||(a=!0,this._crossFadingFactor=l),this.style.update(c)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),gpuTiming:!!this.listens("gpu-timing-layer"),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var u=t.browser.now()-i;r.endQueryEXT(r.TIME_ELAPSED_EXT,e),setTimeout((function(){var i=r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(e),n.fire(new t.Event("gpu-timing-frame",{cpuTime:u,gpuTime:i}))}),50)}if(this.listens("gpu-timing-layer")){var h=this.painter.collectGpuTimers();setTimeout((function(){var e=n.painter.queryGpuTimers(h);n.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new t.Event("idle"))),this},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),ca(this._canvasContainer),ca(this._controlContainer),ca(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},r.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){e._frame=null,e._render()})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&((this._showCollisionBoxes=t)?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(t){this._vertices=t,this._update()},r.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},a.version.get=function(){return t.version},Object.defineProperties(r.prototype,a),r}(Qr);function ca(t){t.parentNode&&t.parentNode.removeChild(t)}function la(e){var i=this;this.options=t.extend({},ua,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return i._map.zoomIn({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return i._map.zoomOut({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){i.options.visualizePitch?i._map.resetNorthPitch({},{originalEvent:t}):i._map.resetNorth({},{originalEvent:t})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}var ua={showCompass:!0,showZoom:!0,visualizePitch:!1};function ha(e,n,i){if(e=new t.LngLat(e.lng,e.lat),n){var r=new t.LngLat(e.lng-360,e.lat),a=new t.LngLat(e.lng+360,e.lat),o=i.locationPoint(e).distSqr(n);i.locationPoint(r).distSqr(n)<o?e=r:i.locationPoint(a).distSqr(n)<o&&(e=a)}for(;180<Math.abs(e.lng-i.center.lng);){var s=i.locationPoint(e);if(0<=s.x&&0<=s.y&&s.x<=i.width&&s.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360}return e}la.prototype._updateZoomButtons=function(){var t=this._map.getZoom();this._zoomInButton.disabled=t===this._map.getMaxZoom(),this._zoomOutButton.disabled=t===this._map.getMinZoom()},la.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},la.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Yr(t,{button:"left",element:this._compass,clickTolerance:t.dragRotate._clickTolerance}),n.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),n.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},la.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),n.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),n.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},la.prototype._createButton=function(t,e){var i=n.create("button",t,this._container);return i.type="button",i.addEventListener("click",e),i},la.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var pa={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function da(t,e,n){var i=t.classList;for(var r in pa)i.remove("mapboxgl-"+n+"-anchor-"+r);i.add("mapboxgl-"+n+"-anchor-"+e)}var fa,ma,ga=((ma=t.Evented)&&(_a.__proto__=ma),((_a.prototype=Object.create(ma&&ma.prototype)).constructor=_a).prototype.addTo=function(t){return this.remove(),(this._map=t).getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},_a.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},_a.prototype.getLngLat=function(){return this._lngLat},_a.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},_a.prototype.getElement=function(){return this._element},_a.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},_a.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},_a.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},_a.prototype.getPopup=function(){return this._popup},_a.prototype.togglePopup=function(){var t=this._popup;return t&&(t.isOpen()?t.remove():t.addTo(this._map)),this},_a.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ha(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,pa[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+i+" "+e)}},_a.prototype.getOffset=function(){return this._offset},_a.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},_a.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},_a.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},_a.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},_a.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},_a.prototype.isDraggable=function(){return this._draggable},_a.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},_a.prototype.getRotation=function(){return this._rotation},_a.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},_a.prototype.getRotationAlignment=function(){return this._rotationAlignment},_a.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},_a.prototype.getPitchAlignment=function(){return this._pitchAlignment},_a),ya={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};function _a(e,i){var r=this;if(ma.call(this),(e instanceof t.window.HTMLElement||i)&&(e=t.extend({element:e},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._draggable=e&&e.draggable||!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,e&&e.element)this._element=e.element,this._offset=t.Point.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var a=n.createNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"display","block"),a.setAttributeNS(null,"height","41px"),a.setAttributeNS(null,"width","27px"),a.setAttributeNS(null,"viewBox","0 0 27 41");var o=n.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var c=n.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(3.0, 29.0)"),c.setAttributeNS(null,"fill","#000000");for(var l=0,u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<u.length;l+=1){var h=u[l],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",h.rx),p.setAttributeNS(null,"ry",h.ry),c.appendChild(p)}var d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var f=n.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(f);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var _=n.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=n.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var M=n.createNS("http://www.w3.org/2000/svg","circle");M.setAttributeNS(null,"fill","#FFFFFF"),M.setAttributeNS(null,"cx","5.5"),M.setAttributeNS(null,"cy","5.5"),M.setAttributeNS(null,"r","5.4999962"),_.appendChild(v),_.appendChild(M),s.appendChild(c),s.appendChild(d),s.appendChild(m),s.appendChild(y),s.appendChild(_),a.appendChild(s),this._element.appendChild(a),this._offset=t.Point.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),this._element.addEventListener("focus",(function(){var t=r._map.getContainer();t.scrollTop=0,t.scrollLeft=0})),da(this._element,this._anchor,"marker"),this._popup=null}function va(e){this.options=t.extend({},Aa,e),t.bindAll(["_onMove","setUnit"],this)}var Ma,ba=0,xa=!1,wa=((Ma=t.Evented)&&(Ta.__proto__=Ma),((Ta.prototype=Object.create(Ma&&Ma.prototype)).constructor=Ta).prototype.onAdd=function(e){var i;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==fa?i(fa):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){fa="denied"!==t.state,i(fa)})):(fa=!!t.window.navigator.geolocation,i(fa)),this._container},Ta.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ba=0,xa=!1},Ta.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},Ta.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Ta.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},Ta.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,r=this._map.getBearing(),a=t.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),a,{geolocateSource:!0})},Ta.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Ta.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),i=e.distanceTo(n),r=Math.ceil(2*this._accuracy/i);this._circleElement.style.width=r+"px",this._circleElement.style.height=r+"px"},Ta.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Ta.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&xa)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},Ta.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Ta.prototype._setupUI=function(e){var i=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),!(this._geolocateButton.type="button")===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{var a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new ga(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ga({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){var n=e.originalEvent&&"resize"===e.originalEvent.type;e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||n||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))}))},Ta.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ba--,xa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),xa=1<++ba?(e={maximumAge:6e5,timeout:0},!0):(e=this.options.positionOptions,!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Ta.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Ta),Aa={maxWidth:100,unit:"metric"};function Ta(e){Ma.call(this),this.options=t.extend({},ya,e),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}function La(t,e,n){var i=n&&n.maxWidth||100,r=t._container.clientHeight/2,a=t.unproject([0,r]),o=t.unproject([i,r]),s=a.distanceTo(o);if(n&&"imperial"===n.unit){var c=3.2808*s;5280<c?Sa(e,i,c/5280,t._getUIString("ScaleControl.Miles")):Sa(e,i,c,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Sa(e,i,s/1852,t._getUIString("ScaleControl.NauticalMiles")):1e3<=s?Sa(e,i,s/1e3,t._getUIString("ScaleControl.Kilometers")):Sa(e,i,s,t._getUIString("ScaleControl.Meters"))}function Sa(t,e,n,i){var r,a,o,s,c,l=(r=n,(a=Math.pow(10,(""+Math.floor(r)).length-1))*(o=10<=(o=r/a)?10:5<=o?5:3<=o?3:2<=o?2:1<=o?1:(s=o,c=Math.pow(10,Math.ceil(-Math.log(s)/Math.LN10)),Math.round(s*c)/c))),u=l/n;t.style.width=e*u+"px",t.innerHTML=l+"&nbsp;"+i}function ka(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")}va.prototype.getDefaultPosition=function(){return"bottom-left"},va.prototype._onMove=function(){La(this._map,this._container,this.options)},va.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},va.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},va.prototype.setUnit=function(t){this.options.unit=t,La(this._map,this._container,this.options)},ka.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ka.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ka.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},ka.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ka.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},ka.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ka.prototype._isFullscreen=function(){return this._fullscreen},ka.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ka.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Oa,za={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Ca=((Oa=t.Evented)&&(Ea.__proto__=Oa),((Ea.prototype=Object.create(Oa&&Oa.prototype)).constructor=Ea).prototype.addTo=function(e){var n=this;return this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(t){n._update(t.point)})),this._map.on("mouseup",(function(t){n._update(t.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},Ea.prototype.isOpen=function(){return!!this._map},Ea.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new t.Event("close")),this},Ea.prototype.getLngLat=function(){return this._lngLat},Ea.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Ea.prototype.trackPointer=function(){var t=this;return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(e){t._update(e.point)})),this._map.on("drag",(function(e){t._update(e.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Ea.prototype.getElement=function(){return this._container},Ea.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},Ea.prototype.setHTML=function(e){var n,i=t.window.document.createDocumentFragment(),r=t.window.document.createElement("body");for(r.innerHTML=e;n=r.firstChild;)i.appendChild(n);return this.setDOMContent(i)},Ea.prototype.getMaxWidth=function(){return this._container.style.maxWidth},Ea.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},Ea.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},Ea.prototype.addClassName=function(t){this._container.classList.add(t)},Ea.prototype.removeClassName=function(t){this._container.classList.remove(t)},Ea.prototype.toggleClassName=function(t){return this._container.classList.toggle(t)},Ea.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Ea.prototype._update=function(e){var i=this,r=this._lngLat||this._trackPointer;if(this._map&&r&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return i._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ha(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var a=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,s=function e(n){if(n){if("number"==typeof n){var i=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(i,i),"top-right":new t.Point(-i,i),bottom:new t.Point(0,-n),"bottom-left":new t.Point(i,-i),"bottom-right":new t.Point(-i,-i),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var r=t.Point.convert(n);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var c,l=this._container.offsetWidth,u=this._container.offsetHeight;c=a.y+s.bottom.y<u?["top"]:a.y>this._map.transform.height-u?["bottom"]:[],a.x<l/2?c.push("left"):a.x>this._map.transform.width-l/2&&c.push("right"),o=0===c.length?"bottom":c.join("-")}var h=a.add(s[o]).round();n.setTransform(this._container,pa[o]+" translate("+h.x+"px,"+h.y+"px)"),da(this._container,o,"popup")}},Ea.prototype._onClose=function(){this.remove()},Ea);function Ea(e){Oa.call(this),this.options=t.extend(Object.create(za),e),t.bindAll(["_update","_onClose","remove"],this)}var Da={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:sa,NavigationControl:la,GeolocateControl:wa,AttributionControl:Kr,ScaleControl:va,FullscreenControl:ka,Popup:Ca,Marker:ga,Style:_i,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return dn.workerCount},set workerCount(t){dn.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Da})),a)})),a=(r.Map,r.setRTLTextPlugin),o=(r.supported,r.Marker),s="atlas.microsoft.com",c="atlas.microsoft.com",l="styles/definitions/2019-10-16.json",u="e96cb745-c6f5-409c-a775-c4313e468c1d",h="https://login.microsoftonline.com/",p="Authorization",d="Bearer ",f="{azMapsDomain}",m="Map-Agent",g="x-ms-client-id",y="Ms-Am-Request-Origin",_="MapControl",v="https://atlas.microsoft.com/",M="Session-Id",b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function x(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var w=function(){return(w=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function A(t,e,n,i){return new(n=n||Promise)((function(r,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(o,s)}c((i=i.apply(t,e||[])).next())}))}function T(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var L=(S.prototype.merge=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i];if(a)for(var o in a)a.hasOwnProperty(o)&&this.hasOwnProperty(o)&&(void 0!==a[o]&&null!=a[o]?this[o]instanceof S?this[o].merge(a[o]):this[o]=a[o]:(t=t||new(Object.getPrototypeOf(this).constructor),this[o]=t[o]))}return this},S);function S(){}var k,O=(x(z,k=L),z);function z(){var t=null!==k&&k.apply(this,arguments)||this;return t.domain=void 0,t.headers={},t.path="",t.protocol="https",t.queryParams={},t.subdomain="",t}var C=(E.prototype.get=function(){return fetch(this.toString(),{method:"GET",mode:"cors",headers:new Headers(this.options.headers)}).then((function(t){if(t.ok)return t.json();throw new Error("HTTP "+t.status+": "+t.statusText)}))},E.prototype.toString=function(){var t=Object.entries(this.options.queryParams).map((function(t){return t[0]+"="+t[1]})).join("&"),e=[];return E.protoRegEx.test(this.options.domain)||(e.push(this.options.protocol+"://"),e.push(this.options.subdomain?this.options.subdomain+".":"")),e.push(this.options.domain),e.push(this.options.path?"/"+this.options.path:""),e.push(t?"?"+t:""),e.join("")},E.protoRegEx=new RegExp(/^\w+:\/\//),E);function E(t){this.options=(new O).merge(t)}var D,N="2.0.27",I=(P.getFullVersion=function(){return N},P.getEndpointVersion=function(){var t=N.indexOf(".");return-1===(t=N.indexOf(".",t+1))?N:N.substring(0,t)},P);function P(){}(D=e.ControlPosition||(e.ControlPosition={})).TopLeft="top-left",D.TopRight="top-right",D.BottomLeft="bottom-left",D.BottomRight="bottom-right",D.NonFixed="non-fixed";var B,R=(x(q,B=L),q);function q(){var t=null!==B&&B.apply(this,arguments)||this;return t.position=e.ControlPosition.NonFixed,t}var Y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},W=i((function(t){var e=Array.prototype.concat,n=Array.prototype.slice,i=t.exports=function(t){for(var i,r=[],a=0,o=t.length;a<o;a++){var s=t[a];(i=s)&&"string"!=typeof i&&(i instanceof Array||Array.isArray(i)||0<=i.length&&(i.splice instanceof Function||Object.getOwnPropertyDescriptor(i,i.length-1)&&"String"!==i.constructor.name))?r=e.call(r,n.call(s)):r.push(s)}return r};i.wrap=function(t){return function(){return t(i(arguments))}}})),j=i((function(t){var e={};for(var n in Y)Y.hasOwnProperty(n)&&(e[Y[n]]=n);var i=t.exports={to:{},get:{}};function r(t,e,n){return Math.min(Math.max(e,t),n)}function a(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}i.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=i.get.hsl(t),n="hsl";break;case"hwb":e=i.get.hwb(t),n="hwb";break;default:e=i.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},i.get.rgb=function(t){if(!t)return null;var e,n,i,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var o=2*n;a[n]=parseInt(e.slice(o,2+o),16)}i&&(a[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)a[n]=parseInt(e[n]+e[n],16);i&&(a[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(e[n+1],0);e[4]&&(a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(a=Y[e[1]])?(a[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(a[3]=parseFloat(e[4]))}for(n=0;n<3;n++)a[n]=r(a[n],0,255);return a[3]=r(a[3],0,1),a},i.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,r(parseFloat(e[2]),0,100),r(parseFloat(e[3]),0,100),r(isNaN(n)?1:n,0,1)]}return null},i.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,r(parseFloat(e[2]),0,100),r(parseFloat(e[3]),0,100),r(isNaN(n)?1:n,0,1)]}return null},i.to.hex=function(){var t=W(arguments);return"#"+a(t[0])+a(t[1])+a(t[2])+(t[3]<1?a(Math.round(255*t[3])):"")},i.to.rgb=function(){var t=W(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},i.to.rgb.percent=function(){var t=W(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+i+"%)":"rgba("+e+"%, "+n+"%, "+i+"%, "+t[3]+")"},i.to.hsl=function(){var t=W(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},i.to.hwb=function(){var t=W(arguments),e="";return 4<=t.length&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},i.to.keyword=function(t){return e[t.slice(0,3)]}})),F=(j.to,j.get,i((function(t){var e={};for(var n in Y)Y.hasOwnProperty(n)&&(e[Y[n]]=n);var i=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in i)if(i.hasOwnProperty(r)){if(!("channels"in i[r]))throw new Error("missing channels property: "+r);if(!("labels"in i[r]))throw new Error("missing channel labels property: "+r);if(i[r].labels.length!==i[r].channels)throw new Error("channel and label counts mismatch: "+r);var a=i[r].channels,o=i[r].labels;delete i[r].channels,delete i[r].labels,Object.defineProperty(i[r],"channels",{value:a}),Object.defineProperty(i[r],"labels",{value:o})}i.rgb.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),c=s-o;return s===o?e=0:i===s?e=(r-a)/c:r===s?e=2+(a-i)/c:a===s&&(e=4+(i-r)/c),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s===o?0:n<=.5?c/(s+o):c/(2-s-o)),100*n]},i.rgb.hsv=function(t){function e(t){return(u-t)/6/h+.5}var n,i,r,a,o,s=t[0]/255,c=t[1]/255,l=t[2]/255,u=Math.max(s,c,l),h=u-Math.min(s,c,l);return 0==h?a=o=0:(o=h/u,n=e(s),i=e(c),r=e(l),s===u?a=r-i:c===u?a=1/3+n-r:l===u&&(a=2/3+i-n),a<0?a+=1:1<a&&--a),[360*a,100*o,100*u]},i.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[i.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,r))*100,100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},i.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},i.rgb.keyword=function(t){var n=e[t];if(n)return n;var i,r,a,o=1/0;for(var s in Y)if(Y.hasOwnProperty(s)){var c=(r=t,a=Y[s],Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)+Math.pow(r[2]-a[2],2));c<o&&(o=c,i=s)}return i},i.keyword.rgb=function(t){return Y[t]},i.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},i.rgb.lab=function(t){var e=i.rgb.xyz(t),n=e[0],r=e[1],a=e[2];return r/=100,a/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(a=.008856<a?Math.pow(a,1/3):7.787*a+16/116))]},i.hsl.rgb=function(t){var e,n,i,r,a,o=t[0]/360,s=t[1]/100,c=t[2]/100;if(0==s)return[a=255*c,a,a];e=2*c-(n=c<.5?c*(1+s):c+s-c*s),r=[0,0,0];for(var l=0;l<3;l++)(i=o+1/3*-(l-1))<0&&i++,1<i&&i--,a=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[l]=255*a;return r},i.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=n,a=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=a<=1?a:2-a,[e,100*(0===i?2*r/(a+r):2*n/(i+n)),(i+n)/2*100]},i.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,a=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*a),c=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,c,o];case 1:return[s,i,o];case 2:return[o,i,c];case 3:return[o,s,i];case 4:return[c,o,i];case 5:return[i,o,s]}},i.hsv.hsl=function(t){var e,n,i,r=t[0],a=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return i=(2-a)*o,n=a*s,[r,100*(n=(n/=(e=(2-a)*s)<=1?e:2-e)||0),100*(i/=2)]},i.hwb.rgb=function(t){var e,n,i,r,a,o,s,c=t[0]/360,l=t[1]/100,u=t[2]/100,h=l+u;switch(1<h&&(l/=h,u/=h),i=6*c-(e=Math.floor(6*c)),0!=(1&e)&&(i=1-i),r=l+i*((n=1-u)-l),e){default:case 6:case 0:a=n,o=r,s=l;break;case 1:a=r,o=n,s=l;break;case 2:a=l,o=n,s=r;break;case 3:a=l,o=r,s=n;break;case 4:a=r,o=l,s=n;break;case 5:a=n,o=l,s=r}return[255*a,255*o,255*s]},i.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},i.xyz.rgb=function(t){var e,n,i,r=t[0]/100,a=t[1]/100,o=t[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,e=.0031308<(e=3.2406*r+-1.5372*a+-.4986*o)?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},i.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]},i.lab.xyz=function(t){var e,n,i,r=t[0];e=t[1]/500+(n=(r+16)/116),i=n-t[2]/200;var a=Math.pow(n,3),o=Math.pow(e,3),s=Math.pow(i,3);return n=.008856<a?a:(n-16/116)/7.787,e=.008856<o?o:(e-16/116)/7.787,i=.008856<s?s:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},i.lab.lch=function(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]},i.lch.lab=function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},i.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],a=1 in arguments?arguments[1]:i.rgb.hsv(t)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===a&&(o+=60),o},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:248<e?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},i.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return 50<t&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(50<t));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},i.ansi256.rgb=function(t){if(232<=t){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},i.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},i.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,a=Math.max(Math.max(n,i),r),o=Math.min(Math.min(n,i),r),s=a-o;return e=s<=0?0:a===n?(i-r)/s%6:a===i?2+(r-n)/s:4+(n-i)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?o/(1-s):0)]},i.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=1,r=0;return(i=n<.5?2*e*n:2*e*(1-n))<1&&(r=(n-.5*i)/(1-i)),[t[0],100*i,100*r]},i.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=e*n,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},i.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0==n)return[255*i,255*i,255*i];var r,a=[0,0,0],o=e%1*6,s=o%1,c=1-s;switch(Math.floor(o)){case 0:a[0]=1,a[1]=s,a[2]=0;break;case 1:a[0]=c,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=s;break;case 3:a[0]=0,a[1]=c,a[2]=1;break;case 4:a[0]=s,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=c}return r=(1-n)*i,[255*(n*a[0]+r),255*(n*a[1]+r),255*(n*a[2]+r)]},i.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return 0<n&&(i=e/n),[t[0],100*i,100*n]},i.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return 0<n&&n<.5?i=e/(2*n):.5<=n&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},i.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},i.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,i=n-e,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=i.gray.hsv=function(t){return[0,0,t[0]]},i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}})));function H(t){var e=function(){for(var t={},e=Object.keys(F),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),r=Object.keys(F[i]),a=r.length,o=0;o<a;o++){var s=r[o],c=e[s];-1===c.distance&&(c.distance=e[i].distance+1,c.parent=i,n.unshift(s))}return e}function U(t,e){return function(n){return e(t(n))}}function X(t,e){for(var n=[e[t].parent,t],i=F[e[t].parent][t],r=e[t].parent;e[r].parent;)n.unshift(e[r].parent),i=U(F[e[r].parent][r],i),r=e[r].parent;return i.conversion=n,i}F.rgb,F.hsl,F.hsv,F.hwb,F.cmyk,F.xyz,F.lab,F.lch,F.hex,F.keyword,F.ansi16,F.ansi256,F.hcg,F.apple,F.gray;var V={};function G(t){function e(e){return null==e?e:(1<arguments.length&&(e=Array.prototype.slice.call(arguments)),t(e))}return"conversion"in t&&(e.conversion=t.conversion),e}function K(t){function e(e){if(null==e)return e;1<arguments.length&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n}return"conversion"in t&&(e.conversion=t.conversion),e}Object.keys(F).forEach((function(t){V[t]={},Object.defineProperty(V[t],"channels",{value:F[t].channels}),Object.defineProperty(V[t],"labels",{value:F[t].labels});var e=function(t){for(var e=H(t),n={},i=Object.keys(e),r=i.length,a=0;a<r;a++){var o=i[a];null!==e[o].parent&&(n[o]=X(o,e))}return n}(t);Object.keys(e).forEach((function(n){var i=e[n];V[t][n]=K(i),V[t][n].raw=G(i)}))}));var Z=V,J=[].slice,Q=["keyword","gray","hex"],$={};Object.keys(Z).forEach((function(t){$[J.call(Z[t].labels).sort().join("")]=t}));var tt={};function et(t,e){if(!(this instanceof et))return new et(t,e);if(e&&e in Q&&(e=null),e&&!(e in Z))throw new Error("Unknown model: "+e);var n,i;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof et)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var r=j.get(t);if(null===r)throw new Error("Unable to parse color from string: "+t);this.model=r.model,i=Z[this.model].channels,this.color=r.value.slice(0,i),this.valpha="number"==typeof r.value[i]?r.value[i]:1}else if(t.length){this.model=e||"rgb",i=Z[this.model].channels;var a=J.call(t,0,i);this.color=rt(a,i),this.valpha="number"==typeof t[i]?t[i]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var o=Object.keys(t);"alpha"in t&&(o.splice(o.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var s=o.sort().join("");if(!(s in $))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=$[s];var c=Z[this.model].labels,l=[];for(n=0;n<c.length;n++)l.push(t[c[n]]);this.color=rt(l)}if(tt[this.model])for(i=Z[this.model].channels,n=0;n<i;n++){var u=tt[this.model][n];u&&(this.color[n]=u(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function nt(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(tt[t]||(tt[t]=[]))[e]=n})),t=t[0],function(i){var r;return arguments.length?(n&&(i=n(i)),(r=this[t]()).color[e]=i):(r=this[t]().color[e],n&&(r=n(r))),r}}function it(t){return function(e){return Math.max(0,Math.min(t,e))}}function rt(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}et.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in j.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return j.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return j.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=Z[this.model].channels,n=Z[this.model].labels,i=0;i<e;i++)t[n[i]]=this.color[i];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new et(this.color.map((e=t,function(t){return n=e,Number(t.toFixed(n));var n})).concat(this.valpha),this.model);var e},alpha:function(t){return arguments.length?new et(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:nt("rgb",0,it(255)),green:nt("rgb",1,it(255)),blue:nt("rgb",2,it(255)),hue:nt(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:nt("hsl",1,it(100)),lightness:nt("hsl",2,it(100)),saturationv:nt("hsv",1,it(100)),value:nt("hsv",2,it(100)),chroma:nt("hcg",1,it(100)),gray:nt("hcg",2,it(100)),white:nt("hwb",1,it(100)),wblack:nt("hwb",2,it(100)),cyan:nt("cmyk",0,it(100)),magenta:nt("cmyk",1,it(100)),yellow:nt("cmyk",2,it(100)),black:nt("cmyk",3,it(100)),x:nt("xyz",0,it(100)),y:nt("xyz",1,it(100)),z:nt("xyz",2,it(100)),l:nt("lab",0,it(100)),a:nt("lab",1),b:nt("lab",2),keyword:function(t){return arguments.length?new et(t):Z[this.model].keyword(this.color)},hex:function(t){return arguments.length?new et(t):j.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((.055+i)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return et.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return n=(n=(n+t)%360)<0?360+n:n,e.color[0]=n,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),i=this.rgb(),r=void 0===e?.5:e,a=2*r-1,o=n.alpha()-i.alpha(),s=(1+(a*o==-1?a:(a+o)/(1+a*o)))/2,c=1-s;return et.rgb(s*n.red()+c*i.red(),s*n.green()+c*i.green(),s*n.blue()+c*i.blue(),n.alpha()*r+i.alpha()*(1-r))}},Object.keys(Z).forEach((function(t){if(-1===Q.indexOf(t)){var e=Z[t].channels;et.prototype[t]=function(){if(this.model===t)return new et(this);if(arguments.length)return new et(arguments,t);var n,i="number"==typeof arguments[e]?e:this.valpha;return new et((n=Z[this.model][t].raw(this.color),(Array.isArray(n)?n:[n]).concat(i)),t)},et[t]=function(n){return"number"==typeof n&&(n=rt(J.call(arguments),e)),new et(n,t)}}}));var at,ot=et;(at=e.ControlStyle||(e.ControlStyle={})).light="light",at.dark="dark",at.auto="auto";var st=(ct.prototype.onRemove=function(){this._container&&(this._container.remove(),delete this._container),this._map&&(this._map.events.remove("styledata",this._onStyleChange),delete this._map),this._observer&&(this._observer.disconnect(),delete this._observer),delete this._theme},ct.prototype.buildContainer=function(t,n,i,r){var a=this;return this._map=t,this._container=document.createElement(r||"div"),this._container.classList.add("azure-maps-control-container"),"string"==typeof i&&this._container.setAttribute("aria-label",i),n.toLowerCase()===e.ControlStyle.auto?this._map.styles.initialize().then((function(){a._onStyleChange(),a._map.events.add("styledata",a._onStyleChange)})):this._container.classList.add(n),this._container},ct.prototype._setTheme=function(t){this._theme!==t&&(this._container.classList.remove(this._theme),this._container.classList.add(t),this._theme=t)},ct.activateClickDelay=100,ct);function ct(){var t=this;this._onStyleChange=function(){if(t._map.getStyle().style.toLowerCase().startsWith("blank"))t._observer||(t._onBackgroundChange(),t._observer=new MutationObserver(t._onBackgroundChange),t._observer.observe(t._map.getMapContainer(),{attributes:!0,attributeFilter:["style"]}));else{t._observer&&(t._observer.disconnect(),delete t._observer);var e=t._map.styles.getTheme(t._map.getStyle());t._setTheme(e)}},this._onBackgroundChange=function(){try{var n=.5<ot(t._map.getMapContainer().style.backgroundColor).luminosity()?e.ControlStyle.light:e.ControlStyle.dark;t._setTheme(n)}catch(n){t._setTheme(e.ControlStyle.light)}}}var lt,ut=(x(ht,lt=L),ht);function ht(){var t=null!==lt&&lt.apply(this,arguments)||this;return t.rotationDegreesDelta=15,t.style=e.ControlStyle.light,t}var pt,dt=(x(ft,pt=st),ft.prototype.onAdd=function(t,e){var n=this,i=this.buildContainer(t,this.options.style,"Rotation Control"),r=this.constructRotationButton(t),a=this.constructRotationGrid(t,e);return i.addEventListener("mouseover",(function(t){n.lastActiveTime=n.lastActiveTime||t.timeStamp,n.hasMouse=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("focusin",(function(t){n.lastActiveTime=n.lastActiveTime||t.timeStamp,n.hasFocus=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("mouseleave",(function(){n.hasMouse=!1,n.hasFocus||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),i.addEventListener("focusout",(function(t){t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(n.hasFocus=!1,n.hasMouse||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element")))})),e&&ft.InvertOrderPositions.includes(e.position)?(i.appendChild(a),i.appendChild(r)):(i.appendChild(r),i.appendChild(a)),i},ft.prototype.constructRotationGrid=function(t,e){var n=document.createElement("div");n.classList.add("sub-container"),n.classList.add("hidden-accessible-element");var i=this.constructRightRotationButton(t),r=this.constructLeftRotationButton(t);return e&&ft.InvertOrderPositions.includes(e.position)?(n.appendChild(i),n.appendChild(r)):(n.appendChild(r),n.appendChild(i)),n},ft.prototype.constructRotationButton=function(t){var e=this,n=document.createElement("button");n.classList.add("azure-maps-control-button"),n.classList.add("rotation"),n.setAttribute("title","Reset to Default Rotation"),n.setAttribute("alt","Reset to Default Rotation"),n.setAttribute("type","button");var i=document.createElement("div");return n.appendChild(i),n.addEventListener("click",(function(n){n.timeStamp-e.lastActiveTime>st.activateClickDelay&&t.setCamera({bearing:ft.DefaultRotation},!0)})),t.events.add("rotate",(function(t){i.style.transform="rotate("+-t.map.getCamera().bearing+"deg)"})),n},ft.prototype.constructRightRotationButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("rotation-right"),n.setAttribute("title","Rotate Right"),n.setAttribute("alt","Rotate Right"),n.setAttribute("type","button"),n.addEventListener("click",(function(){t.setCamera({bearing:t.getCamera().bearing+e.options.rotationDegreesDelta,duration:ft.RotationDuration,type:"ease"},!0)})),n},ft.prototype.constructLeftRotationButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("rotation-left"),n.setAttribute("title","Rotate Left"),n.setAttribute("alt","Rotate Left"),n.setAttribute("type","button"),n.addEventListener("click",(function(){t.setCamera({bearing:t.getCamera().bearing-e.options.rotationDegreesDelta,duration:ft.RotationDuration,type:"ease"},!0)})),n},ft.DefaultRotation=0,ft.RotationDuration=100,ft.InvertOrderPositions=[e.ControlPosition.BottomRight,e.ControlPosition.TopRight],ft);function ft(t){var e=pt.call(this)||this;return e.hasMouse=!1,e.hasFocus=!1,e.options=(new ut).merge(t),e}var mt,gt=(x(yt,mt=L),yt);function yt(){var t=null!==mt&&mt.apply(this,arguments)||this;return t.pitchDegreesDelta=10,t.style=e.ControlStyle.light,t}var _t,vt=(x(Mt,_t=st),Mt.prototype.onAdd=function(t,e){var n=this,i=this.buildContainer(t,this.options.style,"Pitch Control"),r=this.constructPitchButton(t),a=this.constructPitchGrid(t,e);return i.addEventListener("mouseover",(function(t){n.lastActiveTime=n.lastActiveTime||t.timeStamp,n.hasMouse=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("focusin",(function(t){n.lastActiveTime=n.lastActiveTime||t.timeStamp,n.hasFocus=!0,i.classList.add("in-use"),a.classList.remove("hidden-accessible-element")})),i.addEventListener("mouseleave",(function(){n.hasMouse=!1,n.hasFocus||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element"))})),i.addEventListener("focusout",(function(t){t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(n.hasFocus=!1,n.hasMouse||(delete n.lastActiveTime,i.classList.remove("in-use"),a.classList.add("hidden-accessible-element")))})),e&&Mt.INVERT_ORDER_POSITIONS.includes(e.position)?(i.appendChild(a),i.appendChild(r)):(i.appendChild(r),i.appendChild(a)),i},Mt.prototype.constructPitchGrid=function(t,e){var n=document.createElement("div");n.classList.add("sub-container"),n.classList.add("hidden-accessible-element");var i=this.constructPitchIncrementButton(t),r=this.constructPitchDecrementButton(t);return e&&Mt.INVERT_ORDER_POSITIONS.includes(e.position)?(n.appendChild(r),n.appendChild(i)):(n.appendChild(i),n.appendChild(r)),n},Mt.prototype.constructPitchButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("pitch"),n.setAttribute("title","Reset to Default Pitch"),n.setAttribute("alt","Reset to Default Pitch"),n.setAttribute("type","button"),n.addEventListener("click",(function(){event.timeStamp-e.lastActiveTime>st.activateClickDelay&&t.setCamera({pitch:Mt.DEFAULT_PITCH},!0)})),n},Mt.prototype.constructPitchDecrementButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("pitch-down"),n.setAttribute("title","Decrease Pitch"),n.setAttribute("alt","Decrease Pitch"),n.setAttribute("type","button"),n.addEventListener("click",(function(){t.setCamera({pitch:t.getCamera().pitch-e.options.pitchDegreesDelta,duration:Mt.PITCH_DURATION_MS,type:"ease"},!0)})),n},Mt.prototype.constructPitchIncrementButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("pitch-up"),n.setAttribute("title","Increase Pitch"),n.setAttribute("alt","Increase Pitch"),n.setAttribute("type","button"),n.addEventListener("click",(function(){t.setCamera({pitch:t.getCamera().pitch+e.options.pitchDegreesDelta,duration:Mt.PITCH_DURATION_MS,type:"ease"},!0)})),n},Mt.PITCH_DURATION_MS=100,Mt.DEFAULT_PITCH=0,Mt.INVERT_ORDER_POSITIONS=[e.ControlPosition.BottomRight,e.ControlPosition.TopRight],Mt);function Mt(t){var e=_t.call(this)||this;return e.hasMouse=!1,e.hasFocus=!1,e.options=(new gt).merge(t),e}function bt(){this.__data__=[],this.size=0}var xt=function(t,e){return t===e||t!=t&&e!=e},wt=function(t,e){for(var n=t.length;n--;)if(xt(t[n][0],e))return n;return-1},At=Array.prototype.splice;function Tt(t){var e=this.__data__,n=wt(e,t);return!(n<0||(n==e.length-1?e.pop():At.call(e,n,1),--this.size,0))}function Lt(t){var e=this.__data__,n=wt(e,t);return n<0?void 0:e[n][1]}function St(t){return-1<wt(this.__data__,t)}function kt(t,e){var n=this.__data__,i=wt(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ot.prototype.clear=bt,Ot.prototype.delete=Tt,Ot.prototype.get=Lt,Ot.prototype.has=St,Ot.prototype.set=kt;var zt=Ot;function Ct(){this.__data__=new zt,this.size=0}function Et(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Dt(t){return this.__data__.get(t)}function Nt(t){return this.__data__.has(t)}var It,Pt="object"==typeof n&&n&&n.Object===Object&&n,Bt="object"==typeof self&&self&&self.Object===Object&&self,Rt=Pt||Bt||Function("return this")(),qt=Rt.Symbol,Yt=Object.prototype,Wt=Yt.hasOwnProperty,jt=Yt.toString,Ft=qt?qt.toStringTag:void 0,Ht=function(t){var e=Wt.call(t,Ft),n=t[Ft];try{var i=!(t[Ft]=void 0)}catch(t){}var r=jt.call(t);return i&&(e?t[Ft]=n:delete t[Ft]),r},Ut=Object.prototype.toString,Xt=function(t){return Ut.call(t)},Vt=qt?qt.toStringTag:void 0,Gt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(Vt&&Vt in Object(t)?Ht:Xt)(t)},Kt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Zt=function(t){if(!Kt(t))return!1;var e=Gt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Jt=Rt["__core-js_shared__"],Qt=(It=/[^.]+$/.exec(Jt&&Jt.keys&&Jt.keys.IE_PROTO||""))?"Symbol(src)_1."+It:"",$t=function(t){return!!Qt&&Qt in t},te=Function.prototype.toString,ee=function(t){if(null!=t){try{return te.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ne=/^\[object .+?Constructor\]$/,ie=Function.prototype,re=Object.prototype,ae=ie.toString,oe=re.hasOwnProperty,se=RegExp("^"+ae.call(oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=function(t){return!(!Kt(t)||$t(t))&&(Zt(t)?se:ne).test(ee(t))},le=function(t,e){return null==t?void 0:t[e]},ue=function(t,e){var n=le(t,e);return ce(n)?n:void 0},he=ue(Rt,"Map"),pe=ue(Object,"create");function de(){this.__data__=pe?pe(null):{},this.size=0}function fe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var me=Object.prototype.hasOwnProperty;function ge(t){var e=this.__data__;if(pe){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return me.call(e,t)?e[t]:void 0}var ye=Object.prototype.hasOwnProperty;function _e(t){var e=this.__data__;return pe?void 0!==e[t]:ye.call(e,t)}function ve(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=pe&&void 0===e?"__lodash_hash_undefined__":e,this}function Me(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Me.prototype.clear=de,Me.prototype.delete=fe,Me.prototype.get=ge,Me.prototype.has=_e,Me.prototype.set=ve;var be=Me,xe=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},we=function(t,e){var n=t.__data__;return xe(e)?n["string"==typeof e?"string":"hash"]:n.map};function Ae(t){var e=we(this,t).delete(t);return this.size-=e?1:0,e}function Te(t){return we(this,t).get(t)}function Le(t){return we(this,t).has(t)}function Se(t,e){var n=we(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function ke(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ke.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(he||zt),string:new be}},ke.prototype.delete=Ae,ke.prototype.get=Te,ke.prototype.has=Le,ke.prototype.set=Se;var Oe=ke;function ze(t,e){var n=this.__data__;if(n instanceof zt){var i=n.__data__;if(!he||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Oe(i)}return n.set(t,e),this.size=n.size,this}function Ce(t){var e=this.__data__=new zt(t);this.size=e.size}Ce.prototype.clear=Ct,Ce.prototype.delete=Et,Ce.prototype.get=Dt,Ce.prototype.has=Nt,Ce.prototype.set=ze;var Ee=Ce,De=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t},Ne=function(){try{var t=ue(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ie=function(t,e,n){"__proto__"==e&&Ne?Ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Pe=Object.prototype.hasOwnProperty,Be=function(t,e,n){var i=t[e];Pe.call(t,e)&&xt(i,n)&&(void 0!==n||e in t)||Ie(t,e,n)},Re=function(t,e,n,i){var r=!n;n=n||{};for(var a=-1,o=e.length;++a<o;){var s=e[a],c=i?i(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),(r?Ie:Be)(n,s,c)}return n},qe=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i},Ye=function(t){return null!=t&&"object"==typeof t},We=function(t){return Ye(t)&&"[object Arguments]"==Gt(t)},je=Object.prototype,Fe=je.hasOwnProperty,He=je.propertyIsEnumerable,Ue=We(function(){return arguments}())?We:function(t){return Ye(t)&&Fe.call(t,"callee")&&!He.call(t,"callee")},Xe=Array.isArray;function Ve(){return!1}var Ge=i((function(t,e){var n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,r=i&&i.exports===n?Rt.Buffer:void 0,a=(r?r.isBuffer:void 0)||Ve;t.exports=a})),Ke=/^(?:0|[1-9]\d*)$/,Ze=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ke.test(t))&&-1<t&&t%1==0&&t<e},Je=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},Qe={};function $e(t){return Ye(t)&&Je(t.length)&&!!Qe[Gt(t)]}Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe["[object Arguments]"]=Qe["[object Array]"]=Qe["[object ArrayBuffer]"]=Qe["[object Boolean]"]=Qe["[object DataView]"]=Qe["[object Date]"]=Qe["[object Error]"]=Qe["[object Function]"]=Qe["[object Map]"]=Qe["[object Number]"]=Qe["[object Object]"]=Qe["[object RegExp]"]=Qe["[object Set]"]=Qe["[object String]"]=Qe["[object WeakMap]"]=!1;var tn=function(t){return function(e){return t(e)}},en=i((function(t,e){var n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,r=i&&i.exports===n&&Pt.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=a})),nn=en&&en.isTypedArray,rn=nn?tn(nn):$e,an=Object.prototype.hasOwnProperty,on=function(t,e){var n=Xe(t),i=!n&&Ue(t),r=!n&&!i&&Ge(t),a=!n&&!i&&!r&&rn(t),o=n||i||r||a,s=o?qe(t.length,String):[],c=s.length;for(var l in t)!e&&!an.call(t,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ze(l,c))||s.push(l);return s},sn=Object.prototype,cn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sn)},ln=function(t,e){return function(n){return t(e(n))}},un=ln(Object.keys,Object),hn=Object.prototype.hasOwnProperty,pn=function(t){if(!cn(t))return un(t);var e=[];for(var n in Object(t))hn.call(t,n)&&"constructor"!=n&&e.push(n);return e},dn=function(t){return null!=t&&Je(t.length)&&!Zt(t)},fn=function(t){return(dn(t)?on:pn)(t)},mn=function(t,e){return t&&Re(e,fn(e),t)},gn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},yn=Object.prototype.hasOwnProperty,_n=function(t){if(!Kt(t))return gn(t);var e=cn(t),n=[];for(var i in t)("constructor"!=i||!e&&yn.call(t,i))&&n.push(i);return n},vn=function(t){return dn(t)?on(t,!0):_n(t)},Mn=function(t,e){return t&&Re(e,vn(e),t)},bn=i((function(t,e){var n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,r=i&&i.exports===n?Rt.Buffer:void 0,a=r?r.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}})),xn=function(t,e){var n=-1,i=t.length;for(e=e||Array(i);++n<i;)e[n]=t[n];return e},wn=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a};function An(){return[]}var Tn=Object.prototype.propertyIsEnumerable,Ln=Object.getOwnPropertySymbols,Sn=Ln?function(t){return null==t?[]:(t=Object(t),wn(Ln(t),(function(e){return Tn.call(t,e)})))}:An,kn=function(t,e){return Re(t,Sn(t),e)},On=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t},zn=ln(Object.getPrototypeOf,Object),Cn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)On(e,Sn(t)),t=zn(t);return e}:An,En=function(t,e){return Re(t,Cn(t),e)},Dn=function(t,e,n){var i=e(t);return Xe(t)?i:On(i,n(t))},Nn=function(t){return Dn(t,fn,Sn)},In=function(t){return Dn(t,vn,Cn)},Pn=ue(Rt,"DataView"),Bn=ue(Rt,"Promise"),Rn=ue(Rt,"Set"),qn=ue(Rt,"WeakMap"),Yn="[object Map]",Wn="[object Promise]",jn="[object Set]",Fn="[object WeakMap]",Hn="[object DataView]",Un=ee(Pn),Xn=ee(he),Vn=ee(Bn),Gn=ee(Rn),Kn=ee(qn),Zn=Gt;(Pn&&Zn(new Pn(new ArrayBuffer(1)))!=Hn||he&&Zn(new he)!=Yn||Bn&&Zn(Bn.resolve())!=Wn||Rn&&Zn(new Rn)!=jn||qn&&Zn(new qn)!=Fn)&&(Zn=function(t){var e=Gt(t),n="[object Object]"==e?t.constructor:void 0,i=n?ee(n):"";if(i)switch(i){case Un:return Hn;case Xn:return Yn;case Vn:return Wn;case Gn:return jn;case Kn:return Fn}return e});var Jn=Zn,Qn=Object.prototype.hasOwnProperty,$n=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Qn.call(t,"index")&&(n.index=t.index,n.input=t.input),n},ti=Rt.Uint8Array,ei=function(t){var e=new t.constructor(t.byteLength);return new ti(e).set(new ti(t)),e},ni=function(t,e){var n=e?ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},ii=/\w*$/,ri=function(t){var e=new t.constructor(t.source,ii.exec(t));return e.lastIndex=t.lastIndex,e},ai=qt?qt.prototype:void 0,oi=ai?ai.valueOf:void 0,si=function(t){return oi?Object(oi.call(t)):{}},ci=function(t,e){var n=e?ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},li=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return ei(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return ni(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ci(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return ri(t);case"[object Set]":return new i;case"[object Symbol]":return si(t)}},ui=Object.create;function hi(){}var pi=function(t){if(!Kt(t))return{};if(ui)return ui(t);hi.prototype=t;var e=new hi;return hi.prototype=void 0,e},di=function(t){return"function"!=typeof t.constructor||cn(t)?{}:pi(zn(t))};function fi(t){return Ye(t)&&"[object Map]"==Jn(t)}var mi=en&&en.isMap,gi=mi?tn(mi):fi;function yi(t){return Ye(t)&&"[object Set]"==Jn(t)}var _i=en&&en.isSet,vi=_i?tn(_i):yi,Mi=1,bi=2,xi=4,wi="[object Arguments]",Ai="[object Function]",Ti="[object GeneratorFunction]",Li="[object Object]",Si={};Si[wi]=Si["[object Array]"]=Si["[object ArrayBuffer]"]=Si["[object DataView]"]=Si["[object Boolean]"]=Si["[object Date]"]=Si["[object Float32Array]"]=Si["[object Float64Array]"]=Si["[object Int8Array]"]=Si["[object Int16Array]"]=Si["[object Int32Array]"]=Si["[object Map]"]=Si["[object Number]"]=Si[Li]=Si["[object RegExp]"]=Si["[object Set]"]=Si["[object String]"]=Si["[object Symbol]"]=Si["[object Uint8Array]"]=Si["[object Uint8ClampedArray]"]=Si["[object Uint16Array]"]=Si["[object Uint32Array]"]=!0,Si["[object Error]"]=Si[Ai]=Si["[object WeakMap]"]=!1;var ki,Oi=function t(e,n,i,r,a,o){var s,c=n&Mi,l=n&bi,u=n&xi;if(i&&(s=a?i(e,r,a,o):i(e)),void 0!==s)return s;if(!Kt(e))return e;var h=Xe(e);if(h){if(s=$n(e),!c)return xn(e,s)}else{var p=Jn(e),d=p==Ai||p==Ti;if(Ge(e))return bn(e,c);if(p==Li||p==wi||d&&!a){if(s=l||d?{}:di(e),!c)return l?En(e,Mn(s,e)):kn(e,mn(s,e))}else{if(!Si[p])return a?e:{};s=li(e,p,c)}}var f=(o=o||new Ee).get(e);if(f)return f;o.set(e,s),vi(e)?e.forEach((function(r){s.add(t(r,n,i,r,e,o))})):gi(e)&&e.forEach((function(r,a){s.set(a,t(r,n,i,a,e,o))}));var m=u?l?In:Nn:l?keysIn:fn,g=h?void 0:m(e);return De(g||e,(function(r,a){g&&(r=e[a=r]),Be(s,a,t(r,n,i,a,e,o))})),s},zi=function(t){return Oi(t,5)},Ci=Map,Ei=(x(Di,ki=L),Di);function Di(){var t=null!==ki&&ki.apply(this,arguments)||this;return t.layout="icons",t.mapStyles=["road","grayscale_light","grayscale_dark","night","road_shaded_relief"],t.style=e.ControlStyle.light,t}var Ni,Ii=(x(Pi,Ni=st),Pi.prototype.onAdd=function(t,e){var n=this;this.map=t;var i=this.buildContainer(t,this.options.style,"Map Style Control"),r=this.buildStyleOpsGrid(i),a=this.buildCurrStyleBtn(i,r);return i.addEventListener("mouseover",(function(){n.hasMouse=!0,i.classList.add(Pi.Css.inUse),r.classList.remove("hidden-accessible-element")})),i.addEventListener("focusin",(function(){n.hasFocus=!0,i.classList.add(Pi.Css.inUse),r.classList.remove("hidden-accessible-element")})),i.addEventListener("mouseleave",(function(){n.hasMouse=!1,n.hasFocus||(i.classList.remove(Pi.Css.inUse),r.classList.add("hidden-accessible-element"))})),i.addEventListener("focusout",(function(t){t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(n.hasFocus=!1,n.hasMouse||(i.classList.remove(Pi.Css.inUse),r.classList.add("hidden-accessible-element")))})),e&&Pi.InvertOrderPositions.includes(e.position)?(i.appendChild(r),i.appendChild(a)):(i.appendChild(a),i.appendChild(r)),i},Pi.prototype.onRemove=function(){Ni.prototype.onRemove.call(this),this.map.events.remove("styledata",this.onStyleChange)},Pi.prototype.buildSelectStyleBtn=function(t,e){var n=this,i=document.createElement("button"),r=this.mapToFriendlyStyleName(t);i.setAttribute("title",r),i.setAttribute("alt",r),i.setAttribute("type","button");var a=new Image;return a.src=e,a.alt=r,i.appendChild(a),"icons"===this.options.layout?i.classList.add(Pi.Css.button):i.appendChild(document.createTextNode(r)),i.addEventListener("click",(function(){n.map.setStyle({style:t})})),i},Pi.prototype.buildCurrStyleBtn=function(t,e){var n=document.createElement("button");n.classList.add(Pi.Css.button),n.classList.add(Pi.Css.currentStyle),n.setAttribute("title","Select Style"),n.setAttribute("alt","Select Style"),n.setAttribute("type","button"),this.currStyleImage=new Image,n.appendChild(this.currStyleImage);var i=document.createElement("div");return i.classList.add("icon"),n.appendChild(i),n},Pi.prototype.buildStyleOpsGrid=function(t){var e=this,n=document.createElement("div");return n.classList.add(Pi.Css.styleOptions),n.classList.add(this.options.layout),n.setAttribute("aria-label","Style Options"),n.classList.add("hidden-accessible-element"),this.map.styles.initialize().then((function(){for(var t=e.map.styles.getDef(),i=e.map.getStyle().style,r=0,a=t.styles;r<a.length;r++){var o=a[r],s=new C({domain:t.domain,path:o.iconPath}).toString();e.styleIcons.set(o.name,s),o.name===i&&(e.currStyleImage.src=s,e.currStyleImage.alt=e.mapToFriendlyStyleName(o.name))}"all"===e.options.mapStyles?e.styleIcons.forEach((function(t,i){var r=e.buildSelectStyleBtn(i,t);n.appendChild(r)})):e.options.mapStyles.filter((function(t){return e.styleIcons.has(t)})).forEach((function(t){var i=e.styleIcons.get(t),r=e.buildSelectStyleBtn(t,i);n.appendChild(r)})),e.map.events.add("styledata",e.onStyleChange)})),n},Pi.prototype.mapToFriendlyStyleName=function(t){return Pi.StyleNamesMap[t]?Pi.StyleNamesMap[t]:t},Pi.InvertOrderPositions=[e.ControlPosition.TopRight,e.ControlPosition.BottomRight],Pi.Css={button:"azure-maps-control-button",currentStyle:"curr-style",inUse:"in-use",styleOptions:"style-options"},Pi.StyleNamesMap={road:"Road",satellite:"Satellite",satellite_road_labels:"Hybrid",grayscale_dark:"Grayscale (Dark)",grayscale_light:"Grayscale (Light)",night:"Night",road_shaded_relief:"Terra",blank:"Blank",blank_accessible:"Blank (Accessible)",high_contrast_dark:"High contrast"},Pi);function Pi(t){var e=Ni.call(this)||this;return e.hasMouse=!1,e.hasFocus=!1,e.styleIcons=new Ci,e.onStyleChange=function(){var t=e.map.getStyle().style;e.styleIcons.has(t)&&(e.currStyleImage.src=e.styleIcons.get(t),e.currStyleImage.alt=e.mapToFriendlyStyleName(t))},e.options=(new Ei).merge(zi(t)),e}var Bi,Ri=(x(qi,Bi=L),qi);function qi(){var t=null!==Bi&&Bi.apply(this,arguments)||this;return t.zoomDelta=1,t.style=e.ControlStyle.light,t}var Yi,Wi=(x(ji,Yi=st),ji.prototype.onAdd=function(t){var e=this.buildContainer(t,this.options.style,"Zoom Control");e.style.flexDirection="column";var n=this.constructZoomInButton(t),i=this.constructZoomOutButton(t);return e.appendChild(n),e.appendChild(i),e},ji.prototype.constructZoomInButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("zoom-in"),n.setAttribute("title","Zoom In"),n.setAttribute("alt","Zoom In"),n.setAttribute("type","button"),n.addEventListener("click",(function(){t.setCamera({zoom:t.getCamera().zoom+e.options.zoomDelta,duration:ji.ZOOM_DURATION_MS,type:"ease"},!0)})),n},ji.prototype.constructZoomOutButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("azure-maps-control-button"),n.classList.add("zoom-out"),n.setAttribute("title","Zoom Out"),n.setAttribute("alt","Zoom Out"),n.setAttribute("type","button"),n.addEventListener("click",(function(){t.setCamera({zoom:t.getCamera().zoom-e.options.zoomDelta,duration:ji.ZOOM_DURATION_MS,type:"ease"},!0)})),n},ji.ZOOM_DURATION_MS=200,ji);function ji(t){var e=Yi.call(this)||this;return e.options=(new Ri).merge(t),e}var Fi=Object.freeze({__proto__:null,PitchControl:vt,CompassControl:dt,ZoomControl:Wi,StyleControl:Ii});function Hi(t){return this.__data__.has(t)}function Ui(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Oe;++e<n;)this.add(t[e])}Ui.prototype.add=Ui.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ui.prototype.has=Hi;var Xi=Ui,Vi=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},Gi=function(t,e){return t.has(e)},Ki=function(t,e,n,i,r,a){var o=1&n,s=t.length,c=e.length;if(s!=c&&!(o&&s<c))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var u=-1,h=!0,p=2&n?new Xi:void 0;for(a.set(t,e),a.set(e,t);++u<s;){var d=t[u],f=e[u];if(i)var m=o?i(f,d,u,e,t,a):i(d,f,u,t,e,a);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!Vi(e,(function(t,e){if(!Gi(p,e)&&(d===t||r(d,t,n,i,a)))return p.push(e)}))){h=!1;break}}else if(d!==f&&!r(d,f,n,i,a)){h=!1;break}}return a.delete(t),a.delete(e),h};function Zi(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Ji(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Qi,$i=qt?qt.prototype:void 0,tr=$i?$i.valueOf:void 0,er=function(t,e,n,i,r,a,o){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new ti(t),new ti(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Zi;case"[object Set]":var c=1&i;if(s=s||Ji,t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;i|=2,o.set(t,e);var u=Ki(s(t),s(e),i,r,a,o);return o.delete(t),u;case"[object Symbol]":if(tr)return tr.call(t)==tr.call(e)}return!1},nr=Object.prototype.hasOwnProperty,ir=function(t,e,n,i,r,a){var o=1&n,s=Nn(t),c=s.length;if(c!=Nn(e).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in e:nr.call(e,u)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var p=!0;a.set(t,e),a.set(e,t);for(var d=o;++l<c;){var f=t[u=s[l]],m=e[u];if(i)var g=o?i(m,f,u,e,t,a):i(f,m,u,t,e,a);if(!(void 0===g?f===m||r(f,m,n,i,a):g)){p=!1;break}d=d||"constructor"==u}if(p&&!d){var y=t.constructor,_=e.constructor;y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return a.delete(t),a.delete(e),p},rr="[object Arguments]",ar="[object Array]",or="[object Object]",sr=Object.prototype.hasOwnProperty,cr=function(t,e,n,i,r,a){var o=Xe(t),s=Xe(e),c=o?ar:Jn(t),l=s?ar:Jn(e),u=(c=c==rr?or:c)==or,h=(l=l==rr?or:l)==or,p=c==l;if(p&&Ge(t)){if(!Ge(e))return!1;u=!(o=!0)}if(p&&!u)return a=a||new Ee,o||rn(t)?Ki(t,e,n,i,r,a):er(t,e,c,n,i,r,a);if(!(1&n)){var d=u&&sr.call(t,"__wrapped__"),f=h&&sr.call(e,"__wrapped__");if(d||f)return r(d?t.value():t,f?e.value():e,n,i,a=a||new Ee)}return p&&(a=a||new Ee,ir(t,e,n,i,r,a))},lr=function t(e,n,i,r,a){return e===n||(null==e||null==n||!Ye(e)&&!Ye(n)?e!=e&&n!=n:cr(e,n,i,r,t,a))},ur=function(t,e){return lr(t,e)},hr=(Qi=Object.freeze({__proto__:null,default:{}}))&&Qi.default||Qi,pr=i((function(t){!function(){var e,n,i,r=0,a=[];for(s.BUFFER_SIZE=512,s.bin=o,s.test=function(t){if("string"==typeof t)return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(t)},n=0;n<256;n++)a[n]=(n+256).toString(16).substr(1);function o(){var t=function(t){var a,o,c;if(void 0!==i){if(void 0===e||s.BUFFER_SIZE<r+t)if(r=0,i.getRandomValues)e=new Uint8Array(s.BUFFER_SIZE),i.getRandomValues(e);else{if(!i.randomBytes)throw new Error("Non-standard crypto library");e=i.randomBytes(s.BUFFER_SIZE)}return e.slice(r,r+=t)}for(a=[],n=0;n<t;n++)a.push((o=0,c=255,Math.floor(Math.random()*(c-o))+o));return a}(16);return t[6]=15&t[6]|64,t[8]=63&t[8]|128,t}function s(){var t=o();return a[t[0]]+a[t[1]]+a[t[2]]+a[t[3]]+"-"+a[t[4]]+a[t[5]]+"-"+a[t[6]]+a[t[7]]+"-"+a[t[8]]+a[t[9]]+"-"+a[t[10]]+a[t[11]]+a[t[12]]+a[t[13]]+a[t[14]]+a[t[15]]}"undefined"!=typeof crypto?i=crypto:"undefined"!=typeof window&&void 0!==window.msCrypto&&(i=window.msCrypto),i=i||hr,t.exports=s}()})),dr=(fr.TYPE="Feature",fr);function fr(t,e,n,i){this.type="Feature",this.type=fr.TYPE,this.properties=e||{},this.id=n,this.geometry=t,this.bbox=i}var mr,gr=(x(yr,mr=Array),yr.fromData=function(t){var e=NaN,n=NaN,i=new Set(["y"]),r=new Set(["x"]);return Object.keys(t).forEach((function(a){var o=a.toLowerCase();isNaN(e)&&i.has(o)&&"number"==typeof t[a]?e=t[a]:isNaN(n)&&r.has(o)&&"number"==typeof t[a]&&(n=t[a])})),isNaN(e)||isNaN(n)?null:new yr(e,n)},yr.getX=function(t){return 0<t.length?t[0]:NaN},yr.getY=function(t){return 1<t.length?t[1]:NaN},yr.getDestination=function(t,e,n){return new yr(yr.getX(t)+n*Math.cos((e+270)*Math.PI/180),yr.getY(t)+n*Math.sin((e+270)*Math.PI/180))},yr.getDistance=function(t,e){var n=yr.getX(t)-yr.getX(e),i=yr.getY(t)-yr.getY(e);return Math.sqrt(n*n+i*i)},yr.getHeading=function(t,e){var n=yr.getX(e)-yr.getX(t),i=yr.getY(t)-yr.getY(e);return 180*(2.5*Math.PI-Math.atan2(i,n))/Math.PI%360},yr);function yr(t,e){return mr.call(this,t,e)||this}var _r=(vr.TYPE="Point",vr);function vr(t){this.type="Point",this.type=vr.TYPE,this.coordinates=t}var Mr,br,xr,wr,Ar,Tr,Lr,Sr,kr,Or,zr=6378137,Cr=Math.PI/180,Er=180/Math.PI,Dr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function Nr(t){return t*Cr}function Ir(t){return t*Er}function Pr(t,e,n){return Math.min(Math.max(t,e),n)}function Br(t,e){var n=Nr(e[1]-t[1]),i=Nr(e[0]-t[0]),r=Math.pow(Math.sin(n/2),2)+Math.cos(Nr(t[1]))*Math.cos(Nr(e[1]))*Math.pow(Math.sin(i/2),2),a=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return Math.round(zr*a*100)/100}function Rr(t){if(t)switch(t.toLowerCase()){case"feet":case"foot":case"ft":return xr.feet;case"kilometers":case"kilometer":case"kilometres":case"kilometre":case"km":case"kms":return xr.kilometers;case"miles":case"mile":case"mi":return xr.miles;case"nauticalmiles":case"nauticalmile":case"nms":case"nm":return xr.nauticalMiles;case"yards":case"yard":case"yds":case"yrd":case"yrds":return xr.yards;case"meters":case"metres":case"m":default:return xr.meters}return xr.meters}function qr(t){if(t)switch(t.toLowerCase()){case"milespersecondsquared":case"milepersecondsquared":case"mi/s^2":case"mi/s2":return kr.milesPerSecondSquared;case"kilometerspersecondsquared":case"kilometrespersecondsquared":case"kilometerpersecondsquared":case"kilometrepersecondsquared":case"km/s^2":case"km/s2":return kr.kilometersPerSecondSquared;case"knotspersecond":case"knotpersecond":case"knts/s":case"kn/s":case"kt/s":return kr.knotsPerSecond;case"standardgravity":case"g":return kr.standardGravity;case"feetpersecondsquared":case"footpersecondsquared":case"ft/s^2":case"ft/s2":return kr.feetPerSecondSquared;case"yardspersecondsquared":case"yardpersecondsquared":case"yds/s^2":case"yds/s2":case"yd/s^2":case"yd/s2":return kr.yardsPerSecondSquared;case"milesperhoursecond":case"mileperhoursecond":case"milesperhourseconds":case"mileperhourseconds":case"mi/h/s":return kr.milesPerHourSecond;case"kilometersperhoursecond":case"kilometrespersoursecond":case"kilometerperhoursecond":case"kilometrepersoursecond":case"kilometersperhourssecond":case"kilometrespersourssecond":case"kilometerperhourssecond":case"kilometrepersourssecond":case"kmhs":case"km/h/s":return kr.kilometersPerHourSecond;case"meterspersecondsquared":case"metrespersecondsquared":case"meterpersecondsquared":case"metrepersecondsquared":case"m/s^2":case"m/s2":default:return kr.metersPerSecondSquared}return kr.metersPerSecondSquared}function Yr(t){if(t)switch(t){case"acres":case"ac":return Mr.acres;case"hectares":case"ha":return Mr.hectares;case"squareFeet":case"ft^2":case"ft2":return Mr.squareFeet;case"squareYards":case"squareYard":case"yds^2":case"yds2":case"yd^2":case"yd2":return Mr.squareYards;case"squareKilometers":case"squareKilometres":case"squareKilometer":case"squareKilometre":case"km^2":case"km2":return Mr.squareKilometers;case"squareMiles":case"squareMile":case"mi^2":case"mi2":return Mr.squareMiles;case"squareMeters":case"squareMetres":case"squareMeter":case"squareMetre":case"m^2":case"m2":default:return Mr.squareMeters}return Mr.squareMeters}function Wr(t){if(t)switch(t.toLowerCase()){case"feetpersecond":case"footsecond":case"ftps":case"ft/s":return Lr.feetPerSecond;case"milesperhour":case"mileperhour":case"mph":case"mi/hr":case"mi/h":return Lr.milesPerHour;case"knots":case"knot":case"knts":case"knt":case"kn":case"kt":return Lr.knots;case"mach":case"m":return Lr.mach;case"kilometersperhour":case"kilometresperhour":case"kmperhour":case"kmph":case"km/hr":case"km/h":return Lr.kilometersPerHour;case"meterspersecond":case"metrespersecond":case"mps":case"ms":case"m/s":default:return Lr.metersPerSecond}return Lr.metersPerSecond}function jr(t){if(t)switch(t.toLowerCase()){case"milliseconds":case"ms":return Ar.ms;case"minutes":case"minute":case"mins":case"min":return Ar.minutes;case"hours":case"hour":case"hr":case"h":return Ar.hours;case"days":case"day":case"d":return Ar.days;case"seconds":case"second":case"secs":case"sec":case"s":default:return Ar.seconds}return Ar.seconds}function Fr(t){var e=0;if(t&&0<t.length){e=Math.abs(Hr(t[0]));for(var n=1,i=t.length;n<i;n++)e-=Math.abs(Hr(t[n]))}return e}function Hr(t){var e=0;if(3<=t.length){for(var n=void 0,i=void 0,r=0,a=t.length;r<a;r++)e+=(Nr(t[r===a-2?(n=a-2,i=a-1,0):r===a-1?(n=a-1,i=0,1):(i=(n=r)+1,r+2)][0])-Nr(t[n][0]))*Math.sin(Nr(t[i][1]));e=e*zr*zr/2}return e}function Ur(t,e,n){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function Xr(t,e,n){if(2<=n.length){for(var i=1/0,r=void 0,a=null,o=sa(n,22),s=void 0,c=0,l=o.length-1;c<l;c++)s=Vr(e,o[c],o[c+1]),(r=gr.getDistance(e,s))<i&&(i=r,a=s);if(a){var u=oa([a],22)[0];return new dr(new _r(u),{distance:Jr(t,u)})}}else if(1===n.length)return new dr(new _r(n[0]),{distance:Jr(t,n[0])});return null}function Vr(t,e,n){if(e[0]===n[0]&&e[1]===n[1])return e;var i=t[0]-e[0],r=t[1]-e[1],a=n[0]-e[0],o=n[1]-e[1],s=(a*i+o*r)/(a*a+o*o);return s<0?e:1<s?n:[e[0]+a*s,e[1]+o*s]}function Gr(t,e){if(!isNaN(t)&&"number"==typeof e&&0<=e){var n=void 0;n=e<Dr.length?Dr[e]:Math.pow(10,e),t=Math.round(t*n)/n}return t}function Kr(t,e,n,i){switch(Rr(e)){case xr.meters:t/=1e3;break;case xr.feet:t/=3280.8399;break;case xr.miles:t/=.62137119;break;case xr.yards:t/=1093.6133;break;case xr.nauticalMiles:t/=.5399568;break;case xr.kilometers:}switch(Rr(n)){case xr.meters:t*=1e3;break;case xr.feet:t*=3280.8399;break;case xr.miles:t*=.62137119;break;case xr.yards:t*=1093.6133;break;case xr.nauticalMiles:t*=.5399568;break;case xr.kilometers:}if("number"==typeof i&&0<=i){var r=Math.pow(10,i);t=Math.round(t*r)/r}return t}function Zr(t,e,n,i){i=i||"meters",t=ya(t);var r=Qr(i),a=Nr(t[1]),o=Nr(t[0]),s=Nr(e),c=n/r,l=Math.asin(Math.sin(a)*Math.cos(c)+Math.cos(a)*Math.sin(c)*Math.cos(s)),u=o+Math.atan2(Math.sin(s)*Math.sin(c)*Math.cos(a),Math.cos(c)-Math.sin(a)*Math.sin(l)),h=Pr(ia(Ir(l)),-85,85);return[ra(Ir(u)),h]}function Jr(t,e,n){var i=Br(t=ya(t),e=ya(e));return"meters"===n?i:Kr(i,"meters",n||"meters")}function Qr(t){var e=Rr(t);return Kr(zr,xr.meters,e)}function $r(t,e){if(t=ya(t),e=ya(e),t&&2<=t.length&&e&&2<=e.length){var n=Nr(t[1]),i=Nr(e[1]),r=Nr(e[0]-t[0]),a=Math.sin(r)*Math.cos(i),o=Math.cos(n)*Math.sin(i)-Math.sin(n)*Math.cos(i)*Math.cos(r);return(Ir(Math.atan2(a,o))+360)%360}return NaN}function ta(t,e){var n,i=0;Array.isArray(t)?n=t:t.type&&"LineString"===t.type&&(n=t.coordinates);for(var r=0,a=n.length-1;r<a;r++)i+=Br(n[r],n[r+1]);return Kr(i,"meters",e||"meters")}function ea(t,e,n){n=n||"meters";var i,r,a=0;if(Array.isArray(t)?r=t:t.type&&"LineString"===t.type&&(r=t.coordinates),2<=r.length){for(var o=r.length,s=1;s<o;s++){if(e<=a+(i=Jr(r[s-1],r[s],n))){var c=$r(r[s-1],r[s]);return Zr(r[s-1],c,e-a,n)}a+=i}return a<=e?r[o-1]:r[0]}return null}function na(t,e,n,i,r){i=i||"meters",r=r||0,t=ya(t);for(var a=[],o=360/n,s=0;s<=n;s++)a.push(Zr(t,(s*o+r)%360,e,i));return a}function ia(t){return 90<t?180<(t=(t+90)%360)?90-(t-180):t-90:t<-90?(t=(t-90)%360)<-180?-90-(t+180):t+90:t}function ra(t){return 180<t?(t+180)%360-180:t<-180?(t-180)%360+180:t}function aa(t,e,n){if(0===n)return Object.assign({},t);e=ya(e);for(var i,r,a=[],o=0,s=t.length;o<s;o++)i=Jr(e,t[o]),r=$r(e,t[o]),a.push(Zr(e,r+n,i));return a}function oa(t,e){for(var n,i,r=512*Math.pow(2,e),a=[],o=0,s=t.length;o<s;o++)n=t[o][0]/r-.5,i=.5-t[o][1]/r,a.push([360*n,90-360*Math.atan(Math.exp(2*-i*Math.PI))/Math.PI]);return a}function sa(t,e){for(var n,i,r,a=512*Math.pow(2,e),o=[],s=0,c=t.length;s<c;s++)r=Math.sin(t[s][1]*Math.PI/180),n=(t[s][0]+180)/360,i=.5-Math.log((1+r)/(1-r))/(4*Math.PI),o.push([Math.round(n*a),Math.round(i*a)]);return o}function ca(t,e,n,i){switch(qr(e)){case kr.kilometersPerHourSecond:t/=3.6;break;case kr.milesPerHourSecond:t/=2.236936292054;break;case kr.knotsPerSecond:t/=1.943844492441;break;case kr.standardGravity:t/=.1019716212978;break;case kr.kilometersPerSecondSquared:t/=.001;break;case kr.milesPerSecondSquared:t/=.000621371192;break;case kr.feetPerSecondSquared:t/=3.280839895012;break;case kr.yardsPerSecondSquared:t/=1.093613298338;break;case kr.metersPerSecondSquared:}switch(qr(n)){case kr.kilometersPerHourSecond:t*=3.6;break;case kr.milesPerHourSecond:t*=2.236936292054;break;case kr.knotsPerSecond:t*=1.943844492441;break;case kr.standardGravity:t*=.1019716212978;break;case kr.kilometersPerSecondSquared:t*=.001;break;case kr.milesPerSecondSquared:t*=.000621371192;break;case kr.feetPerSecondSquared:t*=3.280839895012;break;case kr.yardsPerSecondSquared:t*=1.093613298338;break;case kr.metersPerSecondSquared:}return Gr(t,i)}function la(t,e,n,i){switch(Yr(e)){case Mr.acres:t*=4046.8564224;break;case Mr.hectares:t*=1e4;break;case Mr.squareFeet:t*=.09290304;break;case Mr.squareKilometers:t*=1e6;break;case Mr.squareMiles:t*=259e4;break;case Mr.squareYards:t*=.83612736;break;case Mr.squareMeters:}switch(Yr(n)){case Mr.acres:t/=4046.8564224;break;case Mr.hectares:t/=1e4;break;case Mr.squareFeet:t/=.09290304;break;case Mr.squareKilometers:t/=1e6;break;case Mr.squareMiles:t/=259e4;break;case Mr.squareYards:t/=.83612736;break;case Mr.squareMeters:}return Gr(t,i)}function ua(t,e,n,i){switch(Wr(e)){case Lr.feetPerSecond:t*=1.09728;break;case Lr.milesPerHour:t*=1.6093;break;case Lr.knots:t*=1.852;break;case Lr.metersPerSecond:t*=3.6;break;case Lr.mach:t*=1234.8;break;case Lr.kilometersPerHour:}switch(Wr(n)){case Lr.feetPerSecond:t/=1.09728;break;case Lr.milesPerHour:t/=1.6093;break;case Lr.knots:t/=1.852;break;case Lr.metersPerSecond:t/=3.6;break;case Lr.mach:t/=1234.8;break;case Lr.kilometersPerHour:}return Gr(t,i)}function ha(t,e,n,i){switch(jr(e)){case Ar.ms:t/=1e3;break;case Ar.hours:t*=3600;break;case Ar.minutes:t*=60;break;case Ar.days:t*=86400;break;case Ar.seconds:}switch(jr(n)){case Ar.ms:t*=1e3;break;case Ar.hours:t/=3600;break;case Ar.minutes:t/=60;break;case Ar.days:t/=86400;break;case Ar.seconds:}return Gr(t,i)}function pa(t,e,n,i,r,a,o,s){var c=Kr(e,r,xr.meters),l=ha(n,a,Ar.seconds);return ca(2*(c-ua(t,i,Lr.metersPerSecond)*l)/(l*l),kr.metersPerSecondSquared,o,s)}function da(t,e,n,i,r,a,o){var s=ua(t,i,Lr.metersPerSecond);return ca((ua(e,i,Lr.metersPerSecond)-s)/ha(n,r,Ar.seconds),kr.metersPerSecondSquared,a,o)}function fa(t,e,n,i){var r=ma(t),a=ma(e);return null!=r&&null!=a?ha(a.getTime()-r.getTime(),Ar.ms,n,i):NaN}function ma(t){if("[object Date]"===Object.prototype.toString.call(t))return t;if("string"==typeof t){var e=Date.parse(t);if(!isNaN(e))return new Date(e);if(0<=t.indexOf("Date(")){var n=0;return n=0<(t=t.replace("/Date(","").replace(")/","")).indexOf("+")?parseInt(t.substr(0,t.indexOf("+")),10):0<t.indexOf("-")?parseInt(t.substr(0,t.indexOf("-")),10):parseInt(t,10),new Date(n)}}else if("number"==typeof t)return new Date(t);return null}function ga(t){var e=[],n=null,i=null;if(Array.isArray(t)&&0<t.length)if(Array.isArray(t[0])&&"number"==typeof t[0][0])e=t;else for(var r=t.length,a=0;a<r;a++)e=e.concat(ga(t[a]));else if(t.type)switch(t.type){case"Point":e=[t.coordinates];break;case"LineString":e=t.coordinates;break;case"Polygon":n=t.coordinates;break;case"MultiPoint":e=t.coordinates;break;case"MultiLineString":n=t.coordinates;break;case"MultiPolygon":i=t.coordinates;break;case"Feature":var o=t;e=Ea._isCircle(o)?Ea._getCirclePositions(o):ga(o.geometry);break;case"FeatureCollection":e=ga(t.features);break;case"GeometryCollection":e=ga(t.geometries)}else if(t instanceof Ea)return ga(t.toJson());if(n)for(r=n.length,a=0;a<r;a++)e=e.concat(n[a]);else if(i){var s=i.length;for(a=0;a<s;a++)for(var c=i[a].length,l=0;l<c;l++)e=e.concat(i[a][l])}return e}function ya(t){if(Array.isArray(t)&&"number"==typeof t[0])return t;if(t.type){if("Point"===t.type)return t.coordinates;if("Feature"===t.type&&"Point"===t.geometry.type)return t.geometry.coordinates}else if(t instanceof Ea&&"Point"===t.getType())return t.getCoordinates();return null}function _a(t,e,n){n=n||"meters";var i,r,a=0;if(Array.isArray(t)?r=t:t.type&&"LineString"===t.type&&(r=t.coordinates),2<=r.length){for(var o=r.length,s=1;s<o;s++){if(e<=a+(i=Jr(r[s-1],r[s],n))){var c=$r(r[s-1],r[s]),l=Zr(r[s-1],c,e-a,n);return new dr(new _r(l),{heading:c})}a+=i}return a<=e?new dr(new _r(r[o-1]),{heading:$r(r[o-2],r[o-1])}):new dr(new _r(r[0]),{heading:$r(r[0],r[1])})}return null}function va(t,e,n,i){var r,a=ya(t),o=sa([a],22)[0],s=null,c=1/0;switch((e=e instanceof Ea?e.toJson():e).type){case"Feature":return va(t,e.geometry,n);case"Point":r=[[e.coordinates]];break;case"MultiPoint":for(var l=void 0,u=e.coordinates,h=0,p=u.length;h<p;h++)(l=Jr(a,u[h]))<c&&(c=l,s=new dr(new _r(u[h]),{distance:l}));break;case"LineString":r=[e.coordinates];break;case"Polygon":case"MultiLineString":r=e.coordinates;break;case"MultiPolygon":var d=e.coordinates;if(0<d.length)for(r=d[0],h=1,p=d.length;h<p;h++)r=r.concat(d[h])}if(r){var f=void 0;for(h=0,p=r.length;h<p;h++)(f=Xr(a,o,r[h]))&&f.properties.distance<c&&(c=f.properties.distance,s=f)}return s&&(s.properties.distance=Kr(s.properties.distance,"meters",n,i)),s}(br=Mr=Mr||{}).squareMeters="squareMeters",br.acres="acres",br.hectares="hectares",br.squareFeet="squareFeet",br.squareKilometers="squareKilometers",br.squareMiles="squareMiles",br.squareYards="squareYards",(wr=xr=xr||{}).meters="meters",wr.kilometers="kilometers",wr.feet="feet",wr.miles="miles",wr.nauticalMiles="nauticalMiles",wr.yards="yards",(Tr=Ar=Ar||{}).seconds="seconds",Tr.hours="hours",Tr.ms="ms",Tr.minutes="minutes",Tr.days="days",(Sr=Lr=Lr||{}).metersPerSecond="metersPerSecond",Sr.kilometersPerHour="kilometersPerHour",Sr.feetPerSecond="feetPerSecond",Sr.milesPerHour="milesPerHour",Sr.knots="knots",Sr.mach="mach",(Or=kr=kr||{}).milesPerSecondSquared="milesPerSecondSquared",Or.kilometersPerSecondSquared="kilometersPerSecondSquared",Or.knotsPerSecond="knotsPerSecond",Or.standardGravity="standardGravity",Or.feetPerSecondSquared="feetPerSecondSquared",Or.yardsPerSecondSquared="yardsPerSecondSquared",Or.milesPerHourSecond="milesPerHourSecond",Or.kilometersPerHourSecond="kilometersPerHourSecond",Or.metersPerSecondSquared="metersPerSecondSquared";var Ma,ba=(x(xa,Ma=Array),xa.fromPosition=function(t){return 2===t.length?new xa(t[0],t[1]):2<t.length?new xa(t[0],t[1],t[2]):null},xa.areEqual=function(t,e,n){if(void 0===n&&(n=6),t&&2<=t.length&&e&&2<=e.length){var i=Math.pow(10,n),r=ia(t[1]),a=ia(e[1]),o=ra(t[0]),s=ra(e[0]);if(0!=Math.round((r-a)*i)/i)return!1;var c=Math.round((o-s)*i)/i;return 0==c||360==c}return!1},xa.fromLatLng=function(t,e,n){var i=[];if("number"==typeof t)i.push(t),"number"==typeof e&&i.push(e),"number"==typeof n&&i.push(n);else if(Array.isArray(t))2<=t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&(3<=t.length&&"number"==typeof t[2]?i.push(t[0],t[1],t[2]):i.push(t[0],t[1]));else if("object"==typeof t){var r=["lat","latitude","y"],a=["lng","longitude","lon","x"],o=["elv","elevation","alt","altitude","z"],s=NaN,c=NaN,l=NaN;Object.keys(t).forEach((function(e,n,i){var u=e.toLowerCase();isNaN(s)&&0<=r.indexOf(u)&&"number"==typeof t[e]?s=t[e]:isNaN(c)&&0<=a.indexOf(u)&&"number"==typeof t[e]?c=t[e]:isNaN(l)&&0<=o.indexOf(u)&&"number"==typeof t[e]&&(l=t[e])})),isNaN(s)||isNaN(c)||(i.push(c,s),isNaN(l)||i.push(l))}return 2<=i.length?i:null},xa.fromLatLngs=function(t){var e=[];if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=xa.fromLatLng(t[n]);r&&e.push(r)}return e},xa._getDimensions=function(t){for(var e=0;Array.isArray(t);)t=t[0],e++;return"number"==typeof t&&e--,e},xa);function xa(t,e,n){return n?Ma.call(this,t,e,n)||this:Ma.call(this,t,e)||this}var wa=(Aa.TYPE="Polygon",Aa);function Aa(t,e){this.type="Polygon",this.type=Aa.TYPE,1===ba._getDimensions(t)?this.coordinates=[t]:this.coordinates=t,this.bbox=e}var Ta=(La.prototype._addEventListener=function(t,e,n){this.listeners.has(t)||this.listeners.set(t,new Ci),this.listeners.get(t).set(e,n)},La.prototype._removeEventListener=function(t,e){this.listeners.has(t)&&this.listeners.get(t).delete(e)},La.prototype._invokeEvent=function(t,e){var n=this;this.listeners.has(t)&&this.listeners.get(t).forEach((function(i,r){i&&n._removeEventListener(t,r);try{r(e)}catch(i){console.error(i)}}))},La);function La(){this.listeners=new Ci}var Sa=Object.freeze({__proto__:null,EventEmitter:Ta}),ka=(Oa.prototype.toTarget=function(t,e){return this.transformArray(t,this.M,e)},Oa.prototype.toSource=function(t,e){return this.transformArray(t,this.inverseM,e)},Oa.prototype.transformArray=function(t,e,n){if(t&&Array.isArray(t)&&Array.isArray(t[0])){for(var i=[],r=0,a=t;r<a.length;r++){var o=a[r];i.push(this.transform(o,e,n))}return i}return null},Oa.prototype.transform=function(t,e,n){var i=t[0]*e[0][3]+t[1]*e[1][3]+e[2][3],r=t[0]*e[0][4]+t[1]*e[1][4]+e[2][4];return"number"==typeof n&&0<=n?[Gr(i,n),Gr(r,n)]:[Gr(i,6),Gr(r,6)]},Oa._calculateAffineTransform=function(t,e){if(t.length!==e.length||t.length<1)throw new Error("Error: source and target arrays must have the same length.");var n=Math.min(t[0].length,e[0].length),i=n+1;if(t.length<n)throw new Error("Erorr: At least "+n+" reference points required.");for(var r=[],a=[],o=0;o<i;o++){a[o]=[];for(var s=0;s<i;s++){s<n&&(r[s]=0);for(var c=a[o][s]=0;c<t.length;c++)s<n&&(r[s]+=o<n?t[c][o]*e[c][s]:e[c][s]),a[o][s]+=n<=o&&n<=s?1:n<=o?t[c][s]:n<=s?t[c][o]:t[c][o]*t[c][s]}a[o]=a[o].concat(r)}if(!this._gaussJordanElimination(a))throw new Error("Error: Singular matrix. Points are likely coplanar.");return a},Oa._gaussJordanElimination=function(t){for(var e,n,i=t.length,r=2*i-1,a=0;a<i;a++){for(var o=a,s=a+1;s<i;s++)Math.abs(t[s][a])>Math.abs(t[o][a])&&(o=s);if(n=t[o],t[o]=t[a],t[a]=n,Math.abs(t[a][a])<=1e-10)return!1;for(var c=a+1;c<i;c++){e=t[c][a]/t[a][a];for(var l=a;l<r;l++)t[c][l]-=t[a][l]*e}}for(a=i-1;-1<a;a--){for(e=t[a][a],s=0;s<a;s++)for(var u=r-1;a-1<u;u--)t[s][u]-=t[a][u]*t[s][a]/e;t[a][a]/=e;for(var h=i;h<r;h++)t[a][h]/=e}return!0},Oa);function Oa(t,e){this.M=Oa._calculateAffineTransform(t,e),this.inverseM=Oa._calculateAffineTransform(e,t)}var za,Ca=Object.freeze({__proto__:null,AffineTransform:ka,_precision:Gr,get AreaUnits(){return Mr},get DistanceUnits(){return xr},get TimeUnits(){return Ar},get SpeedUnits(){return Lr},get AccelerationUnits(){return kr},boundingBoxToPolygon:function(t){var e=ra(Ia.getWest(t)),n=ra(Ia.getEast(t)),i=ia(Ia.getNorth(t)),r=ia(Ia.getSouth(t)),a=Ia.getCenter(t),o=[[e,i],[e,r],[a[0],r],[n,r],[n,i],[a[0],i],[e,i]];return new wa([o])},convertDistance:Kr,getCardinalSpline:function(t,e,n,i){var r;if(!t||t.length<=2)return r;"number"!=typeof e&&(e=.5),("number"!=typeof n||n<=0)&&(n=15);var a=t.length;r=t.slice(0),i?(ba.areEqual(r[0],r[a-1])&&(r.pop(),a--),r.unshift(t[a-1]),r.push(t[0]),r.push(t[1]),a++):(r.unshift(t[0]),r.push(t[a-1]));var o,s,c,l=[];l.push([1,0,0,0]);for(var u=1;u<n-1;u++)c=(o=u/n)*(s=o*o),l.push([2*c-3*s+1,-2*c+3*s,c-2*s+o,c-s]);l.push([0,1,0,0]);var h,p,d,f,m,g,y,_=[];for(u=1;u<a;u++)for(p=e*(r[u+1][0]-r[u-1][0]),d=e*(r[u+1][1]-r[u-1][1]),f=e*(r[u+2][0]-r[u][0]),m=e*(r[u+2][1]-r[u][1]),o=0;o<n;o++)y=(h=l[o])[0]*r[u][0]+h[1]*r[u+1][0]+h[2]*p+h[3]*f,g=Pr(g=h[0]*r[u][1]+h[1]*r[u+1][1]+h[2]*d+h[3]*m,-85,85),_.push([y,g]);return _},getDestination:Zr,getDistanceTo:Jr,getEarthRadius:Qr,getGeodesicPath:function(t,e){var n;(!e||e<=0)&&(e=15),Array.isArray(t)?n=t:t.type&&"LineString"===t.type&&(n=t.coordinates);for(var i=n.length-1,r=[],a=0;a<i;a++)for(var o=Nr(n[a][1]),s=Nr(n[a][0]),c=Nr(n[a+1][1]),l=Nr(n[a+1][0]),u=2*Math.asin(Math.sqrt(Math.pow(Math.sin((o-c)/2),2)+Math.cos(o)*Math.cos(c)*Math.pow(Math.sin((s-l)/2),2))),h=0;h<=e;h++){var p=h/e,d=Math.sin((1-p)*u)/Math.sin(u),f=Math.sin(p*u)/Math.sin(u),m=d*Math.cos(o)*Math.cos(s)+f*Math.cos(c)*Math.cos(l),g=d*Math.cos(o)*Math.sin(s)+f*Math.cos(c)*Math.sin(l),y=d*Math.sin(o)+f*Math.sin(c),_=Math.atan2(y,Math.sqrt(Math.pow(m,2)+Math.pow(g,2))),v=Math.atan2(g,m);_=Pr(Ir(_),-85,85),v=Ir(v),r.push([v,_])}return r},getHeading:$r,getLengthOfPath:ta,getPositionAlongPath:ea,getRegularPolygonPath:na,interpolate:function(t,e,n){n=void 0===n?.5:n;var i=Jr(t=ya(t),e=ya(e),"kilometers");return Zr(t,$r(t,e),i*n,"kilometers")},normalizeLatitude:ia,normalizeLongitude:ra,rotatePositions:aa,getPixelHeading:function(t,e){var n=sa([t=ya(t),e=ya(e)],21),i=n[0],r=n[1],a=r[0]-i[0],o=i[1]-r[1];return(2.5*Math.PI-Math.atan2(o,a))*Er%360},mercatorPixelsToPositions:oa,mercatorPositionsToPixels:sa,convertAcceleration:ca,convertArea:la,convertSpeed:ua,convertTimespan:ha,getAcceleration:pa,getAccelerationFromSpeeds:da,getAccelerationFromFeatures:function(t,e,n,i,r,a,o){if("string"==typeof n&&"Feature"===t.type&&"Point"===t.geometry.type&&"Feature"===e.type&&"Point"===e.geometry.type){var s=fa(t.properties[n],e.properties[n],Ar.seconds);if(!isNaN(s)){var c=0;if(i&&"string"==typeof i){var l=t.properties[i],u=e.properties[i];if("number"==typeof l&&(c=l,"number"==typeof u))return da(l,u,s,r,Ar.seconds,a,o)}return pa(c,Jr(t.geometry.coordinates,e.geometry.coordinates,xr.meters),s,r,xr.meters,Ar.seconds,a,o)}}return NaN},getArea:function t(e,n,i){if(e){var r=0;switch((e=e instanceof Ea?e.toJson():e).type){case"Feature":if(e.geometry)return t(e.geometry,n,i);break;case"Polygon":e.coordinates&&(r=Fr(e.coordinates));break;case"MultiPolygon":var a=e;if(a.coordinates)for(var o=0,s=a.coordinates.length;o<s;o++)r+=Fr(a.coordinates[o])}return la(r,Mr.squareMeters,n,i)}return 0},getSpeed:function(t,e,n,i,r,a){var o=ya(t),s=ya(e);if(o&&s){var c=ha(n,i,Ar.seconds);return ua(Jr(o,s,xr.meters)/c,Lr.metersPerSecond,r,a)}return 0},getSpeedFromFeatures:function(t,e,n,i,r){if("string"==typeof n&&"Feature"===t.type&&"Point"===t.geometry.type&&"Feature"===e.type&&"Point"===e.geometry.type){var a=this.getTimespan(t.properties[n],e.properties[n],Ar.seconds);if(!isNaN(a)){var o=this.getDistanceTo(t.geometry.coordinates,e.geometry.coordinates,xr.meters);return this.convertSpeed(o/a,Lr.metersPerSecond,i,r)}}return NaN},getTimespan:fa,getTravelDistance:function(t,e,n,i,r,a,o,s){e=this.convertTimespan(e,r,Ar.seconds);var c=(n=this.convertSpeed(n,a,Lr.metersPerSecond))*e;return"number"==typeof i&&(c+=.5*this.convertAcceleration(i,o,kr.metersPerSecondSquared)*e*e),this.convertDistance(c,xr.meters,t,s)},parseTimestamp:ma,getConvexHull:function(t){var e=ga(t).map((function(t){return[ra(t[0]),ia(t[1])]}));e.sort((function(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}));for(var n=[],i=0,r=e;i<r.length;i++){for(var a=r[i];2<=n.length&&Ur(n[n.length-2],n[n.length-1],a)<=0;)n.pop();n.push(a)}for(var o=[],s=e.length-1;0<=s;s--){for(;2<=o.length&&Ur(o[o.length-2],o[o.length-1],e[s])<=0;)o.pop();o.push(e[s])}return new wa([n.concat(o)])},getPositions:ga,getPosition:ya,getPositionsAlongPath:function(t,e){if(e<2)return[];for(var n=[],i=ta(t,xr.meters)/(e-1),r=0;r<e;r++){var a=ea(t,i*r,xr.meters);null!=a&&n.push(a)}return n},getPointWithHeadingAlongPath:_a,getPointsWithHeadingsAlongPath:function(t,e){if(e<=0)return[];for(var n=[],i=ta(t,xr.meters)/(e-1),r=0;r<e;r++){var a=_a(t,i*r,xr.meters);null!=a&&n.push(a)}return n},getClosestPointOnGeometry:va}),Ea=(x(Da,za=Ta),Da.prototype.addProperty=function(t,e){ur(this.data.properties[t],e)||(this.data.properties[t]=zi(e),"subType"!==t&&"radius"!==t||this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},Da.prototype.getBounds=function(){var t,e=this.getCoordinates(),n=this.getType();if("Point"===n)if(this.circlePolygon){var i=this.circlePolygon.geometry.coordinates;t=Ia.fromPositions(i[0])}else t=new Ia(i=e,i);else if("MultiPoint"===n||"LineString"===n)i=e,t=Ia.fromPositions(i);else if("Polygon"===n)i=e,t=Ia.fromPositions(i[0]);else if("MultiLineString"===n)for(var r=0,a=i=e;r<a.length;r++){var o=a[r];t=Ia.merge(t,Ia.fromPositions(o))}else if("MultiPolygon"===n)for(var s=0,c=i=e;s<c.length;s++){var l=c[s];t=Ia.merge(t,Ia.fromPositions(l[0]))}return t},Da.prototype.getCoordinates=function(){return zi(this.data.geometry.coordinates)},Da.prototype.getCircleCoordinates=function(){return this.circlePolygon?zi(this.circlePolygon.geometry.coordinates[0]):null},Da.prototype.getId=function(){return this.data.id},Da.prototype.getProperties=function(){return zi(this.data.properties)},Da.prototype.getType=function(){return this.data.geometry.type},Da.prototype.isCircle=function(){return Da._isCircle(this.data)},Da.prototype.isRectangle=function(){return Da._isRectangle(this.data)},Da.prototype.setCoordinates=function(t){var e;e="Polygon"===this.getType()&&1===ba._getDimensions(t)?[t]:t,ur(this.data.geometry.coordinates,e)||(this.data.geometry.coordinates=zi(e),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},Da.prototype.setProperties=function(t){t[Da._shapeIdPropName]=this.data.id,ur(this.data.properties,t)||(this.data.properties=zi(t),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},Da.prototype.toJson=function(){return JSON.parse(JSON.stringify(this.data))},Da.prototype._toJson=function(){return this.circlePolygon||this.data},Da.prototype._setDataSource=function(t){void 0===t||null==t?delete this.dataSource:this.dataSource=t},Da.prototype._handleCircle=function(){if(this.isCircle()){var t=Da._getCirclePositions(this.data);this.circlePolygon=new dr(new wa([t]),this.data.properties,this.data.id),this.data.properties.subType="Circle"}else delete this.circlePolygon},Da._isCircle=function(t){return t&&t.geometry&&"Point"===t.geometry.type&&t.geometry.coordinates&&t.properties&&"string"==typeof t.properties.subType&&"circle"===t.properties.subType.toLowerCase()&&"number"==typeof t.properties.radius},Da._isRectangle=function(t){if("Polygon"===t.geometry.type&&t.geometry.coordinates&&"string"==typeof t.properties.subType&&"rectangle"===t.properties.subType.toLowerCase()){var e=t.geometry.coordinates;if(1===e.length){var n=e[0];if(5===n.length)return n[0][0]===n[4][0]&&n[0][1]===n[4][1];if(4===n.length)return!0}}return!1},Da._getCirclePositions=function(t){return na(t.geometry.coordinates,t.properties.radius,72,"meters")},Da._shapeIdPropName="_azureMapsShapeId",Da);function Da(t,e,n){var i,r=za.call(this)||this;if("Feature"===t.type){var a=t;i=zi(a.geometry),n=a.properties?zi(a.properties):{},e=null==a.id||""===a.id?pr():a.id}else i=zi(t),e=null==e||""===e?pr():e,n=n?zi(n):{};return n[Da._shapeIdPropName]=e,r.data=new dr(i,n,e),r._handleCircle(),r}var Na,Ia=(x(Pa,Na=Array),Pa.fromBoundingBox=function(t){var e=Pa.getWest(t),n=Pa.getSouth(t),i=Pa.getEast(t),r=Pa.getNorth(t);return new Pa([e,n,i,r])},Pa.fromDimensions=function(t,e,n){var i=t[0],r=t[1],a=Math.min(Math.max(r+n/2,-85.5),85.5),o=Math.min(Math.max(r-n/2,-85.5),85.5),s=ra(i+e/2);return new Pa([ra(i-e/2),o,s,a])},Pa.fromEdges=function(t,e,n,i){return new Pa([t,e,n,i])},Pa.containsPosition=function(t,e){var n=Pa.getCenter(t),i=Math.abs(n[1]-e[1]),r=Math.abs(n[0]-e[0]);180<r&&(r=360-r);var a=Pa.getHeight(t),o=Pa.getWidth(t);return i<=a/2+1e-8&&r<=o/2+1e-8},Pa.crossesAntimeridian=function(t){return ra(Pa.getEast(t))-ra(Pa.getWest(t))<0},Pa.getCenter=function(t){var e=ra(Pa.getEast(t)),n=ra(Pa.getWest(t));e<n&&(e+=360);var i=ra((n+e)/2),r=ia(Pa.getSouth(t)),a=ia(Pa.getNorth(t));return[i,ia((r+a)/2)]},Pa.getHeight=function(t){var e=ia(Pa.getNorth(t))-ia(Pa.getSouth(t));return isNaN(e)?0:e},Pa.getWidth=function(t){var e=ra(Pa.getEast(t))-ra(Pa.getWest(t));return isNaN(e)?0:e<0?e+=360:e},Pa.getSouthWest=function(t){var e=this.getSouth(t),n=this.getWest(t);return isNaN(e)||isNaN(n)?null:[n,e]},Pa.getNorthEast=function(t){var e=this.getNorth(t),n=this.getEast(t);return isNaN(e)||isNaN(n)?null:[n,e]},Pa.getNorthWest=function(t){var e=this.getNorth(t),n=this.getWest(t);return isNaN(e)||isNaN(n)?null:[n,e]},Pa.getSouthEast=function(t){var e=this.getSouth(t),n=this.getEast(t);return isNaN(e)||isNaN(n)?null:[n,e]},Pa.getSouth=function(t){return t&&4<=t.length?Number(t[1]):NaN},Pa.getWest=function(t){return t&&4<=t.length?Number(t[0]):NaN},Pa.getNorth=function(t){if(t){if(4===t.length)return Number(t[3]);if(6===t.length)return Number(t[4])}return NaN},Pa.getEast=function(t){if(t){if(4===t.length)return Number(t[2]);if(6===t.length)return Number(t[3])}return NaN},Pa.intersect=function(t,e){var n=Pa.getCenter(t),i=Pa.getCenter(e),r=Math.abs(n[1]-i[1]),a=Math.abs(n[0]-i[0]);180<a&&(a=360-a);var o=Pa.getHeight(t),s=Pa.getWidth(t),c=Pa.getHeight(e),l=Pa.getWidth(e);return r<=o/2+c/2&&a<=s/2+l/2},Pa.merge=function(t,e){var n=t&&4===t.length,i=e&&4===e.length;if(n&&!i)return t;if(i&&!n)return e;if(!n&&!i)return null;var r=Math.max(ia(Pa.getNorth(t)),ia(Pa.getNorth(e))),a=Math.min(ia(Pa.getSouth(t)),ia(Pa.getSouth(e))),o=[t,e],s=[],c=0;for(c=0;c<o.length;c++){var l=o[c],u=ra(Pa.getWest(l)),h=ra(Pa.getEast(l));Pa.crossesAntimeridian(l)?(s.push([u,180]),s.push([-180,h])):s.push([u,h])}s.sort((function(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}));var p=[],d=s[0];for(c=1;c<s.length;){var f=s[c];d[1]>=f[0]?d[1]=Math.max(d[1],f[1]):(p.push(d),d=f),c++}p.push(d);var m=p.length,g=p[0][0]+360-p[m-1][1],y=[p[m-1][1],p[0][0]];for(c=1;c<m;c++){var _=p[c][0]-p[c-1][1];g<_&&(g=_,y=[p[c-1][1],p[c][0]])}return new Pa([y[1],a],[y[0],r])},Pa.fromPositions=function(t){for(var e,n=NaN,i=NaN,r=NaN,a=NaN,o=t.length,s=new Array(o),c=0;o--;)if((e=t[o])&&2<=e.length){var l=ia(e[1]);n=isNaN(n)?l:Math.max(n,l),i=isNaN(i)?l:Math.min(i,l),s[c++]=ra(e[0])}if(c){s.length=c,s.sort((function(t,e){return t-e}));var u=s[0]+360-s[c-1],h=0;for(o=1;o<c;o++){var p=s[o]-s[o-1];u<p&&(u=p,h=o)}r=s[h],a=s[(h||c)-1]}return isNaN(r)||isNaN(i)||isNaN(a)||isNaN(n)?null:new Pa([r,i,a,n])},Pa.fromLatLngs=function(t){return Pa.fromPositions(ba.fromLatLngs(t))},Pa.fromData=function(t){var e,n=null;if(Array.isArray(t)&&0<t.length){for(var i=0,r=t;i<r.length;i++){var a=r[i];null!=(e=Pa.fromData(a))&&(n=null===n?e:Pa.merge(n,e))}return n}if(t instanceof Ea)return t.getBounds();if(t&&t.type){var o=t;if(o.bbox&&4===o.bbox.length)return o.bbox;switch(o.type){case"FeatureCollection":return Pa.fromData(o.features);case"Feature":return Ea._isCircle(o)?Pa.fromPositions(Ea._getCirclePositions(o)):Pa.fromData(o.geometry);case"GeometryCollection":return Pa.fromData(o.geometries);case"Point":var s=o.coordinates;if(s&&2<=s.length)return[s[0],s[1],s[0],s[1]];break;case"LineString":case"MultiPoint":return Pa.fromPositions(o.coordinates);case"Polygon":case"MultiLineString":var c=o.coordinates;if(c&&0<c.length){for(var l=0,u=c.length;l<u;l++)null!=(e=Pa.fromPositions(c[l]))&&(n=null===n?e:Pa.merge(n,e));if(null!=n)return n}break;case"MultiPolygon":var h=o.coordinates;if(h&&0<h.length){for(l=0,u=h.length;l<u;l++)for(var p=0,d=h[l].length;p<d;p++)null!=(e=Pa.fromPositions(h[l][p]))&&(n=null===n?e:Pa.merge(n,e));return n}}}return null},Pa.splitOnAntimeridian=function(t){var e=[];if(Pa.crossesAntimeridian(t)){var n=void 0,i=void 0,r=ra(Pa.getWest(t)),a=ra(Pa.getEast(t)),o=ia(Pa.getNorth(t)),s=ia(Pa.getSouth(t));i=6<=t.length?(n=new Pa([r,s,t[2],180,o,t[5]]),new Pa([-180,s,t[2],a,o,t[5]])):(n=new Pa([r,s,180,o]),new Pa([-180,s,a,o])),e.push(n,i)}else e.push(new Pa(t));return e},Pa);function Pa(t,e){var n=this;if(t&&e){var i=t;n=i[2]&&e[2]?Na.call(this,i[0],i[1],i[2]||0,e[0],e[1],e[2]||0)||this:Na.call(this,i[0],i[1],e[0],e[1])||this}else if(t){var r=t;r&&(4===r.length?n=Na.call(this,r[0],r[1],r[2],r[3])||this:6<=r.length&&(n=Na.call(this,r[0],r[1],r[2],r[3],r[4],r[5])||this))}return n}var Ba=(Ra.TYPE="FeatureCollection",Ra);function Ra(t,e){this.type="FeatureCollection",this.type=Ra.TYPE,this.features=t,this.bbox=e}var qa=(Ya.TYPE="GeometryCollection",Ya);function Ya(t){this.type="GeometryCollection",this.type=Ya.TYPE,this.geometries=t}var Wa=(ja.TYPE="LineString",ja);function ja(t,e){this.type="LineString",this.type=ja.TYPE,this.coordinates=t,this.bbox=e}var Fa=(Ha.TYPE="MultiLineString",Ha);function Ha(t,e){this.type="MultiLineString",this.type=Ha.TYPE,this.coordinates=t,this.bbox=e}var Ua=(Xa.TYPE="MultiPoint",Xa);function Xa(t,e){this.type="MultiPoint",this.type=Xa.TYPE,this.coordinates=t,this.bbox=e}var Va=(Ga.TYPE="MultiPolygon",Ga);function Ga(t,e){this.type="MultiPolygon",this.type=Ga.TYPE,this.coordinates=t,this.bbox=e}var Ka,Za=Object.freeze({__proto__:null,Feature:dr,FeatureCollection:Ba,LineString:Wa,Point:_r,Polygon:wa,Position:ba,BoundingBox:Ia,MultiLineString:Fa,MultiPoint:Ua,MultiPolygon:Va,GeometryCollection:qa}),Ja=function(t,e){return Oi(t,5,e="function"==typeof e?e:void 0)},Qa=(x($a,Ka=L),$a);function $a(){var t=null!==Ka&&Ka.apply(this,arguments)||this;return t.maxZoom=18,t.cluster=!1,t.clusterRadius=50,t.clusterMaxZoom=void 0,t.clusterProperties=void 0,t.lineMetrics=!1,t.tolerance=.375,t}var to,eo=(x(no,to=Ta),no.prototype.getId=function(){return this.id},no.prototype._setMap=function(t){if(null==t||void 0===t){var e=this.map;delete this.map,this._invokeEvent("sourceremoved",this),e&&e.events.invoke("sourceremoved",this)}else this.map=t,this._invokeEvent("sourceadded",this),this.map.events.invoke("sourceadded",this)},no);function no(t){var e=to.call(this)||this;return e.id=t||pr(),e}var io,ro=(x(ao,io=eo),ao.prototype.add=function(t,e){this._addNoUpdate(t,e),this._updateSource()},ao.prototype.clear=function(){this._clearNoUpdate(),this._updateSource()},ao.prototype.dispose=function(){this.options=null,this.shapes=null,this.shapesMap=null,this.map=null},ao.prototype.getClusterExpansionZoom=function(t){var e=this;return new Promise((function(n,i){if(e.map){var r=e.map._getMap().getSource(e.getId());r&&"geojson"===r.type&&r.getClusterExpansionZoom(t,(function(t,e){t?i(t):"number"!=typeof e||n(e)}))}else i("The DataSource hasn't been added to a map.")}))},ao.prototype.getClusterChildren=function(t){var e=this;return new Promise((function(n,i){if(e.map){var r=e.map._getMap().getSource(e.getId());r&&"geojson"===r.type&&r.getClusterChildren(t,(function(t,r){t?i(t):r&&n(e.map.sources._mapFeaturesToShapes(r,!1,e))}))}else i("The DataSource hasn't been added to a map.")}))},ao.prototype.getClusterLeaves=function(t,e,n){var i=this;return new Promise((function(r,a){if(i.map){var o=i.map._getMap().getSource(i.getId());o&&"geojson"===o.type&&o.getClusterLeaves(t,e,n,(function(t,e){t?a(t):e&&r(i.map.sources._mapFeaturesToShapes(e,!1,i))}))}else a("The DataSource hasn't been added to a map.")}))},ao.prototype.getOptions=function(){return zi(this.options)},ao.prototype.getShapes=function(){return Array.from(this.shapes)},ao.prototype.importDataFromUrl=function(t){var e=this;return fetch(t,{method:"GET",mode:"cors"}).then((function(t){if(t.ok)return t.json();throw new Error("HTTP "+t.status+": "+t.statusText)})).then((function(t){e.add(t)}))},ao.prototype.getShapeById=function(t){return this.shapes[this.shapesMap.get(t)]||null},ao.prototype.remove=function(t){for(var e=0,n=Array.isArray(t)?t:[t];e<n.length;e++){var i=n[e];"number"==typeof i?this._removeByIndex(i):this._removeById(i)}this._updateSource()},ao.prototype.removeById=function(t){for(var e=0,n=Array.isArray(t)?t:[t];e<n.length;e++){var i=n[e];this._removeById(i)}this._updateSource()},ao.prototype.setOptions=function(t){var e=(new Qa).merge(this.options,zi(t));ur(this.options,e)||(this._invokeEvent("datasourceupdated",this),this.options=e,this.map&&this.map._rebuildStyle())},ao.prototype.setShapes=function(t){this._clearNoUpdate(),this.add(t)},ao.prototype.toJson=function(){return new Ba(this.shapes.map((function(t){return t.toJson()})))},ao.prototype._toJson=function(){return new Ba(this.shapes.map((function(t){return t._toJson()})))},ao.prototype._buildSource=function(){var t={type:"geojson",data:this._toJson(),maxzoom:this.options.maxZoom,cluster:this.options.cluster,clusterRadius:this.options.clusterRadius,tolerance:this.options.tolerance,lineMetrics:this.options.lineMetrics,clusterProperties:this.options.clusterProperties};return"number"==typeof this.options.clusterMaxZoom&&(t.clusterMaxZoom=this.options.clusterMaxZoom),t},ao.prototype._addNoUpdate=function(t,e){var n;if(t instanceof Ea)this._addToSources(t,e),n=[t];else if(Array.isArray(t))n=t.map((function(t){return t instanceof Ea?t:new Ea(t)})),this._addToSources(n,e);else if("FeatureCollection"===t.type)n=t.features.map((function(t){return new Ea(t)})),this._addToSources(n,e);else if("GeometryCollection"===t.type)n=t.geometries.map((function(t){return new Ea(t)})),this._addToSources(n,e);else{var i=new Ea(t);this._addToSources(i,e),n=[i]}this._invokeEvent("dataadded",n)},ao.prototype._clearNoUpdate=function(){var t=this.shapes;this.shapes=[],this.shapesMap=new Ci,t&&0<t.length&&this._invokeEvent("dataremoved",t)},ao.prototype._updateSource=function(){var t=this;void 0===this.requestId&&(this.requestId=requestAnimationFrame((function(){t._updateMboxSource(),t.requestId=void 0})))},ao.prototype._addToSources=function(t,e){if(t=Array.isArray(t)?t:[t],"number"!=typeof e)for(var n=0,i=t;n<i.length;n++){var r=i[n];this.shapes.push(r),this.shapesMap.set(r.getId(),this.shapes.length-1)}else for(var a=t.length-1;0<=a;a--)this.shapes.splice(e,0,t[a]),this._updateShapesMap(e);for(var o=0,s=t;o<s.length;o++)(r=s[o])._setDataSource(this)},ao.prototype._removeById=function(t){var e,n=t instanceof Ea?t.getId():"string"==typeof t||"number"==typeof t?t:t.id;(e=this.shapes[this.shapesMap.get(n)])._setDataSource(null),this.shapes.splice(this.shapesMap.get(n),1),this._updateShapesMap(this.shapesMap.get(n)),this.shapesMap.delete(n),this._invokeEvent("dataremoved",[e])},ao.prototype._removeByIndex=function(t){var e;if(t>=this.shapes.length)throw new Error("The specified remove index '"+t+"' is greater than the maximum possible index '"+(this.shapes.length-1)+"'");e=this.shapes[t],this.shapesMap.delete(e.getId()),e._setDataSource(null),this.shapes.splice(t,1),this._updateShapesMap(t),this._invokeEvent("dataremoved",[e])},ao.prototype._updateShapesMap=function(t){for(var e=t;e<this.shapes.length;e++)this.shapesMap.set(this.shapes[e].getId(),e)},ao.prototype._updateMboxSource=function(){if(this.map&&this.map._getMap()){var t=this.map._getMap().getSource(this.getId());t&&"geojson"===t.type&&t.setData(this._toJson())}},ao);function ao(t,e){var n=io.call(this,t)||this;return n.requestId=void 0,n.options=(new Qa).merge(zi(e)),n.shapes=[],n.shapesMap=new Ci,n}var oo,so=(x(co,oo=L),co);function co(){var t=null!==oo&&oo.apply(this,arguments)||this;return t.bounds=void 0,t.minZoom=0,t.maxZoom=22,t.isTMS=!1,t.tiles=void 0,t.tileSize=512,t.url=void 0,t}var lo,uo=(x(ho,lo=eo),ho.prototype.getOptions=function(){return zi(this.options)},ho.prototype.getShape=function(t,e){return this.map._getMap().querySourceFeatures(this.getId(),{sourceLayer:t,filter:e})},ho.prototype._buildSource=function(){var t={type:"vector"};return this.options.bounds&&(t.bounds=this.options.bounds),this.options.tiles?(t.tiles=this.options.tiles,t.minzoom=this.options.minZoom,t.maxzoom=this.options.maxZoom):this.options.url&&(t.url=this.options.url),this.options.isTMS&&(t.scheme="tms"),this.options.tileSize&&(t.tileSize=this.options.tileSize),t},ho);function ho(t,e){var n=lo.call(this,t)||this;return n.options=(new so).merge(zi(e)),n}var po,fo=Object.freeze({__proto__:null,Source:eo,DataSource:ro,VectorTileSource:uo}),mo=(x(go,po=Ta),go.prototype.getId=function(){return this.id},go.prototype.getMap=function(){return this.map||null},go.prototype.onAdd=function(t){this.map=t,this._invokeEvent("layeradded",this),this.map.events.invoke("layeradded",this)},go.prototype.onRemove=function(){var t=this.map;delete this.map,this._invokeEvent("layerremoved",this),t&&t.events.invoke("layerremoved",this)},go._isMBoxEvent=function(t){return!this.LayerEvents.hasOwnProperty(t)},go.prototype._updateBaseProperties=function(t,e){this._updateFilter(t.filter,e.filter),this._updateZoomRange(t.minZoom,e.minZoom,t.maxZoom,e.maxZoom),this._updateLayoutProperty("visibility",t.visible,e.visible,t.visible?"visible":"none")},go.prototype._updateFilter=function(t,e){ur(t,e)||this.map._getMap().setFilter(this.id,t)},go.prototype._updatePaintProperty=function(t,e,n,i){ur(e,n)||this.map._getMap().setPaintProperty(this.id,t,i||e)},go.prototype._updateLayoutProperty=function(t,e,n,i){ur(e,n)||this.map._getMap().setLayoutProperty(this.id,t,i||e)},go.prototype._updateZoomRange=function(t,e,n,i){t===e&&i===n||this.map._getMap().setLayerZoomRange(this.id,t,n)},go.LayerEvents={layeradded:void 0,layerremoved:void 0},go);function go(t){var e=po.call(this)||this;return e.id=t||pr(),e}var yo,_o=(x(vo,yo=L),vo._cloneCustomizer=function(t){if(t instanceof eo)return t},vo);function vo(){var t=null!==yo&&yo.apply(this,arguments)||this;return t.filter=void 0,t.minZoom=0,t.maxZoom=24,t.visible=!0,t}var Mo,bo=(x(xo,Mo=_o),xo);function xo(){var t=null!==Mo&&Mo.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.color="#1A73AA",t.blur=0,t.opacity=1,t.strokeColor="#FFFFFF",t.strokeOpacity=1,t.strokeWidth=2,t.pitchAlignment="viewport",t.radius=8,t}var wo,Ao=(x(To,wo=mo),To.prototype.getOptions=function(){return Ja(this.options,bo._cloneCustomizer)},To.prototype.getSource=function(){return this.options.source},To.prototype.setOptions=function(t){var e=(new bo).merge(this.options,Ja(t,bo._cloneCustomizer));if(this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("circle-blur",e.blur,this.options.blur),this._updatePaintProperty("circle-color",e.color,this.options.color),this._updatePaintProperty("circle-opacity",e.opacity,this.options.opacity),this._updatePaintProperty("circle-radius",e.radius,this.options.radius),this._updatePaintProperty("circle-stroke-color",e.strokeColor,this.options.strokeColor),this._updatePaintProperty("circle-stroke-opacity",e.strokeOpacity,this.options.strokeOpacity),this._updatePaintProperty("circle-stroke-width",e.strokeWidth,this.options.strokeWidth),this._updatePaintProperty("circle-pitch-alignment",e.pitchAlignment,this.options.pitchAlignment)}this.options=e},To.prototype._buildLayers=function(){var t={id:this.id,type:"circle",source:this.options.source instanceof eo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"circle-color":this.options.color,"circle-blur":this.options.blur,"circle-opacity":this.options.opacity,"circle-stroke-color":this.options.strokeColor,"circle-stroke-opacity":this.options.strokeOpacity,"circle-stroke-width":this.options.strokeWidth,"circle-pitch-alignment":this.options.pitchAlignment,"circle-radius":this.options.radius},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),this.options.sourceLayer&&(t["source-layer"]=this.options.sourceLayer),[t]},To.prototype._getLayerIds=function(){return[this.id]},To.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof eo?t.add(this.options.source.getId()):t.add(this.options.source),t},To);function To(t,e,n){var i=wo.call(this,e)||this;return i.options=(new bo).merge(Ja(n,bo._cloneCustomizer)),i.options.source=t||i.options.source,i}var Lo,So=(x(ko,Lo=_o),ko._cloneCustomizer=function(t){if(t instanceof eo)return t},ko);function ko(){var t=null!==Lo&&Lo.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.color=["interpolate",["linear"],["heatmap-density"],0,"rgba(0,0, 255,0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],t.intensity=1,t.opacity=1,t.radius=30,t.weight=1,t}var Oo,zo=(x(Co,Oo=mo),Co.prototype.getOptions=function(){return Ja(this.options,So._cloneCustomizer)},Co.prototype.getSource=function(){return this.options.source},Co.prototype.setOptions=function(t){var e=(new So).merge(this.options,Ja(t,So._cloneCustomizer));if(this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("heatmap-color",e.color,this.options.color),this._updatePaintProperty("heatmap-intensity",e.intensity,this.options.intensity),this._updatePaintProperty("heatmap-opacity",e.opacity,this.options.opacity),this._updatePaintProperty("heatmap-radius",e.radius,this.options.radius),this._updatePaintProperty("heatmap-weight",e.weight,this.options.weight)}this.options=e},Co.prototype._buildLayers=function(){var t={id:this.id,type:"heatmap",source:this.options.source instanceof eo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"heatmap-color":this.options.color,"heatmap-intensity":this.options.intensity,"heatmap-opacity":this.options.opacity,"heatmap-radius":this.options.radius,"heatmap-weight":this.options.weight},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),this.options.sourceLayer&&(t["source-layer"]=this.options.sourceLayer),[t]},Co.prototype._getLayerIds=function(){return[this.id]},Co.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof eo?t.add(this.options.source.getId()):t.add(this.options.source),t},Co);function Co(t,e,n){var i=Oo.call(this,e)||this;return i.options=(new So).merge(Ja(n,So._cloneCustomizer)),i.options.source=t||i.options.source,i}var Eo,Do=(x(No,Eo=_o),No);function No(){var t=null!==Eo&&Eo.apply(this,arguments)||this;return t.contrast=0,t.fadeDuration=300,t.hueRotation=0,t.maxBrightness=1,t.minBrightness=0,t.opacity=1,t.saturation=0,t}var Io,Po=(x(Bo,Io=Do),Bo._cloneCustomizer=function(t){if(t instanceof eo)return t},Bo);function Bo(){var t=null!==Io&&Io.apply(this,arguments)||this;return t.url=void 0,t.coordinates=void 0,t}var Ro,qo=(x(Yo,Ro=mo),Yo.prototype._getSourceIds=function(){var t=new Set;return t.add(this._getSourceId()),t},Yo);function Yo(){return null!==Ro&&Ro.apply(this,arguments)||this}var Wo,jo=(x(Fo,Wo=qo),Fo.prototype.getOptions=function(){return Ja(this.options,Po._cloneCustomizer)},Fo.prototype.setOptions=function(t){var e=(new Po).merge(this.options,Ja(t,Po._cloneCustomizer)),n="string"==typeof t.url&&t.url!==this.getOptions().url,i=void 0!==t.coordinates&&t.coordinates!==this.getOptions().coordinates;if(this.map){this._updateBaseProperties(e,this.options),this._updatePaintProperty("raster-contrast",e.contrast,this.options.contrast),this._updatePaintProperty("raster-fade-duration",e.fadeDuration,this.options.fadeDuration),this._updatePaintProperty("raster-hue-rotate",e.hueRotation,this.options.hueRotation),this._updatePaintProperty("raster-brightness-max",e.maxBrightness,this.options.maxBrightness),this._updatePaintProperty("raster-opacity",e.opacity,this.options.opacity),this._updatePaintProperty("raster-saturation",e.saturation,this.options.saturation);var r=this.map._getMap().getSource(this._getSourceId());r&&r.updateImage(e)}this.options=e,n?this.reloadImage():i&&this.updateTransform()},Fo.prototype.getPositions=function(t){return this.transform.then((function(e){return e.toTarget(t)}))},Fo.prototype.getPixels=function(t){return this.transform.then((function(e){return e.toSource(t)}))},Fo.getCoordinatesFromRefPoints=function(t,e,n,i){return new ka(n,i).toTarget([[0,0],[t,0],[t,e],[0,e]])},Fo.getCoordinatesFromEdges=function(t,e,n,i,r){"number"!=typeof r&&(r=0);var a=[Math.min(i,n),e,Math.max(i,n),t],o=Ia.getCenter(a);return aa([Ia.getNorthWest(a),Ia.getNorthEast(a),Ia.getSouthEast(a),Ia.getSouthWest(a)],o,r)},Fo.prototype._buildLayers=function(){var t={id:this.id,type:"raster",source:this._getSourceId(),layout:{visibility:this.options.visible?"visible":"none"},paint:{"raster-opacity":this.options.opacity,"raster-hue-rotate":this.options.hueRotation,"raster-brightness-min":this.options.minBrightness,"raster-brightness-max":this.options.maxBrightness,"raster-saturation":this.options.saturation,"raster-contrast":this.options.contrast,"raster-fade-duration":this.options.fadeDuration},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),[t]},Fo.prototype._getLayerIds=function(){return[this.id]},Fo.prototype._buildSource=function(){return{type:"image",url:this.options.url,coordinates:this.options.coordinates}},Fo.prototype._getSourceId=function(){return this.getId()+"-ImageSource"},Fo.prototype.reloadImage=function(){var t=this;this.options.url&&(this.transform=new Promise((function(e,n){t.img.onload=function(){var n=[[0,0],[t.img.width,0],[t.img.width,t.img.height],[0,t.img.height]];e(new ka(n,t.options.coordinates)),t.isLoading=!1},t.img.onerror=t.img.onabort=function(){n("Failed to load image")},t.isLoading=!0,t.img.src=t.options.url})))},Fo.prototype.updateTransform=function(){if(!this.isLoading){var t=[[0,0],[this.img.width,0],[this.img.width,this.img.height],[0,this.img.height]];this.transform=Promise.resolve(new ka(t,this.options.coordinates))}},Fo);function Fo(t,e){var n=Wo.call(this,e)||this;return n.isLoading=!1,n.options=(new Po).merge(Ja(t,Po._cloneCustomizer)),n.img=new Image,n.reloadImage(),n}var Ho,Uo=(x(Xo,Ho=_o),Xo);function Xo(){var t=null!==Ho&&Ho.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.lineCap="round",t.lineJoin="round",t.blur=0,t.strokeColor="#1E90FF",t.strokeDashArray=void 0,t.strokeGradient=void 0,t.offset=0,t.strokeOpacity=1,t.translate=new gr(0,0),t.translateAnchor="map",t.strokeWidth=2,t}var Vo,Go=(x(Ko,Vo=mo),Ko.prototype.getOptions=function(){return Ja(this.options,Uo._cloneCustomizer)},Ko.prototype.getSource=function(){return this.options.source},Ko.prototype.setOptions=function(t){var e=(new Uo).merge(this.options,Ja(t,Uo._cloneCustomizer));if(this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("line-blur",e.blur,this.options.blur),this._updateLayoutProperty("line-cap",e.lineCap,this.options.lineCap),this._updateLayoutProperty("line-join",e.lineJoin,this.options.lineJoin),this._updatePaintProperty("line-offset",e.offset,this.options.offset),this._updatePaintProperty("line-color",e.strokeColor,this.options.strokeColor),this._updatePaintProperty("line-dasharray",e.strokeDashArray,this.options.strokeDashArray),this._updatePaintProperty("line-gradient",e.strokeGradient,this.options.strokeGradient),this._updatePaintProperty("line-opacity",e.strokeOpacity,this.options.strokeOpacity),this._updatePaintProperty("line-width",e.strokeWidth,this.options.strokeWidth),this._updatePaintProperty("line-translate",e.translate,this.options.translate),this._updatePaintProperty("line-translate-anchor",e.translateAnchor,this.options.translateAnchor)}this.options=e},Ko.prototype._buildLayers=function(){return[w(w(w(w({id:this.id,type:"line"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof eo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none","line-cap":this.options.lineCap,"line-join":this.options.lineJoin},paint:w(w(w({"line-blur":this.options.blur,"line-color":this.options.strokeColor},this.options.strokeDashArray&&{"line-dasharray":this.options.strokeDashArray}),this.options.strokeGradient&&{"line-gradient":this.options.strokeGradient}),{"line-offset":this.options.offset,"line-opacity":this.options.strokeOpacity,"line-translate":this.options.translate,"line-translate-anchor":this.options.translateAnchor,"line-width":this.options.strokeWidth})}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},Ko.prototype._getLayerIds=function(){return[this.id]},Ko.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof eo?t.add(this.options.source.getId()):t.add(this.options.source),t},Ko);function Ko(t,e,n){var i=Vo.call(this,e)||this;return i.options=(new Uo).merge(Ja(n,Uo._cloneCustomizer)),i.options.source=t||i.options.source,i}var Zo,Jo=(x(Qo,Zo=_o),Qo);function Qo(){var t=null!==Zo&&Zo.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.base=0,t.fillColor="#1E90FF",t.height=0,t.fillOpacity=1,t.fillPattern=void 0,t.translate=new gr(0,0),t.translateAnchor="map",t.verticalGradient=!0,t}var $o,ts=(x(es,$o=mo),es.prototype.getOptions=function(){return Ja(this.options,Jo._cloneCustomizer)},es.prototype.getSource=function(){return this.options.source},es.prototype.setOptions=function(t){var e=(new Jo).merge(this.options,Ja(t,Jo._cloneCustomizer));if(this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("fill-extrusion-base",e.base,this.options.base),this._updatePaintProperty("fill-extrusion-color",e.fillColor,this.options.fillColor),this._updatePaintProperty("fill-extrusion-height",e.height,this.options.height),this._updatePaintProperty("fill-extrusion-opacity",e.fillOpacity,this.options.fillOpacity),this._updatePaintProperty("fill-extrusion-pattern",e.fillPattern,this.options.fillPattern),this._updatePaintProperty("fill-extrusion-translate",e.translate,this.options.translate),this._updatePaintProperty("fill-extrusion-translate-anchor",e.translateAnchor,this.options.translateAnchor),this._updatePaintProperty("fill-extrusion-vertical-gradient",e.verticalGradient,this.options.verticalGradient)}this.options=e},es.prototype._buildLayers=function(){return[w(w(w(w({id:this.id,type:"fill-extrusion"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof eo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:w(w({"fill-extrusion-base":this.options.base,"fill-extrusion-height":this.options.height,"fill-extrusion-opacity":this.options.fillOpacity},this.options.fillPattern?{"fill-extrusion-pattern":this.options.fillPattern}:{"fill-extrusion-color":this.options.fillColor}),{"fill-extrusion-translate":this.options.translate,"fill-extrusion-translate-anchor":this.options.translateAnchor,"fill-extrusion-vertical-gradient":this.options.verticalGradient})}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},es.prototype._getLayerIds=function(){return[this.id]},es.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof eo?t.add(this.options.source.getId()):t.add(this.options.source),t},es);function es(t,e,n){var i=$o.call(this,e)||this;return i.options=(new Jo).merge(Ja(n,Jo._cloneCustomizer)),i.options.source=t||i.options.source,i}var ns,is=(x(rs,ns=_o),rs.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=!1,i=!1,r=0,a=t;r<a.length;r++){var o=a[r];o&&(o.hasOwnProperty("fillColor")?i=!(n=!0):o.hasOwnProperty("fillPattern")&&(n=!(i=!0)))}var s=ns.prototype.merge.apply(this,t);return n?s.fillPattern=void 0:i&&(s.fillColor=void 0),s},rs);function rs(){var t=null!==ns&&ns.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.fillColor="#1E90FF",t.fillOpacity=.5,t.fillPattern=void 0,t}var as,os=(x(ss,as=mo),ss.prototype.getOptions=function(){return Ja(this.options,is._cloneCustomizer)},ss.prototype.getSource=function(){return this.options.source},ss.prototype.setOptions=function(t){var e=(new is).merge(this.options,Ja(t,is._cloneCustomizer));if(this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("fill-color",e.fillColor,this.options.fillColor),this._updatePaintProperty("fill-opacity",e.fillOpacity,this.options.fillOpacity),this._updatePaintProperty("fill-pattern",e.fillPattern,this.options.fillPattern)}this.options=e},ss.prototype._buildLayers=function(){var t={id:this.id,type:"fill",source:this.options.source instanceof eo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"fill-opacity":this.options.fillOpacity},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),this.options.sourceLayer&&(t["source-layer"]=this.options.sourceLayer),this.options.fillPattern?t.paint["fill-pattern"]=this.options.fillPattern:t.paint["fill-color"]=this.options.fillColor,[t]},ss.prototype._getLayerIds=function(){return[this.id]},ss.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof eo?t.add(this.options.source.getId()):t.add(this.options.source),t},ss);function ss(t,e,n){var i=as.call(this,e)||this;return i.options=(new is).merge(Ja(n,is._cloneCustomizer)),i.options.source=t||i.options.source,i}var cs,ls=(x(us,cs=L),us);function us(){var t=null!==cs&&cs.apply(this,arguments)||this;return t.allowOverlap=!1,t.anchor="bottom",t.ignorePlacement=!1,t.image="marker-blue",t.offset=new gr(0,0),t.optional=!1,t.pitchAlignment="auto",t.rotation=0,t.rotationAlignment="auto",t.size=1,t.opacity=1,t}var hs,ps=(x(ds,hs=L),ds);function ds(){var t=null!==hs&&hs.apply(this,arguments)||this;return t.allowOverlap=!1,t.anchor="center",t.textField=void 0,t.font=["StandardFont-Regular"],t.ignorePlacement=!1,t.offset=new gr(0,0),t.optional=!1,t.pitchAlignment="auto",t.rotation=0,t.rotationAlignment="auto",t.size=16,t.color="#000000",t.haloBlur=0,t.haloColor="rgba(0,0,0,0)",t.haloWidth=0,t.opacity=1,t}var fs,ms=(x(gs,fs=_o),gs);function gs(){var t=null!==fs&&fs.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.iconOptions=new ls,t.textOptions=new ps,t.placement="point",t.lineSpacing=250,t}var ys,_s=(x(vs,ys=mo),vs.prototype.getOptions=function(){return Ja(this.options,ms._cloneCustomizer)},vs.prototype.getSource=function(){return this.options.source},vs.prototype.setOptions=function(t){var e=(new ms).merge(this.options,Ja(t,ms._cloneCustomizer));if(this.map){if(e.source!==this.options.source||e.sourceLayer!==this.options.sourceLayer)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updateLayoutProperty("symbol-spacing",e.lineSpacing,this.options.lineSpacing),this._updateLayoutProperty("symbol-placement",e.placement,this.options.placement),this._updateLayoutProperty("icon-allow-overlap",e.iconOptions.allowOverlap,this.options.iconOptions.allowOverlap),this._updateLayoutProperty("icon-anchor",e.iconOptions.anchor,this.options.iconOptions.anchor),this._updateLayoutProperty("icon-ignore-placement",e.iconOptions.ignorePlacement,this.options.iconOptions.ignorePlacement),this._updateLayoutProperty("icon-image",e.iconOptions.image,this.options.iconOptions.image),this._updateLayoutProperty("icon-offset",e.iconOptions.offset,this.options.iconOptions.offset),this._updatePaintProperty("icon-opacity",e.iconOptions.opacity,this.options.iconOptions.opacity),this._updateLayoutProperty("icon-optional",e.iconOptions.optional,this.options.iconOptions.optional),this._updateLayoutProperty("icon-pitch-alignment",e.iconOptions.pitchAlignment,this.options.iconOptions.pitchAlignment),this._updateLayoutProperty("icon-rotate",e.iconOptions.rotation,this.options.iconOptions.rotation),this._updateLayoutProperty("icon-rotation-alignment",e.iconOptions.rotationAlignment,this.options.iconOptions.rotationAlignment),this._updateLayoutProperty("icon-size",e.iconOptions.size,this.options.iconOptions.size),this._updateLayoutProperty("text-allow-overlap",e.textOptions.allowOverlap,this.options.textOptions.allowOverlap),this._updateLayoutProperty("text-anchor",e.textOptions.anchor,this.options.textOptions.anchor),this._updatePaintProperty("text-color",e.textOptions.color,this.options.textOptions.color),this._updateLayoutProperty("text-font",e.textOptions.font,this.options.textOptions.font),this._updateLayoutProperty("text-ignore-placement",e.textOptions.ignorePlacement,this.options.textOptions.ignorePlacement),this._updatePaintProperty("text-halo-blur",e.textOptions.haloBlur,this.options.textOptions.haloBlur),this._updatePaintProperty("text-halo-color",e.textOptions.haloColor,this.options.textOptions.haloColor),this._updatePaintProperty("text-halo-width",e.textOptions.haloWidth,this.options.textOptions.haloWidth),this._updateLayoutProperty("text-offset",e.textOptions.offset,this.options.textOptions.offset),this._updatePaintProperty("text-opacity",e.textOptions.opacity,this.options.textOptions.opacity),this._updateLayoutProperty("text-optional",e.textOptions.optional,this.options.textOptions.optional),this._updateLayoutProperty("text-pitch-alignment",e.textOptions.pitchAlignment,this.options.textOptions.pitchAlignment),this._updateLayoutProperty("text-rotate",e.textOptions.rotation,this.options.textOptions.rotation),this._updateLayoutProperty("text-rotation-alignment",e.textOptions.rotationAlignment,this.options.textOptions.rotationAlignment),this._updateLayoutProperty("text-size",e.textOptions.size,this.options.textOptions.size),this._updateLayoutProperty("text-field",e.textOptions.textField,this.options.textOptions.textField)}this.options=e},vs.prototype._buildLayers=function(){return[w(w(w(w({id:this.id,type:"symbol"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof eo?this.options.source.getId():this.options.source,layout:w(w({visibility:this.options.visible?"visible":"none","symbol-placement":this.options.placement,"symbol-spacing":this.options.lineSpacing,"text-allow-overlap":this.options.textOptions.allowOverlap,"text-anchor":this.options.textOptions.anchor},this.options.textOptions.textField&&{"text-field":this.options.textOptions.textField}),{"text-font":this.options.textOptions.font,"text-ignore-placement":this.options.textOptions.ignorePlacement,"text-offset":this.options.textOptions.offset,"text-optional":this.options.textOptions.optional,"text-pitch-alignment":this.options.textOptions.pitchAlignment,"text-rotate":this.options.textOptions.rotation,"text-rotation-alignment":this.options.textOptions.rotationAlignment,"text-size":this.options.textOptions.size,"icon-allow-overlap":this.options.iconOptions.allowOverlap,"icon-anchor":this.options.iconOptions.anchor,"icon-ignore-placement":this.options.iconOptions.ignorePlacement,"icon-image":this.options.iconOptions.image,"icon-offset":this.options.iconOptions.offset,"icon-optional":this.options.iconOptions.optional,"icon-pitch-alignment":this.options.iconOptions.pitchAlignment,"icon-rotate":this.options.iconOptions.rotation,"icon-rotation-alignment":this.options.iconOptions.rotationAlignment,"icon-size":this.options.iconOptions.size}),paint:{"text-color":this.options.textOptions.color,"text-halo-blur":this.options.textOptions.haloBlur,"text-halo-color":this.options.textOptions.haloColor,"text-halo-width":this.options.textOptions.haloWidth,"text-opacity":this.options.textOptions.opacity,"icon-opacity":this.options.iconOptions.opacity}}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},vs.prototype._getLayerIds=function(){return[this.id]},vs.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof eo?t.add(this.options.source.getId()):t.add(this.options.source),t},vs);function vs(t,e,n){var i=ys.call(this,e)||this;return i.options=(new ms).merge(Ja(n,ms._cloneCustomizer)),i.options.source=t||i.options.source,i}var Ms,bs=(x(xs,Ms=Do),xs);function xs(){var t=null!==Ms&&Ms.apply(this,arguments)||this;return t.bounds=[-180,-85.0511,180,85.0511],t.minSourceZoom=0,t.maxSourceZoom=22,t.tileSize=512,t.isTMS=!1,t.subdomains=void 0,t.tileUrl=void 0,t}var ws,As=(x(Ts,ws=qo),Ts.prototype.getOptions=function(){return Ja(this.options,bs._cloneCustomizer)},Ts.prototype.setOptions=function(t){var e=(new bs).merge(this.options,Ja(t,bs._cloneCustomizer));if(this.map){if(!ur(e.bounds,this.options.bounds)||e.isTMS!==this.options.isTMS||e.maxSourceZoom!==this.options.maxSourceZoom||e.minSourceZoom!==this.options.minSourceZoom||!ur(e.subdomains,this.options.subdomains)||e.tileSize!==this.options.tileSize||e.tileUrl!==this.options.tileUrl)return this.options=e,void this.map.layers.add(this);this._updateBaseProperties(e,this.options),this._updatePaintProperty("raster-contrast",e.contrast,this.options.contrast),this._updatePaintProperty("raster-fade-duration",e.fadeDuration,this.options.fadeDuration),this._updatePaintProperty("raster-hue-rotate",e.hueRotation,this.options.hueRotation),this._updatePaintProperty("raster-brightness-max",e.maxBrightness,this.options.maxBrightness),this._updatePaintProperty("raster-opacity",e.opacity,this.options.opacity),this._updatePaintProperty("raster-saturation",e.saturation,this.options.saturation)}this.options=e},Ts.prototype._setOptionsNoUpdate=function(t){this.options=(new bs).merge(this.options,Ja(t,bs._cloneCustomizer))},Ts.prototype._buildLayers=function(){return[w(w({id:this.id,type:"raster",source:this._getSourceId(),layout:{visibility:this.options.visible?"visible":"none"},paint:{"raster-contrast":this.options.contrast,"raster-fade-duration":this.options.fadeDuration,"raster-hue-rotate":this.options.hueRotation,"raster-brightness-max":this.options.maxBrightness,"raster-brightness-min":this.options.minBrightness,"raster-opacity":this.options.opacity,"raster-saturation":this.options.saturation}},this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},Ts.prototype._getLayerIds=function(){return[this.id]},Ts.prototype._buildSource=function(){var t;if(this.options.tileUrl){if(-1===this.options.tileUrl.indexOf("{"))return{type:"raster",url:this.options.tileUrl};if(-1!==this.options.tileUrl.indexOf("{subdomain}")){if(!(this.options.subdomains&&0<this.options.subdomains.length))throw new Error("The {subdomain} placeholder was included in the tileUrl but no subdomains were specified");for(var e=[],n=0,i=this.options.subdomains;n<i.length;n++){var r=i[n];e.push(this.options.tileUrl.replace(/{subdomain}/g,r))}t=e}else t=[this.options.tileUrl]}return w({type:"raster",bounds:this.options.bounds,maxzoom:this.options.maxSourceZoom,minzoom:this.options.minSourceZoom,scheme:this.options.isTMS?"tms":"xyz",tileSize:this.options.tileSize},t&&{tiles:t})},Ts.prototype._getSourceId=function(){return this.getId()+"-RasterSource"},Ts);function Ts(t,e){var n=ws.call(this,e)||this;return t&&n.setOptions(t),n}var Ls=Object.freeze({__proto__:null,BubbleLayer:Ao,Layer:mo,LineLayer:Go,PolygonExtrusionLayer:ts,PolygonLayer:os,SymbolLayer:_s,TileLayer:As,HeatMapLayer:zo,ImageLayer:jo}),Ss=(ks.convertHtmlString=function(t){if("string"!=typeof t)return t;var e=document.createElement("div");return e.innerHTML=t,e},ks);function ks(){}var Os,zs=Function.prototype,Cs=Object.prototype,Es=zs.toString,Ds=Cs.hasOwnProperty,Ns=Es.call(Object),Is=function(t){if(!Ye(t)||"[object Object]"!=Gt(t))return!1;var e=zn(t);if(null===e)return!0;var n=Ds.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Es.call(n)==Ns},Ps=function(t){return Ye(t)&&1===t.nodeType&&!Is(t)},Bs=(x(Rs,Os=L),Rs._cloneCustomizer=function(t){if(Ps(t))return t},Rs);function Rs(){var t=null!==Os&&Os.apply(this,arguments)||this;return t.anchor="none",t.draggable=!1,t.closeButton=!0,t.content=document.createElement("span"),t.fillColor="#FFFFFF",t.pixelOffset=new gr(0,0),t.position=new ba(0,0),t.showPointer=!0,t}var qs,Ys=(x(Ws,qs=Ta),Ws.prototype.setPopupOptions=function(t){this.setOptions(t)},Ws.prototype.setOptions=function(t){var e=(new Bs).merge(this.options,Ja(t,Bs._cloneCustomizer));e.content!==this.options.content?(this.htmlContent.remove(),this.htmlContent=this._createHtmlContent(e),this.contentDiv.prepend(this.htmlContent)):e.draggable!==this.options.draggable&&this._setDraggable(this.htmlContent,e.draggable),e.closeButton&&!this.closeBtn?(this.closeBtn=this._createCloseButton(),this.contentDiv.appendChild(this.closeBtn)):!e.closeButton&&this.closeBtn&&(this.contentDiv.removeChild(this.closeBtn),delete this.closeBtn),e.showPointer&&!this.arrowDiv?(this.arrowDiv=this._createArrowDiv(),this.containerDiv.appendChild(this.arrowDiv)):!e.showPointer&&this.arrowDiv&&(this.containerDiv.removeChild(this.arrowDiv),delete this.arrowDiv),e.fillColor!==this.options.fillColor&&(this.containerDiv.style.borderColor=e.fillColor,this.contentDiv.style.backgroundColor=e.fillColor),this.marker&&(e.anchor!==this.options.anchor?"none"===this.options.anchor?(this.autoAnchor!==e.anchor&&this._replaceMarker(this.map,e),this.map.events.remove("move",this._onMove),delete this.autoAnchor):(this._replaceMarker(this.map,e),"none"===e.anchor&&this.map.events.add("move",this._onMove)):(ur(e.position,this.options.position)||this.marker.setLngLat(e.position),ur(e.pixelOffset,this.options.pixelOffset)||this.marker.setOffset(e.pixelOffset))),this.options=e},Ws.prototype.getPopupOptions=function(){return this.getOptions()},Ws.prototype.getOptions=function(){return Ja(this.options,Bs._cloneCustomizer)},Ws.prototype._dragToPixel=function(t){this.dragging||(this.dragging=!0,this.contentDiv.style.pointerEvents="none",this._invokeEvent("dragstart",{type:"dragstart",target:this}));var e=[t[0]+this.dragOffset[0],t[1]+this.dragOffset[1]],n=this.map.pixelsToPositions([e])[0];this.options.position=n,this.marker.setLngLat(this.options.position),this._invokeEvent("drag",{type:"drag",target:this})},Ws.prototype._onUp=function(){this.dragging&&(this.contentDiv.style.pointerEvents="",this._invokeEvent("dragend",{type:"dragend",target:this}),"none"===this.options.anchor&&this._onMove()),delete this.dragOffset,delete this.dragging},Ws.prototype._createContainerDiv=function(t){var e=this,n=document.createElement("div");n.classList.add(Ws.Css.container),n.classList.add(Ws.Css.hidden),n.style.borderColor=t.fillColor,n.setAttribute("role","dialog"),n.setAttribute("aria-label","Map Information Window");var i=!1;return n.addEventListener("keydown",(function(t){"Tab"!==t.key&&"Escape"!==t.key&&"Esc"!==t.key||(i=!0)})),n.addEventListener("keyup",(function(t){"Tab"!==t.key&&"Escape"!==t.key&&"Esc"!==t.key||(i=!1)})),n.addEventListener("focusin",(function(t){e.map&&!e.isOpen()&&(e.open(e.map),t.target instanceof HTMLElement&&t.target.focus())})),n.addEventListener("focusout",(function(t){i&&t.relatedTarget instanceof Node&&!n.contains(t.relatedTarget)&&(i=!1,e.isOpen()&&e.close())})),n},Ws.prototype._createContentDiv=function(t){var e=document.createElement("div");return e.classList.add(Ws.Css.content),e.style.backgroundColor=t.fillColor,e.setAttribute("tabindex","0"),this.htmlContent=this._createHtmlContent(t),e.appendChild(this.htmlContent),e},Ws.prototype._createArrowDiv=function(){var t=document.createElement("div");return t.classList.add(Ws.Css.arrow),t},Ws.prototype._createCloseButton=function(){var t=document.createElement("button");return t.addEventListener("click",this.close),t.classList.add(Ws.Css.close),t.setAttribute("aria-label","close"),t.setAttribute("title","close"),t.setAttribute("tabindex","0"),t.innerHTML="&times;",t},Ws.prototype._createHtmlContent=function(t){var e=Ss.convertHtmlString(t.content);return t.draggable&&this._setDraggable(e,t.draggable),e},Ws.prototype._createMarker=function(t,e){var n=this.marker?this.marker.getLngLat():t.position;return"none"===t.anchor?(this.autoAnchor=e||"bottom",this.containerDiv.classList.add(this.autoAnchor),new o({anchor:this.autoAnchor,element:this.containerDiv,offset:t.pixelOffset}).setLngLat(n)):(this.containerDiv.classList.add(t.anchor),new o({anchor:t.anchor,element:this.containerDiv,offset:t.pixelOffset}).setLngLat(n))},Ws.prototype._getAutoAnchor=function(t,e){var n,i,r=this.containerDiv.offsetWidth,a=this.containerDiv.offsetHeight;if(this.marker){var o=t._getMap().project(this.marker.getLngLat());n=o.x,i=o.y}else{var s=t.positionsToPixels([e.position])[0];n=s[0],i=s[1]}var c=[];return i<a?c.push("top"):i>t.getCanvas().offsetHeight-a&&c.push("bottom"),n<r/2?c.push("left"):n>t.getCanvas().offsetWidth-r/2&&c.push("right"),0<c.length?c.join("-"):"bottom"},Ws.prototype._replaceMarker=function(t,e,n){var i=this.containerDiv.nextElementSibling;this.marker.remove(),this.containerDiv.classList.remove(this.autoAnchor||this.options.anchor),this.marker=this._createMarker(e,n),this.marker.addTo(t._getMap()),t.popups._getCollectionDiv().insertBefore(this.containerDiv,i||null)},Ws.prototype._setDraggable=function(t,e){e?(t.addEventListener("mousedown",this._onDown),t.addEventListener("touchstart",this._onDown),t.addEventListener("dragstart",this._onDragStart)):(t.removeEventListener("mousedown",this._onDown),t.removeEventListener("touchstart",this._onDown),t.removeEventListener("dragstart",this._onDragStart))},Ws.Css={arrow:"popup-arrow",close:"popup-close",container:"popup-container",content:"popup-content-container",hidden:"hidden-accessible-element"},Ws);function Ws(t){var e=qs.call(this)||this;return e.attach=function(t){e.map!==t&&(e.map&&e.remove(),e.map=t,e.marker=e._createMarker(e.options),e.marker.addTo(e.map._getMap()),e.map.popups._getCollectionDiv().appendChild(e.containerDiv),e.map.popups.add(e))},e.open=function(t){if(!t&&!e.map)throw new Error("Must specify a map to open on or attach to a map in advance");e.attach(t||e.map),e.containerDiv.classList.remove(Ws.Css.hidden),e.map.events.add("move",e._onMove),e._onMove(),e._invokeEvent("open",{target:e,type:"open"})},e.close=function(){e.map&&e.map.events.remove("move",e._onMove),e.containerDiv.classList.add(Ws.Css.hidden),e._invokeEvent("close",{target:e,type:"close"})},e.remove=function(){e.map&&(e.marker.remove(),e.containerDiv.classList.remove(e.autoAnchor||e.options.anchor),e.map.events.remove("move",e._onMove),e.map.popups.remove(e),delete e.map,delete e.marker,delete e.autoAnchor)},e.isOpen=function(){return e.map&&!e.containerDiv.classList.contains(Ws.Css.hidden)},e._onMove=function(){var t=e._getAutoAnchor(e.map,e.options);t!==e.autoAnchor&&(e._replaceMarker(e.map,e.options,t),e.map.events.add("move",e._onMove))},e._onDown=function(t){e.map.popups._addDraggedPopup(e);var n=e.map.positionsToPixels([e.options.position])[0];"mousedown"===t.type?(t=t,e.dragOffset=[n[0]-t.clientX,n[1]-t.clientY]):"touchstart"===t.type&&(t=t,e.dragOffset=[n[0]-t.touches[0].clientX,n[1]-t.touches[0].clientY])},e._onDragStart=function(t){t.preventDefault()},e.options=(new Bs).merge(Ja(t,Bs._cloneCustomizer)),e.containerDiv=e._createContainerDiv(e.options),e.contentDiv=e._createContentDiv(e.options),e.containerDiv.appendChild(e.contentDiv),e.options.showPointer&&(e.arrowDiv=e._createArrowDiv(),e.containerDiv.appendChild(e.arrowDiv)),e.options.closeButton&&(e.closeBtn=e._createCloseButton(),e.contentDiv.appendChild(e.closeBtn)),e}var js,Fs=(x(Hs,js=L),Hs._cloneCustomizer=function(t){if(t instanceof Ys||Ps(t))return t},Hs);function Hs(){var t=null!==js&&js.apply(this,arguments)||this;return t.anchor="bottom",t.color="#1A73AA",t.draggable=!1,t.htmlContent='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.5 36.5" id="marker_'+pr()+'" width="24.5" height="36.5" display="block"><path d="M12.25.25a12.2543,12.2543,0,0,0-12,12.4937c0,6.4436,6.4879,12.1093,11.059,22.5641.5493,1.2563,1.3327,1.2563,1.882,0C17.7621,24.8529,24.25,19.1857,24.25,12.7437A12.2543,12.2543,0,0,0,12.25.25Z"   fill="{color}" stroke="{secondaryColor}" stroke-width="0.5"/><text style="font-family: Arial, Helvetica, sans-serif; font-size: 14px; fill: white;" text-anchor="middle" x="12" y="18">{text}</text></svg>',t.pixelOffset=new gr(0,0),t.position=new ba(0,0),t.popup=void 0,t.secondaryColor="white",t.text=void 0,t.visible=!0,t}var Us,Xs=(x(Vs,Us=Ta),Vs.prototype.getOptions=function(){return Ja(this.options,Fs._cloneCustomizer)},Vs.prototype.setOptions=function(t){var e=(new Fs).merge(this.options,Ja(t,Fs._cloneCustomizer));ur(e.htmlContent,this.options.htmlContent)&&e.anchor===this.options.anchor?("string"!=typeof e.htmlContent||e.color===this.options.color&&e.text===this.options.text&&e.secondaryColor===this.options.secondaryColor||(this.element.innerHTML=this._getSubbedHtmlString(e)),e.draggable!==this.options.draggable&&(this._setDraggable(e.draggable),this.marker.setDraggable(e.draggable)),ur(e.pixelOffset,this.options.pixelOffset)||this.marker.setOffset(e.pixelOffset),ur(e.position,this.options.position)||this.marker.setLngLat(e.position),e.visible!==this.options.visible&&(e.visible?this.element.classList.remove(Vs.hiddenClass):this.element.classList.add(Vs.hiddenClass))):(this.marker.remove(),this._buildMarker(e),this.map&&(this.marker.addTo(this.map._getMap()),this._getCollectionContainer().appendChild(this.element))),this.options=e},Vs.prototype.togglePopup=function(){if(this.options.popup)if(this.options.popup.isOpen())this.options.popup.close();else{if(!this.map)throw new Error("The marker must be added to a map before calling togglePopup().");this.options.popup.setOptions({position:this.options.position}),this.options.popup.open(this.map)}},Vs.prototype._addToMap=function(t,e){this.map&&this.map!==t&&this._removeFromMap(),e&&(this.options.position=zi(e),this.marker.setLngLat(this.options.position)),this.map!==t&&(this.map=t,this.marker.addTo(t._getMap()),this._getCollectionContainer().appendChild(this.element))},Vs.prototype._removeFromMap=function(){this.map&&(this.marker.remove(),delete this.map)},Vs.prototype._getId=function(){if(this.element)return"string"==typeof this.options.htmlContent?this.element.firstChild.id:this.element.id},Vs.prototype._buildMarker=function(t){if("string"==typeof t.htmlContent){var e=this._getSubbedHtmlString(t);this.element=Ss.convertHtmlString(e)}else this.element=t.htmlContent;this.element.classList.add(Vs.containerClass),t.draggable&&this._setDraggable(!0),t.visible||this.element.classList.add(Vs.hiddenClass),this.marker=new o({element:this.element,offset:t.pixelOffset,draggable:t.draggable,anchor:t.anchor}).setLngLat(t.position),this.marker.on("drag",this._onDrag),this.marker.on("dragstart",this._onDragStart),this.marker.on("dragend",this._onDragEnd),this.element.addEventListener("click",this._bubbleElementEvent),this.element.addEventListener("dblclick",this._bubbleElementEvent),this.element.addEventListener("contextmenu",this._bubbleElementEvent),this.element.addEventListener("keydown",this._bubbleElementEvent),this.element.addEventListener("keypress",this._bubbleElementEvent),this.element.addEventListener("keyup",this._bubbleElementEvent),this.element.addEventListener("mousedown",this._bubbleElementEvent),this.element.addEventListener("mouseenter",this._bubbleElementEvent),this.element.addEventListener("mouseleave",this._bubbleElementEvent),this.element.addEventListener("mousemove",this._bubbleElementEvent),this.element.addEventListener("mouseout",this._bubbleElementEvent),this.element.addEventListener("mouseover",this._bubbleElementEvent),this.element.addEventListener("mouseup",this._bubbleElementEvent)},Vs.prototype._getSubbedHtmlString=function(t){if("string"==typeof t.htmlContent)return t.htmlContent.replace(/{color}/gi,t.color||"").replace(/{secondaryColor}/gi,t.secondaryColor||"").replace(/{text}/gi,t.text||"")},Vs.prototype._getCollectionContainer=function(){var t=this.map.getCanvasContainer().querySelector("."+Vs.collectionContainerClass);return t||((t=document.createElement("div")).classList.add(Vs.collectionContainerClass),this.map.getCanvasContainer().appendChild(t)),t},Vs.prototype._setDraggable=function(t){t?this.element.addEventListener("dragstart",this._onEleDragStart):this.element.removeEventListener("dragstart",this._onEleDragStart)},Vs.collectionContainerClass="marker-collection-container",Vs.hiddenClass="hidden-accessible-element",Vs.containerClass="marker-container",Vs);function Vs(t){var e=Us.call(this)||this;return e._onDrag=function(){var t=e.marker.getLngLat().wrap();e.options.position=new ba(t.lng,t.lat),e._invokeEvent("drag",{type:"drag",target:e})},e._onDragStart=function(){e._invokeEvent("dragstart",{type:"dragstart",target:e})},e._onDragEnd=function(){e._invokeEvent("dragend",{type:"dragend",target:e})},e._bubbleElementEvent=function(t){e._invokeEvent(t.type,{type:t.type,target:e})},e._onEleDragStart=function(t){t.preventDefault()},e.options=(new Fs).merge(Ja(t,Fs._cloneCustomizer)),e._buildMarker(e.options),e}var Gs=function(t,e,n){(void 0===n||xt(t[e],n))&&(void 0!==n||e in t)||Ie(t,e,n)},Ks=function(t){return function(e,n,i){for(var r=-1,a=Object(e),o=i(e),s=o.length;s--;){var c=o[t?s:++r];if(!1===n(a[c],c,a))break}return e}}(),Zs=function(t){return Ye(t)&&dn(t)},Js=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Qs=function(t){return Re(t,vn(t))},$s=function(t,e,n,i,r,a,o){var s=Js(t,n),c=Js(e,n),l=o.get(c);if(l)Gs(t,n,l);else{var u=a?a(s,c,n+"",t,e,o):void 0,h=void 0===u;if(h){var p=Xe(c),d=!p&&Ge(c),f=!p&&!d&&rn(c);u=c,p||d||f?u=Xe(s)?s:Zs(s)?xn(s):d?bn(c,!(h=!1)):f?ci(c,!(h=!1)):[]:Is(c)||Ue(c)?Ue(u=s)?u=Qs(s):Kt(s)&&!Zt(s)||(u=di(c)):h=!1}h&&(o.set(c,u),r(u,c,i,a,o),o.delete(c)),Gs(t,n,u)}},tc=function t(e,n,i,r,a){e!==n&&Ks(n,(function(o,s){if(a=a||new Ee,Kt(o))$s(e,n,s,i,t,r,a);else{var c=r?r(Js(e,s),o,s+"",e,n,a):void 0;void 0===c&&(c=o),Gs(e,s,c)}}),vn)};function ec(t){return t}var nc=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ic=Math.max,rc=function(t,e,n){return e=ic(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,a=ic(i.length-e,0),o=Array(a);++r<a;)o[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=n(o),nc(t,this,s)}},ac=function(t){return function(){return t}},oc=Ne?function(t,e){return Ne(t,"toString",{configurable:!0,enumerable:!1,value:ac(e),writable:!0})}:ec,sc=Date.now,cc=function(t){var e=0,n=0;return function(){var i=sc(),r=16-(i-n);if(n=i,0<r){if(800<=++e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(oc),lc=function(t,e){return cc(rc(t,e,ec),t+"")},uc=function(t,e,n){if(!Kt(n))return!1;var i=typeof e;return!!("number"==i?dn(n)&&Ze(e,n.length):"string"==i&&e in n)&&xt(n[e],t)},hc=function(t){return lc((function(e,n){var i=-1,r=n.length,a=1<r?n[r-1]:void 0,o=2<r?n[2]:void 0;for(a=3<t.length&&"function"==typeof a?(r--,a):void 0,o&&uc(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,a)}return e}))}((function(t,e,n){tc(t,e,n)})),pc=(dc.parse=function(t){var e=(t=t.toLowerCase()).lastIndexOf("-");return-1!==e?{code:t,language:t.substring(0,e),region:t.substring(e+1)}:{code:t,language:t}},dc);function dc(){}var fc={localizationsPath:"locs/mapcontrol/2019-3-12",sensitiveUserRegions:["il","kr","pk","in","cn","ar","bh","eg","jo","sa","kw","om","qa","ma","ae"],locales:{defaultLanguage:{defaultRegion:{code:"NGT",strings:"en/resource.json"}},ar:{defaultRegion:{code:"ar",strings:"ar-sa/resource.json"}},bg:{defaultRegion:{code:"bg-BG",strings:"bg-bg/resource.json"}},cs:{defaultRegion:{code:"cs-CZ",strings:"cs-cz/resource.json"}},da:{defaultRegion:{code:"da-DK",strings:"da-dk/resource.json"}},de:{defaultRegion:{code:"de-DE",strings:"de-de/resource.json"}},el:{defaultRegion:{code:"el-GR",strings:"el-gr/resource.json"}},en:{defaultRegion:{code:"en",strings:"en/resource.json"},us:{code:"en-US",strings:"en/resource.json"}},es:{defaultRegion:{code:"es-ES",strings:"es-es/resource.json"},mx:{code:"es-MX",strings:"es-mx/resource.json"}},fi:{defaultRegion:{code:"fi-FI",strings:"fi-fi/resource.json"}},fr:{defaultRegion:{code:"fr-FR",strings:"fr-fr/resource.json"}},hu:{defaultRegion:{code:"hu-HU",strings:"hu-hu/resource.json"}},id:{defaultRegion:{code:"id-ID",strings:"id-id/resource.json"}},it:{defaultRegion:{code:"it-IT",strings:"it-it/resource.json"}},ko:{defaultRegion:{code:"ko-KR",strings:"ko-kr/resource.json"}},lt:{defaultRegion:{code:"lt-LT",strings:"lt-lt/resource.json"}},ms:{defaultRegion:{code:"ms-MY",strings:"ms-my/resource.json"}},nb:{defaultRegion:{code:"nb-NO",strings:"nb-no/resource.json"}},nl:{defaultRegion:{code:"nl-NL",strings:"nl-nl/resource.json"}},pl:{defaultRegion:{code:"pl-PL",strings:"pl-pl/resource.json"}},pt:{defaultRegion:{code:"pt-PT",strings:"pt-pt/resource.json"},br:{code:"pt-BR",strings:"pt-br/resource.json"}},ru:{defaultRegion:{code:"ru-RU",strings:"ru-ru/resource.json"}},sk:{defaultRegion:{code:"sk-SK",strings:"sk-sk/resource.json"}},sl:{defaultRegion:{code:"sl-SL",strings:"sl-sl/resource.json"}},sv:{defaultRegion:{code:"sv-SE",strings:"sv-se/resource.json"}},th:{defaultRegion:{code:"th-TH",strings:"th-th/resource.json"}},tr:{defaultRegion:{code:"tr-TR",strings:"tr-tr/resource.json"}},zh:{defaultRegion:{code:"zh-Hant",strings:"zh-tw/resource.json"}},"zh-hant":{defaultRegion:{code:"zh-Hant",strings:"zh-tw/resource.json"}}}},mc=function(){this.Unknown="Unknown",this.Accident="Accident",this.Fog="Fog",this.Danger="Danger",this.Rain="Rain",this.Ice="Ice",this.Jam="Jam",this.LaneClosed="Lane Closed",this.RoadClosed="Road Closed",this.RoadWorks="Road Works",this.Wind="Wind",this.Flood="Flood",this.Detour="Detour"},gc=(yc.getCode=function(t){var e=pc.parse(t);return-1===fc.sensitiveUserRegions.indexOf(e.region)?this.getLocaleData(e).code:t},yc.getStrings=function(t){var e=this.getLocaleData(t);return new C({domain:c,path:fc.localizationsPath+"/"+e.strings}).get().then((function(t){return t}),(function(){return new mc}))},yc.getLocaleData=function(t){if("string"==typeof t&&(t=pc.parse(t)),fc.locales[t.code])return fc.locales[t.code].defaultRegion;var e;if(fc.locales[t.language])e=fc.locales[t.language];else{if(-1!==t.language.indexOf("-"))return this.getLocaleData(t.language);e=fc.locales.defaultLanguage}return t.region&&e[t.region]?e[t.region]:e.defaultRegion},yc);function yc(){}var _c,vc=(Mc.getEdgeOrIEVersion=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return 0<i?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1},Mc.isEdgeOrIE=function(){return-1!==this.getEdgeOrIEVersion()},Mc.isIE=function(){var t=this.getEdgeOrIEVersion();return-1!==t&&t<=11},Mc);function Mc(){}(_c=e.AuthenticationType||(e.AuthenticationType={})).subscriptionKey="subscriptionKey",_c.aad="aad",_c.anonymous="anonymous";var bc,xc,wc=(x(Ac,bc=L),Ac.prototype.setSubscriptionKey=function(t){this.authType=e.AuthenticationType.subscriptionKey,this.subscriptionKey=t},Ac.prototype.setAadProperties=function(t,n,i,r,a){this.authType=e.AuthenticationType.aad,this.authContext=a||this.authContext,this.aadInstance=r||this.aadInstance,this.clientId=t,this.aadAppId=n,this.aadTenant=i},Ac.prototype.setTokenCallbackFunction=function(t){this.authType=e.AuthenticationType.anonymous,this.getToken=t},Ac.prototype.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=bc.prototype.merge.apply(this,t);return i.authType===e.AuthenticationType.subscriptionKey?i.authContext=i.aadAppId=i.getToken=void 0:i.authType===e.AuthenticationType.aad?i.subscriptionKey=i.getToken=void 0:i.authType===e.AuthenticationType.anonymous&&(i.subscriptionKey=i.authContext=i.aadAppId=void 0),i},Ac);function Ac(){var t=null!==bc&&bc.apply(this,arguments)||this;return t.authType=void 0,t.subscriptionKey=void 0,t.clientId=void 0,t.aadAppId=void 0,t.aadTenant=void 0,t.aadInstance=void 0,t.getToken=void 0,t.authContext=void 0,t}var Tc="NGT",Lc=pr(),Sc=s,kc=new wc,Oc=!1,zc=!1,Cc=!1,Ec=!1,Dc=!1;function Nc(){return Object.assign({},kc)}function Ic(){return Sc}function Pc(){return Tc}function Bc(){return Lc}function Rc(){return kc.authType===e.AuthenticationType.subscriptionKey?kc.subscriptionKey:void 0}function qc(){return xc}function Yc(t){return!vc.isIE()&&r.supported({failIfMajorPerformanceCaveat:t})}function Wc(t){kc=(new wc).merge(kc,t),Dc=!0}function jc(t){Sc=t,zc=!0}function Fc(t){Tc=gc.getCode(t),Cc=!0}function Hc(t){Lc=t,Ec=!0}function Uc(t){kc.setSubscriptionKey(t),Dc=!0}function Xc(t){xc=t,Oc=!0}function Vc(t,e){if(e=Math.abs(e||1),"string"==typeof t&&al[t.toLowerCase()]){for(var n=al[t.toLowerCase()],i=/calc\(([0-9.]+)[px]*\s*\*\s*\{scale\}\)/gi,r=n,a=i.exec(n);a;)r=r.replace(a[0],parseFloat(a[1])*e+""),a=i.exec(n);return r.replace("{scale}",e+"")}throw new Error("Invalid templateName.")}function Gc(){return Dc}function Kc(){return zc}function Zc(){return Cc}function Jc(){return Ec}function Qc(){return Oc}var $c,tl,el,nl,il,rl,al={marker:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 26 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:1"/><text x="12.5" y="17.5" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 27 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:2"/><text x="12.5" y="18.5" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-circle":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 27 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:1"/><circle cx="12.5" cy="12.5" r="9" fill="{secondaryColor}"/><text x="12" y="17.5" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',pin:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(24 * {scale})" height="calc(28 * {scale})" viewBox="0 0 24 28"><path d="m11.988 16.615a5.15 5.15 0 0 1-2.268-.525 4.909 4.909 0 0 1-2.805-4.442 5.019 5.019 0 0 1 5.072-4.936h.012a5.03 5.03 0 0 1 5.085 4.961 4.907 4.907 0 0 1-.549 2.224 5.114 5.114 0 0 1-4.548 2.718zm0-8.06a3.173 3.173 0 0 0-3.226 3.099 3.081 3.081 0 0 0 1.77 2.782 3.299 3.299 0 0 0 4.365-1.386 3.049 3.049 0 0 0 .342-1.381 3.184 3.184 0 0 0-3.239-3.114h-.012z" fill="{secondaryColor}"/><path d="m11.999.922a10.908 10.908 0 0 0-11.076 10.732 10.639 10.639 0 0 0 4.418 8.598l6.658 6.464 6.658-6.463a10.537 10.537 0 0 0 2.198-15.041 11.182 11.182 0 0 0-8.856-4.289zm1.873 14.341a4.221 4.221 0 0 1-5.589-1.789 3.945 3.945 0 0 1-.445-1.8 4.164 4.164 0 0 1 8.323-.037 4.028 4.028 0 0 1-2.289 3.626Z" fill="{color}"/><path d="m11.999 28-7.256-7.044a11.611 11.611 0 0 1-4.743-9.303 11.844 11.844 0 0 1 11.988-11.652.102 .102 0 0 1 .02 0 12.164 12.164 0 0 1 9.577 4.647 11.357 11.357 0 0 1 2.299 8.614 11.521 11.521 0 0 1-4.63 7.695zm-.01-26.157a9.997 9.997 0 0 0-10.143 9.812 9.769 9.769 0 0 0 4.04 7.853l.099.083 6.014 5.838 6.113-5.922a9.7 9.7 0 0 0 3.945-6.505 9.533 9.533 0 0 0-1.933-7.229 10.305 10.305 0 0 0-8.116-3.931h-.021zm.021 14.772a5.11 5.11 0 0 1-4.547-2.718 4.868 4.868 0 0 1 .932-5.743 5.118 5.118 0 0 1 3.58-1.46h.024a5.031 5.031 0 0 1 5.084 4.938 4.92 4.92 0 0 1-2.805 4.457h0a5.152 5.152 0 0 1-2.269.525zm-.011-8.079h-.015a3.277 3.277 0 0 0-2.295.933 3.029 3.029 0 0 0-.587 3.58 3.297 3.297 0 0 0 4.364 1.386h0a3.092 3.092 0 0 0 1.772-2.795 3.185 3.185 0 0 0-3.239-3.105z" fill="{secondaryColor}"/><text x="12" y="17" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',"pin-round":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(25 * {scale})" height="calc(25 * {scale})" viewBox="0 0 25 25"><g transform="translate(0 1)"><circle cx="12.25" cy="11.5833" r="11" fill="{color}"/><path d="m12.25 23.583a12 12 0 1 1 12-12 12 12 0 0 1-12 12zm0-22a10 10 0 1 0 10 10 10 10 0 0 0-10-10z" fill="{secondaryColor}"/><circle cx="12.25" cy="11.5833" r="4.2386" fill="{secondaryColor}"/></g><text x="12.5" y="17" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',"marker-flat":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(42.8 * {scale})"  viewBox="0 0 1600 2570"><g fill="{color}"><path d="M691 2419c-409-575-641-1086-683-1504-10-106-10-136 5-224 31-188 105-330 241-458 129-124 270-190 453-214 69-9 113-10 182-1 373 46 655 326 703 698 40 308-120 801-424 1309-134 224-348 535-369 535-4 0-53-63-108-141z"/></g><g fill="rgba(0,0,0,0.15)" style="transform:scale(-1,1);transform-origin:center"><path d="M691 2419c-407-571-639-1083-682-1498-14-139-3-249 37-371 69-208 254-402 459-481 68-27 217-59 271-59h24v160 180 940 635c0 349-2 635-5 635-2 0-49-63-104-141z"/></g><circle cx="800" cy="800" r="600" fill="{secondaryColor}"/><text x="800" y="1100" style="font-size:800px;fill:#000;text-anchor:middle">{text}</text></svg>',"marker-arrow":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(25.47 * {scale})" height="calc(35.18 * {scale})" viewBox="0 0 4330 5980"><g fill="{color}"><path d="m2080 5969c-49-20-93-63-115-113-25-55-1928-5486-1953-5573-40-138 67-282 210-283 36 0 246 73 987 345 518 190 947 345 955 345 8 0 438-155 955-345 615-226 954-345 979-345 87 0 165 47 204 123 46 91 107-95-957 2942-537 1535-986 2805-997 2823-11 18-43 46-72 62-41 24-62 30-111 29-33 0-71-5-85-10z"/></g><g fill="{secondaryColor}"><path d="m2200 1600c-36 10-83 2-484-84-243-53-451-94-461-91-11 4-22 18-25 31-5 19 114 371 436 1292 244 697 448 1273 454 1281 19 24 50 30 71 12z"/><path d="m2200 1600c-36 10-83 2-484-84-243-53-451-94-461-91-11 4-22 18-25 31-5 19 114 371 436 1292 244 697 448 1273 454 1281 19 24 50 30 71 12z" style="transform:scale(-1,1);transform-origin:center"/></g><g fill="rgba(0,0,0,0.2)" ><path d="m2165 685c8 0 438-155 955-345 615-226 954-345 979-345 87 0 165 47 204 123 46 91 107-95-957 2942-537 1535-986 2805-997 2823-11 18-43 46-72 62-41 24-62 30-111 29z"/></g><text x="2165" y="3300" style="font-size:2500px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-ball-pin":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15.67 * {scale})" height="calc(33.33 * {scale})" viewBox="0 0 235 452"><g transform="translate(-135 10)"><path fill="{secondaryColor}" d="m256 442 0 0c-13 0-18-11-18-24l-6-323c0-13 11-24 24-24h0c13 0 24 11 24 24l-6 323c0 13-5 24-18 24z"/><circle style="fill:{color};stroke-width:10;stroke:{secondaryColor}" cx="256" cy="112" r="111"/><ellipse transform="matrix(0.834 0.5518 -0.5518 0.834 65.7916 -97.18)" fill="rgba(255,255,255,0.3)" cx="194.399" cy="60.749" rx="19.076" ry="32.428"/></g><text x="117.5" y="160" style="font-size:160px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(26.67 * {scale})" height="calc(32.27 * {scale})" viewBox="0 0 2000 2420"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="M845 2152c-22-37-58-95-80-129-22-35-62-99-90-143l-50-80-312 0-313 0 0-900 0-900 900 0 900 0 0 900 0 900-313 0-313 0-34 58c-19 31-38 59-42 60-5 2-8 8-8 12 0 9-69 123-88 145-5 6-11 15-13 21-16 39-77 123-89 124-8 0-33-31-55-68z"/></g><text x="1000" y="1300" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-cluster":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(33.33 * {scale})" height="calc(38.8 * {scale})" viewBox="0 0 2500 2910"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="m866 2652c-17-31-37-68-46-82-9-14-32-54-51-90-19-36-50-92-70-125l-36-60-332-3-331-2 0-905 0-905 660 0 660 0 0-38c0-71 50-196 102-258 71-85 189-164 244-164 12 0 26-4 29-10 8-13 222-13 230 0 3 6 17 10 30 10 25 0 117 45 154 76 130 107 191 232 191 392 0 155-63 284-190 386-36 29-129 76-150 76-11 0-22 5-25 10-3 6-31 10-61 10l-54 0 0 660 0 660-332 2-332 3-29 50c-17 28-48 84-70 125-22 41-47 86-56 100-9 14-30 51-46 83-17 32-36 57-45 57-8 0-28-25-44-58z"/></g><text x="1650" y="900" style="font-size:1000px;fill:#fff">+</text><text x="1000" y="1800" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-rounded":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(26.8 * {scale})" height="calc(32.27 * {scale})" viewBox="0 0 2010 2410"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="M856 2155c-20-30-36-59-36-65 0-5-4-10-10-10-5 0-10-5-10-11 0-5-18-37-40-69-22-32-40-64-40-69 0-6-4-11-10-11-5 0-10-5-10-10 0-6-15-33-32-60l-33-50-127 0c-74 0-129-4-133-10-3-5-17-10-30-10-25 0-116-45-155-76-87-69-142-151-178-265-15-46-17-1075-2-1084 5-3 10-17 10-30 0-13 5-27 10-30 6-3 10-13 10-22 0-22 83-135 122-168 57-46 62-50 112-75l50-25 585 0 586 0 63 34c84 46 169 133 212 218l35 68 0 565 0 565-28 59c-32 69-100 157-139 180-15 9-33 22-40 29-23 22-99 57-123 57-13 0-27 5-30 10-4 6-60 10-135 10l-128 0-128 205c-84 136-133 205-144 205-10 0-33-24-54-55z"/></g><text x="1000" y="1300" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-rounded-cluster":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(33.33 * {scale})" height="calc(32.13 * {scale})" viewBox="0 0 2500 2900"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="m874 2669c-9-18-26-49-37-68-11-20-30-55-43-78-13-24-36-64-51-90-14-27-38-69-52-95l-26-48-142 0c-84 0-144-4-148-10-3-5-17-10-30-10-25 0-118-46-154-76-91-76-136-142-175-254-13-38-16-119-16-554 0-358 3-520 12-545 40-125 106-219 195-278 127-84 116-83 646-83l467 0 0-42c0-46 11-87 45-163 54-121 169-220 306-264 46-14 232-14 278 0 165 53 284 175 340 350 19 61 14 204-10 273-32 91-94 178-169 240-38 31-130 76-155 76-13 0-27 5-30 10-3 6-28 10-56 10l-49 0 0 462c0 446-1 464-21 522-32 91-94 178-169 240-38 31-130 76-155 76-13 0-27 5-30 10-4 6-65 10-149 10-138 0-143 1-154 23-12 23-62 114-112 202-16 28-44 79-63 115-42 77-67 88-93 39z"/></g><text x="1650" y="900" style="font-size:1000px;fill:#fff">+</text><text x="1000" y="1800" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',flag:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(23.5 * {scale})" height="calc(40 * {scale})" viewBox="34 28 198 308"><path style="stroke:{secondaryColor};stroke-width:15;stroke-linecap:round;" d="M42 327l0 -291"/><path style="fill:{color};stroke:{secondaryColor};stroke-width:10;stroke-linejoin:round;" d="M49 50c70 30 104 28 178 2-21 42-21 74 0 116-72 25-101 25-178 0l0-118z"/><text x="130" y="165" style="font-size:100px;fill:#fff;text-anchor:middle">{text}</text></svg>',"flag-triangle":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(35.33 * {scale})" viewBox="0 0 40.5 53"><g transform="translate(-31 -20)"><path fill="{secondaryColor}" d="M34.7,73.3V48.4l34.6-10.1c0.7-0.2,1.2-0.8,1.2-1.5s-0.4-1.4-1-1.7L33.7,20.5c-0.5-0.2-1.1-0.2-1.6,0.2 c-0.5,0.3-0.7,0.8-0.7,1.4v51.2H34.7z"/><polygon points="34.7,24.5 66,36.5 34.7,45 34.7,10" fill="{color}"/></g><text x="11" y="21" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"rounded-square":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(34 * {scale})" height="calc(34 * {scale})" viewBox="0 0 34 34"><g transform="translate(2 2)"><rect x="0" y="0" rx="8" ry="8" width="30" height="30" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17" y="22" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"rounded-square-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(38 * {scale})" height="calc(38 * {scale})" viewBox="0 0 38 38"><g transform="translate(4 4)"><rect x="0" y="0" rx="8" ry="8" width="30" height="30" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19" y="24" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',triangle:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(36 * {scale})" height="calc(36 * {scale})" viewBox="0 0 36 36"><g transform="translate(2 2)"><polygon points="16,0 32,32 0,32 16,0" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17.5" y="30" style="font-size:12px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 40 40"><g transform="translate(4 4)"><polygon points="16,0 32,32 0,32 16,0" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19.5" y="32" style="font-size:12px;fill:#fff;text-anchor:middle">{text}</text></svg>',hexagon:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(35 * {scale})" height="calc(40 * {scale})" viewBox="0 0 35 40"><g transform="translate(2 2)"><path d="M31 9 15.5 0 0 9 0 27 15.5 36 31 27 31 9Z" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17.5" y="25" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(39 * {scale})" height="calc(44 * {scale})" viewBox="0 0 39 44"><g transform="translate(4 4)"><path d="M31 9 15.5 0 0 9 0 27 15.5 36 31 27 31 9Z" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19.5" y="27" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-rounded":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 1100 1100"><g transform="translate(50 50)"><path style="stroke:{secondaryColor};stroke-width:50;fill:{color}" d="M881 210 561 25c-33-19-88-19-121 0L119 210c-33 19-61 67-61 105v370c0 39 27 86 61 105l321 185c33 19 88 19 122 0l321-185c33-19 61-67 61-105V315C942 276 915 229 881 210z"/></g><text x="550" y="700" style="font-size:400px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-rounded-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 1200 1200"><g transform="translate(100 100)"><path style="stroke:{secondaryColor};stroke-width:100;fill:{color}" d="M881 210 561 25c-33-19-88-19-121 0L119 210c-33 19-61 67-61 105v370c0 39 27 86 61 105l321 185c33 19 88 19 122 0l321-185c33-19 61-67 61-105V315C942 276 915 229 881 210z"/></g><text x="600" y="750" style="font-size:400px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(28 * {scale})" viewBox="0 0 28 28"><g transform="translate(2 2)"><polygon points="12,0 0,24 12,17 24,24" stroke-width="2" stroke="{secondaryColor}" fill="{color}"/></g><text x="14" y="17" style="font-size:8px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-arrow-left":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(28 * {scale})" viewBox="0 0 28 28"><g transform="translate(2 2)"><polygon points="24,12 0,0 7,12 0,24" stroke-width="2" stroke="{secondaryColor}" fill="{color}"/></g><text x="14" y="16.5" style="font-size:8px;fill:#fff;text-anchor:middle">{text}</text></svg>',"arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(12.16 * {scale})" height="calc(30.1 * {scale})" viewBox="0 0 902 364"><g fill="{color}" transform="matrix(0,2.4,-2.4,0,897,-930)"><polygon points="902,222 233,222 233,364 0,182 233,0 233,141 902,141 902,222"/></g><text x="450" y="700" style="font-size:900px;fill:#000;text-anchor:middle">{text}</text></svg>',"arrow-up-thin":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(33.33 * {scale})" viewBox="0 0 12 25"><g transform="translate(-136.91823 -751.91998)"><path fill="{color}" d="m148.271 760.71c-1.641-.547-3.186-1.47-4.633-2.769l0 18.07-1.675 0 0-18.07c-1.447 1.299-2.986 2.222-4.616 2.769l0-1.231c2.325-1.596 4.006-3.812 5.043-6.65l.838 0c1.037 2.838 2.718 5.055 5.043 6.65l0 1.231z"/></g><text x="6" y="20" style="font-size:10px;fill:#000;text-anchor:middle">{text}</text></svg>',car:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(21.93 * {scale})" height="calc(40.9 * {scale})" viewBox="0 0 6580 12270"><g transform="translate(0 12270) rotate(-90)"><path fill="{secondaryColor}" d="M7045 6566c-42-13-105-44-105-51 0-2 23-105 50-228 28-123 50-230 50-236 0-8-241-11-907-11-855 0-1145 6-1513 30-85 6-189 13-230 15-41 3-133 10-205 15-286 21-430 32-705 50-953 63-1459 18-2335-205-304-77-746-209-799-238-131-72-221-408-285-1062-34-345-42-532-48-1130-16-1557 108-2532 336-2649 32-17 469-149 676-205 409-110 819-191 1205-238 116-14 224-18 540-18 395 1 494 5 1140 50 1124 79 1224 82 2496 78l641-3-53-237c-29-131-52-238-51-239 1-1 31-14 66-29 56-23 76-26 142-23 67 3 83 7 120 33 23 17 50 41 61 55 10 14 51 117 91 230l73 205 674 3 675 2 90-39c98-43 198-72 315-93 122-21 829-18 990 5 321 45 626 143 849 270 293 168 516 378 704 662 266 402 416 893 467 1527 15 174 8 882-9 998-6 41-18 127-27 190-69 502-253 969-523 1325-79 105-262 284-381 374-189 142-355 229-574 300-336 110-526 139-952 148-457 9-685-23-887-124l-47-24-678-6-678-6-64 179c-79 224-92 253-121 284-67 70-177 97-274 66zm-2752-5073c-23-2-64-2-90 0-26 2-7 3 42 3 50 0 71-1 48-3zm395 0c-21-2-55-2-75 0-21 2-4 4 37 4 41 0 58-2 38-4z"/><path fill="{color}" d="M7043 6498c-13-6-23-19-23-28 0-9 23-117 50-240 28-123 50-230 50-237 0-22-2126-13-2465 10-132 10-400 28-595 42-661 47-824 55-1160 62-435 7-656-8-1040-73-415-70-865-183-1447-365-168-53-272-556-325-1569-16-319-16-1311 0-1630 45-872 129-1366 257-1518 22-26 51-39 172-77 557-177 1122-310 1563-369 271-36 351-40 690-40 361 1 463 6 1165 54 1122 78 1288 83 2337 79 460-2 840-7 843-11 4-4-17-117-47-252l-55-245 39-16c76-30 180-8 224 47 10 13 54 124 98 246l79 222 709 0 709 0 47-24c74-37 219-83 322-101 122-22 606-32 802-16 374 29 658 102 933 238 124 62 271 155 361 230l61 51 6 100c19 278 103 497 247 643 88 89 173 136 278 152l70 11 41 131c116 369 159 673 168 1170 10 584-38 984-167 1397l-40 126-70 12c-193 33-348 175-441 405-56 139-89 302-89 445 0 43-3 47-58 91-290 235-644 384-1068 450-191 29-796 39-974 16-135-18-263-54-368-102l-75-35-701 0-701 0-79 223c-82 232-102 267-163 293-38 16-138 17-170 2zm-2023-820c332-15 1155-12 1835 6 308 8 563 12 566 8 4-4 10-21 13-38 7-30 6-31-92-77-518-244-1197-396-2112-474-295-25-1282-25-1579 0-231 20-473 46-479 51-6 7 49 110 93 171 160 226 416 335 855 365 142 10 539 5 900-12zm3304-263c525-111 899-887 934-1935 19-557-37-1023-172-1435-186-563-521-900-896-899-81 0-158 14-525 92-426 91-431 92-540 146-195 96-287 207-306 368-12 104-11 2985 1 3078 22 170 135 291 365 389 49 21 191 55 480 115 226 47 419 87 430 89 45 10 164 6 229-8zm-5570-485c112-43 197-156 216-291 12-83 13-2623 1-2706-23-158-125-273-270-304-44-9-100-1-542 75-272 47-514 91-539 98-266 68-487 424-594 958-56 280-70 548-40 800 56 484 207 878 414 1081 115 114 122 116 702 218 277 49 524 90 550 90 26 1 72-8 102-19zm2111-3440c1023-44 1884-213 2462-486l113-53-7-33c-3-18-8-35-10-37-2-3-236 1-521 7-993 24-1271 26-1708 11-541-18-1128-18-1249-1-377 56-588 181-734 437-32 55-41 79-32 84 12 8 246 32 491 51 356 28 815 36 1195 20z"/></g><text x="3250" y="8250" style="font-size:3000px;fill:#fff;text-anchor:middle">{text}</text></svg>',checker:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(16 * {scale})" viewBox="0 0 16 16"><pattern id="p" x="0" y="0" width="16" height="16" patternUnits="userSpaceOnUse"><rect fill="{color}" x="0" width="8" height="8" y="0"/><rect fill="{color}" x="8" width="8" height="8" y="8"/></pattern><rect x="0" y="0" width="16" height="16" fill="{secondaryColor}"/><rect x="0" y="0" width="16" height="16" fill="url(#p)"/></svg>',"checker-rotated":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(16 * {scale})" viewBox="0 0 60 60"><rect width="60" height="60" fill="{secondaryColor}"/><rect width="42.42" height="42.42" transform="translate(30 0) rotate(45)" fill="{color}"/></svg>',"zig-zag":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15 * {scale})" height="calc(15 * {scale})" viewBox="0 0 120 120"><rect x="0" y="0" width="120" height="120" fill="{secondaryColor}"/><polygon fill="{color}" points="120 120 60 120 90 90 120 60 120 0 120 0 60 60 0 0 0 60 30 90 60 120 120 120"/></svg>',"zig-zag-vertical":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15 * {scale})" height="calc(15 * {scale})" viewBox="0 0 120 120"><rect x="0" y="0" width="120" height="120" fill="{secondaryColor}"/><polygon fill="{color}" points="120 0 120 60 90 30 60 0 0 0 0 0 60 60 0 120 60 120 90 90 120 60 120 0"/></svg>',"circles-spaced":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 20 20"><defs><pattern id="p" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="2" stroke="none" fill="{color}"/></pattern></defs><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><rect x="0" y="0" width="100" height="100" fill="url(#p)"/></svg>',circles:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(7 * {scale})" height="calc(7 * {scale})" viewBox="0 0 20 20"><defs><pattern id="p" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="6" stroke="none" fill="{color}"/></pattern></defs><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><rect x="0" y="0" width="100" height="100" fill="url(#p)"/></svg>',"diagonal-lines-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"diagonal-lines-down":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(90 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"diagonal-stripes-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"diagonal-stripes-down":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g transform="rotate(90 20 20)" fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"grid-lines":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(14 * {scale})" height="calc(14 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(45 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g><g fill="{color}" transform="rotate(-45 3 3)"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"rotated-grid-lines":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(90 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g><g fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"rotated-grid-stripes":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g transform="rotate(90 20 20)" fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g><g fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"x-fill":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="45.3" height="45.3" fill="{secondaryColor}"/><g fill="{color}"><path d="M0 38.59l2.83-2.83 1.41 1.41L1.41 40H0v-1.41zM0 1.4l2.83 2.83 1.41-1.41L1.41 0H0v1.41zM38.59 40l-2.83-2.83 1.41-1.41L40 38.59V40h-1.41zM40 1.41l-2.83 2.83-1.41-1.41L38.59 0H40v1.41zM20 18.6l2.83-2.83 1.41 1.41L21.41 20l2.83 2.83-1.41 1.41L20 21.41l-2.83 2.83-1.41-1.41L18.59 20l-2.83-2.83 1.41-1.41L20 18.59z"/></g></svg>',dots:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(13 * {scale})" height="calc(13 * {scale})" viewBox="0 0 20 20"><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><g fill="{color}"><circle cx="3" cy="3" r="3"/><circle cx="13" cy="13" r="3"/></g></svg>'},ol=(sl.getHighContrastMode=function(){return matchMedia("(-ms-high-contrast: white-on-black)").matches?"dark":matchMedia("(-ms-high-contrast: black-on-white)").matches?"light":matchMedia("(-ms-high-contrast: active)").matches?"dark":matchMedia("(inverted-colors: inverted)").matches?"invert":null},sl);function sl(){}(tl=$c=$c||{})[tl.LocalStorage=0]="LocalStorage",tl[tl.SessionStorage=1]="SessionStorage",(nl=el=el||{})[nl.Default=0]="Default",nl[nl.Required=1]="Required",nl[nl.Array=2]="Array",nl[nl.Hidden=4]="Hidden",(rl=il=il||{})[rl.AI=0]="AI",rl[rl.AI_AND_W3C=1]="AI_AND_W3C",rl[rl.W3C=2]="W3C";var cl=2,ll=(ul.isNullOrUndefined=function(t){return null==t},ul.disableCookies=function(){ul._canUseCookies=!1},ul.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(dl,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},ul);function ul(){}var hl,pl,dl=/[xy]/g,fl=(ml.prototype.addNotificationListener=function(t){this.listeners.push(t)},ml.prototype.removeNotificationListener=function(t){for(var e=this.listeners.indexOf(t);-1<e;)this.listeners.splice(e,1),e=this.listeners.indexOf(t)},ml.prototype.eventsSent=function(t){for(var e=this,n=function(n){i.listeners[n].eventsSent&&setTimeout((function(){return e.listeners[n].eventsSent(t)}),0)},i=this,r=0;r<this.listeners.length;++r)n(r)},ml.prototype.eventsDiscarded=function(t,e){for(var n=this,i=function(i){r.listeners[i].eventsDiscarded&&setTimeout((function(){return n.listeners[i].eventsDiscarded(t,e)}),0)},r=this,a=0;a<this.listeners.length;++a)i(a)},ml);function ml(){this.listeners=[]}(pl=hl=hl||{})[pl.CRITICAL=1]="CRITICAL",pl[pl.WARNING=2]="WARNING";var gl=0,yl=1,_l=2,vl=3,Ml=4,bl=5,xl=6,wl=7,Al=8,Tl=9,Ll=10,Sl=11,kl=12,Ol=13,zl=14,Cl=15,El=16,Dl=17,Nl=18,Il=19,Pl=20,Bl=22,Rl=23,ql=24,Yl=25,Wl=26,jl=27,Fl=28,Hl=29,Ul=30,Xl=31,Vl=32,Gl=33,Kl=35,Zl=36,Jl=37,Ql=38,$l=39,tu=40,eu=41,nu=42,iu=43,ru=45,au=46,ou=47,su=48,cu=49,lu=50,uu=52,hu=54,pu=55,du=56,fu=57,mu=58,gu=60,yu=61,_u=62,vu=63,Mu=64,bu=66,xu=67,wu=68,Au=69,Tu=70,Lu=71,Su=(ku.sanitizeDiagnosticText=function(t){return'"'+t.replace(/\"/g,"")+'"'},ku.dataType="MessageData",ku.AiNonUserActionablePrefix="AI (Internal): ",ku.AiUserActionablePrefix="AI: ",ku);function ku(t,e,n,i){void 0===n&&(n=!1),this.messageId=t,this.message=(n?ku.AiUserActionablePrefix:ku.AiNonUserActionablePrefix)+t;var r=(e?" message:"+ku.sanitizeDiagnosticText(e):"")+(i?" props:"+ku.sanitizeDiagnosticText(JSON.stringify(i)):"");this.message+=r}var Ou=(zu.prototype.throwInternal=function(t,e,n,i,r){void 0===r&&(r=!1);var a=new Su(e,n,r,i);if(this.enableDebugExceptions())throw a;if(void 0!==a&&a&&void 0!==a.message){if(r){var o=+a.messageId;(!this._messageLogged[o]||this.consoleLoggingLevel()>=hl.WARNING)&&(this.warnToConsole(a.message),this._messageLogged[o]=!0)}else this.consoleLoggingLevel()>=hl.WARNING&&this.warnToConsole(a.message);this.logInternalMessage(t,a)}},zu.prototype.warnToConsole=function(t){"undefined"!=typeof console&&console&&("function"==typeof console.warn?console.warn(t):"function"==typeof console.log&&console.log(t))},zu.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},zu.prototype.logInternalMessage=function(t,e){if(!this._areInternalMessagesThrottled()){var n=!0,i=this.AIInternalMessagePrefix+e.messageId;if(this._messageLogged[i]?n=!1:this._messageLogged[i]=!0,n&&(t<=this.telemetryLoggingLevel()&&(this.queue.push(e),this._messageCount++),this._messageCount==this.maxInternalMessageLimit())){var r="Internal events throttle limit per PageView reached for this app.",a=new Su(Rl,r,!1);this.queue.push(a),this.warnToConsole(r)}}},zu.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},zu);function zu(t){this.AIInternalMessagePrefix="AITR_",this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},this.queue=[],this._messageCount=0,this._messageLogged={},ll.isNullOrUndefined(t)||(ll.isNullOrUndefined(t.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return t.loggingLevelConsole}),ll.isNullOrUndefined(t.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return t.loggingLevelTelemetry}),ll.isNullOrUndefined(t.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return t.maxMessageLimit}),ll.isNullOrUndefined(t.enableDebugExceptions)||(this.enableDebugExceptions=function(){return t.enableDebugExceptions}))}var Cu=(Eu.prototype.processTelemetry=function(t){this.channelQueue.forEach((function(e){0<e.length&&e[0].processTelemetry(t)}))},Object.defineProperty(Eu.prototype,"ChannelControls",{get:function(){return this.channelQueue},enumerable:!0,configurable:!0}),Eu.prototype.initialize=function(t,e,n){var i=this;if(t.isCookieUseDisabled&&ll.disableCookies(),this.channelQueue=new Array,t.channels){var r=void 0;t.channels.forEach((function(a){if(a&&0<a.length){a=a.sort((function(t,e){return t.priority-e.priority}));for(var o=1;o<a.length;o++)a[o-1].setNextPlugin(a[o]);if(a.forEach((function(i){i.priority<500&&(r=i.identifier),i.initialize(t,e,n)})),r)throw Error("Channel has invalid priority"+r);i.channelQueue.push(a)}}))}for(var a=new Array,o=0;o<n.length;o++){var s=n[o];500<s.priority&&a.push(s)}if(0<a.length){for(a=a.sort((function(t,e){return t.priority-e.priority})),o=1;o<a.length;o++)a[o-1].setNextPlugin(a[o]);a.forEach((function(i){return i.initialize(t,e,n)})),this.channelQueue.push(a)}},Eu);function Eu(){this.identifier="ChannelControllerPlugin",this.priority=500}var Du=(Nu.prototype.initialize=function(t,e){var n=this;if(this._isInitialized)throw Error("Core should not be initialized more than once");if(!t||ll.isNullOrUndefined(t.instrumentationKey))throw Error("Please provide instrumentation key");this.config=t,this._notificationManager=new fl,this.config.extensions=ll.isNullOrUndefined(this.config.extensions)?[]:this.config.extensions,this.config.extensionConfig=ll.isNullOrUndefined(this.config.extensionConfig)?{}:this.config.extensionConfig,this.config.extensionConfig.NotificationManager=this._notificationManager,this.logger=new Ou(t),(r=this._extensions).push.apply(r,e.concat(this.config.extensions)),this._extensions.forEach((function(t){var e=!0;if((ll.isNullOrUndefined(t)||ll.isNullOrUndefined(t.initialize))&&(e=!1),!e)throw Error("Extensions must provide callback to initialize")})),this._extensions.push(this._channelController),this._extensions=this._extensions.sort((function(t,e){var n=typeof t.processTelemetry,i=typeof e.processTelemetry;return"function"==n&&"function"==i?t.priority-e.priority:"function"==n&&"function"!=i?1:"function"!=n&&"function"==i?-1:void 0}));var i={};this._extensions.forEach((function(t){var e=t;e&&e.priority&&(ll.isNullOrUndefined(i[e.priority])?i[e.priority]=e.identifier:n.logger.warnToConsole("Two extensions have same priority"+i[e.priority]+", "+e.identifier))}));for(var r,a=-1,o=0;o<this._extensions.length-1;o++){var s=this._extensions[o];if(!s||"function"==typeof s.processTelemetry){if(s.priority===this._channelController.priority){a=o+1;break}this._extensions[o].setNextPlugin(this._extensions[o+1])}}if(this._channelController.initialize(this.config,this,this._extensions),this._extensions.forEach((function(t){t&&t.priority<n._channelController.priority&&t.initialize(n.config,n,n._extensions)})),a<this._extensions.length&&this._extensions.splice(a),0===this.getTransmissionControls().length)throw new Error("No channels available");this._isInitialized=!0},Nu.prototype.getTransmissionControls=function(){return this._channelController.ChannelControls},Nu.prototype.track=function(t){if(null===t)throw this._notifyInvalidEvent(t),Error("Invalid telemetry item");t.iKey||(t.iKey=this.config.instrumentationKey),t.time||(t.time=(new Date).toISOString()),ll.isNullOrUndefined(t.ver)&&(t.ver="4.0"),this._validateTelmetryItem(t),0==this._extensions.length&&this._channelController.processTelemetry(t);for(var e=0;e<this._extensions.length;){if(this._extensions[e].processTelemetry){this._extensions[e].processTelemetry(t);break}e++}},Nu.prototype.addNotificationListener=function(t){this._notificationManager.addNotificationListener(t)},Nu.prototype.removeNotificationListener=function(t){this._notificationManager.removeNotificationListener(t)},Nu.prototype.pollInternalLogs=function(t){var e=this,n=this.config.diagnosticLogInterval;return 0<n||(n=1e4),setInterval((function(){var n=e.logger.queue;n.forEach((function(n){var i={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:(new Date).toISOString(),baseType:Su.dataType,baseData:{message:n.message}};e.track(i)})),n.length=0}),n)},Nu.prototype._validateTelmetryItem=function(t){if(ll.isNullOrUndefined(t.name))throw this._notifyInvalidEvent(t),Error("telemetry name required");if(ll.isNullOrUndefined(t.time))throw this._notifyInvalidEvent(t),Error("telemetry timestamp required");if(ll.isNullOrUndefined(t.iKey))throw this._notifyInvalidEvent(t),Error("telemetry instrumentationKey required")},Nu.prototype._notifyInvalidEvent=function(t){this._notificationManager.eventsDiscarded([t],cl)},Nu);function Nu(){this._isInitialized=!1,this._extensions=new Array,this._channelController=new Cu}var Iu=(Pu.requestContextHeader="Request-Context",Pu.requestContextTargetKey="appId",Pu.requestContextAppIdFormat="appId=cid-v1:",Pu.requestIdHeader="Request-Id",Pu.traceParentHeader="traceparent",Pu.sdkContextHeader="Sdk-Context",Pu.sdkContextHeaderAppIdRequest="appId",Pu.requestContextHeaderLowerCase="request-context",Pu);function Pu(){}var Bu=(Ru.sanitizeKeyAndAddUniqueness=function(t,e,n){var i=e.length,r=Ru.sanitizeKey(t,e);if(r.length!==i){for(var a=0,o=r;void 0!==n[o];)a++,o=r.substring(0,Ru.MAX_NAME_LENGTH-3)+Ru.padNumber(a);r=o}return r},Ru.sanitizeKey=function(t,e){var n;return e&&(e=Ru.trim(e.toString())).length>Ru.MAX_NAME_LENGTH&&(n=e.substring(0,Ru.MAX_NAME_LENGTH),t.throwInternal(hl.WARNING,fu,"name is too long.  It has been truncated to "+Ru.MAX_NAME_LENGTH+" characters.",{name:e},!0)),n||e},Ru.sanitizeString=function(t,e,n){var i;return void 0===n&&(n=Ru.MAX_STRING_LENGTH),e&&(n=n||Ru.MAX_STRING_LENGTH,(e=Ru.trim(e)).toString().length>n&&(i=e.toString().substring(0,n),t.throwInternal(hl.WARNING,yu,"string value is too long. It has been truncated to "+n+" characters.",{value:e},!0))),i||e},Ru.sanitizeUrl=function(t,e){return Ru.sanitizeInput(t,e,Ru.MAX_URL_LENGTH,bu)},Ru.sanitizeMessage=function(t,e){var n;return e&&e.length>Ru.MAX_MESSAGE_LENGTH&&(n=e.substring(0,Ru.MAX_MESSAGE_LENGTH),t.throwInternal(hl.WARNING,du,"message is too long, it has been truncated to "+Ru.MAX_MESSAGE_LENGTH+" characters.",{message:e},!0)),n||e},Ru.sanitizeException=function(t,e){var n;return e&&e.length>Ru.MAX_EXCEPTION_LENGTH&&(n=e.substring(0,Ru.MAX_EXCEPTION_LENGTH),t.throwInternal(hl.WARNING,uu,"exception is too long, it has been truncated to "+Ru.MAX_EXCEPTION_LENGTH+" characters.",{exception:e},!0)),n||e},Ru.sanitizeProperties=function(t,e){if(e){var n={};for(var i in e){var r=e[i];if("object"==typeof r&&"undefined"!=typeof JSON)try{r=JSON.stringify(r)}catch(e){t.throwInternal(hl.WARNING,cu,"custom property is not valid",{exception:e},!0)}r=Ru.sanitizeString(t,r,Ru.MAX_PROPERTY_LENGTH),n[i=Ru.sanitizeKeyAndAddUniqueness(t,i,n)]=r}e=n}return e},Ru.sanitizeMeasurements=function(t,e){if(e){var n={};for(var i in e){var r=e[i];n[i=Ru.sanitizeKeyAndAddUniqueness(t,i,n)]=r}e=n}return e},Ru.sanitizeId=function(t,e){return e?Ru.sanitizeInput(t,e,Ru.MAX_ID_LENGTH,Au).toString():e},Ru.sanitizeInput=function(t,e,n,i){var r;return e&&(e=Ru.trim(e)).length>n&&(r=e.substring(0,n),t.throwInternal(hl.WARNING,i,"input is too long, it has been truncated to "+n+" characters.",{data:e},!0)),r||e},Ru.padNumber=function(t){var e="00"+t;return e.substr(e.length-3)},Ru.trim=function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,"")},Ru.MAX_NAME_LENGTH=150,Ru.MAX_ID_LENGTH=128,Ru.MAX_PROPERTY_LENGTH=8192,Ru.MAX_STRING_LENGTH=1024,Ru.MAX_URL_LENGTH=2048,Ru.MAX_MESSAGE_LENGTH=32768,Ru.MAX_EXCEPTION_LENGTH=32768,Ru);function Ru(){}var qu=(Yu.createDomEvent=function(t){var e=null;return"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),e},Yu.disableStorage=function(){Yu._canUseLocalStorage=!1,Yu._canUseSessionStorage=!1},Yu._getLocalStorageObject=function(){return Yu.canUseLocalStorage()?Yu._getVerifiedStorageObject($c.LocalStorage):null},Yu._getVerifiedStorageObject=function(t){var e,n,i=null;try{if("undefined"==typeof window)return null;n=new Date,(i=t===$c.LocalStorage?window.localStorage:window.sessionStorage).setItem(n,n),e=i.getItem(n)!=n,i.removeItem(n),e&&(i=null)}catch(t){i=null}return i},Yu.isInternalApplicationInsightsEndpoint=function(t){return-1!==Yu._internalEndpoints.indexOf(t.toLowerCase())},Yu.canUseLocalStorage=function(){return void 0===Yu._canUseLocalStorage&&(Yu._canUseLocalStorage=!!Yu._getVerifiedStorageObject($c.LocalStorage)),Yu._canUseLocalStorage},Yu.getStorage=function(t,e){var n=Yu._getLocalStorageObject();if(null!==n)try{return n.getItem(e)}catch(e){Yu._canUseLocalStorage=!1,t.throwInternal(hl.WARNING,yl,"Browser failed read of local storage. "+Yu.getExceptionName(e),{exception:Yu.dump(e)})}return null},Yu.setStorage=function(t,e,n){var i=Yu._getLocalStorageObject();if(null!==i)try{return i.setItem(e,n),!0}catch(e){Yu._canUseLocalStorage=!1,t.throwInternal(hl.WARNING,vl,"Browser failed write to local storage. "+Yu.getExceptionName(e),{exception:Yu.dump(e)})}return!1},Yu.removeStorage=function(t,e){var n=Yu._getLocalStorageObject();if(null!==n)try{return n.removeItem(e),!0}catch(e){Yu._canUseLocalStorage=!1,t.throwInternal(hl.WARNING,bl,"Browser failed removal of local storage item. "+Yu.getExceptionName(e),{exception:Yu.dump(e)})}return!1},Yu._getSessionStorageObject=function(){return Yu.canUseSessionStorage()?Yu._getVerifiedStorageObject($c.SessionStorage):null},Yu.canUseSessionStorage=function(){return void 0===Yu._canUseSessionStorage&&(Yu._canUseSessionStorage=!!Yu._getVerifiedStorageObject($c.SessionStorage)),Yu._canUseSessionStorage},Yu.getSessionStorageKeys=function(){var t=[];if(Yu.canUseSessionStorage())for(var e in window.sessionStorage)t.push(e);return t},Yu.getSessionStorage=function(t,e){var n=Yu._getSessionStorageObject();if(null!==n)try{return n.getItem(e)}catch(e){Yu._canUseSessionStorage=!1,t.throwInternal(hl.WARNING,_l,"Browser failed read of session storage. "+Yu.getExceptionName(e),{exception:Yu.dump(e)})}return null},Yu.setSessionStorage=function(t,e,n){var i=Yu._getSessionStorageObject();if(null!==i)try{return i.setItem(e,n),!0}catch(e){Yu._canUseSessionStorage=!1,t.throwInternal(hl.WARNING,Ml,"Browser failed write to session storage. "+Yu.getExceptionName(e),{exception:Yu.dump(e)})}return!1},Yu.removeSessionStorage=function(t,e){var n=Yu._getSessionStorageObject();if(null!==n)try{return n.removeItem(e),!0}catch(e){Yu._canUseSessionStorage=!1,t.throwInternal(hl.WARNING,xl,"Browser failed removal of session storage item. "+Yu.getExceptionName(e),{exception:Yu.dump(e)})}return!1},Yu.disableCookies=function(){ll.disableCookies()},Yu.canUseCookies=function(t){if(void 0===ll._canUseCookies){ll._canUseCookies=!1;try{ll._canUseCookies=void 0!==Yu.document.cookie}catch(e){t.throwInternal(hl.WARNING,wu,"Cannot access document.cookie - "+Yu.getExceptionName(e),{exception:Yu.dump(e)})}}return ll._canUseCookies},Yu.setCookie=function(t,e,n,i){var r="",a="";i&&(r=";domain="+i),Yu.document.location&&"https:"===Yu.document.location.protocol&&(a=";secure"),Yu.canUseCookies(t)&&(Yu.document.cookie=e+"="+n+r+";path=/"+a)},Yu.stringToBoolOrDefault=function(t,e){return void 0===e&&(e=!1),null==t?e:"true"===t.toString().toLowerCase()},Yu.getCookie=function(t,e){if(Yu.canUseCookies(t)){var n="";if(e&&e.length)for(var i=e+"=",r=Yu.document.cookie.split(";"),a=0;a<r.length;a++){var o=r[a];if((o=Yu.trim(o))&&0===o.indexOf(i)){n=o.substring(i.length,r[a].length);break}}return n}},Yu.deleteCookie=function(t,e){Yu.canUseCookies(t)&&(Yu.document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},Yu.trim=function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,"")},Yu.newId=function(){for(var t="",e=1073741824*Math.random();0<e;)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e%64),e=Math.floor(e/64);return t},Yu.random32=function(){return 4294967296*Math.random()|0},Yu.generateW3CId=function(){for(var t,e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=e[15&(t=Yu.random32())]+e[t>>4&15]+e[t>>8&15]+e[t>>12&15]+e[t>>16&15]+e[t>>20&15]+e[t>>24&15]+e[t>>28&15];var r=e[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)},Yu.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Yu.isError=function(t){return"[object Error]"===Object.prototype.toString.call(t)},Yu.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},Yu.toISOStringForIE8=function(t){if(Yu.isDate(t)){if(Date.prototype.toISOString)return t.toISOString();var e=function(t){var e=String(t);return 1===e.length&&(e="0"+e),e};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},Yu.getIEVersion=function(t){void 0===t&&(t=null);var e=t?t.toLowerCase():navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")?parseInt(e.split("msie")[1]):null},Yu.msToTimeSpan=function(t){(isNaN(t)||t<0)&&(t=0);var e=""+(t=Math.round(t))%1e3,n=""+Math.floor(t/1e3)%60,i=""+Math.floor(t/6e4)%60,r=""+Math.floor(t/36e5)%24,a=Math.floor(t/864e5);return e=1===e.length?"00"+e:2===e.length?"0"+e:e,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(0<a?a+".":"")+(r=r.length<2?"0"+r:r)+":"+i+":"+n+"."+e},Yu.isCrossOriginError=function(t,e,n,i,r){return("Script error."===t||"Script error"===t)&&!r},Yu.dump=function(t){var e=Object.prototype.toString.call(t),n=JSON.stringify(t);return"[object Error]"===e&&(n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'"),e+n},Yu.getExceptionName=function(t){return"[object Error]"===Object.prototype.toString.call(t)?t.name:""},Yu.addEventHandler=function(t,e){if("undefined"==typeof window||!window||"string"!=typeof t||"function"!=typeof e)return!1;var n="on"+t;if(window.addEventListener)window.addEventListener(t,e,!1);else{if(!window.attachEvent)return!1;window.attachEvent(n,e)}return!0},Yu.IsBeaconApiSupported=function(){return"sendBeacon"in navigator&&navigator.sendBeacon},Yu.getExtension=function(t,e){for(var n=null,i=0;!n&&i<t.length;)t[i]&&t[i].identifier===e&&(n=t[i]),i++;return n},Yu.document="undefined"!=typeof document?document:{},Yu._canUseLocalStorage=void 0,Yu._canUseSessionStorage=void 0,Yu._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],Yu.NotSpecified="not_specified",Yu);function Yu(){}var Wu=(ju.parseUrl=function(t){return ju.htmlAnchorElement||(ju.htmlAnchorElement=ju.document.createElement?ju.document.createElement("a"):{host:ju.parseHost(t)}),ju.htmlAnchorElement.href=t,ju.htmlAnchorElement},ju.getAbsoluteUrl=function(t){var e,n=ju.parseUrl(t);return n&&(e=n.href),e},ju.getPathName=function(t){var e,n=ju.parseUrl(t);return n&&(e=n.pathname),e},ju.getCompleteUrl=function(t,e){return t?t.toUpperCase()+" "+e:e},ju.parseHost=function(t){var e=t.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=e&&2<e.length&&"string"==typeof e[2]&&0<e[2].length?e[2]:null},ju.document="undefined"!=typeof document?document:{},ju);function ju(){}var Fu=(Hu.canIncludeCorrelationHeader=function(t,e,n){if(t&&t.disableCorrelationHeaders)return!1;if(!e)return!1;var i=Wu.parseUrl(e).host.toLowerCase();if(!(t&&t.enableCorsCorrelation||i===n))return!1;var r,a=t&&t.correlationHeaderDomains;if(a&&(a.forEach((function(t){var e=new RegExp(t.toLowerCase().replace(/\./g,".").replace(/\*/g,".*"));r=r||e.test(i)})),!r))return!1;var o=t&&t.correlationHeaderExcludedDomains;if(!o||0==o.length)return!0;for(var s=0;s<o.length;s++)if(new RegExp(o[s].toLowerCase().replace(/\./g,".").replace(/\*/g,".*")).test(i))return!1;return!0},Hu.getCorrelationContext=function(t){if(t){var e=Hu.getCorrelationContextValue(t,Iu.requestContextTargetKey);if(e&&e!==Hu.correlationIdPrefix)return e}},Hu.getCorrelationContextValue=function(t,e){if(t)for(var n=t.split(","),i=0;i<n.length;++i){var r=n[i].split("=");if(2==r.length&&r[0]==e)return r[1]}},Hu.correlationIdPrefix="cid-v1:",Hu);function Hu(){}var Uu=(Xu.ParseDependencyPath=function(t,e,n,i){var r,a=i,o=i;if(e&&0<e.length){var s=Wu.parseUrl(e);if(r=s.host,!a)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),o=s.pathname,a=Bu.sanitizeString(t,n?n+" "+c:c)}else a=Bu.sanitizeString(t,e)}else a=r=i;return{target:r,name:a,data:o}},Xu);function Xu(){}var Vu=(Gu.Now="undefined"!=typeof window&&window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()+window.performance.timing.navigationStart}:function(){return(new Date).getTime()},Gu.GetDuration=function(t,e){var n=null;return 0===t||0===e||ll.isNullOrUndefined(t)||ll.isNullOrUndefined(e)||(n=e-t),n},Gu);function Gu(){}var Ku,Zu="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ju="ProcessLegacy",Qu="http.method",$u=(x(th,Ku=function(){}),th);function th(){return Ku.call(this)||this}var eh,nh=(x(ih,eh=function(){this.ver=1,this.sampleRate=100,this.tags={}}),ih);function ih(t,e,n){var i=eh.call(this)||this;return i.name=Bu.sanitizeString(t,n)||qu.NotSpecified,i.data=e,i.time=qu.toISOStringForIE8(new Date),i.aiDataContract={time:el.Required,iKey:el.Required,name:el.Required,sampleRate:function(){return 100==i.sampleRate?el.Hidden:el.Required},tags:el.Required,data:el.Required},i}function rh(){}var ah,oh=(x(sh,ah=rh),sh);function sh(){var t=ah.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}var ch,lh=(x(uh,ch=oh),uh.envelopeType="Microsoft.ApplicationInsights.{0}.Event",uh.dataType="EventData",uh);function uh(t,e,n,i){var r=ch.call(this)||this;return r.aiDataContract={ver:el.Required,name:el.Required,properties:el.Default,measurements:el.Default},r.name=Bu.sanitizeString(t,e)||qu.NotSpecified,r.properties=Bu.sanitizeProperties(t,n),r.measurements=Bu.sanitizeMeasurements(t,i),r}function hh(){}var ph,dh=(x(fh,ph=rh),fh);function fh(){var t=ph.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}function mh(){this.hasFullStack=!0,this.parsedStack=[]}var gh,yh=(x(_h,gh=dh),_h.CreateFromInterface=function(t,e){var n=e.exceptions&&e.exceptions.map((function(e){return Mh.CreateFromInterface(t,e)}));return new _h(t,w({},e,{exceptions:n}))},_h.prototype.toInterface=function(){var t=this.exceptions,e=this.properties,n=this.measurements,i=this.severityLevel,r=this.ver,a=this.problemGroup,o=this.id,s=this.isManual;return{ver:r,exceptions:t instanceof Array&&t.map((function(t){return t.toInterface()}))||void 0,severityLevel:i,properties:e,measurements:n,problemGroup:a,id:o,isManual:s}},_h.CreateSimpleException=function(t,e,n,i,r,a){return{exceptions:[{hasFullStack:!0,message:t,stack:r,typeName:e}]}},_h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",_h.dataType="ExceptionData",_h);function _h(t,e,n,i,r,a){var o=gh.call(this)||this;return o.aiDataContract={ver:el.Required,exceptions:el.Required,severityLevel:el.Default,properties:el.Default,measurements:el.Default},e instanceof Error?(o.exceptions=[new Mh(t,e)],o.properties=Bu.sanitizeProperties(t,n),o.measurements=Bu.sanitizeMeasurements(t,i),r&&(o.severityLevel=r),a&&(o.id=a)):(o.exceptions=e.exceptions,o.properties=e.properties,o.measurements=e.measurements,e.severityLevel&&(o.severityLevel=e.severityLevel),e.id&&(o.id=e.id),e.problemGroup&&(o.problemGroup=e.problemGroup),ll.isNullOrUndefined(e.ver)||(o.ver=e.ver),ll.isNullOrUndefined(e.isManual)||(o.isManual=e.isManual)),o}var vh,Mh=(x(bh,vh=mh),bh.prototype.toInterface=function(){var t=this.parsedStack instanceof Array&&this.parsedStack.map((function(t){return t.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:t||void 0}},bh.CreateFromInterface=function(t,e){var n=e.parsedStack instanceof Array&&e.parsedStack.map((function(t){return wh.CreateFromInterface(t)}))||e.parsedStack;return new bh(t,w({},e,{parsedStack:n}))},bh.parseStack=function(t){var e=void 0;if("string"==typeof t){var n=t.split("\n");e=[];for(var i=0,r=0,a=0;a<=n.length;a++){var o=n[a];if(wh.regex.test(o)){var s=new wh(n[a],i++);r+=s.sizeInBytes,e.push(s)}}if(32768<r)for(var c=0,l=e.length-1,u=0,h=c,p=l;c<l;){if(32768<(u+=e[c].sizeInBytes+e[l].sizeInBytes)){var d=p-h+1;e.splice(h,d);break}h=c,p=l,c++,l--}}return e},bh);function bh(t,e){var n=vh.call(this)||this;if(n.aiDataContract={id:el.Default,outerId:el.Default,typeName:el.Required,message:el.Required,hasFullStack:el.Default,stack:el.Default,parsedStack:el.Array},e instanceof Error){n.typeName=Bu.sanitizeString(t,e.name)||qu.NotSpecified,n.message=Bu.sanitizeMessage(t,e.message)||qu.NotSpecified;var i=e.stack;n.parsedStack=bh.parseStack(i),n.stack=Bu.sanitizeException(t,i),n.hasFullStack=qu.isArray(n.parsedStack)&&0<n.parsedStack.length}else n.typeName=e.typeName,n.message=e.message,n.stack=e.stack,n.parsedStack=e.parsedStack,n.hasFullStack=e.hasFullStack;return n}var xh,wh=(x(Ah,xh=hh),Ah.CreateFromInterface=function(t){return new Ah(t,null)},Ah.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},Ah.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,Ah.baseSize=58,Ah);function Ah(t,e){var n=xh.call(this)||this;if(n.sizeInBytes=0,n.aiDataContract={level:el.Required,method:el.Required,assembly:el.Default,fileName:el.Default,line:el.Default},"string"==typeof t){var i=t;n.level=e,n.method="<no_method>",n.assembly=qu.trim(i),n.fileName="",n.line=0;var r=i.match(Ah.regex);r&&5<=r.length&&(n.method=qu.trim(r[2])||n.method,n.fileName=qu.trim(r[4]),n.line=parseInt(r[5])||0)}else n.level=t.level,n.method=t.method,n.assembly=t.assembly,n.fileName=t.fileName,n.line=t.line,n.sizeInBytes=0;return n.sizeInBytes+=n.method.length,n.sizeInBytes+=n.fileName.length,n.sizeInBytes+=n.assembly.length,n.sizeInBytes+=Ah.baseSize,n.sizeInBytes+=n.level.toString().length,n.sizeInBytes+=n.line.toString().length,n}var Th,Lh,Sh,kh=(x(Oh,Th=rh),Oh);function Oh(){var t=Th.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}(Sh=Lh=Lh||{})[Sh.Measurement=0]="Measurement",Sh[Sh.Aggregation=1]="Aggregation";var zh,Ch=(x(Eh,zh=function(){this.kind=Lh.Measurement}),Eh);function Eh(){var t=null!==zh&&zh.apply(this,arguments)||this;return t.aiDataContract={name:el.Required,kind:el.Default,value:el.Required,count:el.Default,min:el.Default,max:el.Default,stdDev:el.Default},t}var Dh,Nh=(x(Ih,Dh=kh),Ih.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Ih.dataType="MetricData",Ih);function Ih(t,e,n,i,r,a,o){var s=Dh.call(this)||this;s.aiDataContract={ver:el.Required,metrics:el.Required,properties:el.Default};var c=new Ch;return c.count=0<i?i:void 0,c.max=isNaN(a)||null===a?void 0:a,c.min=isNaN(r)||null===r?void 0:r,c.name=Bu.sanitizeString(t,e)||qu.NotSpecified,c.value=n,s.metrics=[c],s.properties=Bu.sanitizeProperties(t,o),s}var Ph,Bh=(x(Rh,Ph=oh),Rh);function Rh(){var t=Ph.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}var qh,Yh=(x(Wh,qh=Bh),Wh.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Wh.dataType="PageviewData",Wh);function Wh(t,e,n,i,r,a,o){var s=qh.call(this)||this;return s.aiDataContract={ver:el.Required,name:el.Default,url:el.Default,duration:el.Default,properties:el.Default,measurements:el.Default,id:el.Default},s.id=Bu.sanitizeId(t,o),s.url=Bu.sanitizeUrl(t,n),s.name=Bu.sanitizeString(t,e)||qu.NotSpecified,isNaN(i)||(s.duration=qu.msToTimeSpan(i)),s.properties=Bu.sanitizeProperties(t,r),s.measurements=Bu.sanitizeMeasurements(t,a),s}var jh,Fh=(x(Hh,jh=rh),Hh);function Hh(){var t=jh.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}var Uh,Xh=(x(Vh,Uh=Fh),Vh.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Vh.dataType="RemoteDependencyData",Vh);function Vh(t,e,n,i,r,a,o,s,c,l,u,h){void 0===c&&(c="Ajax");var p=Uh.call(this)||this;p.aiDataContract={id:el.Required,ver:el.Required,name:el.Default,resultCode:el.Default,duration:el.Default,success:el.Default,data:el.Default,target:el.Default,type:el.Default,properties:el.Default,measurements:el.Default,kind:el.Default,value:el.Default,count:el.Default,min:el.Default,max:el.Default,stdDev:el.Default,dependencyKind:el.Default,dependencySource:el.Default,commandName:el.Default,dependencyTypeName:el.Default},p.id=e,p.duration=qu.msToTimeSpan(r),p.success=a,p.resultCode=o+"",p.type=Bu.sanitizeString(t,c);var d=Uu.ParseDependencyPath(t,n,s,i);return p.data=Bu.sanitizeUrl(t,i)||d.data,p.target=Bu.sanitizeString(t,d.target),l&&(p.target=p.target+" | "+l),p.name=Bu.sanitizeString(t,d.name),p.properties=Bu.sanitizeProperties(t,u),p.measurements=Bu.sanitizeMeasurements(t,h),p}var Gh,Kh=(x(Zh,Gh=rh),Zh);function Zh(){var t=Gh.call(this)||this;return t.ver=2,t.properties={},t}var Jh,Qh=(x($h,Jh=Kh),$h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",$h.dataType="MessageData",$h);function $h(t,e,n,i){var r=Jh.call(this)||this;return r.aiDataContract={ver:el.Required,message:el.Required,severityLevel:el.Default,properties:el.Default},e=e||qu.NotSpecified,r.message=Bu.sanitizeMessage(t,e),r.properties=Bu.sanitizeProperties(t,i),n&&(r.severityLevel=n),r}var tp,ep=(x(np,tp=Bh),np);function np(){var t=tp.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}var ip,rp=(x(ap,ip=ep),ap.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",ap.dataType="PageviewPerformanceData",ap);function ap(t,e,n,i,r,a,o){var s=ip.call(this)||this;return s.aiDataContract={ver:el.Required,name:el.Default,url:el.Default,duration:el.Default,perfTotal:el.Default,networkConnect:el.Default,sentRequest:el.Default,receivedResponse:el.Default,domProcessing:el.Default,properties:el.Default,measurements:el.Default},s.url=Bu.sanitizeUrl(t,n),s.name=Bu.sanitizeString(t,e)||qu.NotSpecified,s.properties=Bu.sanitizeProperties(t,r),s.measurements=Bu.sanitizeMeasurements(t,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}var op,sp,cp,lp=(x(up,op=$u),up);function up(t,e){var n=op.call(this)||this;return n.aiDataContract={baseType:el.Required,baseData:el.Required},n.baseType=t,n.baseData=e,n}(cp=sp=sp||{})[cp.Verbose=0]="Verbose",cp[cp.Information=1]="Information",cp[cp.Warning=2]="Warning",cp[cp.Error=3]="Error",cp[cp.Critical=4]="Critical";var hp=(pp.getConfig=function(t,e,n,i){var r;return void 0===i&&(i=!1),r=n&&t.extensionConfig&&t.extensionConfig[n]&&!ll.isNullOrUndefined(t.extensionConfig[n][e])?t.extensionConfig[n][e]:t[e],ll.isNullOrUndefined(r)?i:r},pp);function pp(){}var dp=function(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.applicationId="ai.application.applicationId",this.applicationLayer="ai.application.layer",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceFriendlyName="ai.device.friendlyName",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.deviceBrowser="ai.device.browser",this.deviceBrowserVersion="ai.device.browserVersion",this.locationIp="ai.location.ip",this.locationCountry="ai.location.country",this.locationProvince="ai.location.province",this.locationCity="ai.location.city",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.cloudName="ai.cloud.name",this.cloudRole="ai.cloud.role",this.cloudRoleVer="ai.cloud.roleVer",this.cloudRoleInstance="ai.cloud.roleInstance",this.cloudEnvironment="ai.cloud.environment",this.cloudLocation="ai.cloud.location",this.cloudDeploymentUnit="ai.cloud.deploymentUnit",this.internalNodeName="ai.internal.nodeName",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion"},fp=(mp.create=function(t,e,n,i,r,a){if(n=Bu.sanitizeString(i,n)||qu.NotSpecified,ll.isNullOrUndefined(t)||ll.isNullOrUndefined(e)||ll.isNullOrUndefined(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:(new Date).toISOString(),iKey:"",ext:a||{},tags:[],data:{},baseType:e,baseData:t};if(!ll.isNullOrUndefined(r))for(var s in r)r.hasOwnProperty(s)&&(o.data[s]=r[s]);return o},mp);function mp(){}var gp=(yp.UserExt="user",yp.DeviceExt="device",yp.TraceExt="trace",yp.WebExt="web",yp.AppExt="app",yp.OSExt="os",yp.SessionExt="ses",yp.SDKExt="sdk",yp);function yp(){}var _p=new dp,vp="AppInsightsPropertiesPlugin",Mp="AppInsightsChannelPlugin",bp=(xp.prototype.trackPageView=function(t,e){var n=this,i=t.name;!ll.isNullOrUndefined(i)&&"string"==typeof i||(t.name=window.document&&window.document.title||"");var r=t.uri;if(!ll.isNullOrUndefined(r)&&"string"==typeof r||(t.uri=window.location&&window.location.href||""),!this._pageViewPerformanceManager.isPerformanceTimingSupported())return this.appInsights.sendPageViewInternal(t,e),this._channel().forEach((function(t){t.forEach((function(t){return t.flush(!0)}))})),void this._logger.throwInternal(hl.WARNING,Yl,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var a=!1,o=void 0,s=this._pageViewPerformanceManager.getPerformanceTiming().navigationStart;o=Vu.GetDuration(s,+new Date),this._pageViewPerformanceManager.shouldCollectDuration(o)||(o=void 0);var c=void 0;ll.isNullOrUndefined(e)||ll.isNullOrUndefined(e.duration)||(c=e.duration),!this.overridePageViewDuration&&isNaN(c)||(isNaN(c)&&((e=e||{}).duration=o),this.appInsights.sendPageViewInternal(t,e),this._channel().forEach((function(t){t.forEach((function(t){return t.flush(!0)}))})),a=!0),e=e||{};var l=setInterval((function(){try{if(n._pageViewPerformanceManager.isPerformanceTimingDataReady()){clearInterval(l);var c={name:i,uri:r};n._pageViewPerformanceManager.populatePageViewPerformanceEvent(c),c.isValid||a?(a||(e.duration=c.durationMs,n.appInsights.sendPageViewInternal(t,e)),n.pageViewPerformanceSent||(n.appInsights.sendPageViewPerformanceInternal(c,e),n.pageViewPerformanceSent=!0),n._channel().forEach((function(t){t.forEach((function(t){return t.flush(!0)}))}))):(e.duration=o,n.appInsights.sendPageViewInternal(t,e),n._channel().forEach((function(t){t.forEach((function(t){return t.flush(!0)}))})))}else 6e4<Vu.GetDuration(s,+new Date)&&(clearInterval(l),a||(e.duration=6e4,n.appInsights.sendPageViewInternal(t,e),n._channel().forEach((function(t){t.forEach((function(t){return t.flush(!0)}))}))))}catch(c){n._logger.throwInternal(hl.CRITICAL,Ql,"trackPageView failed on page load calculation: "+qu.getExceptionName(c),{exception:qu.dump(c)})}}),100)},xp);function xp(t,e,n,i){this.pageViewPerformanceSent=!1,this.overridePageViewDuration=!1,this.overridePageViewDuration=e,this.appInsights=t,this._pageViewPerformanceManager=i,n&&(this._channel=function(){return n.getTransmissionControls()},this._logger=n.logger)}var wp=(Ap.prototype.trackPreviousPageVisit=function(t,e){try{var n=this.restartPageVisitTimer(t,e);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(t){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+qu.dump(t))}},Ap.prototype.restartPageVisitTimer=function(t,e){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(t,e),n}catch(t){return this._logger.warnToConsole("Call to restart failed: "+qu.dump(t)),null}},Ap.prototype.startPageVisitTimer=function(t,e){try{if(qu.canUseSessionStorage()){if(null!=qu.getSessionStorage(this._logger,this.prevPageVisitDataKeyName))throw new Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Tp(t,e),i=JSON.stringify(n);qu.setSessionStorage(this._logger,this.prevPageVisitDataKeyName,i)}}catch(t){this._logger.warnToConsole("Call to start failed: "+qu.dump(t))}},Ap.prototype.stopPageVisitTimer=function(){try{if(qu.canUseSessionStorage()){var t=Date.now(),e=qu.getSessionStorage(this._logger,this.prevPageVisitDataKeyName);if(e){var n=JSON.parse(e);return n.pageVisitTime=t-n.pageVisitStartTime,qu.removeSessionStorage(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(t){return this._logger.warnToConsole("Stop page visit timer failed: "+qu.dump(t)),null}},Ap);function Ap(t,e){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=e,this._logger=t}var Tp=function(t,e){this.pageVisitStartTime=Date.now(),this.pageName=t,this.pageUrl=e},Lp=(Sp.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var e=this.getPerformanceTiming();if(e){var n=Vu.GetDuration(e.navigationStart,e.loadEventEnd),i=Vu.GetDuration(e.navigationStart,e.connectEnd),r=Vu.GetDuration(e.requestStart,e.responseStart),a=Vu.GetDuration(e.responseStart,e.responseEnd),o=Vu.GetDuration(e.responseEnd,e.loadEventEnd);0==n?this._logger.throwInternal(hl.WARNING,Ll,"error calculating page view performance.",{total:n,network:i,request:r,response:a,dom:o}):this.shouldCollectDuration(n,i,r,a,o)?n<Math.floor(i)+Math.floor(r)+Math.floor(a)+Math.floor(o)?this._logger.throwInternal(hl.WARNING,Al,"client performance math error.",{total:n,network:i,request:r,response:a,dom:o}):(t.durationMs=n,t.perfTotal=t.duration=qu.msToTimeSpan(n),t.networkConnect=qu.msToTimeSpan(i),t.sentRequest=qu.msToTimeSpan(r),t.receivedResponse=qu.msToTimeSpan(a),t.domProcessing=qu.msToTimeSpan(o),t.isValid=!0):this._logger.throwInternal(hl.WARNING,ru,"Invalid page load duration value. Browser perf data won't be sent.",{total:n,network:i,request:r,response:a,dom:o})}},Sp.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?window.performance.timing:null},Sp.prototype.isPerformanceTimingSupported=function(){return"undefined"!=typeof window&&window.performance&&window.performance.timing},Sp.prototype.isPerformanceTimingDataReady=function(){var t=window.performance.timing;return 0<t.domainLookupStart&&0<t.navigationStart&&0<t.responseStart&&0<t.requestStart&&0<t.loadEventEnd&&0<t.responseEnd&&0<t.connectEnd&&0<t.domLoading},Sp.prototype.shouldCollectDuration=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=navigator.userAgent,r=!1;if(i)for(var a=0;a<n.length;a++)r=r||-1!==i.toLowerCase().indexOf(n[a]);if(r)return!1;for(var o=0;o<t.length;o++)if(t[o]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Sp);function Sp(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}var kp="duration",Op=(zp.getDefaultConfig=function(t){return(t=t||{}).sessionRenewalMs=18e5,t.sessionExpirationMs=864e5,t.disableExceptionTracking=qu.stringToBoolOrDefault(t.disableExceptionTracking),t.autoTrackPageVisitTime=qu.stringToBoolOrDefault(t.autoTrackPageVisitTime),t.overridePageViewDuration=qu.stringToBoolOrDefault(t.overridePageViewDuration),(isNaN(t.samplingPercentage)||t.samplingPercentage<=0||100<=t.samplingPercentage)&&(t.samplingPercentage=100),t.isCookieUseDisabled=qu.stringToBoolOrDefault(t.isCookieUseDisabled),t.isStorageUseDisabled=qu.stringToBoolOrDefault(t.isStorageUseDisabled),t.isBrowserLinkTrackingEnabled=qu.stringToBoolOrDefault(t.isBrowserLinkTrackingEnabled),t.enableAutoRouteTracking=qu.stringToBoolOrDefault(t.enableAutoRouteTracking),t.namePrefix=t.namePrefix||"",t},zp.prototype.processTelemetry=function(t){for(var e=!1,n=this._telemetryInitializers.length,i=0;i<n;++i){var r=this._telemetryInitializers[i];if(r)try{if(!1===r.apply(null,[t])){e=!0;break}}catch(t){this._logger.throwInternal(hl.CRITICAL,Mu,"One of telemetry initializers failed, telemetry item will not be sent: "+qu.getExceptionName(t),{exception:qu.dump(t)},!0)}}e||ll.isNullOrUndefined(this._nextPlugin)||this._nextPlugin.processTelemetry(t)},zp.prototype.setNextPlugin=function(t){this._nextPlugin=t},zp.prototype.trackEvent=function(t,e){try{var n=fp.create(t,lh.dataType,lh.envelopeType,this._logger,e);this.core.track(n)}catch(t){this._logger.throwInternal(hl.WARNING,$l,"trackTrace failed, trace will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.startTrackEvent=function(t){try{this._eventTracking.start(t)}catch(t){this._logger.throwInternal(hl.CRITICAL,Hl,"startTrackEvent failed, event will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.stopTrackEvent=function(t,e,n){try{this._eventTracking.stop(t,void 0,e)}catch(t){this._logger.throwInternal(hl.CRITICAL,Ul,"stopTrackEvent failed, event will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.trackTrace=function(t,e){try{var n=fp.create(t,Qh.dataType,Qh.envelopeType,this._logger,e);this.core.track(n)}catch(t){this._logger.throwInternal(hl.WARNING,$l,"trackTrace failed, trace will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.trackMetric=function(t,e){try{var n=fp.create(t,Nh.dataType,Nh.envelopeType,this._logger,e);this.core.track(n)}catch(t){this._logger.throwInternal(hl.CRITICAL,Zl,"trackMetric failed, metric will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.trackPageView=function(t,e){try{var n=t||{};this._pageViewManager.trackPageView(n,w({},n.properties,n.measurements,e)),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(t){this._logger.throwInternal(hl.CRITICAL,Jl,"trackPageView failed, page view will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.sendPageViewInternal=function(t,e,n){"undefined"!=typeof document&&(t.refUri=void 0===t.refUri?document.referrer:t.refUri);var i=fp.create(t,Yh.dataType,Yh.envelopeType,this._logger,e,n);this.core.track(i),this._trackAjaxAttempts=0},zp.prototype.sendPageViewPerformanceInternal=function(t,e,n){var i=fp.create(t,rp.dataType,rp.envelopeType,this._logger,e,n);this.core.track(i)},zp.prototype.trackPageViewPerformance=function(t,e){try{this._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),this.sendPageViewPerformanceInternal(t,e)}catch(t){this._logger.throwInternal(hl.CRITICAL,Jl,"trackPageViewPerformance failed, page view will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.startTrackPage=function(t){try{"string"!=typeof t&&(t=window.document&&window.document.title||""),this._pageTracking.start(t)}catch(t){this._logger.throwInternal(hl.CRITICAL,Xl,"startTrackPage failed, page view may not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.stopTrackPage=function(t,e,n,i){try{"string"!=typeof t&&(t=window.document&&window.document.title||""),"string"!=typeof e&&(e=window.location&&window.location.href||""),this._pageTracking.stop(t,e,n,i),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(t,e)}catch(t){this._logger.throwInternal(hl.CRITICAL,Vl,"stopTrackPage failed, page view will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype.sendExceptionInternal=function(t,e,n){var i=new yh(this._logger,t.exception||new Error(qu.NotSpecified),t.properties,t.measurements,t.severityLevel,t.id).toInterface(),r=fp.create(i,yh.dataType,yh.envelopeType,this._logger,e,n);this.core.track(r)},zp.prototype.trackException=function(t,e){try{this.sendExceptionInternal(t,e)}catch(t){this._logger.throwInternal(hl.CRITICAL,Kl,"trackException failed, exception will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},zp.prototype._onerror=function(t){try{var e={url:t&&t.url||document.URL,lineNumber:t.lineNumber,columnNumber:t.columnNumber,message:t.message};if(qu.isCrossOriginError(t.message,t.url,t.lineNumber,t.columnNumber,t.error))this._sendCORSException(e.url);else{if(!qu.isError(t.error)){var n="window.onerror@"+e.url+":"+t.lineNumber+":"+(t.columnNumber||0);t.error=new Error(t.message),t.error.stack=n}this.trackException({exception:t.error,severityLevel:sp.Error},e)}}catch(e){var i=t.error?t.error.name+", "+t.error.message:"null";this._logger.throwInternal(hl.CRITICAL,Sl,"_onError threw exception while logging error, error will not be collected: "+qu.getExceptionName(e),{exception:qu.dump(e),errorString:i})}},zp.prototype.addTelemetryInitializer=function(t){this._telemetryInitializers.push(t)},zp.prototype._initialize=function(t,e,n){var i=this;if(!this._isInitialized){if(ll.isNullOrUndefined(e))throw Error("Error initializing");this.core=e,this._logger=e.logger,this._globalconfig={instrumentationKey:t.instrumentationKey,endpointUrl:t.endpointUrl||"https://dc.services.visualstudio.com/v2/track"},this.config=t.extensionConfig&&t.extensionConfig[this.identifier]?t.extensionConfig[this.identifier]:{};var r=zp.getDefaultConfig();if(void 0!==r){for(var a in r)this.config[a]=hp.getConfig(t,a,this.identifier,r[a]);if(this._globalconfig)for(var a in r)void 0===this._globalconfig[a]&&(this._globalconfig[a]=r[a])}this.config.isCookieUseDisabled&&qu.disableCookies(),this.config.isStorageUseDisabled&&qu.disableStorage();var o={instrumentationKey:function(){return t.instrumentationKey},accountId:function(){return i.config.accountId||t.accountId},sessionRenewalMs:function(){return i.config.sessionRenewalMs||t.sessionRenewalMs},sessionExpirationMs:function(){return i.config.sessionExpirationMs||t.sessionExpirationMs},sampleRate:function(){return i.config.samplingPercentage||t.samplingPercentage},cookieDomain:function(){return i.config.cookieDomain||t.cookieDomain},sdkExtension:function(){return i.config.sdkExtension||t.sdkExtension},isBrowserLinkTrackingEnabled:function(){return i.config.isBrowserLinkTrackingEnabled||t.isBrowserLinkTrackingEnabled},appId:function(){return i.config.appId||t.appId}};this._pageViewPerformanceManager=new Lp(this.core),this._pageViewManager=new bp(this,this.config.overridePageViewDuration,this.core,this._pageViewPerformanceManager),this._pageVisitTimeManager=new wp(this._logger,(function(t,e,n){return i.trackPageVisitTime(t,e,n)})),this._telemetryInitializers=[],this._addDefaultTelemetryInitializers(o),this._eventTracking=new Cp(this._logger,"trackEvent"),this._eventTracking.action=function(t,e,n,r){(r=r||{})[kp]=n.toString(),i.trackEvent({name:t,properties:r})},this._pageTracking=new Cp(this._logger,"trackPageView"),this._pageTracking.action=function(t,e,n,r,a){ll.isNullOrUndefined(r)&&(r={}),r[kp]=n.toString();var o={name:t,uri:e,properties:r,measurements:a};i.sendPageViewInternal(o)};var s,c,l=this;if(!1===this.config.disableExceptionTracking&&!this.config.autoExceptionInstrumented){var u=window.onerror;window.onerror=function(t,e,n,i,r){var a=u&&u(t,e,n,i,r);return!0!==a&&l._onerror({message:t,url:e,lineNumber:n,columnNumber:i,error:r}),a},this.config.autoExceptionInstrumented=!0}if(!0===this.config.enableAutoRouteTracking&&"object"==typeof history&&"function"==typeof history.pushState&&"function"==typeof history.replaceState&&"object"==typeof window&&"undefined"!=typeof Event){var h=this;n.forEach((function(t){t.identifier===vp&&(i._properties=t)})),history.pushState=(c=history.pushState,function(){var t=c.apply(this,arguments);return window.dispatchEvent(qu.createDomEvent(h.config.namePrefix+"pushState")),window.dispatchEvent(qu.createDomEvent(h.config.namePrefix+"locationchange")),t}),history.replaceState=(s=history.replaceState,function(){var t=s.apply(this,arguments);return window.dispatchEvent(qu.createDomEvent(h.config.namePrefix+"replaceState")),window.dispatchEvent(qu.createDomEvent(h.config.namePrefix+"locationchange")),t}),window.addEventListener(h.config.namePrefix+"popstate",(function(){window.dispatchEvent(qu.createDomEvent(h.config.namePrefix+"locationchange"))})),window.addEventListener(h.config.namePrefix+"locationchange",(function(){h._properties&&h._properties.context&&h._properties.context.telemetryTrace&&(h._properties.context.telemetryTrace.traceID=qu.generateW3CId(),h._properties.context.telemetryTrace.name=window.location&&window.location.pathname||"_unknown_"),i._currUri&&(i._prevUri=i._currUri),i._currUri=window.location&&window.location.href||"",setTimeout(function(t){h.trackPageView({refUri:t,properties:{duration:0}})}.bind(i,i._prevUri),h.autoRoutePVDelay)}))}this._isInitialized=!0}},zp.prototype.trackPageVisitTime=function(t,e,n){var i={PageName:t,PageUrl:e};this.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},i)},zp.prototype._addDefaultTelemetryInitializers=function(t){if(!t.isBrowserLinkTrackingEnabled()){var e=["/browserLinkSignalR/","/__browserLink/"];this._addTelemetryInitializer((function(t){if(t.baseType===Xh.dataType){var n=t.baseData;if(n)for(var i=0;i<e.length;i++)if(n.target&&0<=n.target.indexOf(e[i]))return!1}return!0}))}},zp.prototype._addTelemetryInitializer=function(t){this._telemetryInitializers.push(t)},zp.prototype._sendCORSException=function(t){var e={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:t,lineNumber:0,columnNumber:0,error:void 0},n=fp.create(e,yh.dataType,yh.envelopeType,this._logger,{url:t});this.core.track(n)},zp.Version="2.2.2",zp);function zp(){this.identifier="ApplicationInsightsAnalytics",this.priority=180,this.autoRoutePVDelay=500,this._isInitialized=!1,this._trackAjaxAttempts=0,this._prevUri="object"==typeof window&&window.location&&window.location.href||"",this.initialize=this._initialize.bind(this)}var Cp=(Ep.prototype.start=function(t){void 0!==this._events[t]&&this._logger.throwInternal(hl.WARNING,_u,"start was called more than once for this event without calling stop.",{name:this._name,key:t},!0),this._events[t]=+new Date},Ep.prototype.stop=function(t,e,n,i){var r=this._events[t];if(isNaN(r))this._logger.throwInternal(hl.WARNING,vu,"stop was called without a corresponding start.",{name:this._name,key:t},!0);else{var a=+new Date,o=Vu.GetDuration(r,a);this.action(t,e,o,n,i)}delete this._events[t],this._events[t]=void 0},Ep);function Ep(t,e){this._name=e,this._events={},this._logger=t}var Dp=(Np.prototype.enqueue=function(t){this._buffer.push(t)},Np.prototype.count=function(){return this._buffer.length},Np.prototype.clear=function(){this._buffer.length=0},Np.prototype.getItems=function(){return this._buffer.slice(0)},Np.prototype.batchPayloads=function(t){return t&&0<t.length?this._config.emitLineDelimitedJson()?t.join("\n"):"["+t.join(",")+"]":null},Np.prototype.markAsSent=function(t){this.clear()},Np.prototype.clearSent=function(t){},Np);function Np(t){this._config=t,this._buffer=[]}var Ip=(Pp.prototype.enqueue=function(t){this._buffer.length>=Pp.MAX_BUFFER_SIZE?this._bufferFullMessageSent||(this._logger.throwInternal(hl.WARNING,xu,"Maximum buffer size reached: "+this._buffer.length,!0),this._bufferFullMessageSent=!0):(this._buffer.push(t),this.setBuffer(Pp.BUFFER_KEY,this._buffer))},Pp.prototype.count=function(){return this._buffer.length},Pp.prototype.clear=function(){this._buffer.length=0,this.setBuffer(Pp.BUFFER_KEY,[]),this.setBuffer(Pp.SENT_BUFFER_KEY,[]),this._bufferFullMessageSent=!1},Pp.prototype.getItems=function(){return this._buffer.slice(0)},Pp.prototype.batchPayloads=function(t){return t&&0<t.length?this._config.emitLineDelimitedJson()?t.join("\n"):"["+t.join(",")+"]":null},Pp.prototype.markAsSent=function(t){this._buffer=this.removePayloadsFromBuffer(t,this._buffer),this.setBuffer(Pp.BUFFER_KEY,this._buffer);var e=this.getBuffer(Pp.SENT_BUFFER_KEY);e instanceof Array&&t instanceof Array&&((e=e.concat(t)).length>Pp.MAX_BUFFER_SIZE&&(this._logger.throwInternal(hl.CRITICAL,xu,"Sent buffer reached its maximum size: "+e.length,!0),e.length=Pp.MAX_BUFFER_SIZE),this.setBuffer(Pp.SENT_BUFFER_KEY,e))},Pp.prototype.clearSent=function(t){var e=this.getBuffer(Pp.SENT_BUFFER_KEY);e=this.removePayloadsFromBuffer(t,e),this.setBuffer(Pp.SENT_BUFFER_KEY,e)},Pp.prototype.removePayloadsFromBuffer=function(t,e){var n=[];for(var i in e){var r=!1;for(var a in t)if(t[a]===e[i]){r=!0;break}r||n.push(e[i])}return n},Pp.prototype.getBuffer=function(t){var e=t;try{e=this._config.namePrefix&&this._config.namePrefix()?this._config.namePrefix()+"_"+e:e;var n=qu.getSessionStorage(this._logger,e);if(n){var i=JSON.parse(n);if(i)return i}}catch(t){this._logger.throwInternal(hl.CRITICAL,nu," storage key: "+e+", "+qu.getExceptionName(t),{exception:qu.dump(t)})}return[]},Pp.prototype.setBuffer=function(t,e){var n=t;try{n=this._config.namePrefix&&this._config.namePrefix()?this._config.namePrefix()+"_"+n:n;var i=JSON.stringify(e);qu.setSessionStorage(this._logger,n,i)}catch(t){qu.setSessionStorage(this._logger,n,JSON.stringify([])),this._logger.throwInternal(hl.WARNING,eu," storage key: "+n+", "+qu.getExceptionName(t)+". Buffer cleared",{exception:qu.dump(t)})}},Pp.BUFFER_KEY="AI_buffer",Pp.SENT_BUFFER_KEY="AI_sentBuffer",Pp.MAX_BUFFER_SIZE=2e3,Pp);function Pp(t,e){this._bufferFullMessageSent=!1,this._logger=t,this._config=e;var n=this.getBuffer(Pp.BUFFER_KEY),i=this.getBuffer(Pp.SENT_BUFFER_KEY);this._buffer=n.concat(i),this._buffer.length>Pp.MAX_BUFFER_SIZE&&(this._buffer.length=Pp.MAX_BUFFER_SIZE),this.setBuffer(Pp.SENT_BUFFER_KEY,[]),this.setBuffer(Pp.BUFFER_KEY,this._buffer)}var Bp=(Rp.extractProperties=function(t){var e=null;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"number"!=typeof i&&((e=e||{})[n]=i)}return e},Rp.extractPropsAndMeasurements=function(t,e,n){if(!ll.isNullOrUndefined(t))for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];"number"==typeof r?n[i]=r:e[i]="string"==typeof r?r:JSON.stringify(r)}},Rp.createEnvelope=function(t,e,n,i){var r=new nh(t,i,e);r.iKey=n.iKey;var a=n.iKey.replace(/-/g,"");return r.name=r.name.replace("{0}",a),Rp.extractPartAExtensions(n,r),n.tags||(n.tags=[]),r},Rp.extractPartAExtensions=function(t,e){if(e.tags||(e.tags={}),t.ext||(t.ext={}),t.tags||(t.tags=[]),t.ext.user){t.ext.user.authId&&(e.tags[_p.userAuthUserId]=t.ext.user.authId);var n=t.ext.user.id||t.ext.user.localId;n&&(e.tags[_p.userId]=n)}if(t.ext.app&&t.ext.app.sesId&&(e.tags[_p.sessionId]=t.ext.app.sesId),t.ext.device&&((t.ext.device.id||t.ext.device.localId)&&(e.tags[_p.deviceId]=t.ext.device.id||t.ext.device.localId),t.ext.device.deviceClass&&(e.tags[_p.deviceType]=t.ext.device.deviceClass),t.ext.device.ip&&(e.tags[_p.deviceIp]=t.ext.device.ip)),t.ext.web){var i=t.ext.web;i.browserLang&&(e.tags[_p.deviceLanguage]=i.browserLang),i.browserVer&&(e.tags[_p.deviceBrowserVersion]=i.browserVer),i.browser&&(e.tags[_p.deviceBrowser]=i.browser),e.data=e.data||{},e.data.baseData=e.data.baseData||{},e.data.baseData.properties=e.data.baseData.properties||{},i.domain&&(e.data.baseData.properties.domain=i.domain),i.isManual&&(e.data.baseData.properties.isManual=i.isManual.toString()),i.screenRes&&(e.data.baseData.properties.screenRes=i.screenRes),i.userConsent&&(e.data.baseData.properties.userConsent=i.userConsent.toString())}t.ext.device&&t.ext.device.model&&(e.tags[_p.deviceModel]=t.ext.device.model),t.ext.os&&t.ext.os.name&&(e.tags[_p.deviceOS]=t.ext.os.name),t.ext.device&&t.ext.device.deviceType&&(e.tags[_p.deviceType]=t.ext.device.deviceType),t.ext.trace&&(t.ext.trace.parentID&&(e.tags[_p.operationParentId]=t.ext.trace.parentID),t.ext.trace.name&&(e.tags[_p.operationName]=t.ext.trace.name),t.ext.trace.traceID&&(e.tags[_p.operationId]=t.ext.trace.traceID));for(var r={},a=function(e){var n=t.tags[e];Object.keys(n).forEach((function(t){r[t]=n[t]})),t.tags.splice(e,1)},o=t.tags.length-1;0<=o;o--)a(o);for(var s in t.tags)r[s]=t.tags[s];e.tags=w({},e.tags,r),e.tags[_p.internalSdkVersion]||(e.tags[_p.internalSdkVersion]="javascript:"+Rp.Version)},Rp.Version="2.2.2",Rp);function Rp(){}var qp,Yp=(x(Wp,qp=Bp),Wp.prototype.Create=function(t,e){this._logger=t,ll.isNullOrUndefined(e.baseData)&&this._logger.throwInternal(hl.CRITICAL,au,"telemetryItem.baseData cannot be null.");var n=e.baseData.measurements||{},i=e.baseData.properties||{};Bp.extractPropsAndMeasurements(e.data,i,n);var r=e.baseData;if(ll.isNullOrUndefined(r))return t.warnToConsole("Invalid input for dependency data"),null;var a=r.id,o=r.target,s=r.name,c=r.duration,l=r.success,u=r.responseCode,h=r.type,p=r.correlationContext,d=r.properties&&r.properties[Qu]?r.properties[Qu]:"GET",f=new Xh(t,a,o,s,c,l,u,d,h,p,i,n),m=new lp(Xh.dataType,f);return Bp.createEnvelope(t,Xh.envelopeType,e,m)},Wp.DependencyEnvelopeCreator=new Wp,Wp);function Wp(){return null!==qp&&qp.apply(this,arguments)||this}var jp,Fp=(x(Hp,jp=Bp),Hp.prototype.Create=function(t,e){this._logger=t,ll.isNullOrUndefined(e.baseData)&&this._logger.throwInternal(hl.CRITICAL,au,"telemetryItem.baseData cannot be null.");var n={},i={};e.baseType!==lh.dataType&&(n.baseTypeSource=e.baseType),e.baseType===lh.dataType?(n=e.baseData.properties||{},i=e.baseData.measurements||{}):e.baseData&&Bp.extractPropsAndMeasurements(e.baseData,n,i),Bp.extractPropsAndMeasurements(e.data,n,i);var r=e.baseData.name,a=new lh(t,r,n,i),o=new lp(lh.dataType,a);return Bp.createEnvelope(t,lh.envelopeType,e,o)},Hp.EventEnvelopeCreator=new Hp,Hp);function Hp(){return null!==jp&&jp.apply(this,arguments)||this}var Up,Xp=(x(Vp,Up=Bp),Vp.prototype.Create=function(t,e){this._logger=t,ll.isNullOrUndefined(e.baseData)&&this._logger.throwInternal(hl.CRITICAL,au,"telemetryItem.baseData cannot be null.");var n=e.baseData,i=yh.CreateFromInterface(t,n),r=new lp(yh.dataType,i);return Bp.createEnvelope(t,yh.envelopeType,e,r)},Vp.ExceptionEnvelopeCreator=new Vp,Vp);function Vp(){return null!==Up&&Up.apply(this,arguments)||this}var Gp,Kp=(x(Zp,Gp=Bp),Zp.prototype.Create=function(t,e){this._logger=t,ll.isNullOrUndefined(e.baseData)&&this._logger.throwInternal(hl.CRITICAL,au,"telemetryItem.baseData cannot be null.");var n=e.baseData.properties||{},i=Bp.extractProperties(e.data);i=w({},n,i);var r=e.baseData.name,a=e.baseData.average,o=e.baseData.sampleCount,s=e.baseData.min,c=e.baseData.max,l=new Nh(t,r,a,o,s,c,i),u=new lp(Nh.dataType,l);return Bp.createEnvelope(t,Nh.envelopeType,e,u)},Zp.MetricEnvelopeCreator=new Zp,Zp);function Zp(){return null!==Gp&&Gp.apply(this,arguments)||this}var Jp,Qp=(x($p,Jp=Bp),$p.prototype.Create=function(t,e){this._logger=t,ll.isNullOrUndefined(e.baseData)&&this._logger.throwInternal(hl.CRITICAL,au,"telemetryItem.baseData cannot be null.");var n=void 0;ll.isNullOrUndefined(e.baseData)||ll.isNullOrUndefined(e.baseData.properties)||ll.isNullOrUndefined(e.baseData.properties.duration)?ll.isNullOrUndefined(e.data)||ll.isNullOrUndefined(e.data.duration)||(n=e.data.duration,delete e.data.duration):(n=e.baseData.properties.duration,delete e.baseData.properties.duration);var i,r=e.baseData;e.ext&&e.ext.trace&&e.ext.trace.traceID&&(i=e.ext.trace.traceID);var a=r.id||i,o=r.name,s=r.uri,c=r.properties||{},l=r.measurements||{};if(ll.isNullOrUndefined(r.refUri)||(c.refUri=r.refUri),ll.isNullOrUndefined(r.pageType)||(c.pageType=r.pageType),ll.isNullOrUndefined(r.isLoggedIn)||(c.isLoggedIn=r.isLoggedIn.toString()),!ll.isNullOrUndefined(r.properties)){var u=r.properties;for(var h in u)u.hasOwnProperty(h)&&(c[h]=u[h])}Bp.extractPropsAndMeasurements(e.data,c,l);var p=new Yh(t,o,s,n,c,l,a),d=new lp(Yh.dataType,p);return Bp.createEnvelope(t,Yh.envelopeType,e,d)},$p.PageViewEnvelopeCreator=new $p,$p);function $p(){return null!==Jp&&Jp.apply(this,arguments)||this}var td,ed=(x(nd,td=Bp),nd.prototype.Create=function(t,e){this._logger=t,ll.isNullOrUndefined(e.baseData)&&this._logger.throwInternal(hl.CRITICAL,au,"telemetryItem.baseData cannot be null.");var n=e.baseData,i=n.name,r=n.uri||n.url,a=n.properties||{},o=n.measurements||{};Bp.extractPropsAndMeasurements(e.data,a,o);var s=new rp(t,i,r,void 0,a,o,n),c=new lp(rp.dataType,s);return Bp.createEnvelope(t,rp.envelopeType,e,c)},nd.PageViewPerformanceEnvelopeCreator=new nd,nd);function nd(){return null!==td&&td.apply(this,arguments)||this}var id,rd=(x(ad,id=Bp),ad.prototype.Create=function(t,e){this._logger=t,ll.isNullOrUndefined(e.baseData)&&this._logger.throwInternal(hl.CRITICAL,au,"telemetryItem.baseData cannot be null.");var n=e.baseData.message,i=e.baseData.severityLevel,r=Bp.extractProperties(e.data),a=w({},r,e.baseData.properties),o=new Qh(t,n,i,a),s=new lp(Qh.dataType,o);return Bp.createEnvelope(t,Qh.envelopeType,e,s)},ad.TraceEnvelopeCreator=new ad,ad);function ad(){return null!==id&&id.apply(this,arguments)||this}var od=(sd.prototype.serialize=function(t){var e=this._serializeObject(t,"root");return JSON.stringify(e)},sd.prototype._serializeObject=function(t,e){var n="__aiCircularRefCheck",i={};if(!t)return this._logger.throwInternal(hl.CRITICAL,su,"cannot serialize object because it is null or undefined",{name:e},!0),i;if(t[n])return this._logger.throwInternal(hl.WARNING,lu,"Circular reference detected while serializing object",{name:e},!0),i;if(!t.aiDataContract){if("measurements"===e)i=this._serializeStringMap(t,"number",e);else if("properties"===e)i=this._serializeStringMap(t,"string",e);else if("tags"===e)i=this._serializeStringMap(t,"string",e);else if(qu.isArray(t))i=this._serializeArray(t,e);else{this._logger.throwInternal(hl.WARNING,cu,"Attempting to serialize an object which does not implement ISerializable",{name:e},!0);try{JSON.stringify(t),i=t}catch(t){this._logger.throwInternal(hl.CRITICAL,su,t&&"function"==typeof t.toString?t.toString():"Error serializing object",null,!0)}}return i}for(var r in t[n]=!0,t.aiDataContract){var a,o=t.aiDataContract[r],s="function"==typeof o?o()&el.Required:o&el.Required,c="function"==typeof o?o()&el.Hidden:o&el.Hidden,l=o&el.Array,u=void 0!==t[r],h="object"==typeof t[r]&&null!==t[r];!s||u||l?c||void 0!==(a=h?l?this._serializeArray(t[r],r):this._serializeObject(t[r],r):t[r])&&(i[r]=a):this._logger.throwInternal(hl.CRITICAL,ql,"Missing required field specification. The field is required but not present on source",{field:r,name:e})}return delete t[n],i},sd.prototype._serializeArray=function(t,e){var n=void 0;if(t)if(qu.isArray(t)){n=[];for(var i=0;i<t.length;i++){var r=t[i],a=this._serializeObject(r,e+"["+i+"]");n.push(a)}}else this._logger.throwInternal(hl.CRITICAL,hu,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:e},!0);return n},sd.prototype._serializeStringMap=function(t,e,n){var i=void 0;if(t)for(var r in i={},t){var a=t[r];if("string"===e)void 0===a?i[r]="undefined":null===a?i[r]="null":a.toString?i[r]=a.toString():i[r]="invalid field: toString() is not defined.";else if("number"===e)if(void 0===a)i[r]="undefined";else if(null===a)i[r]="null";else{var o=parseFloat(a);isNaN(o)?i[r]="NaN":i[r]=o}else i[r]="invalid field: "+n+" is of unknown type.",this._logger.throwInternal(hl.CRITICAL,i[r],null,!0)}return i},sd);function sd(t){this._logger=t}function cd(){this._onlineStatus=!0;try{"undefined"==typeof window?this.isListening=!1:window&&window.addEventListener?(window.addEventListener("online",this._setOnline.bind(this),!1),window.addEventListener("offline",this._setOffline.bind(this),!1),this.isListening=!0):document&&document.body?(document.body.ononline=this._setOnline.bind(this),document.body.onoffline=this._setOffline.bind(this),this.isListening=!0):document?(document.ononline=this._setOnline.bind(this),document.onoffline=this._setOffline.bind(this),this.isListening=!0):this.isListening=!1}catch(t){this.isListening=!1}}var ld=(cd.prototype._setOnline=function(){this._onlineStatus=!0},cd.prototype._setOffline=function(){this._onlineStatus=!1},cd.prototype.isOnline=function(){return this.isListening?this._onlineStatus:!(navigator&&!ll.isNullOrUndefined(navigator.onLine))||navigator.onLine},cd.prototype.isOffline=function(){return!this.isOnline()},cd.Offline=new cd,cd).Offline,ud=(hd.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/hd.INT_MAX_VALUE*100},hd.prototype.getHashCode=function(t){if(""==t)return 0;for(;t.length<hd.MIN_INPUT_LENGTH;)t=t.concat(t);for(var e=5381,n=0;n<t.length;++n)e=(e<<5)+e+t.charCodeAt(n),e&=e;return Math.abs(e)},hd.INT_MAX_VALUE=2147483647,hd.MIN_INPUT_LENGTH=8,hd);function hd(){}var pd=(dd.prototype.getSamplingScore=function(t){return t.tags&&t.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.userId]):t.ext&&t.ext.user&&t.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(t.ext.telemetryTrace.traceID):100*Math.random()},dd);function dd(){this.hashCodeGeneragor=new ud,this.keys=new dp}var fd=(md.prototype.isSampledIn=function(t){var e=this.sampleRate;return null==e||100<=e||t.baseType===Nh.dataType||this.samplingScoreGenerator.getSamplingScore(t)<e},md);function md(t,e){this.INT_MAX_VALUE=2147483647,ll.isNullOrUndefined(e)?this._logger=new Ou:this._logger=e,(100<t||t<0)&&(this._logger.throwInternal(hl.WARNING,mu,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),this.sampleRate=100),this.sampleRate=t,this.samplingScoreGenerator=new pd}var gd=(yd.prototype.pause=function(){throw new Error("Method not implemented.")},yd.prototype.resume=function(){throw new Error("Method not implemented.")},yd.prototype.flush=function(){try{this.triggerSend()}catch(t){this._logger.throwInternal(hl.CRITICAL,Bl,"flush failed, telemetry will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},yd.prototype.onunloadFlush=function(){if(!1!==this._config.onunloadDisableBeacon()&&!1!==this._config.isBeaconApiDisabled()||!qu.IsBeaconApiSupported())this.flush();else try{this.triggerSend(!0,this._beaconSender)}catch(t){this._logger.throwInternal(hl.CRITICAL,Pl,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},yd.prototype.teardown=function(){throw new Error("Method not implemented.")},yd.prototype.initialize=function(t,e,n){var i=this;this._logger=e.logger,this._serializer=new od(e.logger),this._consecutiveErrors=0,this._retryAt=null,this._lastSend=0,this._sender=null;var r=yd._getDefaultAppInsightsChannelConfig();function a(e){o._config[e]=function(){return hp.getConfig(t,e,i.identifier,r[e]())}}this._config=yd._getEmptyAppInsightsChannelConfig();var o=this;for(var s in r)a(s);this._buffer=this._config.enableSessionStorageBuffer&&qu.canUseSessionStorage()?new Ip(this._logger,this._config):new Dp(this._config),this._sample=new fd(this._config.samplingPercentage(),this._logger),!this._config.isBeaconApiDisabled()&&qu.IsBeaconApiSupported()?this._sender=this._beaconSender:"undefined"!=typeof XMLHttpRequest&&("withCredentials"in new XMLHttpRequest?(this._sender=this._xhrSender,this._XMLHttpRequestSupported=!0):"undefined"!=typeof XDomainRequest&&(this._sender=this._xdrSender))},yd.prototype.processTelemetry=function(t){var e=this;try{if(this._config.disableTelemetry())return;if(!t)return void this._logger.throwInternal(hl.CRITICAL,wl,"Cannot send empty telemetry");if(t.baseData&&!t.baseType)return void this._logger.throwInternal(hl.CRITICAL,Tu,"Cannot send telemetry without baseData and baseType");if(t.baseType||(t.baseType="EventData"),!this._sender)return void this._logger.throwInternal(hl.CRITICAL,Fl,"Sender was not initialized");if(!this._isSampledIn(t))return void this._logger.throwInternal(hl.WARNING,Gl,"Telemetry item was sampled out and not sent",{SampleRate:this._sample.sampleRate});t.tags=t.tags||{},t.tags.sampleRate=this._sample.sampleRate;var n=yd.constructEnvelope(t,this._config.instrumentationKey(),this._logger);if(!n)return void this._logger.throwInternal(hl.CRITICAL,ou,"Unable to create an AppInsights envelope");var i=!1;if(t.tags&&t.tags[Ju]&&(t.tags[Ju].forEach((function(t){try{t&&!1===t(n)&&(i=!0,e._logger.warnToConsole("Telemetry processor check returns false"))}catch(t){e._logger.throwInternal(hl.CRITICAL,Mu,"One of telemetry initializers failed, telemetry item will not be sent: "+qu.getExceptionName(t),{exception:qu.dump(t)},!0)}})),delete t.tags[Ju]),i)return;var r=this._serializer.serialize(n),a=this._buffer.getItems(),o=this._buffer.batchPayloads(a);o&&o.length+r.length>this._config.maxBatchSizeInBytes()&&this.triggerSend(),this._buffer.enqueue(r),this._setupTimer()}catch(t){this._logger.throwInternal(hl.WARNING,kl,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+qu.getExceptionName(t),{exception:qu.dump(t)})}ll.isNullOrUndefined(this._nextPlugin)||this._nextPlugin.processTelemetry(t)},yd.prototype.setNextPlugin=function(t){this._nextPlugin=t},yd.prototype._xhrReadyStateChange=function(t,e,n){if(4===t.readyState){var i=null;this._appId||(i=this._parseResponse(t.responseText||t.response))&&i.appId&&(this._appId=i.appId),(t.status<200||300<=t.status)&&0!==t.status?!this._config.isRetryDisabled()&&this._isRetriable(t.status)?(this._resendPayload(e),this._logger.throwInternal(hl.WARNING,tu,". Response code "+t.status+". Will retry to send "+e.length+" items.")):this._onError(e,this._formatErrorMessageXhr(t)):ld.isOffline()?this._config.isRetryDisabled()||(this._resendPayload(e,10),this._logger.throwInternal(hl.WARNING,tu,". Offline - Response Code: "+t.status+". Offline status: "+ld.isOffline()+". Will retry to send "+e.length+" items.")):206===t.status?(i=i||this._parseResponse(t.responseText||t.response))&&!this._config.isRetryDisabled()?this._onPartialSuccess(e,i):this._onError(e,this._formatErrorMessageXhr(t)):(this._consecutiveErrors=0,this._onSuccess(e,n))}},yd.prototype.triggerSend=function(t,e){void 0===t&&(t=!0);try{if(this._config.disableTelemetry())this._buffer.clear();else{if(0<this._buffer.count()){var n=this._buffer.getItems();e?e.call(this,n,t):this._sender(n,t)}this._lastSend=+new Date}clearTimeout(this._timeoutHandle),this._timeoutHandle=null,this._retryAt=null}catch(t){(!qu.getIEVersion()||9<qu.getIEVersion())&&this._logger.throwInternal(hl.CRITICAL,tu,"Telemetry transmission failed, some telemetry will be lost: "+qu.getExceptionName(t),{exception:qu.dump(t)})}},yd.prototype._onError=function(t,e,n){this._logger.throwInternal(hl.WARNING,Wl,"Failed to send telemetry.",{message:e}),this._buffer.clearSent(t)},yd.prototype._onPartialSuccess=function(t,e){for(var n=[],i=[],r=0,a=e.errors.reverse();r<a.length;r++){var o=a[r],s=t.splice(o.index,1)[0];this._isRetriable(o.statusCode)?i.push(s):n.push(s)}0<t.length&&this._onSuccess(t,e.itemsAccepted),0<n.length&&this._onError(n,this._formatErrorMessageXhr(null,["partial success",e.itemsAccepted,"of",e.itemsReceived].join(" "))),0<i.length&&(this._resendPayload(i),this._logger.throwInternal(hl.WARNING,tu,"Partial success. Delivered: "+t.length+", Failed: "+n.length+". Will retry to send "+i.length+" our of "+e.itemsReceived+" items"))},yd.prototype._onSuccess=function(t,e){this._buffer.clearSent(t)},yd.prototype._xdrOnLoad=function(t,e){if(!t||t.responseText+""!="200"&&""!==t.responseText){var n=this._parseResponse(t.responseText);n&&n.itemsReceived&&n.itemsReceived>n.itemsAccepted&&!this._config.isRetryDisabled()?this._onPartialSuccess(e,n):this._onError(e,this._formatErrorMessageXdr(t))}else this._consecutiveErrors=0,this._onSuccess(e,0)},yd.constructEnvelope=function(t,e,n){var i;switch((i=e===t.iKey||ll.isNullOrUndefined(e)?t:w({},t,{iKey:e})).baseType){case lh.dataType:return Fp.EventEnvelopeCreator.Create(n,i);case Qh.dataType:return rd.TraceEnvelopeCreator.Create(n,i);case Yh.dataType:return Qp.PageViewEnvelopeCreator.Create(n,i);case rp.dataType:return ed.PageViewPerformanceEnvelopeCreator.Create(n,i);case yh.dataType:return Xp.ExceptionEnvelopeCreator.Create(n,i);case Nh.dataType:return Kp.MetricEnvelopeCreator.Create(n,i);case Xh.dataType:return Yp.DependencyEnvelopeCreator.Create(n,i);default:return Fp.EventEnvelopeCreator.Create(n,i)}},yd._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100}}},yd._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0}},yd.prototype._isSampledIn=function(t){return this._sample.isSampledIn(t)},yd.prototype._beaconSender=function(t,e){var n=this._config.endpointUrl(),i=this._buffer.batchPayloads(t),r=new Blob([i],{type:"text/plain;charset=UTF-8"});navigator.sendBeacon(n,r)?(this._buffer.markAsSent(t),this._onSuccess(t,t.length)):(this._xhrSender(t,!0),this._logger.throwInternal(hl.WARNING,tu,". Failed to send telemetry with Beacon API, retried with xhrSender."))},yd.prototype._xhrSender=function(t,e){var n=this,i=new XMLHttpRequest;i[Zu]=!0,i.open("POST",this._config.endpointUrl(),e),i.setRequestHeader("Content-type","application/json"),qu.isInternalApplicationInsightsEndpoint(this._config.endpointUrl())&&i.setRequestHeader(Iu.sdkContextHeader,Iu.sdkContextHeaderAppIdRequest),i.onreadystatechange=function(){return n._xhrReadyStateChange(i,t,t.length)},i.onerror=function(e){return n._onError(t,n._formatErrorMessageXhr(i),e)};var r=this._buffer.batchPayloads(t);i.send(r),this._buffer.markAsSent(t)},yd.prototype._parseResponse=function(t){try{if(t&&""!==t){var e=JSON.parse(t);if(e&&e.itemsReceived&&e.itemsReceived>=e.itemsAccepted&&e.itemsReceived-e.itemsAccepted==e.errors.length)return e}}catch(e){this._logger.throwInternal(hl.CRITICAL,iu,"Cannot parse the response. "+qu.getExceptionName(e),{response:t})}return null},yd.prototype._resendPayload=function(t,e){if(void 0===e&&(e=1),t&&0!==t.length){this._buffer.clearSent(t),this._consecutiveErrors++;for(var n=0,i=t;n<i.length;n++){var r=i[n];this._buffer.enqueue(r)}this._setRetryTime(e),this._setupTimer()}},yd.prototype._setRetryTime=function(t){var e;if(this._consecutiveErrors<=1)e=10;else{var n=(Math.pow(2,this._consecutiveErrors)-1)/2,i=Math.floor(Math.random()*n*10)+1;i*=t,e=Math.max(Math.min(i,3600),10)}var r=Date.now()+1e3*e;this._retryAt=r},yd.prototype._setupTimer=function(){var t=this;if(!this._timeoutHandle){var e=this._retryAt?Math.max(0,this._retryAt-Date.now()):0,n=Math.max(this._config.maxBatchInterval(),e);this._timeoutHandle=setTimeout((function(){t.triggerSend()}),n)}},yd.prototype._isRetriable=function(t){return 408==t||429==t||500==t||503==t},yd.prototype._formatErrorMessageXhr=function(t,e){return t?"XMLHttpRequest,Status:"+t.status+",Response:"+t.responseText||!1:e},yd.prototype._xdrSender=function(t,e){var n=this,i=new XDomainRequest;i.onload=function(){return n._xdrOnLoad(i,t)},i.onerror=function(e){return n._onError(t,n._formatErrorMessageXdr(i),e)};var r=window.location&&window.location.protocol;if(0!==this._config.endpointUrl().lastIndexOf(r,0))return this._logger.throwInternal(hl.WARNING,tu,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void this._buffer.clear();var a=this._config.endpointUrl().replace(/^(https?:)/,"");i.open("POST",a);var o=this._buffer.batchPayloads(t);i.send(o),this._buffer.markAsSent(t)},yd.prototype._formatErrorMessageXdr=function(t,e){return t?"XDomainRequest,Response:"+t.responseText||!1:e},yd);function yd(){this.priority=1001,this.identifier=Mp,this._XMLHttpRequestSupported=!1}var _d=function(){},vd=(Md.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var t=Vu.Now(),e=t-this.automaticSession.acquisitionDate>this.config.sessionExpirationMs(),n=t-this.automaticSession.renewalDate>this.config.sessionRenewalMs();e||n?this.renew():(!this.cookieUpdatedTimestamp||t-this.cookieUpdatedTimestamp>Md.cookieUpdateInterval)&&(this.automaticSession.renewalDate=t,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate))},Md.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},Md.prototype.initializeAutomaticSession=function(){var t=qu.getCookie(this._logger,this._storageNamePrefix());if(t&&"function"==typeof t.split)this.initializeAutomaticSessionWithData(t);else{var e=qu.getStorage(this._logger,this._storageNamePrefix());e&&this.initializeAutomaticSessionWithData(e)}this.automaticSession.id||this.renew()},Md.prototype.initializeAutomaticSessionWithData=function(t){var e=t.split("|");0<e.length&&(this.automaticSession.id=e[0]);try{if(1<e.length){var n=+e[1];this.automaticSession.acquisitionDate=+new Date(n),this.automaticSession.acquisitionDate=0<this.automaticSession.acquisitionDate?this.automaticSession.acquisitionDate:0}if(2<e.length){var i=+e[2];this.automaticSession.renewalDate=+new Date(i),this.automaticSession.renewalDate=0<this.automaticSession.renewalDate?this.automaticSession.renewalDate:0}}catch(t){this._logger.throwInternal(hl.CRITICAL,Tl,"Error parsing ai_session cookie, session will be reset: "+qu.getExceptionName(t),{exception:qu.dump(t)})}0==this.automaticSession.renewalDate&&this._logger.throwInternal(hl.WARNING,jl,"AI session renewal date is 0, session will be reset.")},Md.prototype.renew=function(){var t=Vu.Now();this.automaticSession.id=qu.newId(),this.automaticSession.acquisitionDate=t,this.automaticSession.renewalDate=t,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),qu.canUseLocalStorage()||this._logger.throwInternal(hl.WARNING,gl,"Browser does not support local storage. Session durations will be inaccurate.")},Md.prototype.setCookie=function(t,e,n){var i=e+this.config.sessionExpirationMs(),r=n+this.config.sessionRenewalMs(),a=new Date,o=[t,e,n];i<r?a.setTime(i):a.setTime(r);var s=this.config.cookieDomain?this.config.cookieDomain():null;qu.setCookie(this._logger,this._storageNamePrefix(),o.join("|")+";expires="+a.toUTCString(),s),this.cookieUpdatedTimestamp=Vu.Now()},Md.prototype.setStorage=function(t,e,n){qu.setStorage(this._logger,this._storageNamePrefix(),[t,e,n].join("|"))},Md.acquisitionSpan=864e5,Md.renewalSpan=18e5,Md.cookieUpdateInterval=6e4,Md.cookieNameConst="ai_session",Md);function Md(t,e){var n=this;ll.isNullOrUndefined(e)?this._logger=new Ou:this._logger=e,"function"!=typeof(t=t||{}).sessionExpirationMs&&(t.sessionExpirationMs=function(){return Md.acquisitionSpan}),"function"!=typeof t.sessionRenewalMs&&(t.sessionRenewalMs=function(){return Md.renewalSpan}),this.config=t,this._storageNamePrefix=function(){return n.config.namePrefix&&n.config.namePrefix()?Md.cookieNameConst+n.config.namePrefix():Md.cookieNameConst},this.automaticSession=new _d}var bd=function(){},xd=function(){this.id="browser",this.deviceClass="Browser"},wd=function(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:2.2.2"},Ad=(Td.prototype.setAuthenticatedUserContext=function(t,e,n){if(void 0===n&&(n=!1),!this.validateUserInput(t)||e&&!this.validateUserInput(e))this._logger.throwInternal(hl.WARNING,gu,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{this.authenticatedId=t;var i=this.authenticatedId;e&&(this.accountId=e,i=[this.authenticatedId,this.accountId].join(Td.cookieSeparator)),n&&qu.setCookie(this._logger,Td.authUserCookieName,encodeURI(i),this.config.cookieDomain())}},Td.prototype.clearAuthenticatedUserContext=function(){this.authenticatedId=null,this.accountId=null,qu.deleteCookie(this._logger,Td.authUserCookieName)},Td.prototype.validateUserInput=function(t){return!("string"!=typeof t||!t||t.match(/,|;|=| |\|/))},Td.cookieSeparator="|",Td.userCookieName="ai_user",Td.authUserCookieName="ai_authUser",Td);function Td(t,e){this._logger=e;var n=qu.getCookie(this._logger,Td.userCookieName);if(n){var i=n.split(Td.cookieSeparator);0<i.length&&(this.id=i[0])}if(this.config=t,!this.id){this.id=qu.newId();var r=new Date,a=qu.toISOStringForIE8(r);this.accountAcquisitionDate=a,r.setTime(r.getTime()+31536e6);var o=[this.id,a],s=this.config.cookieDomain?this.config.cookieDomain():void 0;qu.setCookie(this._logger,Td.userCookieName,o.join(Td.cookieSeparator)+";expires="+r.toUTCString(),s);var c=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";qu.removeStorage(this._logger,c)}this.accountId=t.accountId?t.accountId():void 0;var l=qu.getCookie(this._logger,Td.authUserCookieName);if(l){var u=(l=decodeURI(l)).split(Td.cookieSeparator);u[0]&&(this.authenticatedId=u[0]),1<u.length&&u[1]&&(this.accountId=u[1])}}var Ld=function(){},Sd=function(t,e,n){this.traceID=t||qu.generateW3CId(),this.parentID=e,this.name=n,window&&window.location&&window.location.pathname&&(this.name=window.location.pathname)},kd=(Od.prototype.applySessionContext=function(t){var e=this.session||this.sessionManager.automaticSession;e&&"string"==typeof e.id&&(t.ext.app.sesId=e.id),this.session&&("string"==typeof this.session.id?t.ext.app.sesId=this.session.id:t.ext.app.sesId=this.sessionManager.automaticSession.id)},Od.prototype.applyOperatingSystemContxt=function(t){this.os&&this.os.name&&(t.ext.os=this.os)},Od.prototype.applyApplicationContext=function(t){this.application&&("string"==typeof this.application.ver&&(t.tags[_p.applicationVersion]=this.application.ver),"string"==typeof this.application.build&&(t.tags[_p.applicationBuild]=this.application.build))},Od.prototype.applyDeviceContext=function(t){this.device&&("string"==typeof this.device.id&&(t.ext.device.localId=this.device.id),"string"==typeof this.device.ip&&(t.ext.device.ip=this.device.ip),"string"==typeof this.device.model&&(t.ext.device.model=this.device.model),"string"==typeof this.device.deviceClass&&(t.ext.device.deviceClass=this.device.deviceClass))},Od.prototype.applyInternalContext=function(t){this.internal&&("string"==typeof this.internal.agentVersion&&(t.tags[_p.internalAgentVersion]=this.internal.agentVersion),"string"==typeof this.internal.sdkVersion&&(t.tags[_p.internalSdkVersion]=this.internal.sdkVersion))},Od.prototype.applyLocationContext=function(t){this.location&&"string"==typeof this.location.ip&&(t.tags[_p.locationIp]=this.location.ip)},Od.prototype.applyOperationContext=function(t){if(this.telemetryTrace){var e=t.ext.trace||{traceID:void 0,parentID:void 0};"string"==typeof this.telemetryTrace.traceID&&(e.traceID=this.telemetryTrace.traceID),"string"==typeof this.telemetryTrace.name&&(e.name=this.telemetryTrace.name),"string"==typeof this.telemetryTrace.parentID&&(e.parentID=this.telemetryTrace.parentID),t.ext.trace=e}},Od.prototype.applyWebContext=function(t){this.web&&(t.ext.web=t.ext.web||{},t.ext.web=this.web)},Od.prototype.applyUserContext=function(t){this.user&&(t.tags||(t.tags=[]),"string"==typeof this.user.accountId&&(t.tags[_p.userAccountId]=this.user.accountId),"string"==typeof this.user.id&&(t.ext.user.id=this.user.id),"string"==typeof this.user.authenticatedId&&(t.ext.user.authId=this.user.authenticatedId))},Od.prototype.cleanUp=function(t){t.ext[gp.DeviceExt]&&0===Object.keys(t.ext[gp.DeviceExt]).length&&delete t.ext[gp.DeviceExt],t.ext[gp.UserExt]&&0===Object.keys(t.ext[gp.UserExt]).length&&delete t.ext[gp.UserExt],t.ext[gp.WebExt]&&0===Object.keys(t.ext[gp.WebExt]).length&&delete t.ext[gp.WebExt],t.ext[gp.OSExt]&&0===Object.keys(t.ext[gp.OSExt]).length&&delete t.ext[gp.OSExt],t.ext[gp.AppExt]&&0===Object.keys(t.ext[gp.AppExt]).length&&delete t.ext[gp.AppExt],t.ext[gp.TraceExt]&&0===Object.keys(t.ext[gp.TraceExt]).length&&delete t.ext[gp.TraceExt]},Od);function Od(t,e){"undefined"!=typeof window&&(this.sessionManager=new vd(e,t),this.application=new bd,this.device=new xd,this.internal=new wd(e),this.location=new Ld,this.user=new Ad(e,t),this.telemetryTrace=new Sd,this.session=new _d),this.appId=function(){return null}}var zd=(Cd.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){}}},Cd.prototype.initialize=function(t,e,n){var i=this,r=Cd.getDefaultConfig();function a(e){o._extensionConfig[e]=function(){return hp.getConfig(t,e,i.identifier,r[e]())}}this._extensionConfig=this._extensionConfig||Cd.getDefaultConfig();var o=this;for(var s in r)a(s);this._logger=e.logger,this.context=new kd(e.logger,this._extensionConfig),this._breezeChannel=qu.getExtension(n,Mp),this.context.appId=function(){return i._breezeChannel?i._breezeChannel._appId:null}},Cd.prototype.processTelemetry=function(t){ll.isNullOrUndefined(t)||(t.name===Yh.envelopeType&&this._logger.resetInternalMessageCount(),this.context.session&&"string"!=typeof this.context.session.id&&this.context.sessionManager.update(),this._processTelemetryInternal(t),ll.isNullOrUndefined(this._nextPlugin)||this._nextPlugin.processTelemetry(t))},Cd.prototype.setNextPlugin=function(t){this._nextPlugin=t},Cd.prototype._processTelemetryInternal=function(t){t.tags||(t.tags=[]),t.ext||(t.ext={}),t.ext[gp.DeviceExt]=t.ext[gp.DeviceExt]||{},t.ext[gp.WebExt]=t.ext[gp.WebExt]||{},t.ext[gp.UserExt]=t.ext[gp.UserExt]||{},t.ext[gp.OSExt]=t.ext[gp.OSExt]||{},t.ext[gp.AppExt]=t.ext[gp.AppExt]||{},t.ext[gp.TraceExt]=t.ext[gp.TraceExt]||{},this.context.applySessionContext(t),this.context.applyApplicationContext(t),this.context.applyDeviceContext(t),this.context.applyOperationContext(t),this.context.applyUserContext(t),this.context.applyOperatingSystemContxt(t),this.context.applyWebContext(t),this.context.applyLocationContext(t),this.context.applyInternalContext(t),this.context.cleanUp(t)},Cd);function Cd(){this.priority=110,this.identifier=vp}var Ed=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.onreadystatechangeCallbackAttached=!1},Dd=(Nd.prototype.getAbsoluteUrl=function(){return this.requestUrl?Wu.getAbsoluteUrl(this.requestUrl):null},Nd.prototype.getPathName=function(){return this.requestUrl?Bu.sanitizeUrl(this._logger,Wu.getCompleteUrl(this.method,this.requestUrl)):null},Nd);function Nd(t,e,n){this.completed=!1,this.requestHeadersSize=null,this.requestHeaders=null,this.ttfb=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=null,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.originalOnreadystatechage=null,this.xhrMonitoringState=new Ed,this.clientFailure=0,this.CalculateMetrics=function(){this.ajaxTotalDuration=Math.round(1e3*Vu.GetDuration(this.requestSentTime,this.responseFinishedTime))/1e3},this.traceID=t,this.spanID=e,this._logger=n}var Id=(Pd.AttachEvent=function(t,e,n){var i=!1;return ll.isNullOrUndefined(t)||(ll.isNullOrUndefined(t.attachEvent)?ll.isNullOrUndefined(t.addEventListener)||(t.addEventListener(e,n,!1),i=!0):(t.attachEvent("on"+e,n),i=!0)),i},Pd.DetachEvent=function(t,e,n){ll.isNullOrUndefined(t)||(ll.isNullOrUndefined(t.detachEvent)?ll.isNullOrUndefined(t.removeEventListener)||t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n))},Pd);function Pd(){}var Bd=(Rd.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==t},Rd.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==t},Rd.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},Rd.DEFAULT_TRACE_FLAG="00",Rd.DEFAULT_VERSION="00",Rd);function Rd(t,e){this.traceFlag=Rd.DEFAULT_TRACE_FLAG,this.version=Rd.DEFAULT_VERSION,t&&Rd.isValidTraceId(t)?this.traceId=t:this.traceId=qu.generateW3CId(),e&&Rd.isValidSpanId(e)?this.spanId=e:this.spanId=qu.generateW3CId().substr(0,16)}var qd=(Yd.prototype.isMonitoredInstance=function(t,e,n,i){var r=!1,a=!0,o=!1;return void 0!==n?(o=this._fetchInitialized,r="object"==typeof n&&!0===n[Zu]||!!i&&!0===i[Zu]):void 0!==t&&(o=this.initialized,r=!0===t[Zu],a=!0===e||!ll.isNullOrUndefined(t.ajaxData)),o&&a&&!r},Yd.prototype.supportsAjaxMonitoring=function(){var t=!0;(ll.isNullOrUndefined(XMLHttpRequest)||ll.isNullOrUndefined(XMLHttpRequest.prototype)||ll.isNullOrUndefined(XMLHttpRequest.prototype.open)||ll.isNullOrUndefined(XMLHttpRequest.prototype.send)||ll.isNullOrUndefined(XMLHttpRequest.prototype.abort))&&(t=!1);try{" a ".trim()}catch(e){t=!1}return t},Yd.prototype.instrumentOpen=function(){var t=XMLHttpRequest.prototype.open,e=this;XMLHttpRequest.prototype.open=function(n,i,r){try{!e.isMonitoredInstance(this,!0)||this.ajaxData&&this.ajaxData.xhrMonitoringState.openDone||e.openHandler(this,n,i,r)}catch(n){e._core.logger.throwInternal(hl.CRITICAL,Cl,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Yd.getFailedAjaxDiagnosticsMessage(this),exception:qu.dump(n)})}return t.apply(this,arguments)}},Yd.prototype.openHandler=function(t,e,n,i){var r=this._context&&this._context.telemetryTrace&&this._context.telemetryTrace.traceID||qu.generateW3CId(),a=qu.generateW3CId().substr(0,16),o=new Dd(r,a,this._core.logger);o.method=e,o.requestUrl=n,o.xhrMonitoringState.openDone=!0,o.requestHeaders={},t.ajaxData=o,this.attachToOnReadyStateChange(t)},Yd.getFailedAjaxDiagnosticsMessage=function(t){var e="";try{ll.isNullOrUndefined(t)||ll.isNullOrUndefined(t.ajaxData)||ll.isNullOrUndefined(t.ajaxData.requestUrl)||(e+="(url: '"+t.ajaxData.requestUrl+"')")}catch(t){}return e},Yd.prototype.instrumentSend=function(){var t=XMLHttpRequest.prototype.send,e=this;XMLHttpRequest.prototype.send=function(n){try{e.isMonitoredInstance(this)&&!this.ajaxData.xhrMonitoringState.sendDone&&e.sendHandler(this,n)}catch(n){e._core.logger.throwInternal(hl.CRITICAL,Dl,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Yd.getFailedAjaxDiagnosticsMessage(this),exception:qu.dump(n)})}return t.apply(this,arguments)}},Yd.prototype.sendHandler=function(t,e){t.ajaxData.requestSentTime=Vu.Now(),(t=this.includeCorrelationHeaders(t.ajaxData,void 0,void 0,t)).ajaxData.xhrMonitoringState.sendDone=!0},Yd.prototype.instrumentAbort=function(){var t=XMLHttpRequest.prototype.abort,e=this;XMLHttpRequest.prototype.abort=function(){try{e.isMonitoredInstance(this)&&!this.ajaxData.xhrMonitoringState.abortDone&&(this.ajaxData.aborted=1,this.ajaxData.xhrMonitoringState.abortDone=!0)}catch(t){e._core.logger.throwInternal(hl.CRITICAL,Ol,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Yd.getFailedAjaxDiagnosticsMessage(this),exception:qu.dump(t)})}return t.apply(this,arguments)}},Yd.prototype.instrumentSetRequestHeader=function(){if(this._config.enableRequestHeaderTracking){var t=XMLHttpRequest.prototype.setRequestHeader,e=this;XMLHttpRequest.prototype.setRequestHeader=function(n,i){try{e.isMonitoredInstance(this)&&(this.ajaxData.requestHeaders[n]=i)}catch(n){e._core.logger.throwInternal(hl.CRITICAL,Lu,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Yd.getFailedAjaxDiagnosticsMessage(this),exception:qu.dump(n)})}return t.apply(this,arguments)}}},Yd.prototype.attachToOnReadyStateChange=function(t){var e=this;t.ajaxData.xhrMonitoringState.onreadystatechangeCallbackAttached=Id.AttachEvent(t,"readystatechange",(function(){try{e.isMonitoredInstance(t)&&4===t.readyState&&e.onAjaxComplete(t)}catch(i){var n=qu.dump(i);n&&-1!=n.toLowerCase().indexOf("c00c023f")||e._core.logger.throwInternal(hl.CRITICAL,El,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Yd.getFailedAjaxDiagnosticsMessage(t),exception:qu.dump(i)})}}))},Yd.prototype.onAjaxComplete=function(t){if(t.ajaxData.responseFinishedTime=Vu.Now(),t.ajaxData.status=t.status,t.ajaxData.CalculateMetrics(),t.ajaxData.ajaxTotalDuration<0)this._core.logger.throwInternal(hl.WARNING,zl,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",{ajaxDiagnosticsMessage:Yd.getFailedAjaxDiagnosticsMessage(t),requestSentTime:t.ajaxData.requestSentTime,responseFinishedTime:t.ajaxData.responseFinishedTime});else{var e={id:"|"+t.ajaxData.traceID+"."+t.ajaxData.spanID,target:t.ajaxData.getAbsoluteUrl(),name:t.ajaxData.getPathName(),type:"Ajax",duration:t.ajaxData.ajaxTotalDuration,success:200<=+t.ajaxData.status&&+t.ajaxData.status<400,responseCode:+t.ajaxData.status,method:t.ajaxData.method},n=this.getAjaxCorrelationContext(t);if(n&&(e.correlationContext=n),this._config.enableRequestHeaderTracking&&0<Object.keys(t.ajaxData.requestHeaders).length&&(e.properties=e.properties||{},e.properties.requestHeaders={},e.properties.requestHeaders=t.ajaxData.requestHeaders),this._config.enableResponseHeaderTracking){var i=t.getAllResponseHeaders();if(i){var r=i.trim().split(/[\r\n]+/),a={};r.forEach((function(t){var e=t.split(": "),n=e.shift(),i=e.join(": ");a[n]=i})),0<Object.keys(a).length&&(e.properties=e.properties||{},e.properties.responseHeaders={},e.properties.responseHeaders=a)}}this.trackDependencyDataInternal(e),t.ajaxData=null}},Yd.prototype.getAjaxCorrelationContext=function(t){try{var e=t.getAllResponseHeaders();if(null!==e&&-1!==e.toLowerCase().indexOf(Iu.requestContextHeaderLowerCase)){var n=t.getResponseHeader(Iu.requestContextHeader);return Fu.getCorrelationContext(n)}}catch(e){this._core.logger.throwInternal(hl.WARNING,Nl,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Yd.getFailedAjaxDiagnosticsMessage(t),exception:qu.dump(e)})}},Yd.prototype.trackDependencyDataInternal=function(t,e,n){if(-1===this._config.maxAjaxCallsPerView||this._trackAjaxAttempts<this._config.maxAjaxCallsPerView){var i=fp.create(t,Xh.dataType,Xh.envelopeType,this._core.logger,e,n);this._core.track(i)}else this._trackAjaxAttempts===this._config.maxAjaxCallsPerView&&this._core.logger.throwInternal(hl.CRITICAL,pu,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++this._trackAjaxAttempts},Yd.prototype.trackDependencyData=function(t,e){this.trackDependencyDataInternal(t,e)},Yd.prototype.processTelemetry=function(t){this._nextPlugin&&this._nextPlugin.processTelemetry&&this._nextPlugin.processTelemetry(t)},Yd.prototype.setNextPlugin=function(t){t&&(this._nextPlugin=t)},Yd.prototype.instrumentFetch=function(){if(this.supportsFetch()&&!this._fetchInitialized){var t=window.fetch,e=this;window.fetch=function(n,i){var r;if(e.isFetchInstrumented(n)&&e.isMonitoredInstance(void 0,void 0,n,i))try{r=e.createFetchRecord(n,i),i=e.includeCorrelationHeaders(r,n,i)}catch(i){e._core.logger.throwInternal(hl.CRITICAL,Cl,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.",{ajaxDiagnosticsMessage:this.getFailedFetchDiagnosticsMessage(n),exception:qu.dump(i)})}return t(n,i).then((function(t){return e.onFetchComplete(t,r),t})).catch((function(t){throw e.onFetchFailed(n,r,t),t}))},this._fetchInitialized=!0}},Yd.prototype.isFetchInstrumented=function(t){return this._fetchInitialized&&!0!==t[Zu]},Yd.prototype.supportsFetch=function(){var t=!0;return(!window||ll.isNullOrUndefined(window.Request)||ll.isNullOrUndefined(window.Request.prototype)||ll.isNullOrUndefined(window.fetch))&&(t=!1),t},Yd.prototype.createFetchRecord=function(t,e){var n=this._context&&this._context.telemetryTrace&&this._context.telemetryTrace.traceID||qu.generateW3CId(),i=qu.generateW3CId().substr(0,16),r=new Dd(n,i,this._core.logger);return r.requestSentTime=Vu.Now(),t instanceof Request?r.requestUrl=t?t.url:"":r.requestUrl=t,e&&e.method?r.method=e.method:t&&t instanceof Request?r.method=t.method:r.method="GET",e&&e.headers&&this._config.enableRequestHeaderTracking?r.requestHeaders=e.headers:r.requestHeaders={},r},Yd.prototype.includeCorrelationHeaders=function(t,e,n,i){if(e){if(Fu.canIncludeCorrelationHeader(this._config,t.getAbsoluteUrl(),this.currentWindowHost)){if((n=n||{}).headers=new Headers(n.headers||e instanceof Request&&e.headers||{}),this._isUsingAIHeaders){var r="|"+t.traceID+"."+t.spanID;n.headers.set(Iu.requestIdHeader,r),this._config.enableRequestHeaderTracking&&(t.requestHeaders[Iu.requestIdHeader]=r)}var a=this._config.appId||this._context.appId();if(a&&(n.headers.set(Iu.requestContextHeader,Iu.requestContextAppIdFormat+a),this._config.enableRequestHeaderTracking&&(t.requestHeaders[Iu.requestContextHeader]=Iu.requestContextAppIdFormat+a)),this._isUsingW3CHeaders){var o=new Bd(t.traceID,t.spanID);n.headers.set(Iu.traceParentHeader,o.toString()),this._config.enableRequestHeaderTracking&&(t.requestHeaders[Iu.traceParentHeader]=o.toString())}return n}return n}if(i){if(this.currentWindowHost&&Fu.canIncludeCorrelationHeader(this._config,i.ajaxData.getAbsoluteUrl(),this.currentWindowHost)){this._isUsingAIHeaders&&(r="|"+i.ajaxData.traceID+"."+i.ajaxData.spanID,i.setRequestHeader(Iu.requestIdHeader,r),this._config.enableRequestHeaderTracking&&(i.ajaxData.requestHeaders[Iu.requestIdHeader]=r));var s=this._config.appId||this._context.appId();s&&(i.setRequestHeader(Iu.requestContextHeader,Iu.requestContextAppIdFormat+s),this._config.enableRequestHeaderTracking&&(i.ajaxData.requestHeaders[Iu.requestContextHeader]=Iu.requestContextAppIdFormat+s)),this._isUsingW3CHeaders&&(o=new Bd(i.ajaxData.traceID,i.ajaxData.spanID),i.setRequestHeader(Iu.traceParentHeader,o.toString()),this._config.enableRequestHeaderTracking&&(i.ajaxData.requestHeaders[Iu.traceParentHeader]=o.toString()))}return i}},Yd.prototype.getFailedFetchDiagnosticsMessage=function(t){var e="";try{ll.isNullOrUndefined(t)||(e+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){this._core.logger.throwInternal(hl.CRITICAL,Cl,"Failed to grab failed fetch diagnostics message",{exception:qu.dump(t)})}return e},Yd.prototype.onFetchComplete=function(t,e){if(e)try{if(e.responseFinishedTime=Vu.Now(),e.CalculateMetrics(),e.ajaxTotalDuration<0)this._core.logger.throwInternal(hl.WARNING,zl,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",{fetchDiagnosticsMessage:this.getFailedFetchDiagnosticsMessage(t),requestSentTime:e.requestSentTime,responseFinishedTime:e.responseFinishedTime});else{var n={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:"Fetch",duration:e.ajaxTotalDuration,success:200<=t.status&&t.status<400,responseCode:t.status,properties:{HttpMethod:e.method}},i=this.getFetchCorrelationContext(t);if(i&&(n.correlationContext=i),this._config.enableRequestHeaderTracking&&0<Object.keys(e.requestHeaders).length&&(n.properties=n.properties||{},n.properties.requestHeaders=e.requestHeaders),this._config.enableResponseHeaderTracking){var r={};t.headers.forEach((function(t,e){r[e]=t})),0<Object.keys(r).length&&(n.properties=n.properties||{},n.properties.responseHeaders=r)}this.trackDependencyDataInternal(n)}}catch(e){this._core.logger.throwInternal(hl.WARNING,Nl,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",{fetchDiagnosticsMessage:this.getFailedFetchDiagnosticsMessage(t),exception:qu.dump(e)})}},Yd.prototype.onFetchFailed=function(t,e,n){if(e)try{if(e.responseFinishedTime=Vu.Now(),e.CalculateMetrics(),e.ajaxTotalDuration<0)this._core.logger.throwInternal(hl.WARNING,zl,"Failed to calculate the duration of the failed fetch call, monitoring data for this fetch call won't be sent.",{fetchDiagnosticsMessage:this.getFailedFetchDiagnosticsMessage(t),requestSentTime:e.requestSentTime,responseFinishedTime:e.responseFinishedTime});else{var i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:"Fetch",duration:e.ajaxTotalDuration,success:!1,responseCode:0,properties:{HttpMethod:e.method}};this.trackDependencyDataInternal(i,{error:n.message})}}catch(e){this._core.logger.throwInternal(hl.WARNING,Nl,"Failed to calculate the duration of the failed fetch call, monitoring data for this fetch call won't be sent.",{fetchDiagnosticsMessage:this.getFailedFetchDiagnosticsMessage(t),exception:qu.dump(e)})}},Yd.prototype.getFetchCorrelationContext=function(t){try{var e=t.headers.get(Iu.requestContextHeader);return Fu.getCorrelationContext(e)}catch(e){this._core.logger.throwInternal(hl.WARNING,Nl,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:this.getFailedFetchDiagnosticsMessage(t),exception:qu.dump(e)})}},Yd.prototype.instrumentXhr=function(){this.supportsAjaxMonitoring()&&!this.initialized&&(this.instrumentOpen(),this.instrumentSend(),this.instrumentAbort(),this.instrumentSetRequestHeader(),this.initialized=!0)},Yd.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,disableCorrelationHeaders:!1,distributedTracingMode:il.AI,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1}},Yd.getEmptyConfig=function(){return{maxAjaxCallsPerView:void 0,disableAjaxTracking:void 0,disableFetchTracking:void 0,disableCorrelationHeaders:void 0,distributedTracingMode:void 0,correlationHeaderExcludedDomains:void 0,appId:void 0,enableCorsCorrelation:void 0,correlationHeaderDomains:void 0,enableRequestHeaderTracking:void 0,enableResponseHeaderTracking:void 0}},Yd.prototype.initialize=function(t,e,n){if(!this.initialized&&!this._fetchInitialized){this._core=e;var i=Yd.getDefaultConfig();for(var r in this._config=Yd.getEmptyConfig(),i)this._config[r]=hp.getConfig(t,r,Yd.identifier,i[r]);if(this._isUsingAIHeaders=this._config.distributedTracingMode===il.AI||this._config.distributedTracingMode===il.AI_AND_W3C,this._isUsingW3CHeaders=this._config.distributedTracingMode===il.AI_AND_W3C||this._config.distributedTracingMode===il.W3C,!1===this._config.disableAjaxTracking&&this.instrumentXhr(),!1===this._config.disableFetchTracking&&this.instrumentFetch(),0<n.length&&n){for(var a=void 0,o=0;!a&&o<n.length;)n[o]&&n[o].identifier===vp&&(a=n[o]),o++;a&&(this._context=a.context)}}},Yd.identifier="AjaxDependencyPlugin",Yd);function Yd(){this._trackAjaxAttempts=0,this.identifier=Yd.identifier,this.priority=120,this.currentWindowHost=window&&window.location&&window.location.host&&window.location.host.toLowerCase(),this.initialized=!1,this._fetchInitialized=!1}var Wd=(jd.prototype.trackEvent=function(t,e){this.appInsights.trackEvent(t,e)},jd.prototype.trackPageView=function(t){var e=t||{};this.appInsights.trackPageView(e)},jd.prototype.trackPageViewPerformance=function(t){var e=t||{};this.appInsights.trackPageViewPerformance(e)},jd.prototype.trackException=function(t){!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t)},jd.prototype._onerror=function(t){this.appInsights._onerror(t)},jd.prototype.trackTrace=function(t,e){this.appInsights.trackTrace(t,e)},jd.prototype.trackMetric=function(t,e){this.appInsights.trackMetric(t,e)},jd.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},jd.prototype.stopTrackPage=function(t,e,n,i){this.appInsights.stopTrackPage(t,e,n,i)},jd.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},jd.prototype.stopTrackEvent=function(t,e,n){this.appInsights.stopTrackEvent(t,e,n)},jd.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},jd.prototype.setAuthenticatedUserContext=function(t,e,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(t,e,n)},jd.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},jd.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},jd.prototype.flush=function(t){void 0===t&&(t=!0),this.core.getTransmissionControls().forEach((function(e){e.forEach((function(e){e.flush(t)}))}))},jd.prototype.onunloadFlush=function(t){void 0===t&&(t=!0),this.core.getTransmissionControls().forEach((function(e){e.forEach((function(e){e.onunloadFlush?e.onunloadFlush():e.flush(t)}))}))},jd.prototype.loadAppInsights=function(t){if(void 0===t&&(t=!1),t&&this.config.extensions&&0<this.config.extensions.length)throw new Error("Extensions not allowed in legacy mode");var e=[],n=new gd;return e.push(n),e.push(this.properties),e.push(this.dependencies),e.push(this.appInsights),this.core.initialize(this.config,e),this.emptyQueue(),this.pollInternalLogs(),this.addHousekeepingBeforeUnload(this),this.context=this.properties.context,this},jd.prototype.updateSnippetDefinitions=function(t){for(var e in this)"string"==typeof e&&(t[e]=this[e])},jd.prototype.emptyQueue=function(){try{if(qu.isArray(this.snippet.queue)){for(var t=this.snippet.queue.length,e=0;e<t;e++)(0,this.snippet.queue[e])();this.snippet.queue=void 0,delete this.snippet.queue}}catch(t){var n={};t&&"function"==typeof t.toString&&(n.exception=t.toString())}},jd.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},jd.prototype.addHousekeepingBeforeUnload=function(t){!t.appInsights.config.disableFlushOnBeforeUnload&&"onbeforeunload"in window&&(qu.addEventHandler("beforeunload",(function(){t.onunloadFlush(!1);var e=t.appInsights.core._extensions[vp];e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup()}))||t.appInsights.core.logger.throwInternal(hl.CRITICAL,Il,"Could not add handler for beforeunload"))},jd.prototype.getSKUDefaults=function(){this.config.diagnosticLogInterval=this.config.diagnosticLogInterval&&0<this.config.diagnosticLogInterval?this.config.diagnosticLogInterval:1e4},jd);function jd(t){t.queue=t.queue||[],t.version=t.version||2;var e=t.config||{};e&&!e.instrumentationKey&&(e=t,Op.Version="2.2.2"),this.appInsights=new Op,this.properties=new zd,this.dependencies=new qd,this.core=new Du,this.snippet=t,this.config=e,this.getSKUDefaults()}var Fd=(Hd.prototype.trackEvent=function(t,e){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.trackEvent(t,e)},Hd.prototype.setAuthenticatedUserContext=function(t,e){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.setAuthenticatedUserContext(t,e)},Hd.prototype.trackException=function(t){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.trackException(t)},Hd.prototype.flush=function(t){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.flush(t)},Hd);function Hd(t){this.options=t,!this.options.disableTelemetry&&u&&(this.appInsights=new Wd({config:{instrumentationKey:u,disableExceptionTracking:!0,disableAjaxTracking:!0,isCookieUseDisabled:!0,maxBatchInterval:5e3}}),this.appInsights.loadAppInsights(),this.appInsights.addTelemetryInitializer((function(t){t.tags[_p.applicationVersion]=I.getFullVersion()})))}var Ud=(Xd.prototype.onAdd=function(t){return this.container=document.createElement("div"),this.container.className="azure-map-logo",this.container},Xd.prototype.onRemove=function(){this.container.remove()},Xd);function Xd(){}var Vd,Gd=(x(Kd,Vd=L),Kd);function Kd(){var t=null!==Vd&&Vd.apply(this,arguments)||this;return t.copyrightMessage=void 0,t.showFeedbackLink=!0,t}var Zd,Jd=(x(Qd,Zd=st),Qd.prototype.onAdd=function(t){return this.container=this.buildContainer(t,e.ControlStyle.auto),this.container.className="map-copyright",this.copyrightDiv=this.buildCopyrightDiv(),this.container.appendChild(this.copyrightDiv),this.options.showFeedbackLink&&(this.feedbackLink=this.buildFeedbackLink(),this.container.appendChild(this.feedbackLink)),this.container},Qd.prototype.onRemove=function(){Zd.prototype.onRemove.call(this),delete this.container},Qd.prototype.setOptions=function(t){var e=(new Gd).merge(this.options,t);e.copyrightMessage!==this.options.copyrightMessage&&(this.copyrightDiv.innerText=e.copyrightMessage),!e.showFeedbackLink&&this.feedbackLink?(this.feedbackLink.remove(),delete this.feedbackLink):e.showFeedbackLink&&!this.feedbackLink&&(this.feedbackLink=this.buildFeedbackLink(),this.container.appendChild(this.feedbackLink)),this.options=e},Qd.prototype.buildCopyrightDiv=function(){var t=document.createElement("div");return t.innerText=this.options.copyrightMessage||"",t},Qd.prototype.buildFeedbackLink=function(){var t=document.createElement("a");return t.textContent="Improve this map",t.href="https://feedback.azuremaps.com",t.target="_blank",t.rel="noopener",t},Qd);function Qd(t){var e=Zd.call(this)||this;return e.options=(new Gd).merge(t),e}var $d=(tf.throwOnError=function(t,e){var n=t instanceof ig?t._getMap():t,i=function(t){throw n.off("error",i),t.error};n.on("error",i);var r=e();return n.off("error",i),r},tf.tryCatch=function(t,e,n,i){try{return this.throwOnError(t,e)}catch(t){return n(t)}finally{"function"==typeof i&&i()}},tf.tryFinally=function(t,e,n){try{return this.throwOnError(t,e)}finally{n()}},tf);function tf(){}var ef=(nf.prototype.request=function(t){var e={domain:this.map.getServiceOptions().domain,path:"search/address/reverse/json",queryParams:w({"api-version":"1.0",language:t.style.language,limit:1,query:ia(t.position[1])+","+ra(t.position[0])},t.style.view&&{view:t.style.view})};return new C(this.map.authentication.signRequest(e)).get()},nf);function nf(t){this.map=t}var rf=(af.prototype.cache=function(t,e,n,i){var r=t+"_"+n[0]+"_"+n[1]+"_"+i;this._labelIdx[e.labelType]||(this._labelIdx[e.labelType]=[],this._labelCache[e.labelType]=[]),-1===this._labelIdx[e.labelType].indexOf(r)&&(this._labelCache[e.labelType].push({name:t,radius:e.radius,minZoom:e.minZoom,maxZoom:e.maxZoom||24,position:n}),this._labelIdx[e.labelType].push(r))},af.prototype.getNearestLabel=function(t,e,n){var i=null,r=this._labelCache[t];if(r)for(var a=1/0,o=0,s=r.length;o<s;o++)if(n>=r[o].minZoom&&n<=r[o].maxZoom){var c=Jr(r[o].position,e);c<=r[o].radius&&c<=a&&(a=c,i=r[o])}return i},af.prototype._preloadCache=function(t){if(!this._preloadedCache.has(t)){this._preloadedCache.add(t);var e={source:["Ocean label","Ocean name"],labelType:"water",minZoom:0,radius:395e4,polygonSources:["Ocean","Ocean or sea"]},n=t,i=n.indexOf("-");switch(-1!==i&&(n=n.substr(0,i)),n){case"fr":this.cache("Ocan Pacifique",e,[-170,32],t),this.cache("Ocan Pacifique",e,[-138,-27],t),this.cache("Ocan Atlantique",e,[-40,32],t),this.cache("Ocan Atlantique",e,[-17,-29],t);break;case"es":this.cache("Ocan Pacifique",e,[-170,32],t),this.cache("Ocan Pacifique",e,[-138,-27],t),this.cache("Ocano Atlntico",e,[-40,32],t),this.cache("Ocano Atlntico",e,[-17,-29],t);break;case"pt":this.cache("Oceano Pacfico",e,[-170,32],t),this.cache("Oceano Pacfico",e,[-138,-27],t),this.cache("Oceano Atlntico",e,[-40,32],t),this.cache("Oceano Atlntico",e,[-17,-29],t);break;case"ja":this.cache("",e,[-170,32],t),this.cache("",e,[-138,-27],t);break;case"en":this.cache("Pacific Ocean",e,[-170,32],t),this.cache("Pacific Ocean",e,[-138,-27],t),this.cache("Atlantic Ocean",e,[-40,32],t),this.cache("Atlantic Ocean",e,[-17,-29],t),this.cache("Indian Ocean",e,[77,-26],t)}}},af);function af(){this._labelCache={},this._labelIdx={},this._preloadedCache=new Set}var of=(sf.prototype.dispose=function(){this._disposed=!0,this._map._getMap().off("move",this._onMove),this._map._getMap().off("moveend",this._onMoveEnd),this._map._getMap().off("styledata",this._onStyleData),this._map._getMap().off("rotate",this._onRotate),this._map.getCanvas().removeEventListener("mousedown",this._onPointerDown),this._map.getCanvas().removeEventListener("touchstart",this._onPointerDown),this._map.getMapContainer().removeEventListener("keydown",this._shortcutListener)},sf.prototype._getEventPos=function(t){if("touches"in t){var e=t.touches[0],n=t.target.getBoundingClientRect();return[e.pageX-n.left,e.pageY-n.top]}return[t.offsetX,t.offsetY]},sf.prototype._checkThresholds=function(t,e){return this._checkZoomThreshold(t.zoom,e.zoom)||this._checkPitchThreshold(t.pitch,e.pitch)||this._checkLocThreshold(t.center,e.center)||this._checkHeadingThreshold(t.bearing,e.bearing)},sf.prototype._checkZoomThreshold=function(t,e){return this._round(t)!==this._round(e)},sf.prototype._checkPitchThreshold=function(t,e){return Math.abs(t-e)>=this._pitchThreshold},sf.prototype._checkLocThreshold=function(t,e){var n=this._map.positionsToPixels([e,t]),i=n[0],r=n[1];return gr.getDistance(i,r)>=this._moveThreshold},sf.prototype._checkHeadingThreshold=function(t,e){t<0&&(t+=360),e<0&&(e+=360);var n=Math.abs(t-e);return 180<n&&(n=360-n),n>=this._headingThreshold},sf.prototype._getLocDesc=function(t,e,n){return A(this,void 0,void 0,(function(){var i,r,a,o,s,c,l,u,h,p=this;return T(this,(function(d){switch(d.label){case 0:return"blank"===n?[3,3]:this._map._getMap().loaded()?[3,2]:[4,new Promise((function(t){return p._map._getMap().once("idle",t)}))];case 1:d.sent(),d.label=2;case 2:for(i={},r=this._map.positionsToPixels([t.center])[0],$d.tryCatch(this._map,(function(){a=p._map._getMap().queryRenderedFeatures(r,{layers:p._polygonStyleLayer,filter:["==",["geometry-type"],"Polygon"]})}),(function(){})),o=null,a&&0<a.length&&(o=a[0]),s=null,c=0,l=this._lableConfig.length;c<l;c++)u=this._lableConfig[c],t.zoom>=u.minZoom?u.polygonSources?o&&-1!==u.polygonSources.indexOf(o.layer["source-layer"])?(s=u.labelType,this._getClosestLabel(u,t,e,i,!1)):this._getClosestLabel(u,t,e,i,!0):this._getClosestLabel(u,t,e,i,!1):this._getClosestLabel(u,t,e,i,!0);return 8<=t.zoom&&this._processRoads(i,t,e),this._labelCache.forEach((function(e){i[e]||(h=null,("water"!==e&&"majorPoi"!==e||e===s)&&(h=sf._labelCache.getNearestLabel(e,t.center,t.zoom)),h&&(i[e]=h.name))})),[2,this._processLocInfo(t,s,i,!0,this._restFallback)];case 3:return[2,this._processLocInfo(t,null,null,!1,!1)]}}))}))},sf.prototype._getHeadingDesc=function(t){var e=t.bearing;switch(e<0&&(e+=360),e=this._round(e,this._headingThreshold)){case 0:case 360:return"north";case 45:return"north east";case 90:return"east";case 135:return"south east";case 180:return"south";case 225:return"south west";case 270:return"west";case 315:return"north west";default:return e+" degrees"}},sf.prototype._getClosestLabel=function(t,e,n,i,r){for(var a=t.radius,o=0,s=t.source.length;o<s;o++){var c={sourceLayer:t.source[o]},l=this._map._getMap().querySourceFeatures(this._baseVectorTileSourceId,c),u=null,h=1/0,p=this._labelCache.has(t.labelType);if(!r||r&&p)for(var d=0,f=l.length;d<f;d++){var m="Point"===l[d].geometry.type?l[d]:va(e.center,l[d].geometry);if(!r){var g="Point"===l[d].geometry.type?Jr(e.center,m.geometry.coordinates):m.properties.distance;g<h&&(h=g,u=l[d])}p&&sf._labelCache.cache(l[d].properties.name,t,m.geometry.coordinates,n)}if(!r){var y=t.labelType+"Dis";u&&h<=a&&("number"!=typeof i[y]||h<=i[y])&&(i[t.labelType]=u.properties.name,i[y]=h)}}},sf.prototype._processRoads=function(t,e,n,i){var r=this._map._getMap().queryRenderedFeatures(i,{filter:["==",["geometry-type"],"LineString"]});if(r){for(var a=void 0,o=void 0,s=void 0,c=void 0,l=0,u=r.length;l<u;l++)if(this._roadLayers.has(r[l].layer["source-layer"])&&r[l].properties.name&&""!==r[l].properties.name){var h=va(e.center,r[l]);(!s||h.properties.distance<s.properties.distance)&&(a&&r[l].properties.name===a.properties.name?s=h:a&&r[l].properties.name===a.properties.name?(!c||h.properties.distance<c.properties.distance)&&(c=h,o=r[l]):(c=s,o=a,s=h,a=r[l]))}if(a&&(t.country||(t.country=a.properties.country_code,t.countryDis=0,sf._labelCache.cache(t.country,{source:["Country name"],labelType:"country",radius:5e3,minZoom:0},s.geometry.coordinates,n)),t.state||(t.state=a.properties.country_subdivision,t.stateDis=0,sf._labelCache.cache(t.state,{source:["State name"],labelType:"state",radius:5e3,minZoom:4},s.geometry.coordinates,n)),15<=e.zoom)){var p=this._map.positionsToPixels([e.center,s.geometry.coordinates]),d=gr.getDistance(p[0],p[1]);if((d<this._roadPixelRadius||s.properties.distance<this._minRoadDistance)&&(t.road=a.properties.name),o){var f=this._map.positionsToPixels([c.geometry.coordinates]);((d=gr.getDistance(p[0],f[0]))<this._minIntersectionPixelDistance||c.properties.distance<this._minRoadDistance)&&(t.secondRoad=o.properties.name,t.secondRoadDis=c.properties.distance)}}}},sf.prototype._getActionDesc=function(t){if(this._lastCam){var e=[];if(this._checkLocThreshold(t.center,this._lastCam.center)){var n=["panned"],i=Math.round($r(this._lastCam.center,t.center));0===i||360===i?n.push("north"):i<90?n.push("north east"):90===i?n.push("east"):i<180?n.push("south east"):180===i?n.push("south"):i<270?n.push("south west"):270===i?n.push("west"):i<360&&n.push("north west");var r=Jr(this._lastCam.center,t.center,xr.meters);n.push(1e3<r?Gr(r/1e3,2)+" kilometers":Gr(r,2)+" meters"),e.push(n.join(" "))}if(this._checkZoomThreshold(t.zoom,this._lastCam.zoom)){(n=["zoomed"]).push(this._lastCam.zoom<t.zoom?"in":"out");var a=Math.abs(this._lastCam.zoom-t.zoom);1<=a&&(a=Math.ceil(a),n.push(1<a?a+" levels":a+" level")),this._getCanonicalZoom(this._lastCam.zoom)!==this._getCanonicalZoom(t.zoom)&&n.push("to "+this._getCanonicalZoom(t.zoom)+" level"),e.push(n.join(" "))}if(this._checkPitchThreshold(t.pitch,this._lastCam.pitch)){var o=this._round(t.pitch,this._pitchThreshold);if(e.push("pitched to "+o+" degrees"),60===t.pitch||0===t.pitch){var s=60===t.pitch?"maximum":"minimum";e.push("reached "+s+" of "+t.pitch+" degrees")}}return this._checkHeadingThreshold(this._lastCam.bearing,t.bearing)&&e.push("rotated to "+this._getHeadingDesc(t)),e.join(" and ")||null}return null},sf.prototype._getCanonicalZoom=function(t){return(t=this._round(t))<2?"world":t<5?"country":t<11?"state province":t<15?"city":"street"},sf.prototype._processLocInfo=function(t,e,n,i,r){var a=this;return new Promise((function(o,s){var c=[];if(i){var l=[];if(n&&(e&&("water"===e&&n.water?l.push(n.water):"majorPoi"===e&&n.majorPoi&&l.push(n.majorPoi)),0===l.length&&(n.majorPoi&&8<=t.zoom?l.push(n.majorPoi):(n.poi&&14<=t.zoom?l.push(n.poi):n.road&&15<=t.zoom&&(n.secondRoad?l.push(n.road+" & "+n.secondRoad):l.push(n.road)),n.neighbourhood&&12<=t.zoom&&l.push(n.neighbourhood),n.city&&6<=t.zoom&&l.push(n.city)),n.state&&4<=t.zoom&&l.push(n.state),0===l.length?n.water?l.push(n.water):n.country&&l.push(n.country):1===l.length&&n.state&&4<=t.zoom&&n.country&&l.push(n.country))),0<l.length)c.push("<p>Location: ",l.join(", "),".</p>");else if(r&&"water"!==e)return void a._reverseGeocodeDescription(t).then((function(t){o(t)}),(function(){s("<p>Location: unknown</p>")}))}a._returnDetailedDescriptions&&(c.push("<p>Zoom: ",Gr(t.zoom,2),".</p>"),c.push("<p>Latitude: ",Gr(t.center[1],5),".</p>"),c.push("<p>Longitude: ",Gr(t.center[0],5),".</p>")),o(c.join(""))}))},sf.prototype._reverseGeocodeDescription=function(t){var e=this;return new Promise((function(n){var i=e._map.getStyle();e._reverseSearch.request({position:t.center,style:i}).then((function(r){var a={};if(r&&r.addresses&&0<r.addresses.length&&r.addresses[0].address){var o=r.addresses[0].address;o.country&&(a.country=o.country,sf._labelCache.cache(a.country,{source:["Country name"],labelType:"country",radius:5e3,minZoom:0},t.center,i.language)),o.countrySubdivision&&(a.state=o.countrySubdivision,sf._labelCache.cache(a.state,{source:["State name"],labelType:"state",radius:5e3,minZoom:4},t.center,i.language)),o.municipality&&(a.city=o.municipality,sf._labelCache.cache(a.state,{source:["Small city"],labelType:"city",radius:1e3,minZoom:10},t.center,i.language)),o.streetNameAndNumber?a.road=o.streetNameAndNumber:o.street&&(a.road=o.street)}e._processLocInfo(t,null,a,!0,!1).then((function(t){n(t)}))}),(function(i){e._processLocInfo(t,null,null,!0,!1).then((function(t){n(t)}))})).catch((function(i){e._processLocInfo(t,null,null,!0,!1).then((function(t){n(t)}))}))}))},sf.prototype._round=function(t,e){return void 0===e&&(e=1),Math.round(t/e)*e},sf);function sf(t,e){var n=this;this._restFallback=!0,this._disposed=!1,this._lastHeadingTime=0,this._actionQueue=[],this._pointerUpdateDelay=3e3,this._camUpdateDelay=1e3,this._headUpdateLimit=1e3,this._controlEventDelay=500,this._moveThreshold=25,this._headingThreshold=5,this._pitchThreshold=5,this._roadPixelRadius=120,this._minRoadDistance=25,this._minIntersectionPixelDistance=50,this._baseVectorTileSourceId="vectorTiles",this._lableConfig=[{source:["Ocean label","Ocean name"],labelType:"water",minZoom:0,radius:395e4,polygonSources:["Ocean","Ocean or sea"]},{source:["Sea label"],labelType:"water",minZoom:3,radius:1e6,polygonSources:["Sea","Ocean or sea"]},{source:["Country name"],labelType:"country",minZoom:0,maxZoom:5,radius:3e5},{source:["State name","State name short"],labelType:"state",minZoom:4,maxZoom:7,radius:3e5},{source:["Capital city","Large city"],labelType:"city",minZoom:8,radius:4e4},{source:["Medium city"],labelType:"city",minZoom:8,radius:3e4},{source:["Small city"],labelType:"city",minZoom:8,radius:2e4},{source:["Island label"],labelType:"city",minZoom:8,radius:1e4},{source:["Town"],labelType:"city",minZoom:10,radius:1e4},{source:["Village"],labelType:"neighbourhood",minZoom:12,radius:6e3},{source:["Amusement area label"],labelType:"poi",minZoom:14,radius:2e3,polygonSources:["Amusement park"]},{source:["Hospital label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Hospital"]},{source:["Shopping centre label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Shopping"]},{source:["Stadium label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Stadium"]},{source:["University/School label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["University"]},{source:["Zoo label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Zoo"]},{source:["Airport Label","Airport name","Airport POI"],labelType:"majorPoi",minZoom:11,radius:3e3,polygonSources:["Airport","Runway"]},{source:["National park label"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["National or state park","National park","Forest"]},{source:["Reservation label"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["Reservation"]}],this._polygonStyleLayer=["National or state park","National park","Reservation","Airport","Runway","Stadium","University","Zoo","Shopping","Hospital","Amusement park","Ocean","Sea","Ocean or sea"],this._labelCache=new Set(["city","state","country","water","majorPoi"]),this._roadLayers=new Set(["Connecting road","Connecting road tunnel","International road","International road tunnel","Local road","Local road tunnel","Major local road","Major local road tunnel","Major road","Major road tunnel","Minor local road","Minor local road tunnel","Motorway","Motorway tunnel","Secondary road","Secondary road tunnel","Toll connecting road","Toll connecting road tunnel","Toll international road","Toll international road tunnel","Toll local road","Toll local road tunnel","Toll major local road","Toll major local road tunnel","Toll major road","Toll major road tunnel","Toll minor local road","Toll minor local road tunnel","Toll motorway","Toll motorway tunnel","Toll secondary road","Toll secondary road tunnel"]),this._returnDetailedDescriptions=!1,this._shortcutListener=function(t){return A(n,void 0,void 0,(function(){var e,n,i,r,a;return T(this,(function(o){switch(o.label){case 0:return t.altKey&&t.ctrlKey&&68===t.keyCode?(this._returnDetailedDescriptions=!this._returnDetailedDescriptions,e=this._map.getCamera(),n=this._map.getStyle(),i=n.language.toLowerCase(),r=n.style.toLowerCase(),[4,this._getLocDesc(e,i,r)]):[3,2];case 1:a=o.sent(),this._descCallback(a),o.label=2;case 2:return[2]}}))}))},this._onRotate=function(){n._rotateTimeout||(Date.now()-n._lastHeadingTime>=n._headUpdateLimit?n._rotateTimeout=setTimeout(n._updateHeading,dt.RotationDuration+25):n._rotateTimeout=setTimeout(n._updateHeading,n._headUpdateLimit-(Date.now()-n._lastHeadingTime)))},this._onMove=function(){n._moveTimeout&&(clearTimeout(n._moveTimeout),delete n._moveTimeout),n._controlTimeout&&(clearTimeout(n._controlTimeout),delete n._controlTimeout)},this._onMoveEnd=function(t){t.fromControl?n._controlTimeout=setTimeout(n._updateCam,n._controlEventDelay):n._updateCam()},this._onStyleData=function(){setTimeout(n._updateStyle)},this._onPointerDown=function(t){n._lastPointerPos=n._getEventPos(t),n._pointerTimeout=setTimeout((function(){return A(n,void 0,void 0,(function(){var t,e,n,i,r;return T(this,(function(a){switch(a.label){case 0:return t=this._map.getStyle(),e=t.language.toLowerCase(),n=t.style.toLowerCase(),(i=this._map.getCamera()).center=this._map.pixelsToPositions([this._lastPointerPos])[0],[4,this._getLocDesc(i,e,n)];case 1:return r=a.sent(),this._descCallback(r),this._onPointerUp(),[2]}}))}))}),n._pointerUpdateDelay),n._map.getCanvas().addEventListener("mousemove",n._onPointerMove),n._map.getCanvas().addEventListener("touchmove",n._onPointerMove),n._map.getCanvas().addEventListener("mouseup",n._onPointerUp),n._map.getCanvas().addEventListener("touchend",n._onPointerUp)},this._onPointerMove=function(t){var e=n._getEventPos(t),i=n._lastPointerPos[0]-e[0],r=n._lastPointerPos[1]-e[1];Math.sqrt(i*i+r*r)>n._moveThreshold&&n._onPointerUp()},this._onPointerUp=function(){clearTimeout(n._pointerTimeout),delete n._pointerTimeout,n._map.getCanvas().removeEventListener("mousemove",n._onPointerMove),n._map.getCanvas().removeEventListener("touchmove",n._onPointerMove),n._map.getCanvas().removeEventListener("mouseup",n._onPointerUp),n._map.getCanvas().removeEventListener("touchend",n._onPointerUp)},this._updateHeading=function(){var t=n._map.getCamera();if(!n._lastHead||n._checkHeadingThreshold(t.bearing,n._lastHead)){var e=n._getHeadingDesc(t);n._lastHead=t.bearing,n._descCallback("<p>Map heading "+e+".</p>"),n._lastHeadingTime=Date.now()}delete n._rotateTimeout},this._updateStyle=function(){return A(n,void 0,void 0,(function(){var t,e,n,i,r;return T(this,(function(a){switch(a.label){case 0:return t=this._map.getCamera(),e=this._map.getStyle(),n=e.language.toLowerCase(),i=e.style.toLowerCase(),this._lastLang===n?[3,2]:(sf._labelCache._preloadCache(n),[4,this._getLocDesc(t,n,i)]);case 1:return r=a.sent(),[3,4];case 2:return this._lastStyle===i||"blank"!==this._lastStyle?[3,4]:[4,this._getLocDesc(t,n,i)];case 3:r=a.sent(),a.label=4;case 4:return this._lastLang=n,this._lastStyle=i,r&&this._descCallback(r),[2]}}))}))},this._updateCam=function(t){void 0===t&&(t=!1);var e=n._map.getCamera();if(!n._lastCam||0<n._actionQueue.length||n._checkThresholds(e,n._lastCam)){var i=n._map.getStyle(),r=i.language.toLowerCase(),a=i.style.toLowerCase(),o=n._getActionDesc(e);o&&n._actionQueue.push(o),n._lastCam=e,n._moveTimeout&&(clearTimeout(n._moveTimeout),delete n._moveTimeout),n._moveTimeout=setTimeout((function(){return A(n,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return clearTimeout(this._rotateTimeout),delete this._rotateTimeout,[4,this._getLocDesc(e,r,a)];case 1:return t=n.sent(),0<this._actionQueue.length?(this._descCallback("<p>Map "+this._actionQueue.join(", then ")+".</p>"+t),this._actionQueue=[]):this._descCallback(t),[2]}}))}))}),t?0:n._camUpdateDelay)}},this._map=t,this._descCallback=e,this._reverseSearch=new ef(t),sf._labelCache||(sf._labelCache=new rf),this._lastLang=this._map.getStyle().language.toLowerCase(),sf._labelCache._preloadCache(this._lastLang),this._map.events.addOnce("load",(function(){n._disposed||(n._updateCam(!0),n._map._getMap().on("move",n._onMove),n._map._getMap().on("moveend",n._onMoveEnd),n._map._getMap().on("styledata",n._onStyleData),n._map._getMap().on("rotate",n._onRotate),n._map.getCanvas().addEventListener("mousedown",n._onPointerDown),n._map.getCanvas().addEventListener("touchstart",n._onPointerDown))})),this._map.getMapContainer().addEventListener("keydown",this._shortcutListener)}var cf,lf=function(t){var e=this;this.addToMap=function(){e.initializeMapLiveStateInfo(),e.initializeMapStyleInfo(),e.createMapKeyBindingInfo(),e.map.getMapContainer().setAttribute("role","application"),e.map.getMapContainer().setAttribute("aria-label","Map Application"),e.map.getCanvas().setAttribute("aria-label","Interactive Map"),e.map.getCanvas().setAttribute("aria-describedby","atlas-map-state atlas-map-style atlas-map-shortcuts"),e.map.getCanvas().setAttribute("alt","Interactive Map")},this.removeFromMap=function(){null!=e.mapViewDesc&&e.mapViewDesc.dispose(),delete e.mapViewDesc,null!=e.atlasMapKeyBindings&&e.map.getCanvasContainer().removeChild(e.atlasMapKeyBindings),delete e.atlasMapKeyBindings,null!=e.atlasMapLiveStateInfo&&e.map.getCanvasContainer().removeChild(e.atlasMapLiveStateInfo),delete e.atlasMapLiveStateInfo,null!=e.atlasMapStyleInfo&&e.map.getCanvasContainer().removeChild(e.atlasMapStyleInfo),delete e.atlasMapStyleInfo,e.map.getMapContainer().removeAttribute("role"),e.map.getMapContainer().removeAttribute("aria-label"),e.map.getCanvas().removeAttribute("aria-label"),e.map.getCanvas().removeAttribute("aria-describedby"),e.map.getCanvas().removeAttribute("alt"),e.map.events.remove("styledata",e.updateMapStyle)},this.createMapKeyBindingInfo=function(){e.atlasMapKeyBindings=document.createElement("div"),e.atlasMapKeyBindings.setAttribute("tabindex","-1"),e.atlasMapKeyBindings.setAttribute("aria-hidden","true"),e.atlasMapKeyBindings.id="atlas-map-shortcuts",e.atlasMapKeyBindings.classList.add("hidden-accessible-element"),e.atlasMapKeyBindings.innerHTML=["Map shortcuts:","Zoom out: hyphen.","Zoom in: plus.","Pan right 100 pixels: right arrow.","Pan left 100 pixels: left arrow.","Pan up 100 pixels: up arrow.","Pan down 100 pixels: down arrow.","Rotate 15 degrees clockwise: shift + right arrow.","Rotate 15 degrees counter clockwise: shift + left arrow.","Increase pitch 10 degrees: shift + up arrow.","Decrease pitch 10 degrees: shift + down arrow.","Toggle verbose map state: control + alt + D.","Jump focus to the map: Escape."].join("\n"),e.map.getCanvasContainer().appendChild(e.atlasMapKeyBindings),e.atlasMapKeyBindings.setAttribute("aria-live","polite")},this.initializeMapLiveStateInfo=function(){e.mapViewDesc=new of(e.map,e.updateMapState),e.atlasMapLiveStateInfo=document.createElement("div"),e.atlasMapLiveStateInfo.setAttribute("tabindex","-1"),e.atlasMapLiveStateInfo.setAttribute("aria-hidden","true"),e.atlasMapLiveStateInfo.id="atlas-map-state",e.atlasMapLiveStateInfo.classList.add("hidden-accessible-element"),e.map.getCanvasContainer().appendChild(e.atlasMapLiveStateInfo),e.atlasMapLiveStateInfo.setAttribute("aria-live","polite")},this.initializeMapStyleInfo=function(){e.atlasMapStyleInfo=document.createElement("div"),e.atlasMapStyleInfo.setAttribute("tabindex","-1"),e.atlasMapStyleInfo.setAttribute("aria-hidden","true"),e.atlasMapStyleInfo.id="atlas-map-style",e.atlasMapStyleInfo.classList.add("hidden-accessible-element"),e.updateMapStyle(),e.map.events.add("styledata",e.updateMapStyle),e.map.getCanvasContainer().appendChild(e.atlasMapStyleInfo),e.atlasMapStyleInfo.setAttribute("aria-live","polite")},this.updateMapStyle=function(){e.atlasMapStyleInfo.innerHTML="<p>Map style: "+e.map.getStyle().style+".</p>"},this.updateMapState=function(t){e.atlasMapLiveStateInfo.innerHTML=t},this.map=t},uf=function(t){var e=this;this.callCounter=0,this.listenerEnabled=!1,this.flowComponent=void 0,this.flowPath=void 0,this.addToMap=function(){if(!e.map._isReady())throw new Error("Traffic flow could not be added to the map because the map is not ready. Please use a ready event listener to guarantee the map is ready before enabling traffic flow.");e.listenerEnabled||(e.map.events.add("styledata",e.addToMap),e.listenerEnabled=!0);var t=e.map.getStyle(),n=e.map.getTraffic(),i=e.map.styles.getFlowPath(t,n);if(i&&e.flowPath!==i){e.callCounter++;var r=e.callCounter;e.map.styles.getFlowComponent(t,n).then((function(t){if(e.callCounter===r){e.flowComponent&&(e.map.layers.remove(e.flowComponent.layer),e.map.sources.remove(e.flowComponent.sources),delete e.flowComponent);var n=e.map.layers.getLayers(),a=n.findIndex((function(t){return"transit"===t.getId()})),o=-1!==a?n[a+1]:void 0;e.map.sources.add(t.sources),e.map.layers.add(t.layer,o),e.flowComponent=t,e.flowPath=i}}))}},this.removeFromMap=function(){e.callCounter++,e.listenerEnabled&&(e.map.events.remove("styledata",e.addToMap),e.listenerEnabled=!1),e.flowPath&&delete e.flowPath,e.flowComponent&&(e.map.layers.remove(e.flowComponent.layer),e.map.sources.remove(e.flowComponent.sources),delete e.flowComponent)},this.map=t},hf=(x(pf,cf=L),pf);function pf(){var t=null!==cf&&cf.apply(this,arguments)||this;return t.version="1.0",t.bbox=void 0,t.zoom=void 0,t.params={},t}var df=(ff.prototype.request=function(t){var e,n=(new hf).merge(t),i=this.map.getServiceOptions().domain;e=Ia.getWest(n.bbox)<-180&&180<Ia.getEast(n.bbox)?Ia.getSouth(n.bbox)+",-180,"+Ia.getNorth(n.bbox)+",180":Ia.getSouth(n.bbox)+","+ra(Ia.getWest(n.bbox))+","+Ia.getNorth(n.bbox)+","+ra(Ia.getEast(n.bbox));var r={domain:i,path:"traffic/incident/detail/json",queryParams:w({"api-version":n.version,projection:"EPSG4326",style:"s3",boundingbox:e,boundingzoom:n.zoom,trafficmodelid:-1},n.params)};return new C(this.map.authentication.signRequest(r)).get()},ff);function ff(t){this.map=t}var mf,gf,yf,_f=(x(vf,mf=dr),vf.getIncidentTypeName=function(t,e){switch(t){case 0:return e.Unknown;case 1:return e.Accident;case 2:return e.Fog;case 3:return e.Danger;case 4:return e.Rain;case 5:return e.Ice;case 6:return e.Jam;case 7:return e.LaneClosed;case 8:return e.RoadClosed;case 9:return e.RoadWorks;case 10:return e.Wind;case 11:return e.Flood;case 12:return e.Detour;default:return e.Unknown}},vf.getIncidentTypeIconName=function(t){switch(t){case 0:return"unknown";case 1:return"accident";case 2:return"fog";case 3:return"danger";case 4:return"rain";case 5:return"ice";case 6:return"jam";case 7:return"lane-closed";case 8:return"road-closed";case 9:return"road-work";case 10:return"wind";case 11:return"flood";case 12:return"detour";default:return"unknown"}},vf.getSeverityColorName=function(t){switch(t){case 0:return"grey";case 1:return"yellow";case 2:return"orange";case 3:return"red";case 4:default:return"grey"}},vf.getSeverityColorHexCode=function(t){switch(t){case 0:return"#B5B6B7";case 1:return"#F4C951";case 2:return"#F4873F";case 3:return"#F04F4E";case 4:default:return"#B5B6B7"}},vf);function vf(t,e){var n=new _r(new ba(t.op.x,t.op.y)),i={icon:vf.getSeverityColorName(t.ty)+"-"+vf.getIncidentTypeIconName(t.ic),incidentType:vf.getIncidentTypeName(t.ic,e),description:t.d,length:t.l,delay:t.dl,from:t.f,color:vf.getSeverityColorHexCode(t.ty),to:t.t,id:t.id};return mf.call(this,n,i)||this}(yf=gf=gf||{}).DELAY="delay",yf.LENGTH="length",yf.FROM="from",yf.TO="to";var Mf=(bf.build=function(t,e){void 0===e&&(e="en-US");var n=document.createElement("div");n.classList.add("incident-popup-title"),n.classList.add("font-segoeui-b"),n.setAttribute("tabindex","0"),n.innerText=t.properties.incidentType,n.setAttribute("aria-label","Incident Type "+t.properties.incidentType);var i=document.createElement("div");i.classList.add("incident-popup-subtitle"),i.classList.add("font-segoeui-b"),i.setAttribute("aria-label","Incident Description "+t.properties.description),i.setAttribute("tabindex","0"),i.innerText=t.properties.description;var r=document.createElement("div");r.classList.add("incident-popup-header"),r.style.backgroundColor=t.properties.color,r.appendChild(n),r.appendChild(i);var a=document.createElement("div");if(a.classList.add("incident-popup-body"),t.properties.delay){var o=Math.floor(t.properties.delay/60)+" min",s=this.createInfoSection(o,gf.DELAY);a.appendChild(s)}if(t.properties.length){var c=new Intl.NumberFormat([e,"en-US"],{maximumFractionDigits:2}),l=void 0;if("en-US"===e){var u=Kr(t.properties.length,"meters","miles");l=c.format(u)+" miles"}else{var h=Kr(t.properties.length,"meters","kilometers");l=c.format(h)+" km"}var p=this.createInfoSection(l,gf.LENGTH);a.appendChild(p)}if(t.properties.from){var d=this.createInfoSection(t.properties.from,gf.FROM);a.appendChild(d)}if(t.properties.to){var f=this.createInfoSection(t.properties.to,gf.TO);a.appendChild(f)}var m=document.createElement("div");return m.classList.add("incident-popup-content"),m.appendChild(r),m.appendChild(a),new Ys({content:m,position:t.geometry.coordinates})},bf.createInfoSection=function(t,e){var n=document.createElement("div");n.classList.add("incident-popup-info");var i=document.createElement("div");i.classList.add("icon"),i.classList.add(e);var r=document.createElement("span");return r.classList.add("message"),r.classList.add("font-segoeui"),r.setAttribute("aria-label","Incident "+e+" "+t),r.setAttribute("tabindex","0"),r.innerText=t,n.appendChild(i),n.appendChild(r),n},bf);function bf(){}var xf,wf=function(t){var e=this;this.incidentLayerName="incidents",this.popups=new Ci,this.addToMap=function(){e.map.addPins([],{name:e.incidentLayerName,cluster:!1}),e.map.addEventListener("mouseenter",e.incidentLayerName,e.cursorToPointer),e.map.addEventListener("mouseleave",e.incidentLayerName,e.cursorToDefault),e.map.addEventListener("click",e.incidentLayerName,e.openIncidentPopup),e.map.events.add("moveend",e.updateIncidents),e.map.events.add("styledata",e.updateLanguage),e.updateIncidents()},this.removeFromMap=function(){e.map.removeLayers([e.incidentLayerName]),e.map.removeEventListener("click",e.incidentLayerName,e.openIncidentPopup),e.map.removeEventListener("mouseenter",e.incidentLayerName,e.cursorToPointer),e.map.removeEventListener("mouseleave",e.incidentLayerName,e.cursorToDefault),e.map.events.remove("moveend",e.updateIncidents),e.map.events.remove("styledata",e.updateLanguage),e.cleanUpPopups()},this.updateIncidents=function(){var t=Math.ceil(e.map.getCamera().zoom),n=e.map.getCamera().bounds;e.incidentLanguage=e.map.getStyle().language;var i=e.map._getLocalizedStrings(),r=e.incidentService.request({bbox:n,zoom:t,params:{expandCluster:!0,originalPosition:!0,language:e.incidentLanguage}});Promise.all([r,i]).then((function(t){var i=t[0],r=t[1];if(e.map.getTraffic().incidents){var a=[];e.cleanUpPopups();for(var o=0,s=i.tm.poi||[];o<s.length;o++)for(var c=s[o],l=function(t){if(Ia.containsPosition(n,[t.op.x,t.op.y])){var i=new _f(t,r);a.push(i);var o=Mf.build(i,e.incidentLanguage);e.popups.set(i.properties.id,o),e.map.events.add("open",o,(function(){e.openPopupId=i.properties.id,e.popups.forEach((function(t,n){e.openPopupId!==n&&t.close()}))})),e.map.events.add("close",o,(function(){e.openPopupId===i.properties.id&&delete e.openPopupId})),e.openPopupId===i.properties.id?e.popups.get(i.properties.id).open(e.map):e.popups.get(i.properties.id).attach(e.map)}},u=0,h=c.cpoi||[c];u<h.length;u++)l(h[u]);e.map.addPins(a,{overwrite:!0,name:e.incidentLayerName})}}))},this.cursorToPointer=function(t){e.map.getCanvas().style.cursor="pointer"},this.cursorToDefault=function(t){e.map.getCanvas().style.cursor=""},this.openIncidentPopup=function(t){var n=t.features[0].properties.id;e.popups.has(n)&&e.popups.get(n).open(e.map)},this.cleanUpPopups=function(){e.popups.forEach((function(t){t.remove()})),e.popups.clear()},this.updateLanguage=function(){e.map.getStyle().language!==e.incidentLanguage&&e.updateIncidents()},this.map=t,this.incidentService=new df(this.map)},Af=(x(Tf,xf=L),Tf);function Tf(){var t=null!==xf&&xf.apply(this,arguments)||this;return t.interactive=!0,t.scrollZoomInteraction=!0,t.boxZoomInteraction=!0,t.dragRotateInteraction=!0,t.dragPanInteraction=!0,t.keyboardInteraction=!0,t.dblClickZoomInteraction=!0,t.touchInteraction=!0,t.wheelZoomRate=1/450,t}var Lf=(Sf.prototype.enable=function(){this.map.getMapContainer().addEventListener("keydown",this._onKeyDown)},Sf.prototype.disable=function(){this.map.getMapContainer().removeEventListener("keydown",this._onKeyDown)},Sf);function Sf(t){var e=this;this._onKeyDown=function(t){27===t.keyCode&&e.map.getCanvas().focus()},this.map=t}var kf=(Of.prototype.enable=function(){this.map._getMap().on("touchstart",this._onTouchStart),this.map._getMap().on("touchmove",this._onTouchMove),this.map._getMap().on("touchend",this._onTouchEnd),this.map._getMap().on("touchcancel",this._onTouchCancel)},Of.prototype.disable=function(){this.map._getMap().off("touchstart",this._onTouchStart),this.map._getMap().off("touchmove",this._onTouchMove),this.map._getMap().off("touchend",this._onTouchEnd),this.map._getMap().off("touchcancel",this._onTouchCancel)},Of);function Of(t){var e=this;this.minDiffX=70,this.maxDiffY=100,this.minDiff=30,this.delay=160,this._onTouchStart=function(t){if(2===t.points.length){var n=t.points[0].y-t.points[1].y,i=t.points[0].x-t.points[1].x;Math.abs(i)>=e.minDiffX&&Math.abs(n)<=e.maxDiffY&&(t.originalEvent.preventDefault(),e.map._getMap().touchZoomRotate.disable(),e.map._getMap().dragPan.disable(),e.dpPoint=t.point,e.dpPitch=e.map._getMap().getPitch(),e.startTiming=Date.now(),e.startDistance=Math.hypot(i,n),e.startEventData=t)}},this._onTouchMove=function(t){if(void 0!==e.dpPoint&&void 0!==e.dpPitch){t.preventDefault(),t.originalEvent.preventDefault();var n=t.points[0].y-t.points[1].y,i=t.points[0].x-t.points[1].x,r=Math.hypot(i,n);if(Math.abs(r-e.startDistance)>=e.minDiff)return e.dpPoint&&(e.map._getMap().touchZoomRotate.enable(),e.map._getMap().dragPan.enable(),e.map._getMap().touchZoomRotate.onStart(Date.now()-e.startTiming>=e.delay?t.originalEvent:e.startEventData.originalEvent)),void(e.dpPoint=void 0);if(Date.now()-e.startTiming>=e.delay){var a=.5*(e.dpPoint.y-t.point.y);e.map._getMap().setPitch(e.dpPitch+a)}}},this._onTouchEnd=function(){e.dpPoint&&(e.map._getMap().touchZoomRotate.enable(),e.map._getMap().dragPan.enable()),e.dpPoint=void 0},this._onTouchCancel=function(){e.dpPoint&&(e.map._getMap().touchZoomRotate.enable(),e.map._getMap().dragPan.enable()),e.dpPoint=void 0},this.map=t}var zf=(Cf.prototype.enable=function(){this.map.getCanvasContainer().addEventListener("gesturestart",this._onGestureStart),this.map.getCanvasContainer().addEventListener("gesturechange",this._onGestureChange),this.map.getCanvasContainer().addEventListener("touchstart",this._onTouchStart),this.map.getCanvasContainer().addEventListener("touchend",this._onTouchEnd)},Cf.prototype.disable=function(){this.map.getCanvasContainer().removeEventListener("gesturestart",this._onGestureStart),this.map.getCanvasContainer().removeEventListener("gesturechange",this._onGestureChange),this.map.getCanvasContainer().removeEventListener("touchstart",this._onTouchStart),this.map.getCanvasContainer().removeEventListener("touchend",this._onTouchEnd)},Cf);function Cf(t){var e=this;this._onGestureStart=function(t){e.hasTouch||(t.preventDefault(),e.initZoom=e.map.getCamera().zoom)},this._onGestureChange=function(t){e.hasTouch||(t.preventDefault(),e.map.setCamera({zoom:e.initZoom+t.scale-1}))},this._onTouchStart=function(t){e.hasTouch=!0},this._onTouchEnd=function(t){0===t.touches.length&&(e.hasTouch=!1)},this.map=t}var Ef=(Df.prototype.addToMap=function(){this.added||(this.added=!0,this._setInteractions(this.options))},Df.prototype.removeFromMap=function(){this.added&&(this.added=!1,this._setInteractions({interactive:!1}))},Df.prototype.setOptions=function(t){this.options=(new Af).merge(this.options,t),this.added&&this._setInteractions(this.options)},Df.prototype.getOptions=function(){return Object.assign({},this.options)},Df.prototype._setInteractions=function(t){t.interactive?(t.boxZoomInteraction?this.map._getMap().boxZoom.enable():this.map._getMap().boxZoom.disable(),t.dblClickZoomInteraction?this.map._getMap().doubleClickZoom.enable():this.map._getMap().doubleClickZoom.disable(),t.dragPanInteraction?this.map._getMap().dragPan.enable():this.map._getMap().dragPan.disable(),t.dragRotateInteraction?this.map._getMap().dragRotate.enable():this.map._getMap().dragRotate.disable(),t.keyboardInteraction?(this.map._getMap().keyboard.enable(),this.focusShortcut.enable()):(this.map._getMap().keyboard.disable(),this.focusShortcut.disable()),t.scrollZoomInteraction?(this.map._getMap().scrollZoom.enable(),this.map._getMap().scrollZoom.setWheelZoomRate(t.wheelZoomRate)):this.map._getMap().scrollZoom.disable(),t.touchInteraction?(this.map._getMap().touchZoomRotate.enable(),this.mobilePitch.enable()):(this.map._getMap().touchZoomRotate.disable(),this.mobilePitch.disable()),this.pinchZoom.enable()):(this.map._getMap().boxZoom.disable(),this.map._getMap().doubleClickZoom.disable(),this.map._getMap().dragPan.disable(),this.map._getMap().dragRotate.disable(),this.map._getMap().keyboard.disable(),this.focusShortcut.disable(),this.map._getMap().scrollZoom.disable(),this.map._getMap().touchZoomRotate.disable(),this.mobilePitch.disable(),this.pinchZoom.disable())},Df);function Df(t,e){this.added=!1,this.map=t,this.mobilePitch=new kf(t),this.focusShortcut=new Lf(t),this.pinchZoom=new zf(t),this.options=(new Af).merge(e)}var Nf=i((function(t){var e=(e=function(t){if(this.REQUEST_TYPE={LOGIN:"LOGIN",RENEW_TOKEN:"RENEW_TOKEN",UNKNOWN:"UNKNOWN"},this.RESPONSE_TYPE={ID_TOKEN_TOKEN:"id_token token",TOKEN:"token"},this.CONSTANTS={ACCESS_TOKEN:"access_token",EXPIRES_IN:"expires_in",ID_TOKEN:"id_token",ERROR_DESCRIPTION:"error_description",SESSION_STATE:"session_state",ERROR:"error",STORAGE:{TOKEN_KEYS:"adal.token.keys",ACCESS_TOKEN_KEY:"adal.access.token.key",EXPIRATION_KEY:"adal.expiration.key",STATE_LOGIN:"adal.state.login",STATE_RENEW:"adal.state.renew",NONCE_IDTOKEN:"adal.nonce.idtoken",SESSION_STATE:"adal.session.state",USERNAME:"adal.username",IDTOKEN:"adal.idtoken",ERROR:"adal.error",ERROR_DESCRIPTION:"adal.error.description",LOGIN_REQUEST:"adal.login.request",LOGIN_ERROR:"adal.login.error",RENEW_STATUS:"adal.token.renew.status",ANGULAR_LOGIN_REQUEST:"adal.angular.login.request"},RESOURCE_DELIMETER:"|",CACHE_DELIMETER:"||",LOADFRAME_TIMEOUT:6e3,TOKEN_RENEW_STATUS_CANCELED:"Canceled",TOKEN_RENEW_STATUS_COMPLETED:"Completed",TOKEN_RENEW_STATUS_IN_PROGRESS:"In Progress",LOGGING_LEVEL:{ERROR:0,WARN:1,INFO:2,VERBOSE:3},LEVEL_STRING_MAP:{0:"ERROR:",1:"WARNING:",2:"INFO:",3:"VERBOSE:"},POPUP_WIDTH:483,POPUP_HEIGHT:600},e.prototype._singletonInstance)return e.prototype._singletonInstance;if((e.prototype._singletonInstance=this).instance="https://login.microsoftonline.com/",this.config={},this.callback=null,this.popUp=!1,this.isAngular=!1,this._user=null,this._activeRenewals={},this._loginInProgress=!1,this._acquireTokenInProgress=!1,this._renewStates=[],this._callBackMappedToRenewStates={},this._callBacksMappedToRenewStates={},this._openedWindows=[],this._requestType=this.REQUEST_TYPE.LOGIN,window._adalInstance=this,t.displayCall&&"function"!=typeof t.displayCall)throw new Error("displayCall is not a function");if(!t.clientId)throw new Error("clientId is required");this.config=this._cloneConfig(t),void 0===this.config.navigateToLoginRequestUrl&&(this.config.navigateToLoginRequestUrl=!0),this.config.popUp&&(this.popUp=!0),this.config.callback&&"function"==typeof this.config.callback&&(this.callback=this.config.callback),this.config.instance&&(this.instance=this.config.instance),this.config.loginResource||(this.config.loginResource=this.config.clientId),this.config.redirectUri||(this.config.redirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.postLogoutRedirectUri||(this.config.postLogoutRedirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.anonymousEndpoints||(this.config.anonymousEndpoints=[]),this.config.isAngular&&(this.isAngular=this.config.isAngular),this.config.loadFrameTimeout&&(this.CONSTANTS.LOADFRAME_TIMEOUT=this.config.loadFrameTimeout)},"undefined"!=typeof window&&(window.Logging={piiLoggingEnabled:!1,level:0,log:function(t){}}),e.prototype.login=function(){if(this._loginInProgress)this.info("Login in progress");else{this._loginInProgress=!0;var t=this._guid();this.config.state=t,this._idTokenNonce=this._guid();var e=this._getItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST);e&&""!==e?this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""):e=window.location.href,this.verbose("Expected state: "+t+" startPage:"+e),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,e),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,t,!0),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var n=this._getNavigateUrl("id_token",null)+"&nonce="+encodeURIComponent(this._idTokenNonce);this.config.displayCall?this.config.displayCall(n):this.popUp?(this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._renewStates.push(t),this.registerCallback(t,this.config.clientId,this.callback),this._loginPopup(n)):this.promptUser(n)}},e.prototype._openPopup=function(t,e,n,i){try{var r=window.screenLeft?window.screenLeft:window.screenX,a=window.screenTop?window.screenTop:window.screenY,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=o/2-n/2+r,l=s/2-i/2+a,u=window.open(t,e,"width="+n+", height="+i+", top="+l+", left="+c);return u.focus&&u.focus(),u}catch(t){return this.warn("Error opening popup, "+t.message),this._loginInProgress=!1,this._acquireTokenInProgress=!1,null}},e.prototype._handlePopupError=function(t,e,n,i,r){this.warn(i),this._saveItem(this.CONSTANTS.STORAGE.ERROR,n),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,i),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,r),e&&this._activeRenewals[e]&&(this._activeRenewals[e]=null),this._loginInProgress=!1,this._acquireTokenInProgress=!1,t&&t(i,null,n)},e.prototype._loginPopup=function(t,e,n){var i=this._openPopup(t,"login",this.CONSTANTS.POPUP_WIDTH,this.CONSTANTS.POPUP_HEIGHT),r=n||this.callback;if(null!=i){if(this._openedWindows.push(i),-1!=this.config.redirectUri.indexOf("#"))var a=this.config.redirectUri.split("#")[0];else a=this.config.redirectUri;var o=this,s=window.setInterval((function(){if(!i||i.closed||void 0===i.closed){var t="Popup Window closed",n="Popup Window closed by UI action/ Popup Window handle destroyed due to cross zone navigation in IE/Edge";return o.isAngular&&o._broadcast("adal:popUpClosed",n+o.CONSTANTS.RESOURCE_DELIMETER+t),o._handlePopupError(r,e,t,n,n),void window.clearInterval(s)}try{var c=i.location;if(-1!=encodeURI(c.href).indexOf(encodeURI(a)))return o.isAngular?o._broadcast("adal:popUpHashChanged",c.hash):o.handleWindowCallback(c.hash),window.clearInterval(s),o._loginInProgress=!1,o._acquireTokenInProgress=!1,o.info("Closing popup window"),o._openedWindows=[],void i.close()}catch(t){}}),1)}else{var c="Popup Window is null. This can happen if you are using IE";this._handlePopupError(r,e,"Error opening popup",c,c)}},e.prototype._broadcast=function(t,e){function n(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}"function"!=typeof window.CustomEvent&&(n.prototype=window.Event.prototype,window.CustomEvent=n);var i=new CustomEvent(t,{detail:e});window.dispatchEvent(i)},e.prototype.loginInProgress=function(){return this._loginInProgress},e.prototype._hasResource=function(t){var e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);return e&&!this._isEmpty(e)&&-1<e.indexOf(t+this.CONSTANTS.RESOURCE_DELIMETER)},e.prototype.getCachedToken=function(t){if(!this._hasResource(t))return null;var e=this._getItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t),n=this._getItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t),i=this.config.expireOffsetSeconds||300;return n&&n>this._now()+i?e:(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t,0),null)},e.prototype.getCachedUser=function(){if(this._user)return this._user;var t=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);return this._user=this._createUser(t),this._user},e.prototype.registerCallback=function(t,e,n){this._activeRenewals[e]=t,this._callBacksMappedToRenewStates[t]||(this._callBacksMappedToRenewStates[t]=[]);var i=this;this._callBacksMappedToRenewStates[t].push(n),this._callBackMappedToRenewStates[t]||(this._callBackMappedToRenewStates[t]=function(n,r,a,o){i._activeRenewals[e]=null;for(var s=0;s<i._callBacksMappedToRenewStates[t].length;++s)try{i._callBacksMappedToRenewStates[t][s](n,r,a,o)}catch(a){i.warn(a)}i._callBacksMappedToRenewStates[t]=null,i._callBackMappedToRenewStates[t]=null})},e.prototype._renewToken=function(t,e,n){this.info("renewToken is called for resource:"+t);var i=this._addAdalFrame("adalRenewFrame"+t),r=this._guid()+"|"+t;this.config.state=r,this._renewStates.push(r),this.verbose("Renew token Expected state: "+r),n=n||"token";var a=this._urlRemoveQueryStringParameter(this._getNavigateUrl(n,t),"prompt");n===this.RESPONSE_TYPE.ID_TOKEN_TOKEN&&(this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),a+="&nonce="+encodeURIComponent(this._idTokenNonce)),a+="&prompt=none",a=this._addHintParameters(a),this.registerCallback(r,t,e),this.verbosePii("Navigate to:"+a),i.src="about:blank",this._loadFrameTimeout(a,"adalRenewFrame"+t,t)},e.prototype._renewIdToken=function(t,e){this.info("renewIdToken is called");var n=this._addAdalFrame("adalIdTokenFrame"),i=this._guid()+"|"+this.config.clientId;this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this.config.state=i,this._renewStates.push(i),this.verbose("Renew Idtoken Expected state: "+i);var r=null==e?null:this.config.clientId,a=(e=e||"id_token",this._urlRemoveQueryStringParameter(this._getNavigateUrl(e,r),"prompt"));a+="&prompt=none",a=this._addHintParameters(a),a+="&nonce="+encodeURIComponent(this._idTokenNonce),this.registerCallback(i,this.config.clientId,t),this.verbosePii("Navigate to:"+a),n.src="about:blank",this._loadFrameTimeout(a,"adalIdTokenFrame",this.config.clientId)},e.prototype._urlContainsQueryStringParameter=function(t,e){return new RegExp("[\\?&]"+t+"=").test(e)},e.prototype._urlRemoveQueryStringParameter=function(t,e){var n=new RegExp("(\\&"+e+"=)[^&]+");return t=t.replace(n,""),n=new RegExp("("+e+"=)[^&]+&"),t=t.replace(n,""),n=new RegExp("("+e+"=)[^&]+"),t.replace(n,"")},e.prototype._loadFrameTimeout=function(t,e,n){this.verbose("Set loading state to pending for: "+n),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+n,this.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS),this._loadFrame(t,e);var i=this;setTimeout((function(){if(i._getItem(i.CONSTANTS.STORAGE.RENEW_STATUS+n)===i.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS){i.verbose("Loading frame has timed out after: "+i.CONSTANTS.LOADFRAME_TIMEOUT/1e3+" seconds for resource "+n);var t=i._activeRenewals[n];t&&i._callBackMappedToRenewStates[t]&&i._callBackMappedToRenewStates[t]("Token renewal operation failed due to timeout",null,"Token Renewal Failed"),i._saveItem(i.CONSTANTS.STORAGE.RENEW_STATUS+n,i.CONSTANTS.TOKEN_RENEW_STATUS_CANCELED)}}),i.CONSTANTS.LOADFRAME_TIMEOUT)},e.prototype._loadFrame=function(t,e){var n=this;n.info("LoadFrame: "+e);var i=e;setTimeout((function(){var e=n._addAdalFrame(i);""!==e.src&&"about:blank"!==e.src||(e.src=t,n._loadFrame(t,i))}),500)},e.prototype.acquireToken=function(t,e){if(this._isEmpty(t))return this.warn("resource is required"),void e("resource is required",null,"resource is required");var n=this.getCachedToken(t);return n?(this.info("Token is already in cache for resource:"+t),void e(null,n,null)):this._user||this.config.extraQueryParameter&&-1!==this.config.extraQueryParameter.indexOf("login_hint")?void(this._activeRenewals[t]?this.registerCallback(this._activeRenewals[t],t,e):(this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,t===this.config.clientId?this._user?(this.verbose("renewing idtoken"),this._renewIdToken(e)):(this.verbose("renewing idtoken and access_token"),this._renewIdToken(e,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)):this._user?(this.verbose("renewing access_token"),this._renewToken(t,e)):(this.verbose("renewing idtoken and access_token"),this._renewToken(t,e,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)))):(this.warn("User login is required"),void e("User login is required",null,"login required"))},e.prototype.acquireTokenPopup=function(t,e,n,i){if(this._isEmpty(t))return this.warn("resource is required"),void i("resource is required",null,"resource is required");if(!this._user)return this.warn("User login is required"),void i("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void i("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var r=this._guid()+"|"+t;this.config.state=r,this._renewStates.push(r),this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,this.verbose("Renew token Expected state: "+r);var a=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",t),"prompt");if(a+="&prompt=select_account",e&&(a+=e),n&&-1===a.indexOf("&claims"))a+="&claims="+encodeURIComponent(n);else if(n&&-1!==a.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");a=this._addHintParameters(a),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+t),this.registerCallback(r,t,i),this._loginPopup(a,t,i)},e.prototype.acquireTokenRedirect=function(t,e,n){if(this._isEmpty(t))return this.warn("resource is required"),void i("resource is required",null,"resource is required");var i=this.callback;if(!this._user)return this.warn("User login is required"),void i("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void i("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var r=this._guid()+"|"+t;this.config.state=r,this.verbose("Renew token Expected state: "+r);var a=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",t),"prompt");if(a+="&prompt=select_account",e&&(a+=e),n&&-1===a.indexOf("&claims"))a+="&claims="+encodeURIComponent(n);else if(n&&-1!==a.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");a=this._addHintParameters(a),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+t),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,window.location.href),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,r,!0),this.promptUser(a)},e.prototype.promptUser=function(t){t?(this.infoPii("Navigate to:"+t),window.location.replace(t)):this.info("Navigate url is empty")},e.prototype.clearCache=function(){this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._renewStates=[],this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"");var t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);if(!this._isEmpty(t)){t=t.split(this.CONSTANTS.RESOURCE_DELIMETER);for(var e=0;e<t.length&&""!==t[e];e++)this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t[e],""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t[e],0)}this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,"")},e.prototype.clearCacheForResource=function(t){this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._hasResource(t)&&(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+t,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+t,0))},e.prototype.logOut=function(){var t;if(this.clearCache(),this._user=null,this.config.logOutUri)t=this.config.logOutUri;else{var e="common",n="";this.config.tenant&&(e=this.config.tenant),this.config.postLogoutRedirectUri&&(n="post_logout_redirect_uri="+encodeURIComponent(this.config.postLogoutRedirectUri)),t=this.instance+e+"/oauth2/logout?"+n}this.infoPii("Logout navigate to: "+t),this.promptUser(t)},e.prototype._isEmpty=function(t){return void 0===t||!t||0===t.length},e.prototype.getUser=function(t){if("function"!=typeof t)throw new Error("callback is not a function");if(this._user)t(null,this._user);else{var e=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);this._isEmpty(e)?(this.warn("User information is not available"),t("User information is not available",null)):(this.info("User exists in cache: "),this._user=this._createUser(e),t(null,this._user))}},e.prototype._addHintParameters=function(t){if(this._user&&this._user.profile)if(this._user.profile.sid&&-1!==t.indexOf("&prompt=none"))this._urlContainsQueryStringParameter("sid",t)||(t+="&sid="+encodeURIComponent(this._user.profile.sid));else if(this._user.profile.upn&&(this._urlContainsQueryStringParameter("login_hint",t)||(t+="&login_hint="+encodeURIComponent(this._user.profile.upn)),!this._urlContainsQueryStringParameter("domain_hint",t)&&-1<this._user.profile.upn.indexOf("@"))){var e=this._user.profile.upn.split("@");t+="&domain_hint="+encodeURIComponent(e[e.length-1])}return t},e.prototype._createUser=function(t){var e=null,n=this._extractIdToken(t);return n&&n.hasOwnProperty("aud")&&(n.aud.toLowerCase()===this.config.clientId.toLowerCase()?(e={userName:"",profile:n},n.hasOwnProperty("upn")?e.userName=n.upn:n.hasOwnProperty("email")&&(e.userName=n.email)):this.warn("IdToken has invalid aud field")),e},e.prototype._getHash=function(t){return-1<t.indexOf("#/")?t=t.substring(t.indexOf("#/")+2):-1<t.indexOf("#")&&(t=t.substring(1)),t},e.prototype.isCallback=function(t){t=this._getHash(t);var e=this._deserialize(t);return e.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||e.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||e.hasOwnProperty(this.CONSTANTS.ID_TOKEN)},e.prototype.getLoginError=function(){return this._getItem(this.CONSTANTS.STORAGE.LOGIN_ERROR)},e.prototype.getRequestInfo=function(t){t=this._getHash(t);var e=this._deserialize(t),n={valid:!1,parameters:{},stateMatch:!1,stateResponse:"",requestType:this.REQUEST_TYPE.UNKNOWN};if(e&&((n.parameters=e).hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||e.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||e.hasOwnProperty(this.CONSTANTS.ID_TOKEN))){n.valid=!0;var i="";if(!e.hasOwnProperty("state"))return this.warn("No state returned"),n;if(this.verbose("State: "+e.state),i=e.state,n.stateResponse=i,this._matchState(n))return n;if(!n.stateMatch&&window.parent){n.requestType=this._requestType;for(var r=this._renewStates,a=0;a<r.length;a++)if(r[a]===n.stateResponse){n.stateMatch=!0;break}}}return n},e.prototype._matchNonce=function(t){var e=this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN);if(e){e=e.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<e.length;n++)if(e[n]===t.profile.nonce)return!0}return!1},e.prototype._matchState=function(t){var e=this._getItem(this.CONSTANTS.STORAGE.STATE_LOGIN);if(e){e=e.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<e.length;n++)if(e[n]===t.stateResponse)return t.requestType=this.REQUEST_TYPE.LOGIN,t.stateMatch=!0}var i=this._getItem(this.CONSTANTS.STORAGE.STATE_RENEW);if(i)for(i=i.split(this.CONSTANTS.CACHE_DELIMETER),n=0;n<i.length;n++)if(i[n]===t.stateResponse)return t.requestType=this.REQUEST_TYPE.RENEW_TOKEN,t.stateMatch=!0;return!1},e.prototype._getResourceFromState=function(t){if(t){var e=t.indexOf("|");if(-1<e&&e+1<t.length)return t.substring(e+1)}return""},e.prototype.saveTokenFromHash=function(t){this.info("State status:"+t.stateMatch+"; Request type:"+t.requestType),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var e,n=this._getResourceFromState(t.stateResponse);t.parameters.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)?(this.infoPii("Error :"+t.parameters.error+"; Error description:"+t.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),this._saveItem(this.CONSTANTS.STORAGE.ERROR,t.parameters.error),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,t.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),t.requestType===this.REQUEST_TYPE.LOGIN&&(this._loginInProgress=!1,this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,t.parameters.error_description))):t.stateMatch?(this.info("State is right"),t.parameters.hasOwnProperty(this.CONSTANTS.SESSION_STATE)&&this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,t.parameters[this.CONSTANTS.SESSION_STATE]),t.parameters.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)&&(this.info("Fragment has access token"),this._hasResource(n)||(e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,e+n+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,t.parameters[this.CONSTANTS.ACCESS_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,this._expiresIn(t.parameters[this.CONSTANTS.EXPIRES_IN]))),t.parameters.hasOwnProperty(this.CONSTANTS.ID_TOKEN)&&(this.info("Fragment has id token"),this._loginInProgress=!1,this._user=this._createUser(t.parameters[this.CONSTANTS.ID_TOKEN]),this._user&&this._user.profile?this._matchNonce(this._user)?(this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,t.parameters[this.CONSTANTS.ID_TOKEN]),n=this.config.loginResource?this.config.loginResource:this.config.clientId,this._hasResource(n)||(e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,e+n+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,t.parameters[this.CONSTANTS.ID_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,this._user.profile.exp)):(this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"Nonce received: "+this._user.profile.nonce+" is not same as requested: "+this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN)),this._user=null):(t.parameters.error="invalid id_token",t.parameters.error_description="Invalid id_token. id_token: "+t.parameters[this.CONSTANTS.ID_TOKEN],this._saveItem(this.CONSTANTS.STORAGE.ERROR,"invalid id_token"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid id_token. id_token: "+t.parameters[this.CONSTANTS.ID_TOKEN])))):(t.parameters.error="Invalid_state",t.parameters.error_description="Invalid_state. state: "+t.stateResponse,this._saveItem(this.CONSTANTS.STORAGE.ERROR,"Invalid_state"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid_state. state: "+t.stateResponse)),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+n,this.CONSTANTS.TOKEN_RENEW_STATUS_COMPLETED)},e.prototype.getResourceForEndpoint=function(t){if(this.config&&this.config.anonymousEndpoints)for(var e=0;e<this.config.anonymousEndpoints.length;e++)if(-1<t.indexOf(this.config.anonymousEndpoints[e]))return null;if(this.config&&this.config.endpoints)for(var n in this.config.endpoints)if(-1<t.indexOf(n))return this.config.endpoints[n];return(-1<t.indexOf("http://")||-1<t.indexOf("https://"))&&this._getHostFromUri(t)!==this._getHostFromUri(this.config.redirectUri)?null:this.config.loginResource},e.prototype._getHostFromUri=function(t){var e=String(t).replace(/^(https?:)\/\//,"");return e.split("/")[0]},e.prototype.handleWindowCallback=function(t){if(null==t&&(t=window.location.hash),this.isCallback(t)){var e=null,n=!1;0<this._openedWindows.length&&this._openedWindows[this._openedWindows.length-1].opener&&this._openedWindows[this._openedWindows.length-1].opener._adalInstance?(e=this._openedWindows[this._openedWindows.length-1].opener._adalInstance,n=!0):window.parent&&window.parent._adalInstance&&(e=window.parent._adalInstance);var i,r,a=e.getRequestInfo(t),o=null;r=n||window.parent!==window?e._callBackMappedToRenewStates[a.stateResponse]:e.callback,e.info("Returned from redirect url"),e.saveTokenFromHash(a),a.requestType===this.REQUEST_TYPE.RENEW_TOKEN&&window.parent?(window.parent!==window?e.verbose("Window is in iframe, acquiring token silently"):e.verbose("acquiring token interactive in progress"),i=a.parameters[e.CONSTANTS.ACCESS_TOKEN]||a.parameters[e.CONSTANTS.ID_TOKEN],o=e.CONSTANTS.ACCESS_TOKEN):a.requestType===this.REQUEST_TYPE.LOGIN&&(i=a.parameters[e.CONSTANTS.ID_TOKEN],o=e.CONSTANTS.ID_TOKEN);var s=a.parameters[e.CONSTANTS.ERROR_DESCRIPTION],c=a.parameters[e.CONSTANTS.ERROR];try{r&&r(s,i,c,o)}catch(t){e.error("Error occurred in user defined callback function: "+t)}window.parent!==window||n||(e.config.navigateToLoginRequestUrl?window.location.href=e._getItem(e.CONSTANTS.STORAGE.LOGIN_REQUEST):window.location.hash="")}},e.prototype._getNavigateUrl=function(t,e){var n="common";this.config.tenant&&(n=this.config.tenant);var i=this.instance+n+"/oauth2/authorize"+this._serialize(t,this.config,e)+this._addLibMetadata();return this.info("Navigate url:"+i),i},e.prototype._extractIdToken=function(t){var e=this._decodeJwt(t);if(!e)return null;try{var n=e.JWSPayload,i=this._base64DecodeStringUrlSafe(n);return i?JSON.parse(i):(this.info("The returned id_token could not be base64 url safe decoded."),null)}catch(t){this.error("The returned id_token could not be decoded",t)}return null},e.prototype._base64DecodeStringUrlSafe=function(t){return t=t.replace(/-/g,"+").replace(/_/g,"/"),window.atob?decodeURIComponent(escape(window.atob(t))):decodeURIComponent(escape(this._decode(t)))},e.prototype._decode=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=(t=String(t).replace(/=+$/,"")).length;if(n%4==1)throw new Error("The token to be decoded is not correctly encoded.");for(var i,r,a,o,s,c,l,u,h="",p=0;p<n;p+=4){if(i=e.indexOf(t.charAt(p)),r=e.indexOf(t.charAt(p+1)),a=e.indexOf(t.charAt(p+2)),o=e.indexOf(t.charAt(p+3)),p+2===n-1){c=(s=i<<18|r<<12|a<<6)>>16&255,l=s>>8&255,h+=String.fromCharCode(c,l);break}if(p+1===n-1){c=(s=i<<18|r<<12)>>16&255,h+=String.fromCharCode(c);break}c=(s=i<<18|r<<12|a<<6|o)>>16&255,l=s>>8&255,u=255&s,h+=String.fromCharCode(c,l,u)}return h},e.prototype._decodeJwt=function(t){if(this._isEmpty(t))return null;var e=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);return!e||e.length<4?(this.warn("The returned id_token is not parseable."),null):{header:e[1],JWSPayload:e[2],JWSSig:e[3]}},e.prototype._convertUrlSafeToRegularBase64EncodedString=function(t){return t.replace("-","+").replace("_","/")},e.prototype._serialize=function(t,e,n){var i=[];if(null!==e){i.push("?response_type="+t),i.push("client_id="+encodeURIComponent(e.clientId)),n&&i.push("resource="+encodeURIComponent(n)),i.push("redirect_uri="+encodeURIComponent(e.redirectUri)),i.push("state="+encodeURIComponent(e.state)),e.hasOwnProperty("slice")&&i.push("slice="+encodeURIComponent(e.slice)),e.hasOwnProperty("extraQueryParameter")&&i.push(e.extraQueryParameter);var r=e.correlationId?e.correlationId:this._guid();i.push("client-request-id="+encodeURIComponent(r))}return i.join("&")},e.prototype._deserialize=function(t){function e(t){return decodeURIComponent(t.replace(i," "))}var n,i=/\+/g,r=/([^&=]+)=([^&]*)/g,a={};for(n=r.exec(t);n;)a[e(n[1])]=e(n[2]),n=r.exec(t);return a},e.prototype._decimalToHex=function(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e},e.prototype._guid=function(){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues){var e=new Uint8Array(16);return t.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,this._decimalToHex(e[0])+this._decimalToHex(e[1])+this._decimalToHex(e[2])+this._decimalToHex(e[3])+"-"+this._decimalToHex(e[4])+this._decimalToHex(e[5])+"-"+this._decimalToHex(e[6])+this._decimalToHex(e[7])+"-"+this._decimalToHex(e[8])+this._decimalToHex(e[9])+"-"+this._decimalToHex(e[10])+this._decimalToHex(e[11])+this._decimalToHex(e[12])+this._decimalToHex(e[13])+this._decimalToHex(e[14])+this._decimalToHex(e[15])}for(var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i="0123456789abcdef",r=0,a="",o=0;o<36;o++)"-"!==n[o]&&"4"!==n[o]&&(r=16*Math.random()|0),"x"===n[o]?a+=i[r]:"y"===n[o]?(r&=3,a+=i[r|=8]):a+=n[o];return a},e.prototype._expiresIn=function(t){return t=t||3599,this._now()+parseInt(t,10)},e.prototype._now=function(){return Math.round((new Date).getTime()/1e3)},e.prototype._addAdalFrame=function(t){if(void 0!==t){this.info("Add adal frame to document:"+t);var e=document.getElementById(t);if(!e){if(document.createElement&&document.documentElement&&(window.opera||-1===window.navigator.userAgent.indexOf("MSIE 5.0"))){var n=document.createElement("iframe");n.setAttribute("id",t),n.setAttribute("aria-hidden","true"),n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height=n.borderWidth="0px",e=document.getElementsByTagName("body")[0].appendChild(n)}else document.body&&document.body.insertAdjacentHTML&&document.body.insertAdjacentHTML("beforeEnd",'<iframe name="'+t+'" id="'+t+'" style="display:none"></iframe>');window.frames&&window.frames[t]&&(e=window.frames[t])}return e}},e.prototype._saveItem=function(t,e,n){if(this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation){if(!this._supportsLocalStorage())return this.info("Local storage is not supported"),!1;if(n){var i=this._getItem(t)||"";localStorage.setItem(t,i+e+this.CONSTANTS.CACHE_DELIMETER)}else localStorage.setItem(t,e);return!0}return this._supportsSessionStorage()?(sessionStorage.setItem(t,e),!0):(this.info("Session storage is not supported"),!1)},e.prototype._getItem=function(t){return this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation?this._supportsLocalStorage()?localStorage.getItem(t):(this.info("Local storage is not supported"),null):this._supportsSessionStorage()?sessionStorage.getItem(t):(this.info("Session storage is not supported"),null)},e.prototype._supportsLocalStorage=function(){try{return!!window.localStorage&&(window.localStorage.setItem("storageTest","A"),"A"==window.localStorage.getItem("storageTest")&&(window.localStorage.removeItem("storageTest"),!window.localStorage.getItem("storageTest")))}catch(t){return!1}},e.prototype._supportsSessionStorage=function(){try{return!!window.sessionStorage&&(window.sessionStorage.setItem("storageTest","A"),"A"==window.sessionStorage.getItem("storageTest")&&(window.sessionStorage.removeItem("storageTest"),!window.sessionStorage.getItem("storageTest")))}catch(t){return!1}},e.prototype._cloneConfig=function(t){if(null===t||"object"!=typeof t)return t;var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.prototype._addLibMetadata=function(){return"&x-client-SKU=Js&x-client-Ver="+this._libVersion()},e.prototype.log=function(t,e,n,i){if(t<=Logging.level){if(!Logging.piiLoggingEnabled&&i)return;var r=(new Date).toUTCString(),a="";a=this.config.correlationId?r+":"+this.config.correlationId+"-"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[t]+" "+e:r+":"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[t]+" "+e,n&&(a+="\nstack:\n"+n.stack),Logging.log(a)}},e.prototype.error=function(t,e){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,t,e)},e.prototype.warn=function(t){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,t,null)},e.prototype.info=function(t){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,t,null)},e.prototype.verbose=function(t){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,t,null)},e.prototype.errorPii=function(t,e){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,t,e,!0)},e.prototype.warnPii=function(t){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,t,null,!0)},e.prototype.infoPii=function(t){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,t,null,!0)},e.prototype.verbosePii=function(t){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,t,null,!0)},e.prototype._libVersion=function(){return"1.0.17"},t.exports&&(t.exports=e,t.exports.inject=function(t){return new e(t)}),e)}));function If(t){this.message=t}Nf.inject,(If.prototype=new Error).name="InvalidCharacterError";var Pf="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new If("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,r=0,a=0,o="";i=e.charAt(a++);~i&&(n=r%4?64*n+i:i,r++%4)&&(o+=String.fromCharCode(255&n>>(-2*r&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return o};function Bf(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(Pf(e).replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}catch(t){return Pf(e)}}function Rf(t){this.message=t}function qf(t,e){if("string"!=typeof t)throw new Rf("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(Bf(t.split(".")[n]))}catch(t){throw new Rf("Invalid token specified: "+t.message)}}(Rf.prototype=new Error).name="InvalidTokenError",qf.InvalidTokenError=Rf;var Yf=(Wf.prototype.initialize=function(){var t=this;return this.initPromise||(this.initPromise=new Promise((function(n,i){if(t.options.authType===e.AuthenticationType.subscriptionKey)n();else if(t.options.authType===e.AuthenticationType.aad){if(t.options.authContext=t.options.authContext||Wf.getDefaultAuthContext(t.options),t.options.authContext.handleWindowCallback(),t.options.authContext.getLoginError())return void i(new Error("Error logging in the AAD users: "+t.options.authContext.getLoginError()));if(t.options.authContext.isCallback(window.location.hash))return void t.map.dispose();setTimeout((function(){return t._loginAndAcquire(n,i)}))}else t.options.authType===e.AuthenticationType.anonymous?n(t._triggerTokenFetch()):i(new Error("An invalid authentication type was specified."))}))),this.initPromise},Wf.getDefaultAuthContext=function(t){if(!t.aadAppId)throw new Error("No AAD app ID was specified.");if(!t.aadTenant)throw new Error("No AAD tenant was specified.");return this.defaultAuthContext||(this.defaultAuthContext=new Nf({instance:t.aadInstance||h,tenant:t.aadTenant,clientId:t.aadAppId,cacheLocation:this.constants.preferredCacheLocation})),this.defaultAuthContext},Wf.prototype._loginAndAcquire=function(t,e){function n(){i.options.authContext.acquireToken(v,(function(n){if(n)e(new Error(n));else{var r={map:i.map,type:Wf.constants.events.tokenAcquired};i.map.events.invoke(Wf.constants.events.tokenAcquired,r),t()}}))}var i=this,r=this.options.authContext.getCachedToken(this.options.aadAppId),a=this.options.authContext.getCachedUser();if(r&&a)n();else{this.options.authContext.loginInProgress()||this.options.authContext.login();var o=setInterval((function(){i.options.authContext.loginInProgress()||(clearInterval(o),i.options.authContext.getCachedToken(i.options.aadAppId)?n():e(new Error(i.options.authContext.getLoginError()||"The AAD authentication context is not logged-in for the specified app ID: "+i.options.aadAppId)))}),25)}},Wf.prototype.getAuthType=function(){return this.options.authType},Wf.prototype.getClientId=function(){return this.options.clientId},Wf.prototype.getToken=function(){var t=this;if(this.options.authType===e.AuthenticationType.aad){var n=this.options.authContext.getCachedToken(v);return n||(this.options.authContext.getCachedUser()||this.options.authContext.login(),this.options.authContext.acquireToken(v,(function(e,i){if(!e){n=i;var r={map:t.map,type:Wf.constants.events.tokenAcquired};t.map.events.invoke(Wf.constants.events.tokenAcquired,r)}}))),n}if(this.options.authType===e.AuthenticationType.anonymous){var i=this._getItem(Wf.constants.storage.accessTokenKey);if(i){var r=this._getTokenExpiry(i);if(r<300&&0<r)this._triggerTokenFetch();else if(r<=0)throw this._saveItem(Wf.constants.storage.accessTokenKey,""),new Error(Wf.constants.errors.tokenExpired)}else this._triggerTokenFetch();return i}if(this.options.authType===e.AuthenticationType.subscriptionKey)return this.options.subscriptionKey},Wf.prototype._getTokenExpiry=function(t){var e=qf(t).exp,n=this._getCurrentTime();return 0<e-n?e-n:-1},Wf.prototype._storeAccessToken=function(t){this._saveItem(Wf.constants.storage.accessTokenKey,t);var e={map:this.map,type:Wf.constants.events.tokenAcquired};this.map.events.invoke(Wf.constants.events.tokenAcquired,e)},Wf.prototype._saveItem=function(t,e){return this._supportsLocalStorage()?(localStorage.setItem(t,e),!0):!!this._supportsSessionStorage()&&(sessionStorage.setItem(t,e),!0)},Wf.prototype._getItem=function(t){return this._supportsLocalStorage()?localStorage.getItem(t):this._supportsSessionStorage()?sessionStorage.getItem(t):null},Wf.prototype._supportsLocalStorage=function(){try{return!!window.localStorage&&(window.localStorage.setItem(Wf.constants.storage.testStorageKey,"A"),"A"===window.localStorage.getItem(Wf.constants.storage.testStorageKey)&&(window.localStorage.removeItem(Wf.constants.storage.testStorageKey),!window.localStorage.getItem(Wf.constants.storage.testStorageKey)))}catch(t){return!1}},Wf.prototype._supportsSessionStorage=function(){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(Wf.constants.storage.testStorageKey,"A"),"A"===window.sessionStorage.getItem(Wf.constants.storage.testStorageKey)&&(window.sessionStorage.removeItem(Wf.constants.storage.testStorageKey),!window.sessionStorage.getItem(Wf.constants.storage.testStorageKey)))}catch(t){return!1}},Wf.prototype._getCurrentTime=function(){return Math.round((new Date).getTime()/1e3)},Wf.prototype.signRequest=function(t){t.headers=t.headers||{},t.headers[M]=this.sessionId,t.headers[y]=_,t.headers[m]="MapControl/"+N+" (Web)";var n=this.getToken();switch(this.options.authType){case e.AuthenticationType.aad:case e.AuthenticationType.anonymous:t.headers[g]=this.options.clientId,t.headers[p]=d+n;break;case e.AuthenticationType.subscriptionKey:if("url"in t)-1!==t.url.indexOf("?")?t.url+="&subscription-key="+n:t.url+="?&subscription-key="+n;else{if(!("domain"in t))throw new Error("Could not determine if the provided object was UrlOptions or RequestParameters");t.queryParams=t.queryParams||{},t.queryParams["subscription-key"]=n}break;default:throw new Error("An invalid authentication type was specified")}return t},Wf.constants={preferredCacheLocation:"localStorage",storage:{accessTokenKey:"access.token.key",testStorageKey:"testStorage"},events:{tokenAcquired:"tokenacquired"},tokenExpiresIn:3599,tokenRefreshClockSkew:300,errors:{tokenExpired:"Token Expired, Try again"}},Wf);function Wf(t){var e=this;this._triggerTokenFetch=function(){return new Promise((function(t,n){e.options.getToken((function(i){try{var r=e._getTokenExpiry(i)-Wf.constants.tokenRefreshClockSkew;e._storeAccessToken(i),clearTimeout(e.tokenTimeOutHandle),e.tokenTimeOutHandle=setTimeout(e._triggerTokenFetch,1e3*r),t()}catch(i){n(new Error("Invalid token returned by getToken function"))}}),(function(t){n(t)}),e.map)}))};var n=t.getServiceOptions();this.options=n.authOptions,this.sessionId=n.sessionId,this.map=t}var jf=(Ff.prototype.add=function(t,e){if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var r=i[n];this._add(r,e)}else this._add(t,e)},Ff.prototype.getControls=function(){return Array.from(this.controls)},Ff.prototype.remove=function(t){if(Array.isArray(t))for(var e=0,n=t;e<n.length;e++){var i=n[e];this._remove(i)}else this._remove(t)},Ff.prototype._add=function(t,e){this.controls.add(t);var n=(new R).merge(e),i=t.onAdd(this.map,e),r=this.controlContainer.getElementsByClassName(n.position);if(!(0<r.length))throw new Error("Control position "+n.position+" does not exist.");r.item(0).appendChild(i)},Ff.prototype._remove=function(t){t.onRemove(),this.controls.delete(t)},Ff);function Ff(t){for(var n in this.map=t,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("atlas-control-container"),e.ControlPosition)if(e.ControlPosition.hasOwnProperty(n)){var i=document.createElement("div");i.classList.add(e.ControlPosition[n]),i.classList.add("subcontrol-container"),this.controlContainer.appendChild(i)}this.map.getMapContainer().appendChild(this.controlContainer),this.controls=new Set}var Hf=(Uf.prototype.addCallback=function(t,e,n,i,r){var a,o,s=this;if(i)a=function(t){var e=t.lngLat?new ba(t.lngLat.lng,t.lngLat.lat):void 0,i=t.point?[t.point.x,t.point.y]:void 0,r=t.features?t.features.map((function(t){return new dr(t.geometry,t.properties,t.id)})):[],a={type:t.type,originalEvent:t.originalEvent,position:e,coordinate:i,features:r};n(a)};else switch(t){case"data":case"sourcedata":case"styledata":a=function(i){var a=w(w({dataType:i.dataType},"source"===i.dataType&&w(w(w({isSourceLoaded:i.isSourceLoaded},i.sourceDataType&&{sourceDataType:i.sourceDataType}),{source:s.map.sources.getById(i.sourceId)}),i.tile&&{tile:{id:{x:i.tile.tileID.canonical.x,y:i.tile.tileID.canonical.y,z:i.tile.tileID.canonical.z},size:i.tile.tileSize,state:i.tile.state}})),{map:s.map,type:i.type});r&&s.map.events._removeListener(t,e,n),n(a)};break;case"error":a=function(i){var a={error:i.error,map:s.map,type:i.type};r&&s.map.events._removeListener(t,e,n),n(a)};break;case"touchstart":case"touchend":case"touchmove":case"touchcancel":a=function(i){if(i.originalEvent){if(i.originalEvent===o)return;o=i.originalEvent}var a=i.point?new gr(i.point.x,i.point.y):void 0,c=i.points?i.points.map((function(t){return new gr(t.x,t.y)})):[],l=i.lngLat?new ba(i.lngLat.lng,i.lngLat.lat):void 0,u=i.lngLats?i.lngLats.map((function(t){return new ba(t.lng,t.lat)})):[],h=l?s.map.layers.getRenderedShapes(new _r(l),e?[e]:void 0):[],p={map:s.map,originalEvent:i.originalEvent,pixel:a,pixels:c,position:l,positions:u,shapes:h,layerId:e||void 0,preventDefault:function(){return i.preventDefault()},type:i.type};r&&s.map.events._removeListener(t,e,n),n(p)};break;case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"click":case"dblclick":case"mouseout":case"mouseenter":case"mouseleave":case"contextmenu":a=function(i){if(i.originalEvent){if(i.originalEvent===o)return;o=i.originalEvent}var a=i.lngLat?new ba(i.lngLat.lng,i.lngLat.lat):void 0,c=i.point?new gr(i.point.x,i.point.y):void 0,l=a?s.map.layers.getRenderedShapes(new _r(a),e?[e]:void 0):[],u={map:s.map,originalEvent:i.originalEvent,position:a,pixel:c,preventDefault:function(){return i.preventDefault()},shapes:l,layerId:e||void 0,type:i.type};r&&s.map.events._removeListener(t,e,n),n(u)};break;case"styleimagemissing":a=function(i){r&&s.map.events._removeListener(t,e,n),n(i.id)};break;case"wheel":a=function(i){if(i.originalEvent){if(i.originalEvent===o)return;o=i.originalEvent}var a={map:s.map,originalEvent:i.originalEvent,preventDefault:function(){return i.preventDefault()},type:i.type};r&&s.map.events._removeListener(t,e,n),n(a)};break;case"resize":a=function(i){var a={map:s.map,type:i.type};for(var o in i)"type"!==o&&"target"!==o&&(a[o]=i[o]);r&&s.map.events._removeListener(t,e,n),n(a)};break;default:a=function(i){var a={map:s.map,type:i.type};i.originalEvent&&(a.originalEvent=i.originalEvent),r&&s.map.events._removeListener(t,e,n),n(a)}}this.callbacks.has(e)||this.callbacks.set(e,new Ci),this.callbacks.get(e).has(t)||this.callbacks.get(e).set(t,new Ci),this.callbacks.get(e).get(t).set(n,[a,r])},Uf.prototype.removeCallback=function(t,e,n){this.callbacks.has(e)&&this.callbacks.get(e).has(t)&&this.callbacks.get(e).get(t).has(n)&&this.callbacks.get(e).get(t).delete(n)},Uf.prototype.getModifiedCallback=function(t,e,n){if(this.callbacks.has(e)&&this.callbacks.get(e).has(t)&&this.callbacks.get(e).get(t).has(n))return this.callbacks.get(e).get(t).get(n)[0]},Uf.prototype.getLayerCallbacks=function(t){if(this.callbacks.has(t))return this.callbacks.get(t)},Uf.prototype.getEventCallbacks=function(t,e){if(this.callbacks.has(e)){var n=this.callbacks.get(e);if(n.has(t))return n.get(t)}},Uf);function Uf(t){this.callbacks=new Ci,this.map=t}var Xf=(Vf.prototype.add=function(t,e,n){if("function"==typeof e)this._addGlobalListener(t,e,!1,!1);else for(var i=0,r=e=Array.isArray(e)?e:[e];i<r.length;i++){var a=r[i];a instanceof mo&&mo._isMBoxEvent(t)?this._addLayerListener(t,a,n,!1,!1):a._addEventListener(t,n,!1)}},Vf.prototype.addOnce=function(t,e,n){"function"==typeof e?this._addGlobalListener(t,e,!1,!0):e instanceof mo&&mo._isMBoxEvent(t)?this._addLayerListener(t,e,n,!1,!0):e._addEventListener(t,n,!0)},Vf.prototype._addLegacy=function(t,e,n){"function"==typeof e?this._addGlobalListener(t,e,!0,!1):this._addLayerListener(t,e,n,!0,!1)},Vf.prototype._addLayerListener=function(t,e,n,i,r){var a=e instanceof mo?e.getId():e,o=this.map.layers.getLayerById(a),s=this.mapCallbackHandler.getModifiedCallback(t,a,n);if(s&&o)for(var c=0,l=o._getLayerIds();c<l.length;c++){var u=l[c];this.map._getMap().off(t,u,s)}if(this.mapCallbackHandler.addCallback(t,a,n,i,r),o){s=this.mapCallbackHandler.getModifiedCallback(t,a,n);for(var h=0,p=o._getLayerIds();h<p.length;h++)u=p[h],this.map._getMap().on(t,u,s)}},Vf.prototype._addGlobalListener=function(t,e,n,i){var r=this.mapCallbackHandler.getModifiedCallback(t,"",e);if(r&&this.map._getMap().off(t,r),this.mapCallbackHandler.addCallback(t,"",e,n,i),r=this.mapCallbackHandler.getModifiedCallback(t,"",e),"load"===t&&this.map._isLoaded()){var a={type:"load",map:this.map};setTimeout((function(){return r(a)}))}else if("ready"===t){if(this.map._isReady()){var o={type:"ready",map:this.map};setTimeout((function(){return r(o)}))}}else this.map._getMap().on(t,r)},Vf.prototype.invoke=function(t,e,n){if(void 0===n)this._invokeListeners(t,"",e);else if(e instanceof mo&&mo._isMBoxEvent(t))this._invokeListeners(t,e.getId(),n);else{if(!(e instanceof Ta))throw new Error("The invoke target is invalid.");e._invokeEvent(t,n)}},Vf.prototype._invokeListeners=function(t,e,n){var i=this,r=this.mapCallbackHandler.getEventCallbacks(t,e);r?r.forEach((function(r,a){r[0],r[1]&&i._removeListener(t,e,a),a(n)})):"error"===t&&console.error("error"in n?n.error:n)},Vf.prototype.remove=function(t,e,n){if("function"==typeof e)this._removeListener(t,"",e);else for(var i=0,r=e=Array.isArray(e)?e:[e];i<r.length;i++){var a=r[i];a instanceof mo&&mo._isMBoxEvent(t)?this._removeListener(t,a,n):a._removeEventListener(t,n)}},Vf.prototype._removeLegacy=function(t,e,n){"function"==typeof e?this._removeListener(t,"",e):this._removeListener(t,e,n)},Vf.prototype._removeListener=function(t,e,n){var i=e instanceof mo?e.getId():e,r=this.mapCallbackHandler.getModifiedCallback(t,i,n);if(r)if(i){var a=this.map.layers.getLayerById(i);if(a)for(var o=0,s=a._getLayerIds();o<s.length;o++){var c=s[o];this.map._getMap().off(t,c,r)}}else this.map._getMap().off(t,r);this.mapCallbackHandler.removeCallback(t,i,n)},Vf.prototype._enableLayerEvents=function(t){var e=this,n=this.mapCallbackHandler.getLayerCallbacks(t.getId());n&&n.forEach((function(n,i){n.forEach((function(n){for(var r=n[0],a=0,o=t._getLayerIds();a<o.length;a++){var s=o[a];e.map._getMap().on(i,s,r)}}))}))},Vf.prototype._disableLayerEvents=function(t){var e=this,n=this.mapCallbackHandler.getLayerCallbacks(t.getId());n&&n.forEach((function(n,i){n.forEach((function(n){for(var r=n[0],a=0,o=t._getLayerIds();a<o.length;a++){var s=o[a];e.map._getMap().off(i,s,r)}}))}))},Vf);function Vf(t){this.map=t,this.mapCallbackHandler=new Hf(this.map)}var Gf=(Kf.prototype.add=function(t,e){if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var r=i[n];this._addMarker(r,e)}else this._addMarker(t,e)},Kf.prototype._addMarker=function(t,e){t._addToMap(this.map,e),this.markers.add(t)},Kf.prototype.getMarkers=function(){return Array.from(this.markers)},Kf.prototype.remove=function(t){if(Array.isArray(t))for(var e=0,n=t;e<n.length;e++){var i=n[e];this._removeMarker(i)}else this._removeMarker(t)},Kf.prototype._removeMarker=function(t){var e=this;t instanceof Xs?(t._removeFromMap(),this.markers.delete(t)):this.markers.forEach((function(n){n._getId()===t&&(n._removeFromMap(),e.markers.delete(n))}))},Kf.prototype.clear=function(){var t=this;this.markers.forEach((function(e){e._removeFromMap(),t.markers.delete(e)}))},Kf);function Kf(t){this.markers=new Set,this.map=t}var Zf=(Jf.prototype.add=function(t,e){var n=this;return new Promise((function(i,r){if(n.userImages.has(t))i();else if(e instanceof HTMLImageElement||e instanceof ImageData)n.map._getMap().addImage(t,e),n.userImages.set(t,e),i();else if("string"==typeof e){var a,o=void 0;o=/<svg/i.test(e)&&!/^data:/i.test(e)?"data:image/svg+xml;base64,"+window.btoa(e):e;var s=!1;n.map._sendRequest(o,"Image").then((function(t){if(!s)return t.blob()})).then((function(e){if(!s){clearTimeout(a);var o=new Image;o.onload=function(){n.map._getMap().addImage(t,o),n.userImages.set(t,o),i()},o.onerror=o.onabort=function(){r("Failed to load image into HTML element.")},o.src=URL.createObjectURL(e)}})).catch((function(){s||(clearTimeout(a),r("Failed to load image into HTML element."))})),a=setTimeout((function(){s=!0,r("Failed to load image within specified timeout: "+n.imageLoadTimeout+" ms.")}),n.imageLoadTimeout)}}))},Jf.prototype.clear=function(){var t=this;this.userImages.forEach((function(e,n){t.map._getMap().removeImage(n)})),this.userImages.clear()},Jf.prototype.getImageIds=function(){var t=[];return this.userImages.forEach((function(e,n){t.push(n)})),t},Jf.prototype.createFromTemplate=function(t,e,n,i,r){n=n||"#1A73AA",i=i||"#fff";var a=Vc(e,r);return a=a.replace(/{color}/g,n).replace(/{secondaryColor}/g,i).replace(/{text}/g,""),this.add(t,a)},Jf.prototype.hasImage=function(t){return this.userImages.has(t)},Jf.prototype.remove=function(t){this.map._getMap().removeImage(t),this.userImages.delete(t)},Jf.prototype._restoreImages=function(){var t=this;this.userImages.forEach((function(e,n){t.map._getMap().hasImage(n)||t.map._getMap().addImage(n,e)}))},Jf);function Jf(t){this.userImages=new Ci,this.imageLoadTimeout=5e3,this.map=t}var Qf=($f.prototype.add=function(t,e,n){void 0===n&&(n=!0);var i=e instanceof mo?e.getId():e;if(Array.isArray(t))for(var r=0,a=t;r<a.length;r++){var o=a[r];this._addLayer(o,i,n)}else this._addLayer(t,i,n)},$f.prototype._addLayer=function(t,e,n){if(e!==t.getId()&&this.layersById.has(e))if(this.layersById.has(t.getId())){var i=this.layers.findIndex((function(e){return e.getId()===t.getId()})),r=this.layers[i];n&&(this._removeMapboxLayers(r),this._addMapboxLayers(t,e)),this.map.events._disableLayerEvents(r),this.map.events._enableLayerEvents(t),this.layersById.set(t.getId(),t),this.layers.splice(i,1);var a=this.layers.findIndex((function(t){return t.getId()===e}));this.layers.splice(a,0,t),r.onRemove(),t.onAdd(this.map)}else n&&this._addMapboxLayers(t,e),a=this.layers.findIndex((function(t){return t.getId()===e})),this.layers.splice(a,0,t),this.layersById.set(t.getId(),t),this.map.events._enableLayerEvents(t),t.onAdd(this.map);else this.layersById.has(t.getId())?(i=this.layers.findIndex((function(e){return e.getId()===t.getId()})),r=this.layers[i],n&&(this._removeMapboxLayers(r),this._addMapboxLayers(t,i+1)),this.map.events._disableLayerEvents(r),this.map.events._enableLayerEvents(t),this.layersById.set(t.getId(),t),this.layers[i]=t,r.onRemove()):(n&&this._addMapboxLayers(t),this.layersById.set(t.getId(),t),this.layers.push(t),this.map.events._enableLayerEvents(t)),t.onAdd(this.map)},$f.prototype._addMapboxLayers=function(t,e){if(!this.map._isReady())throw new Error("The layer '"+t.getId()+"' could not be added to the map because the map is not ready. Please use a ready event listener to guarantee the map is ready before adding a layer to it.");if(!(t instanceof As)||t.getOptions().tileUrl){t instanceof qo&&this.map._getMap().addSource(t._getSourceId(),t._buildSource());for(var n=this._getMapboxBefore(e),i=0,r=t._buildLayers();i<r.length;i++){var a=r[i];this.map._getMap().addLayer(a,n)}}},$f.prototype._removeMapboxLayers=function(t){for(var e=0,n=t._getLayerIds();e<n.length;e++){var i=n[e];this.map._getMap().getLayer(i)&&this.map._getMap().removeLayer(i)}t instanceof qo&&this.map._getMap().getSource(t._getSourceId())&&this.map._getMap().removeSource(t._getSourceId())},$f.prototype._getMapboxBefore=function(t){if("string"==typeof t){var e=this.layersById.get(t);if(!e)return;for(var n=0,i=e._getLayerIds();n<i.length;n++){var r=i[n];if(this.map._getMap().getLayer(r))return r}t=this.layers.findIndex((function(e){return e.getId()===t}))+1}for(var a=t;a<this.layers.length;a++)for(var o=0,s=this.layers[a]._getLayerIds();o<s.length;o++)if(r=s[o],this.map._getMap().getLayer(r))return r},$f.prototype.clear=function(){for(var t=this.layers.length-1;0<=t;t--){var e=this.layers[t];this._removeMapboxLayers(e),this.map.events._disableLayerEvents(e),this.layersById.delete(e.getId()),this.layers.splice(t,1),e.onRemove()}},$f.prototype.getLayerById=function(t){return this.layersById.get(t)},$f.prototype.getLayers=function(){return this.layers.slice(0)},$f.prototype._getSourceIds=function(){for(var t=new Set,e=0,n=this.layers;e<n.length;e++)n[e]._getSourceIds().forEach((function(e){return t.add(e)}));return t},$f.prototype.move=function(t,e){var n=t instanceof mo?t.getId():t,i=e instanceof mo?e.getId():e;if(!this.layersById.has(n))throw new Error("The layer '"+n+"' has not been added to the map and cannot be moved.");var r=this.layers.findIndex((function(t){return t.getId()===n}));if(this._moveMapboxLayers(this.layers[r],i),t=this.layers[r],this.layers.splice(r,1),this.layersById.has(i)){var a=this.layers.findIndex((function(t){return t.getId()===i}));this.layers.splice(a,0,t)}else this.layers.push(t)},$f.prototype._moveMapboxLayers=function(t,e){for(var n=this._getMapboxBefore(e),i=0,r=t._getLayerIds();i<r.length;i++){var a=r[i];this.map._getMap().moveLayer(a,n)}},$f.prototype.getRenderedShapes=function(t,e,n){var i,r,a=this;if(t=t||[-180,-85.0511,180,85.0511],Array.isArray(t)?4===t.length||6===t.length?i=this.map.positionsToPixels([Ia.getSouthWest(t),Ia.getNorthEast(t)]):2!==t.length&&3!==t.length||(i=this.map.positionsToPixels([t])[0]):i=this.map.positionsToPixels([t.coordinates])[0],e){r=[];for(var o=0,s=e=Array.isArray(e)?e:[e];o<s.length;o++){var c=s[o],l=c instanceof mo?c.getId():c;if(!this.layersById.has(l))throw new Error("The layer '"+l+"' has not been added to the map and its rendered features cannot be retrieved.");r.push.apply(r,this.layersById.get(l)._getLayerIds().filter((function(t){return!!a.map._getMap().getLayer(t)})))}}var u=this.map._getMap().queryRenderedFeatures(i,{layers:r,filter:n});return this.map.sources._mapFeaturesToShapes(u)},$f.prototype.remove=function(t,e){if(void 0===e&&(e=!0),Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var r=i[n];this._removeLayer(r,e)}else this._removeLayer(t,e)},$f.prototype._removeLayer=function(t,e){var n=t instanceof mo?t.getId():t;if(!this.layersById.has(n))throw new Error("The layer '"+n+"' has not been added to the map and cannot be removed.");var i=this.layers.findIndex((function(t){return t.getId()===n})),r=this.layers[i];e&&this._removeMapboxLayers(r),this.layersById.delete(n),this.layers.splice(i,1),this.map.events._disableLayerEvents(r),r.onRemove()},$f);function $f(t){this.layersById=new Ci,this.layers=[],this.map=t}var tm=(em.prototype.add=function(t){for(var e=0,n=t=Array.isArray(t)?t:[t];e<n.length;e++){var i=n[e];this.popups.has(i)||(this.popups.add(i),i.attach(this.map))}},em.prototype.clear=function(){var t=this;this.popups.forEach((function(e){t.popups.delete(e),e.remove()}))},em.prototype.remove=function(t){for(var e=0,n=t=Array.isArray(t)?t:[t];e<n.length;e++){var i=n[e];this.popups.has(i)&&(this.popups.delete(i),i.remove())}},em.prototype.getPopups=function(){return Array.from(this.popups)},em.prototype._getCollectionDiv=function(){var t=this.map.getMapContainer().querySelector("."+em.Css.collection);return t||((t=document.createElement("div")).classList.add(em.Css.collection),t.setAttribute("aria-label","Map Information"),this.map.getMapContainer().appendChild(t)),t},em.prototype._addDraggedPopup=function(t){0===this.draggedPopups.size&&(this.map.getMapContainer().addEventListener("mousemove",this._onDrag),this.map.getMapContainer().addEventListener("touchmove",this._onDrag),this.map.getMapContainer().addEventListener("mouseup",this._onUp),this.map.getMapContainer().addEventListener("touchend",this._onUp)),this.draggedPopups.add(t)},em.Css={collection:"popup-collection-container"},em);function em(t){var e=this;this._onDrag=function(t){var n,i;"mousemove"===t.type?(n=(t=t).clientX,i=t.clientY):"touchmove"===t.type&&(n=(t=t).touches[0].clientX,i=t.touches[0].clientY),e.draggedPopups.forEach((function(t){t._dragToPixel([n,i])}))},this._onUp=function(){e.map.getMapContainer().removeEventListener("mousemove",e._onDrag),e.map.getMapContainer().removeEventListener("touchmove",e._onDrag),e.map.getMapContainer().removeEventListener("mouseup",e._onUp),e.map.getMapContainer().removeEventListener("touchend",e._onUp),e.draggedPopups.forEach((function(t){e.draggedPopups.delete(t),t._onUp()}))},this.map=t,this.popups=new Set,this.draggedPopups=new Set}var nm=(im.prototype.add=function(t,e){if(void 0===e&&(e=!0),Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var r=i[n];this._addSource(r,e)}else this._addSource(t,e)},im.prototype.getRenderedShapes=function(t,e,n){var i="string"==typeof t?t:t.getId(),r=this.map._getMap().querySourceFeatures(i,{sourceLayer:n,filter:e});return this.map.sources._mapFeaturesToShapes(r,!0,this.sources.get(i))},im.prototype._buildSources=function(){var t={};return this.sources.forEach((function(e){t[e.getId()]=e._buildSource()})),t},im.prototype.clear=function(){var t=this;this.sources.forEach((function(e){t.remove(e)}))},im.prototype.getById=function(t){return this.sources.get(t)},im.prototype.getSources=function(){return Array.from(this.sources.values())},im.prototype.isSourceLoaded=function(t){var e=t instanceof eo?t.getId():t;return this.map._getMap().isSourceLoaded(e)},im.prototype.remove=function(t,e){if(void 0===e&&(e=!0),Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var r=i[n];this._removeSource(r,e)}else this._removeSource(t,e)},im.prototype._removeSource=function(t,e){var n=t instanceof eo?t.getId():t;if(this.sources.has(n)){if(this.map._getMap().getSource(n)&&e&&this.map._getMap().removeSource(n),this.map._getMap().getSource(n)&&e)throw new Error("One or more layers have a dependency on the source '"+n+"'");return this.sources.get(n)._setMap(null),void this.sources.delete(n)}throw new Error("'"+n+"' is not added to the map")},im.prototype._addSource=function(t,e){if(this.sources.has(t.getId())){if(e)throw new Error("'"+t.getId()+"' is already added to the map");this.sources.get(t.getId())._setMap(null),this.sources.delete(t.getId())}if(e){if(!this.map._isReady())throw new Error("The source '"+t.getId()+"' could not be added to the map because the map is not ready. Please use a ready event listener to guarantee the map is ready before adding a source to it.");this.map._getMap().addSource(t.getId(),t._buildSource())}this.sources.set(t.getId(),t),t._setMap(this.map)},im.prototype._mapFeaturesToShapes=function(t,e,n){for(var i=[],r=0,a=t;r<a.length;r++){var o=a[r];if((n||"string"==typeof o.source)&&"string"==typeof o.properties[Ea._shapeIdPropName]){var s=n||this.sources.get(o.source);if(s instanceof ro){var c=s.getShapeById(o.properties[Ea._shapeIdPropName]);if(c instanceof Ea){i.push(c);continue}}}e||i.push(o)}return i},im);function im(t){this.map=t,this.sources=new Ci}var rm,am=(x(om,rm=L),om);function om(){var t=null!==rm&&rm.apply(this,arguments)||this;return t.duration=1e3,t.type="jump",t}var sm,cm=(x(lm,sm=L),lm);function lm(){var t=null!==sm&&sm.apply(this,arguments)||this;return t.bottom=0,t.left=0,t.right=0,t.top=0,t}var um,hm=(x(pm,um=L),pm.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++){var r=i[n];r&&"number"==typeof r.padding&&(r.padding={top:r.padding,bottom:r.padding,left:r.padding,right:r.padding})}return um.prototype.merge.apply(this,t)},pm);function pm(){var t=null!==um&&um.apply(this,arguments)||this;return t.bounds=[-180,-89,180,90],t.maxBounds=void 0,t.maxZoom=20,t.offset=new gr(0,0),t.padding=new cm,t}var dm,fm=(x(mm,dm=L),mm);function mm(){var t=null!==dm&&dm.apply(this,arguments)||this;return t.zoom=1,t.center=new ba(0,0),t.centerOffset=new gr(0,0),t.bearing=0,t.pitch=0,t.minZoom=1,t.maxZoom=20,t.maxBounds=void 0,t}var gm,ym=(x(_m,gm=L),_m);function _m(){var t=null!==gm&&gm.apply(this,arguments)||this;return t.name=void 0,t.before=void 0,t.minZoom=1,t.maxZoom=20,t.overwrite=!1,t.defer=!1,t.opacity=1,t}var vm,Mm=(x(bm,vm=ym),bm);function bm(){var t=null!==vm&&vm.apply(this,arguments)||this;return t.color="rgba(0,0,0,.5)",t.outlineColor="#000",t.radius=1,t.outlineWidth=5,t.name="default-circles",t}var xm,wm=(x(Am,xm=ym),Am);function Am(){var t=null!==xm&&xm.apply(this,arguments)||this;return t.cap="butt",t.join="miter",t.name="default-linestrings",t.color="#000",t.width=1,t}var Tm,Lm=(x(Sm,Tm=ym),Sm);function Sm(){var t=null!==Tm&&Tm.apply(this,arguments)||this;return t.iconSize=1,t.fontSize=14,t.fontColor="#000",t.textFont="SegoeUi-Regular",t.cluster=!0,t.clusterIcon=void 0,t.textOffset=[0,0],t.name="default-pins",t.icon="pin-darkblue",t.title="",t}var km,Om=(x(zm,km=ym),zm);function zm(){var t=null!==km&&km.apply(this,arguments)||this;return t.color="rgba(0,0,0,.5)",t.outlineColor="#000",t.name="default-polygons",t}var Cm,Em=(x(Dm,Cm=ym),Dm);function Dm(){var t=null!==Cm&&Cm.apply(this,arguments)||this;return t.name="default-raster",t}var Nm,Im=(x(Pm,Nm=L),Pm);function Pm(){var t=null!==Nm&&Nm.apply(this,arguments)||this;return t.anchor="map",t.color="#FFFFFF",t.intensity=.5,t.position=[1.15,210,30],t}var Bm,Rm=(x(qm,Bm=L),qm.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++){var r=i[n];r&&(r.hasOwnProperty("view")?r.userRegion=r.view:r.hasOwnProperty("userRegion")&&(r.view=r.userRegion),"string"==typeof r.language&&(r.language=gc.getCode(r.language)))}return Bm.prototype.merge.apply(this,t)},qm);function qm(){var t=null!==Bm&&Bm.apply(this,arguments)||this;return t.autoResize=!0,t.language=Pc(),t.light=new Im,t.preserveDrawingBuffer=!1,t.renderWorldCopies=!0,t.showBuildingModels=!1,t.showFeedbackLink=!0,t.showLogo=!0,t.showTileBoundaries=!1,t.style="road",t.view=qc(),t.userRegion=t.view,t}var Ym,Wm=(x(jm,Ym=L),jm);function jm(){var t=null!==Ym&&Ym.apply(this,arguments)||this;return t.flow="none",t.incidents=!1,t}var Fm,Hm=(x(Um,Fm=L),Um.prototype.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var a=r[i];a&&(a.authOptions?"string"==typeof a.authOptions.subscriptionKey&&(a.subscriptionKey=a["subscription-key"]=a.authOptions.subscriptionKey):"string"==typeof a.subscriptionKey?(a["subscription-key"]=a.subscriptionKey,a.authOptions={authType:e.AuthenticationType.subscriptionKey,subscriptionKey:a.subscriptionKey}):"string"==typeof a["subscription-key"]&&(a.subscriptionKey=a["subscription-key"],a.authOptions={authType:e.AuthenticationType.subscriptionKey,subscriptionKey:a["subscription-key"]}),"string"==typeof a.sessionId?a["session-id"]=a.sessionId:"string"==typeof a["session-id"]&&(a.sessionId=a["session-id"]),"boolean"==typeof a.disableTelemetry?a["disable-telemetry"]=a.disableTelemetry:"boolean"==typeof a["disable-telemetry"]&&(a.disableTelemetry=a["disable-telemetry"]),"boolean"==typeof a.enableAccessibility?a["enable-accessibility"]=a.enableAccessibility:"boolean"==typeof a["enable-accessibility"]&&(a.enableAccessibility=a["enable-accessibility"]))}var o=Fm.prototype.merge.apply(this,t);return o.authOptions.authType!==e.AuthenticationType.subscriptionKey&&(o["subscription-key"]=o.subscriptionKey=void 0),o},Um._cloneCustomizer=function(t){if("object"==typeof t)return Object.assign({},t)},Um);function Um(){var t=null!==Fm&&Fm.apply(this,arguments)||this;return t.authOptions=Nc(),t.disableTelemetry=!1,t["disable-telemetry"]=t.disableTelemetry,t.domain=Ic(),t.enableAccessibility=!0,t["enable-accessibility"]=t.enableAccessibility,t.refreshExpiredTiles=!0,t.subscriptionKey=Rc(),t["subscription-key"]=t.subscriptionKey,t.sessionId=Bc(),t["session-id"]=t.sessionId,t.transformRequest=void 0,t}var Xm=function(){this.version=8,this.sprite="",this.glyphs="",this.light={},this.sources={},this.layers=[]},Vm=(Gm.prototype.build=function(t){var e=new Xm;if(null!=this.glyphs&&(e.glyphs=this.glyphs),null!=this.sprite&&(e.sprite=this.sprite),null!=t.light&&Object.assign(e.light,t.light),null!=this.map.sources&&(e.sources=this.map.sources._buildSources()),null!=this.map.layers)for(var n=0,i=this.map.layers.getLayers();n<i.length;n++){var r=i[n];e.layers=e.layers.concat(r._buildLayers()),r instanceof qo&&(e.sources[r._getSourceId()]=r._buildSource())}return e},Gm.prototype.setGlyphs=function(t){this.glyphs=t},Gm.prototype.setSprite=function(t){this.sprite=t},Gm);function Gm(t){this.sprite="",this.glyphs="{fontstack}/{range}",this.map=t}var Km,Zm=(x(Jm,Km=mo),Jm.prototype._buildLayers=function(){return this.layers},Jm.prototype._getLayerIds=function(){return this.layers.map((function(t){return t.id}))},Jm.prototype._getSourceIds=function(){for(var t=new Set,e=0,n=this.layers;e<n.length;e++){var i=n[e];"string"==typeof i.source?t.add(i.source):i.source&&t.add(i.id)}return t},Jm);function Jm(t,e){var n=Km.call(this,e)||this;return n.layers=t,n}var Qm,$m=(x(tg,Qm=eo),tg.prototype._buildSource=function(){return this.source},tg.prototype._modifySource=function(t,e){var n=t.tiles.map((function(t){return"string"==typeof t?t:new C({domain:f,path:t.path,queryParams:w(w({},e),t.queryParams)}).toString()}));return t.tiles=n,t},tg);function tg(t,e,n){var i=Qm.call(this,t)||this;return i.source=i._modifySource(e,n),i}var eg=(ng.prototype.initialize=function(){var t=this;return this.initPromise||(this.initPromise=this.request(c,l).then((function(e){t.definitions=e})).catch((function(t){throw new Error("Failed to retrieve the style definitions: "+t)}))),this.initPromise},ng.prototype.getStyleComponents=function(t){return A(this,void 0,void 0,(function(){var e,n,i,r=this;return T(this,(function(a){return e=new Set,n=this.lookUp(t),i=n.layerGroups.map((function(n){return A(r,void 0,void 0,(function(){var i,r,a,o,s,c,l;return T(this,(function(u){switch(u.label){case 0:return i=n.layerPath,r=n.name,a={language:t.language},t.view&&(a.view=t.view),[4,this.buildComponent(r,i,a,e)];case 1:for(o=u.sent(),s=0,c=o.layer.layers;s<c.length;s++)"fill-extrusion"===(l=c[s]).type&&(l.layout=l.layout||{},l.layout.visibility=t.showBuildingModels?"visible":"none");return[2,o]}}))}))})),[2,Promise.all(i)]}))}))},ng.prototype.getFlowComponent=function(t,e){return A(this,void 0,void 0,(function(){var n;return T(this,(function(i){return n=this.getFlowPath(t,e),[2,this.buildComponent("flow",n)]}))}))},ng.prototype.getCopyrightCaption=function(t){var e=this.lookUp(t).copyright.join(" ");return t.showLogo||(e+=" 2019 Microsoft"),e},ng.prototype.getSprite=function(t){var e=this.lookUp(t);return new C({domain:this.definitions.domain,path:e.spritePath}).toString()},ng.prototype.getGlyphs=function(t){var e=this.lookUp(t);return new C({domain:this.definitions.domain,path:e.glyphsPath}).toString()},ng.prototype.getFlowPath=function(t,e){return this.lookUp(t).flowPaths[e.flow]},ng.prototype.getTheme=function(t){return this.lookUp(t).theme.toLowerCase()||"light"},ng.prototype.getDef=function(){return this.definitions},ng.prototype.lookUp=function(t){for(var e,n=t.style||this.definitions.defaultStyle,i=0,r=this.definitions.styles;i<r.length;i++){var a=r[i];if(a.name===n)return a;a.name===this.definitions.defaultStyle&&(e=a)}return e},ng.prototype.request=function(t,e){return A(this,void 0,void 0,(function(){return T(this,(function(n){return[2,new C({domain:t,path:e}).get()]}))}))},ng.prototype.buildComponent=function(t,e,n,i){return A(this,void 0,void 0,(function(){return T(this,(function(r){return[2,this.request(this.definitions.domain,e).then((function(e){for(var r=new Zm(e.layers,t),a=[],o=0,s=e.sources;o<s.length;o++){var c=s[o],l=c.name;if(i){if(i.has(l))continue;i.add(l)}a.push(new $m(l,c,n))}return{layer:r,sources:a}}))]}))}))},ng);function ng(){}var ig=(rg.prototype.getCanvas=function(){return this.map.getCanvas()},rg.prototype.getCanvasContainer=function(){return this.map.getCanvasContainer()},rg.prototype.getMapContainer=function(){return this.map.getContainer()},rg.prototype.getServiceOptions=function(){return Ja(this.serviceOptions,Hm._cloneCustomizer)},rg.prototype.setServiceOptions=function(t){this.serviceOptions=(new Hm).merge(this.serviceOptions,t),this.serviceOptions["enable-accessibility"]?this.accessibleMapDelegate.addToMap():this.accessibleMapDelegate.removeFromMap()},rg.prototype.setCamera=function(t,e){var n,i;if(void 0===e&&(e=!1),"padding"in t||"offset"in t||"bounds"in t){var r=(new hm).merge({maxZoom:this.getCamera().maxZoom},t),a=this._generateSafeBounds(r.bounds);if(!(n=this.map.cameraForBounds(a,{padding:r.padding,offset:r.offset,maxZoom:r.maxZoom})))throw new Error("The map cannot be fit to the current canvas with the given CameraBoundsOptions.");this.map.setMaxZoom(r.maxZoom),i=this._generateSafeBounds(r.maxBounds)}else{var o=(new fm).merge(this.getCamera(),t);if(o.centerOffset&&2<=o.centerOffset.length){var s=o.centerOffset,c=sa([o.center],o.zoom);c[0][0]+=s[0],c[0][1]+=s[1],o.center=oa(c,o.zoom)[0]}n={center:o.center,zoom:o.zoom,bearing:o.bearing,pitch:o.pitch,around:void 0},this.map.setMinZoom(o.minZoom),this.map.setMaxZoom(o.maxZoom),i=this._generateSafeBounds(o.maxBounds)}i?this.map.setMaxBounds(i):this.map.setMaxBounds(null);var l=(new am).merge(t),u={duration:l.duration,easing:function(t){return t},offset:[0,0],animate:!0},h={fromControl:e};"jump"===l.type?this.map.jumpTo(n,h):"ease"===l.type?this.map.easeTo(w(w({},n),u),h):"fly"===l.type&&this.map.flyTo(w(w({},n),u),h)},rg.prototype.setCameraBounds=function(t){this.setCamera(t)},rg.prototype.getCamera=function(){var t=this.map.getBounds().getSouthWest().toArray(),e=this.map.getBounds().getNorthEast().toArray();return{zoom:this.map.getZoom(),center:this.map.getCenter().toArray(),bearing:this.map.getBearing(),pitch:this.map.getPitch(),bounds:new Ia(t,e),minZoom:this.map.getMinZoom(),maxZoom:this.map.getMaxZoom()}},rg.prototype.setStyle=function(t){delete t.preserveDrawingBuffer;var n=(new Rm).merge(this.styleOptions,t);n.autoResize!==this.styleOptions.autoResize&&this._setAutoResize(n.autoResize),n.language!==this.styleOptions.language&&(this.localizedStringsPromise=gc.getStrings(n.language)),n.renderWorldCopies!==this.styleOptions.renderWorldCopies&&this.map.setRenderWorldCopies(n.renderWorldCopies),n.showFeedbackLink!==this.styleOptions.showFeedbackLink&&this.copyrightControl.setOptions({showFeedbackLink:n.showFeedbackLink}),n.showLogo&&!this.logoControl?(this.logoControl=new Ud,this.controls.add(this.logoControl,{position:e.ControlPosition.NonFixed})):!n.showLogo&&this.logoControl&&(this.controls.remove(this.logoControl),delete this.logoControl),n.showTileBoundaries!==this.styleOptions.showTileBoundaries&&(this.map.showTileBoundaries=n.showTileBoundaries),this._setStyleComponents(n),this.styleOptions=n},rg.prototype.getStyle=function(){return zi(this.styleOptions)},rg.prototype.addIcon=function(t,e){this.imageSprite.add(t,e)},rg.prototype.addPins=function(t,e){var n,i=(new Lm).merge(e),r=this.layers.getLayerById(i.name),a=!1;if(r||(a=!0,r=new _s(i.name+"-source",i.name,{source:i.name+"-source",minZoom:i.minZoom,maxZoom:i.maxZoom,iconOptions:{anchor:"center",size:i.iconSize,image:["case",["has","icon"],["get","icon"],i.icon],ignorePlacement:!i.cluster,opacity:i.opacity},textOptions:{anchor:"center",textField:["case",["has","point_count"],["to-string",["get","point_count"]],["has","title"],["to-string",["get","title"]],i.title],font:["case",["has","point_count"],["literal",["StandardFontCondensed-Bold"]],["literal",[i.textFont]]],size:["case",["has","point_count"],20,i.fontSize],ignorePlacement:!i.cluster,opacity:i.opacity,offset:["case",["has","point_count"],["literal",[.5,-.45]],["literal",[i.textOffset[0]/16,i.textOffset[1]/16]]],color:i.fontColor}})),!(r instanceof _s))throw new Error("A layer with name '"+i.name+"' already exists but it is not a SymbolLayer.A SymbolLayer should be used for rendering pins.");var o=r.getSource();"string"==typeof o?(n=o,o=this.sources.getById(n)):n=o.getId();var s=!1;if(o||(s=!0,o=new ro(n,{cluster:i.cluster})),!(o instanceof ro))throw new Error("The source with name '"+n+"' already exists but it is not a DataSource.New data can only be added to a DataSource.");s&&this.sources.add(o),a&&this.layers.add(r,i.before);var c=new Ba(t);i.defer?(i.overwrite&&o._clearNoUpdate(),o._addNoUpdate(c)):i.overwrite?o.setShapes(c):o.add(c)},rg.prototype.addCircles=function(t,e){var n,i=(new Mm).merge(e),r=this.layers.getLayerById(i.name),a=!1;if(r||(a=!0,r=new Ao(i.name+"-source",i.name,{source:i.name+"-source",minZoom:i.minZoom,maxZoom:i.maxZoom,opacity:i.opacity,radius:["case",["has","radius"],["get","radius"],i.radius],color:["case",["has","color"],["get","color"],i.color],strokeColor:["case",["has","outlineColor"],["get","outlineColor"],i.outlineColor],strokeWidth:["case",["has","outlineWidth"],["get","outlineWidth"],i.outlineWidth]})),!(r instanceof Ao))throw new Error("A layer with name '"+i.name+"' already exists but it is not a BubbleLayer.A BubbleLayer should be used for rendering circles.");var o=r.getSource();"string"==typeof o?(n=o,o=this.sources.getById(n)):n=o.getId();var s=!1;if(o||(s=!0,o=new ro(n)),!(o instanceof ro))throw new Error("The source with name '"+n+"' already exists but it is not a DataSource.New data can only be added to a DataSource.");s&&this.sources.add(o),a&&this.layers.add(r,i.before);var c=new Ba(t);i.defer?(i.overwrite&&o._clearNoUpdate(),o._addNoUpdate(c)):i.overwrite?o.setShapes(c):o.add(c)},rg.prototype.addLinestrings=function(t,e){var n,i=(new wm).merge(e),r=this.layers.getLayerById(i.name),a=!1;if(r||(a=!0,r=new Go(i.name+"-source",i.name,{source:i.name+"-source",minZoom:i.minZoom,maxZoom:i.maxZoom,lineCap:i.cap,lineJoin:i.join,strokeOpacity:i.opacity,strokeColor:["case",["has","color"],["get","color"],i.color],strokeWidth:["case",["has","width"],["get","width"],i.width]})),!(r instanceof Go))throw new Error("A layer with name '"+i.name+"' already exists but it is not a LineLayer.A LineLayer should be used for rendering linestrings.");var o=r.getSource();"string"==typeof o?(n=o,o=this.sources.getById(n)):n=o.getId();var s=!1;if(o||(s=!0,o=new ro(n)),!(o instanceof ro))throw new Error("The source with name '"+n+"' already exists but it is not a DataSource.New data can only be added to a DataSource.");s&&this.sources.add(o),a&&this.layers.add(r,i.before);var c=new Ba(t);i.defer?(i.overwrite&&o._clearNoUpdate(),o._addNoUpdate(c)):i.overwrite?o.setShapes(c):o.add(c)},rg.prototype.addPolygons=function(t,e){var n,i=(new Om).merge(e),r=this.layers.getLayerById(i.name),a=!1;if(r||(a=!0,r=new os(i.name+"-source",i.name,{source:i.name+"-source",minZoom:i.minZoom,maxZoom:i.maxZoom,fillOpacity:i.opacity,fillColor:["case",["has","color"],["get","color"],i.color]})),!(r instanceof os))throw new Error("A layer with name '"+i.name+"' already exists but it is not a PolygonLayer.A PolygonLayer should be used for rendering linestrings.");var o=r.getSource();"string"==typeof o?(n=o,o=this.sources.getById(n)):n=o.getId();var s=!1;if(o||(s=!0,o=new ro(n)),!(o instanceof ro))throw new Error("The source with name '"+n+"' already exists but it is not a DataSource.New data can only be added to a DataSource.");s&&this.sources.add(o),a&&this.layers.add(r,i.before);var c=new Ba(t);i.defer?(i.overwrite&&o._clearNoUpdate(),o._addNoUpdate(c)):i.overwrite?o.setShapes(c):o.add(c)},rg.prototype.addRaster=function(t,e){var n,i=(new Em).merge(e),r=this.layers.getLayerById(i.name),a=!1;if(r||(a=!0,r=new As({maxZoom:i.maxZoom,minZoom:i.minZoom,opacity:i.opacity,tileSize:256,tileUrl:"{subdomain}"},i.name)),!(r instanceof As))throw new Error("A layer with name '"+i.name+"' already exists but it is not a TileLayer.A TileLayer should be used for rendering raster images.");if("{subdomain}"!==r.getOptions().tileUrl)throw new Error("A TileLayer with name '"+i.name+"' already exists but was configured for a single tile url [default for new TileLayer(...)].");(n=!i.overwrite&&r.getOptions().subdomains||[]).push.apply(n,t),r._setOptionsNoUpdate({subdomains:n}),i.defer?a&&this.layers.add(r,i.before,!1):this.layers.add(r,i.before)},rg.prototype.getLayers=function(){return this.layers.getLayers().map((function(t){return t.getId()}))},rg.prototype.removeLayers=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(this.layers.getLayerById(i)){this.layers.remove(i);var r=i+"-source";this.sources.getById(r)&&this.sources.remove(r)}}},rg.prototype.addHtml=function(t,e){t.id||(t.id="marker_"+pr());var n=new Xs({htmlContent:t});return this.markers.add(n,e),t.id},rg.prototype.removeHtml=function(t){this.markers.remove(t)},rg.prototype.addEventListener=function(t,e,n){this.events._addLegacy(t,e,n)},rg.prototype.removeEventListener=function(t,e,n){this.events._removeLegacy(t,e,n)},rg.prototype.setUserInteraction=function(t){this.userInteractionDelegate.setOptions(t)},rg.prototype.getUserInteraction=function(){return this.userInteractionDelegate.getOptions()},rg.prototype.addControl=function(t,e){this.controls.add(t,e)},rg.prototype.removeControl=function(t){this.controls.remove(t)},rg.prototype.setTraffic=function(t){var e=this.trafficOptions.incidents,n=this.trafficOptions.flow;if(this.trafficOptions=(new Wm).merge(this.trafficOptions,t),this.trafficOptions.incidents?e||this.incidentDelegate.addToMap():this.incidentDelegate.removeFromMap(),this.trafficOptions.flow&&"none"!==this.trafficOptions.flow)try{this.flowDelegate.addToMap()}catch(t){throw this.trafficOptions.flow=n,t}else this.flowDelegate.removeFromMap()},rg.prototype.getTraffic=function(){return zi(this.trafficOptions)},rg.prototype.remove=function(){this.dispose()},rg.prototype.clear=function(){this.popups.clear(),this.layers.clear(),this.sources.clear(),this.markers.clear()},rg.prototype.dispose=function(){for(this.clear(),this.map.remove(),this.removed=!0;this.getMapContainer().firstChild;){var t=this.getMapContainer().firstChild;this.getMapContainer().removeChild(t)}},rg.prototype.resize=function(t,e,n){if("number"!=typeof t&&"string"!=typeof t||"number"!=typeof e&&"string"!=typeof e)n=t;else{var i=t;this.getMapContainer().style.height="number"==typeof i?i+"px":i,this.getMapContainer().style.width="number"==typeof e?e+"px":e}var r=this.getMapContainer().style.overflow;this.getMapContainer().style.overflow="hidden",this.map.resize(n),this.getMapContainer().style.overflow=r},rg.prototype.pixelsToPositions=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var r=i[n],a=this.map.unproject(r);e.push(new ba(a.lng,a.lat))}return e},rg.prototype.positionsToPixels=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var r=i[n],a=this.map.project(r);e.push(new gr(a.x,a.y))}return e},rg.prototype.areTilesLoaded=function(){return this.map.areTilesLoaded()},rg.prototype.stop=function(){this.map.stop()},rg.prototype._getMap=function(){return this.map},rg.prototype._rebuildStyle=function(){this.map.setStyle(this.styleBuilder.build(this.styleOptions)),this.imageSprite._restoreImages()},rg.prototype._isLoaded=function(){return this.loaded},rg.prototype._isReady=function(){return this.ready},rg.prototype._getLocalizedStrings=function(){return this.localizedStringsPromise},rg.prototype._sendRequest=function(t,e,n){var i;return"function"==typeof this.serviceOptions.transformRequest&&(i=this.serviceOptions.transformRequest(t,e)),i?fetch(i.url||t,{credentials:i.credentials,headers:w(w({},n),i.headers),method:"GET",mode:"cors"}):fetch(t,{headers:n,method:"GET",mode:"cors"})},rg.prototype._setAutoResize=function(t){t?window.addEventListener("resize",this._windowResizeCallback):window.removeEventListener("resize",this._windowResizeCallback)},rg.prototype._setStyleComponents=function(t){var e=this;this.styles.getStyleComponents(t).then((function(n){if(!e.removed){e.copyrightControl.setOptions({copyrightMessage:e.styles.getCopyrightCaption(t)}),e.styleBuilder.setGlyphs(e.styles.getGlyphs(t)),e.styleBuilder.setSprite(e.styles.getSprite(t));for(var i=new Set,r=new Set,a=0,o=n;a<o.length;a++){var s=o[a];i.add(s.layer.getId());for(var c=0,l=s.sources;c<l.length;c++){var u=l[c];r.add(u.getId())}}e.styleLayerIds.forEach((function(t){i.has(t)||(e.layers.getLayerById(t)&&e.layers.remove(t,!1),e.styleLayerIds.delete(t))}));for(var h=function(t){var i=n[t].layer;if(e.styleLayerIds.add(i.getId()),e.layers.getLayerById(i.getId()))e.layers.add(i,void 0,!1);else if(0===t)e.layers.add(i,e.layers.getLayers()[0],!1);else{var r=n[t-1].layer,a=e.layers.getLayers(),o=a.findIndex((function(t){return t.getId()===r.getId()}));e.layers.add(i,a[o+1],!1)}},p=0;p<n.length;p++)h(p);var d=e.layers._getSourceIds();e.styleSourceIds.forEach((function(t){d.has(t)||r.has(t)||(e.sources.getById(t)&&e.sources.remove(t,!1),e.styleSourceIds.delete(t))}));for(var f=0,m=n;f<m.length;f++){s=m[f],e.sources.add(s.sources,!1);for(var g=0,y=s.sources;g<y.length;g++)u=y[g],e.styleSourceIds.add(u.getId())}e._rebuildStyle()}}))},rg.prototype._updateGlobalDefaults=function(t){t&&(t.authOptions&&!Gc()&&Wc(t.authOptions),t.domain&&!Kc()&&jc(t.domain),!t.subscriptionKey&&!t["subscription-key"]||Gc()||Uc(t.subscriptionKey||t["subscription-key"]),!t.sessionId&&!t["session-id"]||Jc()||Hc(t.sessionId||t["session-id"]),t.language&&!Zc()&&Fc(t.language),!t.userRegion&&!t.view||Qc()||Xc(t.userRegion||t.view))},rg.prototype._generateSafeBounds=function(t){if(t){var e=Ia.getSouth(t),n=Ia.getWest(t),i=Ia.getNorth(t),r=Ia.getEast(t);if(isNaN(e)||isNaN(n)||isNaN(i)||isNaN(r))throw new Error("The bounds specified are invalid: ["+t+"]");for(;r<n;)r+=360;return new Ia([n,e,r,i])}return t},rg.prototype._detectHighContrast=function(){var t,e;switch(ol.getHighContrastMode()){case"invert":t=rg.Css.hcLight,e="high_contrast_dark";break;case"light":t=rg.Css.hcLight,e="grayscale_light";break;case"dark":t=rg.Css.hcDark,e="high_contrast_dark"}t&&this.map.getContainer().classList.add(t),e&&"road"===this.styleOptions.style&&(this.styleOptions.style=e)},rg.Css={canvasContainer:"atlas-map-canvas-container",canvas:"atlas-map-canvas",container:"atlas-map",hcDark:"high-contrast-dark",hcLight:"high-contrast-light"},rg);function rg(t,n){var i=this;this.styleLayerIds=new Set,this.styleSourceIds=new Set,this.removed=!1,this.loaded=!1,this.ready=!1,this._windowResizeCallback=function(){return i.resize()};var a=!0;this._updateGlobalDefaults(n),this.serviceOptions=(new Hm).merge(n),this.styleOptions=(new Rm).merge(n),this.trafficOptions=new Wm,this.styles=new eg,this.insights=new Fd(this.serviceOptions);var o,s={attributionControl:!1,container:t,preserveDrawingBuffer:this.styleOptions.preserveDrawingBuffer,refreshExpiredTiles:this.serviceOptions.refreshExpiredTiles,renderWorldCopies:this.styleOptions.renderWorldCopies,trackResize:!1,transformRequest:function(t,e){var n={url:t};if("Tile"===e&&t.includes(f)){if(i.insights.trackEvent({name:"TileLoad"}),C.protoRegEx.test(i.serviceOptions.domain)){var r=t.indexOf(f);n.url=i.serviceOptions.domain+t.substring(r+f.length)}else n.url=t.replace(f,i.serviceOptions.domain);i.authentication.signRequest(n)}return i.serviceOptions.transformRequest&&hc(n,i.serviceOptions.transformRequest(n.url,e)),n}};o=this.serviceOptions.authOptions.clientId?this.serviceOptions.authOptions.clientId:this.serviceOptions.authOptions.subscriptionKey?this.serviceOptions.authOptions.subscriptionKey.replace(/.(?=.{3,}$)/g,"*"):"invalid-setting",this.insights.setAuthenticatedUserContext(this.serviceOptions.sessionId,o);try{var c=new r.Map(s);this.map=c,this.authentication=new Yf(this),this.controls=new jf(this),this.events=new Xf(this),this.imageSprite=new Zf(this),this.layers=new Qf(this),this.markers=new Gf(this),this.sources=new nm(this),this.popups=new tm(this),this.styleBuilder=new Vm(this),this.map.getContainer().classList.add(rg.Css.container),this.map.getCanvasContainer().classList.add(rg.Css.canvasContainer),this.map.getCanvas().classList.add(rg.Css.canvas),this._detectHighContrast(),this.copyrightControl=new Jd({showFeedbackLink:this.styleOptions.showFeedbackLink}),this.controls.add(this.copyrightControl,{position:e.ControlPosition.NonFixed}),this.styleOptions.showLogo&&(this.logoControl=new Ud,this.controls.add(this.logoControl,{position:e.ControlPosition.NonFixed}));var l=this.authentication.initialize();if(this.removed)return;var u=function(){i.loaded=!0,i.map.off("load",u)};this.map.on("load",u);var h=function(){i.ready=!0,i.map.off("styledata",h);var t={map:i,type:"ready"};i.events.invoke("ready",t)};this.map.on("styledata",h),this._setAutoResize(this.styleOptions.autoResize),this.map.showTileBoundaries=this.styleOptions.showTileBoundaries,this.localizedStringsPromise=gc.getStrings(this.styleOptions.language);var p=this.styles.initialize();Promise.all([l,p]).then((function(){if(!i.removed){if(!i.authentication.getToken())throw new Error("AuthenticationManager finished initializing, but no token is available");i.serviceOptions["enable-accessibility"]&&i.accessibleMapDelegate.addToMap(),i._setStyleComponents(i.styleOptions)}})).catch((function(t){var e=t instanceof Error?t:new Error(t);i.insights.trackException({error:e});var n={map:i,type:"error",error:e};i.events.invoke("error",n)})),this.setCamera(w(w({},n),{type:"jump",duration:0})),this.incidentDelegate=new wf(this),this.flowDelegate=new uf(this),this.accessibleMapDelegate=new lf(this),this.userInteractionDelegate=new Ef(this,n),this.userInteractionDelegate.addToMap()}catch(t){throw a=!1,this.insights.trackException({error:t instanceof Error?t:new Error(t)}),t}finally{this.insights.trackEvent({name:"MapLoad"},{success:a,supported:Yc(!1),supportedWithPerformance:Yc(!0)}),this.insights.flush()}}var ag=(og.applyTemplate=function(t,e){var n=this,i=document.createElement("div");if(i.classList.add(og.Css.template),t){"boolean"!=typeof(e=e||{}).singleDescription&&(e.singleDescription=!0),e.sandboxContent="boolean"!=typeof e.sandboxContent||e.sandboxContent,e.title&&"string"==typeof e.content&&(e.content.includes("{title}")||e.content.includes("{name}"))||(t.title?e.title="{title}":t.name&&(e.title="{name}")),"boolean"!=typeof e.detectHyperlinks&&(e.detectHyperlinks=!0),"boolean"!=typeof e.parsePropertyPaths&&(e.parsePropertyPaths=!0),e.textColor&&(i.style.color=e.textColor),e.fillColor&&(i.style.backgroundColor=e.fillColor),e.title&&((o=this._applyStringTemplate(t,e.title,e)).innerText=o.textContent||o.innerText||"",this._appendChild(i,o,og.Css.title));var r=document.createElement("div");if(r.classList.add(og.Css.content),Array.isArray(e.content))0<e.content.length&&e.content[0].propertyPath?this._appendChild(r,this._generateContent(t,e.content,e),og.Css.item):e.content.forEach((function(i){n._appendChild(r,n._generateContent(t,i,e),og.Css.item)}));else{var a=0;t.description&&Object.keys(t).forEach((function(e){n._ignoreProperty(e,t[e])||a++}));var o=void 0;1===a||e.singleDescription&&t.description||2===a&&t.Snippet?(o=document.createElement("div")).innerHTML=t.description:o=this._generateContent(t,e.content,e),this._appendChild(r,o,og.Css.item)}""!==r.innerHTML&&(e.sandboxContent?i.appendChild(og._createSandboxedIframe(r,e)):i.appendChild(r))}return i},og._createSandboxedIframe=function(t,e){var n=document.createElement("iframe");n.sandbox.add("allow-popups");var i,r=t.innerHTML,a=!1,o=100,s=550,c=10;document.body.scrollWidth<=340&&(s=300,o=50);var l=r.split(/<(tr|div|br|li|h[0-9]|p>)/);i=Math.max.apply(Math,l.map((function(t){return t.replace(/<[a-zA-Z0-9\s=\/]+>/g,"").length})))-1;var u=Math.ceil(3.5*i);if(u<s&&(s=u,o=i),r.includes("<img")||r.includes("<video"))a=!0,n.width="550px";else{var h=-1<r.indexOf(og.Css.table)?25:20;c+=Math.max(.5*l.length*h,Math.ceil(r.replace(/<[a-zA-Z0-9\s=\/]+>/g,"").length/o)*h)}n.width=s+"px",n.height=a||280<c?"280px":c+"px";var p=e.textColor?"color:"+e.textColor+";":"",d=e.fillColor?"background-color:"+e.fillColor+";":"",f='<html><head><title></title><meta charset="utf-8" /><meta http-equiv="x-ua-compatible" content="IE=Edge" /><link rel="stylesheet" href="'+og._cssUrl+'" type="text/css"/><style>html, body{margin:0;padding:0;'+p+d+'}</style></head><body><div class="'+og.Css.template+'" style="padding:0;width:'+(s-20)+'px">'+r+"</div></body></html>";return void 0===n.srcdoc?n.src="data:text/html;charset=utf-8,"+encodeURI(f):n.srcdoc=f,n},og._appendChild=function(t,e,n){e&&(n&&(e.className=(e.className?e.className+" ":"")+n),t.appendChild(e))},og._generateContent=function(t,e,n){if(e)return Array.isArray(e)?this._generatePropertyInfoTable(t,e,n):this._applyStringTemplate(t,e,n);var i=this._generateDynamicTableHtml(t,null,n);if(i){var r=document.createElement("div");return r.innerHTML=i,r}return null},og._applyStringTemplate=function(t,e,n){if(e){for(var i=e,r=this._placeholderRx.exec(e);r;){if(2<=r.length){var a=this._getPropertyValue(t,r[1],n);i=i.replace(r[0],a)}r=this._placeholderRx.exec(e)}if(i){(i=i.trim()).includes("<")&&(i=i.replace(/[\r\n]+/g,"<br/>"));var o=document.createElement("div");return o.innerHTML=i,o}}return null},og._getPropertyValue=function(t,e,n,i){var r=n.parsePropertyPaths?e.split("/"):[e],a=r.length;if(0<a&&t){var o=r[0],s=t[o];if(n.detectHyperlinks&&"link"===e&&(!i||i.hyperlinkFormat)){var c=[];if(Array.isArray(s)?s.forEach((function(t){t.href?c.push(t):"string"==typeof t&&c.push({href:t})})):s.href&&c.push(s),0<c.length){var l,u;i&&i.hyperlinkFormat?l=i.hyperlinkFormat:n&&n.hyperlinkFormat&&(l=n.hyperlinkFormat),u=l&&l.target?l.target:"_blank";var h=[];return c.forEach((function(t){t.title||l&&l.label||!t.rel||h.push(t.rel," - "),h.push('<a href="',t.href,'" target="',u,'">'),t.title?h.push(t.title):l&&l.label?h.push(l.label):h.push(t.href),h.push("</a>","<br/>")})),h.pop(),h.join("")}}if(null!=s){var p=void 0;for(p=1;p<a&&(s=s[r[p]],o=r[p],null!=s);p++);if(p===a&&null!=s){var d=void 0;if((d=void 0!==s.value?s.value:s)instanceof Date)return i&&i.dateFormat?d.toLocaleString(void 0,i.dateFormat):n.dateFormat?d.toLocaleString(void 0,n.dateFormat):d.toISOString();if("object"==typeof d)return(_=this._generateDynamicTableHtml(d,r.slice(1),n))||"";if("number"==typeof d){if(i){if(i.dateFormat)return new Date(d).toLocaleString(void 0,i.dateFormat);if(i.numberFormat)return d.toLocaleString(void 0,i.numberFormat)}else if(/(timestamp|date)/gi.test(o))return new Date(d).toISOString();return d.toLocaleString(void 0,n.numberFormat)}if("string"==typeof d&&""!==d&&!/[\n\r<>\s]/g.test(d)&&(n.detectHyperlinks||i&&i.hyperlinkFormat)){d=d.trim();var f=this._isUrlRx.test(d)||i&&i.hyperlinkFormat,m=this._isImageUrlRx.test(d)&&(f||d.startsWith("data:image")),g=this._emailRx.test(d);if(f||m||g){var y=void 0;i&&i.hyperlinkFormat?y=i.hyperlinkFormat:n&&n.hyperlinkFormat&&(y=n.hyperlinkFormat);var _=void 0;_=y&&y.target?' target="'+y.target+'"':' target="_blank"';var v=""+(y&&y.label?y.label:d);y&&y.scheme?d=y.scheme+d:g&&(d="mailto:"+d);var M=y&&y.label?' alt="'+y.label+'"':"";return(y&&y.isImage||m)&&(v='<img src="'+d+'" style="max-width:100%"'+M+'"/>'),'<a href="'+d+'"'+_+">"+v+"</a>"}}return d.toString()}}}return""},og._generatePropertyInfoTable=function(t,e,n){if(t&&e&&0<e.length){var i=[],r=this;i.push('<table class="'+r.Css.table+'">'),e.forEach((function(e){var a=r._getPropertyValue(t,e.propertyPath,n,e);if(e.hideLabel)i.push('<tr><td colspan="2">',a,"</td></tr>");else{var o=e.label||e.propertyPath.split("/")[0];i.push("<tr><th>",o,"</th><td>",a,"</td></tr>")}})),i.push("</table>");var a=document.createElement("div");return a.innerHTML=i.join(""),a}return null},og._generateDynamicTableHtml=function(t,e,n){var i=this;if(t){var r=[],a=this;r.push('<table class="'+a.Css.table+'">');var o=e&&0<e.length?e.join("/")+"/":"",s=0;return Object.keys(t).forEach((function(e){i._ignoreProperty(e,t[e])||(r.push("<tr><th>",e,"</th><td>",a._getPropertyValue(t,o+e,n),"</td></tr>"),s++)})),0===s?null:(r.push("</table>"),r.join(""))}return null},og._ignoreProperty=function(t,e){switch(t){case"title":case"name":case"base":case"popupTemplate":case"anchor":case"icon":case"image":case"imageUrl":case"rotation":case"color":case"size":case"offset":case"strokeColor":case"strokeWidth":case"strokeOpacity":case"subType":case"fillColor":case"fillOpacity":case"visibility":case"visible":return!0;default:if(0===t.indexOf("_")||null==e||""===e)return!0}return!1},og._placeholderRx=/\{([a-zA-Z0-9_\/\s]+)\}/gi,og._isUrlRx=/^(http|https|ftp|tel|mailto):\/\//i,og._isImageUrlRx=/(^data:image|.png$|.jpg$|.jpeg$|.gif$|.bmp$|.svg|.tif|.tiff$)/i,og._emailRx=/^[^\.\s@:](?:[^\s@:]*[^\s@:\.])?@[^\.\s@]+(?:\.[^\.\s@]+)*$/,og._cssUrl=new C({domain:c,path:"sdk/javascript/mapcontrol/"+I.getEndpointVersion()+"/atlas.min.css"}).toString(),og.Css={template:"azure-maps-control-popup-template",title:"azure-maps-control-popup-template-title",content:"azure-maps-control-popup-template-content",item:"azure-maps-control-popup-template-content-item",table:"azure-maps-control-popup-template-table"},og);function og(){this.detectHyperlinks=!0,this.parsePropertyPaths=!0}a(new C({domain:c,path:"sdk/javascript/mapcontrol/"+I.getEndpointVersion()+"/mapbox-gl-rtl-text.min.js"}).toString(),(function(t){t&&console.warn(t)}),!0),e.HtmlMarker=Xs,e.Map=ig,e.Pixel=gr,e.Popup=Ys,e.PopupTemplate=ag,e.Shape=Ea,e._getAssetDomain=function(){return s},e._getDomain=function(){return Ic()},e._hasSetAuthenticationOptions=Gc,e._hasSetDomain=Kc,e._hasSetLanguage=Zc,e._hasSetSessionId=Jc,e._hasSetView=Qc,e.addImageTemplate=function(t,e,n){!n&&al[t.toLowerCase()]||(al[t.toLowerCase()]=e)},e.control=Fi,e.data=Za,e.getAllImageTemplateNames=function(){return Object.keys(al)},e.getAuthenticationOptions=Nc,e.getDomain=Ic,e.getImageTemplate=Vc,e.getLanguage=Pc,e.getSessionId=Bc,e.getSubscriptionKey=Rc,e.getUserRegion=function(){return xc},e.getVersion=function(){return I.getFullVersion()},e.getView=qc,e.internal=Sa,e.isSupported=Yc,e.layer=Ls,e.math=Ca,e.setAuthenticationOptions=Wc,e.setDomain=jc,e.setLanguage=Fc,e.setSessionId=Hc,e.setSubscriptionKey=Uc,e.setUserRegion=Xc,e.setView=function(t){xc=t,Oc=!0},e.source=fo,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(176))},function(t,e,n){!function(e,i){"use strict";var r;try{r=n(0)}catch(t){}t.exports=function(t){var e="function"==typeof t,n=!!window.addEventListener,i=window.document,r=window.setTimeout,a=function(t,e,i,r){n?t.addEventListener(e,i,!!r):t.attachEvent("on"+e,i)},o=function(t,e,i,r){n?t.removeEventListener(e,i,!!r):t.detachEvent("on"+e,i)},s=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},c=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},l=function(t,e){c(t,e)||(t.className=""===t.className?e:t.className+" "+e)},u=function(t,e){t.className=s((" "+t.className+" ").replace(" "+e+" "," "))},h=function(t){return/Array/.test(Object.prototype.toString.call(t))},p=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},d=function(t){var e=t.getDay();return 0===e||6===e},f=function(t){return t%4==0&&t%100!=0||t%400==0},m=function(t,e){return[31,f(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},g=function(t){p(t)&&t.setHours(0,0,0,0)},y=function(t,e){return t.getTime()===e.getTime()},_=function(t,e,n){var i,r;for(i in e)(r=void 0!==t[i])&&"object"==typeof e[i]&&null!==e[i]&&void 0===e[i].nodeName?p(e[i])?n&&(t[i]=new Date(e[i].getTime())):h(e[i])?n&&(t[i]=e[i].slice(0)):t[i]=_({},e[i],n):!n&&r||(t[i]=e[i]);return t},v=function(t,e,n){var r;i.createEvent?((r=i.createEvent("HTMLEvents")).initEvent(e,!0,!1),r=_(r,n),t.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=_(r,n),t.fireEvent("on"+e,r))},M=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},x=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},w=function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button tabIndex="-1" class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},A=function(t,e,n){var i=new Date(n,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(n,e,t)-i)/864e5+i.getDay()+1)/7)+"</td>"},T=function(t,e,n,i){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(i?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},L=function(t){return"<tbody>"+t.join("")+"</tbody>"},S=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+x(t,e)+'">'+x(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},k=function(t,e,n,i,r,a){var o,s,c,l,u,p=t._o,d=n===p.minYear,f=n===p.maxYear,m='<div id="'+a+'" class="pika-title">',g=!0,y=!0;for(c=[],o=0;o<12;o++)c.push('<option value="'+(n===r?o-e:12+o-e)+'"'+(o===i?' selected="selected"':"")+(d&&o<p.minMonth||f&&o>p.maxMonth?'disabled="disabled"':"")+">"+p.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+p.i18n.months[i]+'<select aria-label="select month" class="pika-select pika-select-month" tabindex="-1">'+c.join("")+"</select></div>",h(p.yearRange)?(o=p.yearRange[0],s=p.yearRange[1]+1):(o=n-p.yearRange,s=1+n+p.yearRange),c=[];o<s&&o<=p.maxYear;o++)o>=p.minYear&&c.push('<option value="'+o+'"'+(o===n?' selected="selected"':"")+">"+o+"</option>");return u='<div class="pika-label">'+n+p.yearSuffix+'<select aria-label="select year" class="pika-select pika-select-year" tabindex="-1">'+c.join("")+"</select></div>",p.showMonthAfterYear?m+=u+l:m+=l+u,d&&(0===i||p.minMonth>=i)&&(g=!1),f&&(11===i||p.maxMonth<=i)&&(y=!1),0===e&&(m+='<button tabIndex="-1" class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+p.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(m+='<button tabIndex="-1" class="pika-next'+(y?"":" is-disabled")+'" type="button">'+p.i18n.nextMonth+"</button>"),m+"</div>"},O=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+S(t)+L(e)+"</table>"},z=function(o){var s=this,l=s.config(o);s._onMouseDown=function(t){if(s._v){var e=(t=t||window.event).target||t.srcElement;if(e)if(c(e,"is-disabled")||(!c(e,"pika-button")||c(e,"is-empty")||c(e.parentNode,"is-disabled")?c(e,"pika-prev")?s.prevMonth():c(e,"pika-next")&&s.nextMonth():(s.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),l.bound&&r((function(){s.hide(),l.blurFieldOnSelect&&l.field&&l.field.blur()}),100))),c(e,"pika-select"))s._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},s._onChange=function(t){var e=(t=t||window.event).target||t.srcElement;e&&(c(e,"pika-select-month")?s.gotoMonth(e.value):c(e,"pika-select-year")&&s.gotoYear(e.value))},s._onKeyChange=function(t){if(t=t||window.event,s.isVisible()&&t.target&&"text"!==t.target.type)switch(t.keyCode){case 13:case 27:l.field&&l.field.blur();break;case 37:t.preventDefault(),s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7)}},s._onInputChange=function(n){var i;n.firedBy!==s&&(i=l.parse?l.parse(l.field.value,l.format):e?(i=t(l.field.value,l.format,l.formatStrict))&&i.isValid()?i.toDate():null:new Date(Date.parse(l.field.value)))},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var t=i.activeElement;do{if(c(t,"pika-single"))return}while(t=t.parentNode);s._c||(s._b=r((function(){s.hide()}),50)),s._c=!1},s._onClick=function(t){var e=(t=t||window.event).target||t.srcElement,i=e;if(e){!n&&c(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),a(e,"change",s._onChange)));do{if(c(i,"pika-single")||i===l.trigger)return}while(i=i.parentNode);s._v&&e!==l.trigger&&i!==l.trigger&&s.hide()}},s.el=i.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),a(s.el,"mousedown",s._onMouseDown,!0),a(s.el,"touchend",s._onMouseDown,!0),a(s.el,"change",s._onChange),l.keyboardInput&&a(i,"keydown",s._onKeyChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?i.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),a(l.field,"change",s._onInputChange),l.defaultDate||(e&&l.field.value?l.defaultDate=t(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var u=l.defaultDate;p(u)?l.setDefaultDate?s.setDate(u,!0):s.gotoDate(u):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",a(l.trigger,"click",s._onInputClick),a(l.trigger,"focus",s._onInputFocus),a(l.trigger,"blur",s._onInputBlur)):this.show()};return z.prototype={config:function(t){this._o||(this._o=_({},b,!0));var e=_(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,p(e.minDate)||(e.minDate=!1),p(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),h(e.yearRange)){var i=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||i,e.yearRange[1]=parseInt(e.yearRange[1],10)||i}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||b.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return n=n||this._o.format,p(this._d)?this._o.toString?this._o.toString(this._d,n):e?t(this._d).format(n):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,i){e&&t.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return p(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",v(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),p(t)){var n=this._o.minDate,i=this._o.maxDate;p(n)&&t<n?t=n:p(i)&&t>i&&(t=i),this._d=new Date(t.getTime()),g(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),v(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(p(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=t.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),e=r<n.getTime()||i.getTime()<r}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){var n,i=this.getDate()||new Date,r=24*parseInt(e)*60*60*1e3;"add"===t?n=new Date(i.valueOf()+r):"subtract"===t&&(n=new Date(i.valueOf()-r)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=M(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=M({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(g(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=b.minDate,this._o.minYear=b.minYear,this._o.minMonth=b.minMonth,this._o.startRange=b.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(g(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=b.maxDate,this._o.maxYear=b.maxYear,this._o.maxMonth=b.maxMonth,this._o.endRange=b.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e,n=this._o,i=n.minYear,a=n.maxYear,o=n.minMonth,s=n.maxMonth,c="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=a&&(this._y=a,!isNaN(s)&&this._m>s&&(this._m=s));for(var l=0;l<n.numberOfMonths;l++)e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),c+='<div class="pika-lendar">'+k(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,e)+this.render(this.calendars[l].year,this.calendars[l].month,e)+"</div>";this.el.innerHTML=c,n.bound&&"hidden"!==n.field.type&&r((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var t,e,n,r,a,o,s,c,l,u;if(!this._o.container){if(this.el.style.position="absolute",e=t=this._o.trigger,n=this.el.offsetWidth,r=this.el.offsetHeight,a=window.innerWidth||i.documentElement.clientWidth,o=window.innerHeight||i.documentElement.clientHeight,s=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)c=(u=t.getBoundingClientRect()).left+window.pageXOffset,l=u.bottom+window.pageYOffset;else for(c=e.offsetLeft,l=e.offsetTop+e.offsetHeight;e=e.offsetParent;)c+=e.offsetLeft,l+=e.offsetTop;(this._o.reposition&&c+n>a||this._o.position.indexOf("right")>-1&&c-n+t.offsetWidth>0)&&(c=c-n+t.offsetWidth),(this._o.reposition&&l+r>o+s||this._o.position.indexOf("top")>-1&&l-r-t.offsetHeight>0)&&(l=l-r-t.offsetHeight),this.el.style.left=c+"px",this.el.style.top=l+"px"}},render:function(t,e,n){var i=this._o,r=new Date,a=m(t,e),o=new Date(t,e,1).getDay(),s=[],c=[];g(r),i.firstDay>0&&(o-=i.firstDay)<0&&(o+=7);for(var l=0===e?11:e-1,u=11===e?0:e+1,h=0===e?t-1:t,f=11===e?t+1:t,_=m(h,l),v=a+o,M=v;M>7;)M-=7;v+=7-M;for(var b=!1,x=0,L=0;x<v;x++){var S=new Date(t,e,x-o+1),k=!!p(this._d)&&y(S,this._d),z=y(S,r),C=-1!==i.events.indexOf(S.toDateString()),E=x<o||x>=a+o,D=x-o+1,N=e,I=t,P=i.startRange&&y(i.startRange,S),B=i.endRange&&y(i.endRange,S),R=i.startRange&&i.endRange&&i.startRange<S&&S<i.endRange;E&&(x<o?(D=_+D,N=l,I=h):(D-=a,N=u,I=f));var q={day:D,month:N,year:I,hasEvent:C,isSelected:k,isToday:z,isDisabled:i.minDate&&S<i.minDate||i.maxDate&&S>i.maxDate||i.disableWeekends&&d(S)||i.disableDayFn&&i.disableDayFn(S),isEmpty:E,isStartRange:P,isEndRange:B,isInRange:R,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:i.enableSelectionDaysInNextAndPreviousMonths};i.pickWholeWeek&&k&&(b=!0),c.push(w(q)),7==++L&&(i.showWeekNumber&&c.unshift(A(x-o,e,t)),s.push(T(c,i.isRTL,i.pickWholeWeek,b)),c=[],L=0,b=!1)}return O(i,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),u(this.el,"is-hidden"),this._o.bound&&(a(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;!1!==t&&(this._o.bound&&o(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",l(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var t=this._o;this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),t.keyboardInput&&o(i,"keydown",this._onKeyChange),t.field&&(o(t.field,"change",this._onInputChange),t.bound&&(o(t.trigger,"click",this._onInputClick),o(t.trigger,"focus",this._onInputFocus),o(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},z}(r)}()},function(t,e,n){!function(t,e){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"]};function r(t){var e=(t=t.trim().replace(/ /g,","))[0],n=t.substring(1).split(",");return i[e.toUpperCase()].reduce((function(t,e,i){return t[e]="x"===e?parseFloat(n[i]):n[i],t}),{type:e})}function a(t){var e=t.type,n=i[e.toUpperCase()];return""+e+n.map((function(e){return t[e]})).join(",")}function o(t,e){var n,i={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];return t.type!==e.type&&"M"!==e.type.toUpperCase()&&(n={},Object.keys(e).forEach((function(a){var o=e[a],s=t[a];void 0===s&&(r.includes(a)?s=o:(void 0===s&&i[a]&&(s=t[i[a]]),void 0===s&&(s=0))),n[a]=s})),n.type=e.type,t=n),t}function s(t,e,i){var r=void 0;r=t.length>1&&"M"===t[0].type?1:0;for(var a=e.reduce((function(e,n,i){if(0===i&&"M"===n.type)return e[0]=1,e;for(var a=Math.abs(t[r].x-n.x),o=r,s=r+1;s<t.length;s++){var c=Math.abs(t[s].x-n.x);if(!(c<a))break;a=c,o=s}return e[o]=(e[o]||0)+1,e}),{}),o=[],s=0,c=0;c<t.length;c++){o.push(t[c]);for(var l=1;l<a[c]&&s<i;l++){var u=n({},t[c]);"M"===u.type?u.type="L":(void 0!==u.x1&&(u.x1=u.x,u.y1=u.y),void 0!==u.x2&&(u.x2=u.x,u.y2=u.y)),o.push(u),s+=1}}return o}function c(t,n){var i=null==t?"":t.replace(/[Z]/gi,"").replace(/([MLCSTQAHV])\s*/gi,"$1"),c=null==n?"":n.replace(/[Z]/gi,"").replace(/([MLCSTQAHV])\s*/gi,"$1"),l=""===i?[]:i.split(/(?=[MLCSTQAHV])/gi),u=""===c?[]:c.split(/(?=[MLCSTQAHV])/gi);if(!l.length&&!u.length)return function(){return""};l.length?u.length||u.push(l[0]):l.push(u[0]);var h=l.map(r),p=u.map(r),d=Math.abs(u.length-l.length);0!==d&&(p.length>h.length?h=s(h,p,d):p.length<h.length&&(p=s(p,h,d)));var f=(h=h.map((function(t,e){return o(t,p[e])}))).map(a).join(""),m=p.map(a).join("");null!=t&&"Z"!==t[t.length-1]||null!=n&&"Z"!==n[n.length-1]||(f+="Z",m+="Z");var g=e.interpolateString(f,m);return function(t){return 1===t?null==n?"":n:g(t)}}t.interpolatePath=c,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(2))},function(t,e,n){!function(t){"use strict";t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(t){return function(e,n,a,o){var s=i(e),c=r[t][i(e)];return 2===s&&(c=c[n?0:1]),c.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];t.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(t){return function(i,r,a,o){var s=e(i),c=n[t][e(i)];return 2===s&&(c=c[r?0:1]),c.replace(/%d/i,i)}},r=["","","","","","","","","","","",""];t.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(e,r,a,o){var s=n(e),c=i[t][n(e)];return 2===s&&(c=c[r?0:1]),c.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];t.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10,i=t%100-n,r=t>=100?100:null;return t+(e[n]||e[i]||e[r])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){return"m"===i?n?"":"":"h"===i?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"}[i],+t)}t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+r({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}function n(t){switch(i(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}function i(t){return t>9?i(t%10):t}function r(t,e){return 2===e?a(t):t}function a(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}var o=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],s=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,c=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,l=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,u=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],h=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],p=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];t.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:p,fullWeekdaysParse:u,shortWeekdaysParse:h,minWeekdaysParse:p,monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:c,monthsShortStrictRegex:l,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,n){return t<12?"a.m.":"g.m."}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),i=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function a(t){return t>1&&t<5&&1!=~~(t/10)}function o(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"pr sekund":"pr sekundami";case"ss":return e||i?r+(a(t)?"sekundy":"sekund"):r+"sekundami";case"m":return e?"minuta":i?"minutu":"minutou";case"mm":return e||i?r+(a(t)?"minuty":"minut"):r+"minutami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?r+(a(t)?"hodiny":"hodin"):r+"hodinami";case"d":return e||i?"den":"dnem";case"dd":return e||i?r+(a(t)?"dny":"dn"):r+"dny";case"M":return e||i?"msc":"mscem";case"MM":return e||i?r+(a(t)?"msce":"msc"):r+"msci";case"y":return e||i?"rok":"rokem";case"yy":return e||i?r+(a(t)?"roky":"let"):r+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,n){var i=this._calendarEl[t],r=n&&n.hours();return e(i)&&(i=i.apply(n)),i.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invalida"})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function i(t,e,n,i){var a="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"ss":a=i?"sekunnin":"sekuntia";break;case"m":return i?"minuutin":"minuutti";case"mm":a=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":a=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":a=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":a=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":a=i?"vuoden":"vuotta"}return a=r(t,i)+" "+a}function r(t,i){return t<10?i?n[t]:e[t]:t}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,r=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:e,monthsShortStrictRegex:n,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],n=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],i=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],r=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],a=["Do","Lu","M","C","D","A","Sa"];t.defineLocale("ga",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],i=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],a=["D","Lu","M","Ci","Ar","Ha","Sa"];t.defineLocale("gd",{months:e,monthsShort:n,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:[" "," "],ss:[t+" ",t+" "],m:[" "," "],mm:[t+" ",t+" "],h:[" "," "],hh:[t+" ",t+" "],d:[" "," "],dd:[t+" ",t+" "],M:[" "," "],MM:[t+" ",t+" "],y:[" "," "],yy:[t+" ",t+" "]};return i?r[n][0]:r[n][1]}t.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t,e){switch(e){case"D":return t+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>12?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<12?"":t<16?"":t<20?"":""}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return i?r[n][0]:r[n][1]}t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(t,e,n,i){var r=t;switch(n){case"s":return i||e?"nhny msodperc":"nhny msodperce";case"ss":return r+(i||e)?" msodperc":" msodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return r+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" ra":" rja");case"hh":return r+(i||e?" ra":" rja");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return r+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" hnap":" hnapja");case"MM":return r+(i||e?" hnap":" hnapja");case"y":return"egy"+(i||e?" v":" ve");case"yy":return r+(i||e?" v":" ve")}return""}function i(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,i,r){var a=t+" ";switch(i){case"s":return n||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?a+(n||r?"sekndur":"sekndum"):a+"seknda";case"m":return n?"mnta":"mntu";case"mm":return e(t)?a+(n||r?"mntur":"mntum"):n?a+"mnta":a+"mntu";case"hh":return e(t)?a+(n||r?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return e(t)?n?a+"dagar":a+(r?"daga":"dgum"):n?a+"dagur":a+(r?"dag":"degi");case"M":return n?"mnuur":r?"mnu":"mnui";case"MM":return e(t)?n?a+"mnuir":a+(r?"mnui":"mnuum"):n?a+"mnuur":a+(r?"mnu":"mnui");case"y":return n||r?"r":"ri";case"yy":return e(t)?a+(n||r?"r":"rum"):a+(n||r?"r":"ri")}}t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,e){return""===e[1]?1:parseInt(e[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(|||||)(|)/,(function(t,e,n){return""===n?e+"":e+n+""}))},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):t},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[" ","","","","","","","",""," "," "," "];t.defineLocale("ku",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?r[n][0]:r[n][1]}function n(t){return r(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t}function i(t){return r(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t}function r(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return r(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return r(t)}return r(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(t,e,n,i){return e?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function i(t,e,n,i){return e?a(n)[0]:i?a(n)[1]:a(n)[2]}function r(t){return t%10==0||t>10&&t<20}function a(t){return e[t].split("_")}function o(t,e,n,o){var s=t+" ";return 1===t?s+i(t,e,n[0],o):e?s+(r(t)?a(n)[1]:a(n)[0]):o?s+a(n)[1]:s+(r(t)?a(n)[1]:a(n)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:n,ss:o,m:i,mm:o,h:i,hh:o,d:i,dd:o,M:i,MM:o,y:i,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function i(t,i,r){return t+" "+n(e[r],t,i)}function r(t,i,r){return n(e[r],t,i)}function a(t,e){return e?"daas sekundes":"dam sekundm"}t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:a,ss:i,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(t,e,n,i){var r="";if(e)switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,t)}t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e||""===e||""===e?t>=12?t:t+12:void 0},meridiem:function(t,e,n){return t>=0&&t<6?"":t<12?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function i(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function r(t,e,n){var r=t+" ";switch(n){case"ss":return r+(i(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return r+(i(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return r+(i(t)?"godziny":"godzin");case"MM":return r+(i(t)?"miesice":"miesicy");case"yy":return r+(i(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,i){return t?""===i?"("+n[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(i)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:r,m:r,mm:r,h:r,hh:r,d:"1 dzie",dd:"%d dni",M:"miesic",MM:r,y:"rok",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=" ";return(t%100>=20||t>=100&&t%100==0)&&(i=" de "),t+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){return"m"===i?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[i],+t)}var i=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return t>11?n?"..":" ":n?"..":" "}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(t){return t>1&&t<5}function r(t,e,n,r){var a=t+" ";switch(n){case"s":return e||r?"pr seknd":"pr sekundami";case"ss":return e||r?a+(i(t)?"sekundy":"seknd"):a+"sekundami";case"m":return e?"minta":r?"mintu":"mintou";case"mm":return e||r?a+(i(t)?"minty":"mint"):a+"mintami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?a+(i(t)?"hodiny":"hodn"):a+"hodinami";case"d":return e||r?"de":"dom";case"dd":return e||r?a+(i(t)?"dni":"dn"):a+"dami";case"M":return e||r?"mesiac":"mesiacom";case"MM":return e||r?a+(i(t)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return e||r?"rok":"rokom";case"yy":return e||r?a+(i(t)?"roky":"rokov"):a+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===t?e?"sekundo":"sekundi":2===t?e||i?"sekundi":"sekundah":t<5?e||i?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return r+=1===t?e?"minuta":"minuto":2===t?e||i?"minuti":"minutama":t<5?e||i?"minute":"minutami":e||i?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return r+=1===t?e?"ura":"uro":2===t?e||i?"uri":"urama":t<5?e||i?"ure":"urami":e||i?"ur":"urami";case"d":return e||i?"en dan":"enim dnem";case"dd":return r+=1===t?e||i?"dan":"dnem":2===t?e||i?"dni":"dnevoma":e||i?"dni":"dnevi";case"M":return e||i?"en mesec":"enim mesecem";case"MM":return r+=1===t?e||i?"mesec":"mesecem":2===t?e||i?"meseca":"mesecema":t<5?e||i?"mesece":"meseci":e||i?"mesecev":"meseci";case"y":return e||i?"eno leto":"enim letom";case"yy":return r+=1===t?e||i?"leto":"letom":2===t?e||i?"leti":"letoma":t<5?e||i?"leta":"leti":e||i?"let":"leti"}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"",dd:e.translate,M:"",MM:e.translate,y:"",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?":e":1===e||2===e?":a":":e")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){var n=t%10,i=t>=100?100:null;return t+(e[t]||e[n]||e[i])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};t.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var i=t%10,r=t%100-i,a=t>=100?100:null;return t+(e[i]||e[r]||e[a])}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"}function i(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"}function r(t,e,n,i){var r=a(t);switch(n){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function a(t){var n=Math.floor(t%1e3/100),i=Math.floor(t%100/10),r=t%10,a="";return n>0&&(a+=e[n]+"vatlh"),i>0&&(a+=(""!==a?" ":"")+e[i]+"maH"),r>0&&(a+=(""!==a?" ":"")+e[r]),""===a?"pagh":a}t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:i,s:"puS lup",ss:r,m:"wa tup",mm:r,h:"wa rep",hh:r,d:"wa jaj",dd:r,M:"wa jar",MM:r,y:"wa DIS",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,n){return t<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(t){return"s"===t||"S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var i=t%10,r=t%100-i,a=t>=100?100:null;return t+(e[i]||e[r]||e[a])}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return i||e?r[n][0]:r[n][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?" ":i<900?"":i<1130?" ":i<1230?"":i<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}function n(t,n,i){return"m"===i?n?"":"":"h"===i?n?"":"":t+" "+e({ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"}[i],+t)}function i(t,e){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative}function r(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:r("[ "),nextDay:r("[ "),lastDay:r("[ "),nextWeek:r("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[] dddd [").call(this);case 1:case 2:case 4:return r("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1200?"":1200===i?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(t,e,n){},function(t,e,n){!function(){var e=function(t,n){var i=this;this.isOpened=!1,this.input=r(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),n=n||{},function(t,e,n){for(var i in e){var r=e[i],a=t.input.getAttribute("data-"+i.toLowerCase());t[i]="number"==typeof r?parseInt(a):!1===r?null!==a:r instanceof Function?null:a,t[i]||0===t[i]||(t[i]=i in n?n[i]:r)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:e.DATA,filter:e.FILTER_CONTAINS,sort:!1!==n.sort&&e.SORT_BYLENGTH,item:e.ITEM,replace:e.REPLACE},n),this.index=-1,this.container=r.create("div",{className:"awesomplete",around:t}),this.ul=r.create("ul",{hidden:"hidden",inside:this.container}),this.status=r.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;i.opened&&(13===e&&i.selected?(t.preventDefault(),i.select()):27===e?i.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),i[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),i.select(e,t.target))}}}},r.bind(this.input,this._events.input),r.bind(this.input.form,this._events.form),r.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],e.all.push(this)};function n(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}e.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=r(t))&&t.children){var e=[];i.apply(t.children).forEach((function(t){if(!t.disabled){var n=t.textContent.trim(),i=t.value||n,r=t.label||n;""!==i&&e.push({label:r,value:i})}})),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,r.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),r.fire(this.input,"awesomplete-open")},destroy:function(){r.unbind(this.input,this._events.input),r.unbind(this.input.form,this._events.form);var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=e.all.indexOf(this);-1!==n&&e.all.splice(n,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,r.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=r.siblingIndex(t):t=this.ul.children[this.index],t){var n=this.suggestions[this.index];r.fire(this.input,"awesomplete-select",{text:n,origin:e||t})&&(this.replace(n),this.close({reason:"select"}),r.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map((function(i){return new n(t.data(i,e))})).filter((function(n){return t.filter(n,e)})),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach((function(n){t.ul.appendChild(t.item(n,e))})),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},e.all=[],e.FILTER_CONTAINS=function(t,e){return RegExp(r.regExpEscape(e.trim()),"i").test(t)},e.FILTER_STARTSWITH=function(t,e){return RegExp("^"+r.regExpEscape(e.trim()),"i").test(t)},e.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},e.ITEM=function(t,e){var n=""===e.trim()?t:t.replace(RegExp(r.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return r.create("li",{innerHTML:n,"aria-selected":"false"})},e.REPLACE=function(t){this.input.value=t.value},e.DATA=function(t){return t},Object.defineProperty(n.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),n.prototype.toString=n.prototype.valueOf=function(){return""+this.label};var i=Array.prototype.slice;function r(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function a(t,e){return i.call((e||document).querySelectorAll(t))}function o(){a("input.awesomplete").forEach((function(t){new e(t)}))}r.create=function(t,e){var n=document.createElement(t);for(var i in e){var a=e[i];if("inside"===i)r(a).appendChild(n);else if("around"===i){var o=r(a);o.parentNode.insertBefore(n,o),n.appendChild(o)}else i in n?n[i]=a:n.setAttribute(i,a)}return n},r.bind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach((function(e){t.addEventListener(e,i)}))}},r.unbind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach((function(e){t.removeEventListener(e,i)}))}},r.fire=function(t,e,n){var i=document.createEvent("HTMLEvents");for(var r in i.initEvent(e,!0,!0),n)i[r]=n[r];return t.dispatchEvent(i)},r.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},r.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)),e.$=r,e.$$=a,"undefined"!=typeof self&&(self.Awesomplete=e),t.exports&&(t.exports=e)}()},function(t,e,n){var i,r,a;!function(o,s){"use strict";t.exports?t.exports=s(n(0)):(r=[n(0)],void 0===(a="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=a))}(0,(function(t){"use strict";void 0===t.version&&t.default&&(t=t.default);var e,n={},i={},r={},a={},o={};t&&"string"==typeof t.version||O("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var s=t.version.split("."),c=+s[0],l=+s[1];function u(t){return t>96?t-87:t>64?t-29:t-48}function h(t){var e=0,n=t.split("."),i=n[0],r=n[1]||"",a=1,o=0,s=1;for(45===t.charCodeAt(0)&&(e=1,s=-1);e<i.length;e++)o=60*o+u(i.charCodeAt(e));for(e=0;e<r.length;e++)a/=60,o+=u(r.charCodeAt(e))*a;return o*s}function p(t){for(var e=0;e<t.length;e++)t[e]=h(t[e])}function d(t,e){var n,i=[];for(n=0;n<e.length;n++)i[n]=t[e[n]];return i}function f(t){var e=t.split("|"),n=e[2].split(" "),i=e[3].split(""),r=e[4].split(" ");return p(n),p(i),p(r),function(t,e){for(var n=0;n<e;n++)t[n]=Math.round((t[n-1]||0)+6e4*t[n]);t[e-1]=1/0}(r,i.length),{name:e[0],abbrs:d(e[1].split(" "),i),offsets:d(n,i),untils:r,population:0|e[5]}}function m(t){t&&this._set(f(t))}function g(t,e){this.name=t,this.zones=e}function y(t){var e=t.toTimeString(),n=e.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=e.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+t,this.abbr=n,this.offset=t.getTimezoneOffset()}function _(t){this.zone=t,this.offsetScore=0,this.abbrScore=0}function v(t,e){for(var n,i;i=6e4*((e.at-t.at)/12e4|0);)(n=new y(new Date(t.at+i))).offset===t.offset?t=n:e=n;return t}function M(t,e){return t.offsetScore!==e.offsetScore?t.offsetScore-e.offsetScore:t.abbrScore!==e.abbrScore?t.abbrScore-e.abbrScore:t.zone.population!==e.zone.population?e.zone.population-t.zone.population:e.zone.name.localeCompare(t.zone.name)}function b(t,e){var n,i;for(p(e),n=0;n<e.length;n++)i=e[n],o[i]=o[i]||{},o[i][t]=!0}function x(t){var e,n,i,r=t.length,s={},c=[];for(e=0;e<r;e++)for(n in i=o[t[e].offset]||{})i.hasOwnProperty(n)&&(s[n]=!0);for(e in s)s.hasOwnProperty(e)&&c.push(a[e]);return c}function w(){try{var t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(t&&t.length>3){var e=a[A(t)];if(e)return e;O("Moment Timezone found "+t+" from the Intl api, but did not have that data loaded.")}}catch(t){}var n,i,r,o=function(){var t,e,n,i=(new Date).getFullYear()-2,r=new y(new Date(i,0,1)),a=[r];for(n=1;n<48;n++)(e=new y(new Date(i,n,1))).offset!==r.offset&&(t=v(r,e),a.push(t),a.push(new y(new Date(t.at+6e4)))),r=e;for(n=0;n<4;n++)a.push(new y(new Date(i+n,0,1))),a.push(new y(new Date(i+n,6,1)));return a}(),s=o.length,c=x(o),l=[];for(i=0;i<c.length;i++){for(n=new _(L(c[i]),s),r=0;r<s;r++)n.scoreOffsetAt(o[r]);l.push(n)}return l.sort(M),l.length>0?l[0].zone.name:void 0}function A(t){return(t||"").toLowerCase().replace(/\//g,"_")}function T(t){var e,i,r,o;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)o=A(i=(r=t[e].split("|"))[0]),n[o]=t[e],a[o]=i,b(o,r[2].split(" "))}function L(t,e){t=A(t);var r,o=n[t];return o instanceof m?o:"string"==typeof o?(o=new m(o),n[t]=o,o):i[t]&&e!==L&&(r=L(i[t],L))?((o=n[t]=new m)._set(r),o.name=a[t],o):null}function S(t){var e,n,r,o;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)r=A((n=t[e].split("|"))[0]),o=A(n[1]),i[r]=o,a[r]=n[0],i[o]=r,a[o]=n[1]}function k(t){var e="X"===t._f||"x"===t._f;return!(!t._a||void 0!==t._tzm||e)}function O(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}function z(e){var n=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1],r=L(i),a=t.utc.apply(null,n);return r&&!t.isMoment(e)&&k(a)&&a.add(r.parse(a),"minutes"),a.tz(i),a}(c<2||2===c&&l<6)&&O("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+t.version+". See momentjs.com"),m.prototype={_set:function(t){this.name=t.name,this.abbrs=t.abbrs,this.untils=t.untils,this.offsets=t.offsets,this.population=t.population},_index:function(t){var e,n=+t,i=this.untils;for(e=0;e<i.length;e++)if(n<i[e])return e},countries:function(){var t=this.name;return Object.keys(r).filter((function(e){return-1!==r[e].zones.indexOf(t)}))},parse:function(t){var e,n,i,r,a=+t,o=this.offsets,s=this.untils,c=s.length-1;for(r=0;r<c;r++)if(e=o[r],n=o[r+1],i=o[r?r-1:r],e<n&&z.moveAmbiguousForward?e=n:e>i&&z.moveInvalidForward&&(e=i),a<s[r]-6e4*e)return o[r];return o[c]},abbr:function(t){return this.abbrs[this._index(t)]},offset:function(t){return O("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(t)]},utcOffset:function(t){return this.offsets[this._index(t)]}},_.prototype.scoreOffsetAt=function(t){this.offsetScore+=Math.abs(this.zone.utcOffset(t.at)-t.offset),this.zone.abbr(t.at).replace(/[^A-Z]/g,"")!==t.abbr&&this.abbrScore++},z.version="0.5.31",z.dataVersion="",z._zones=n,z._links=i,z._names=a,z._countries=r,z.add=T,z.link=S,z.load=function(t){T(t.zones),S(t.links),function(t){var e,n,i,a;if(t&&t.length)for(e=0;e<t.length;e++)n=(a=t[e].split("|"))[0].toUpperCase(),i=a[1].split(" "),r[n]=new g(n,i)}(t.countries),z.dataVersion=t.version},z.zone=L,z.zoneExists=function t(e){return t.didShowError||(t.didShowError=!0,O("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!L(e)},z.guess=function(t){return e&&!t||(e=w()),e},z.names=function(){var t,e=[];for(t in a)a.hasOwnProperty(t)&&(n[t]||n[i[t]])&&a[t]&&e.push(a[t]);return e.sort()},z.Zone=m,z.unpack=f,z.unpackBase60=h,z.needsOffset=k,z.moveInvalidForward=!0,z.moveAmbiguousForward=!1,z.countries=function(){return Object.keys(r)},z.zonesForCountry=function(t,e){var n;if(n=(n=t).toUpperCase(),!(t=r[n]||null))return null;var i=t.zones.sort();return e?i.map((function(t){return{name:t,offset:L(t).utcOffset(new Date)}})):i};var C,E=t.fn;function D(t){return function(){return this._z?this._z.abbr(this):t.call(this)}}function N(t){return function(){return this._z=null,t.apply(this,arguments)}}t.tz=z,t.defaultZone=null,t.updateOffset=function(e,n){var i,r=t.defaultZone;if(void 0===e._z&&(r&&k(e)&&!e._isUTC&&(e._d=t.utc(e._a)._d,e.utc().add(r.parse(e),"minutes")),e._z=r),e._z)if(i=e._z.utcOffset(e),Math.abs(i)<16&&(i/=60),void 0!==e.utcOffset){var a=e._z;e.utcOffset(-i,n),e._z=a}else e.zone(i,n)},E.tz=function(e,n){if(e){if("string"!=typeof e)throw new Error("Time zone name must be a string, got "+e+" ["+typeof e+"]");return this._z=L(e),this._z?t.updateOffset(this,n):O("Moment Timezone has no data for "+e+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},E.zoneName=D(E.zoneName),E.zoneAbbr=D(E.zoneAbbr),E.utc=N(E.utc),E.local=N(E.local),E.utcOffset=(C=E.utcOffset,function(){return arguments.length>0&&(this._z=null),C.apply(this,arguments)}),t.tz.setDefault=function(e){return(c<2||2===c&&l<9)&&O("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+t.version+"."),t.defaultZone=e?L(e):null,t};var I=t.momentProperties;return"[object Array]"===Object.prototype.toString.call(I)?(I.push("_z"),I.push("_a")):I&&(I._z=null),t}))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i={"./af":7,"./af.js":7,"./ar":8,"./ar-dz":9,"./ar-dz.js":9,"./ar-kw":10,"./ar-kw.js":10,"./ar-ly":11,"./ar-ly.js":11,"./ar-ma":12,"./ar-ma.js":12,"./ar-sa":13,"./ar-sa.js":13,"./ar-tn":14,"./ar-tn.js":14,"./ar.js":8,"./az":15,"./az.js":15,"./be":16,"./be.js":16,"./bg":17,"./bg.js":17,"./bm":18,"./bm.js":18,"./bn":19,"./bn.js":19,"./bo":20,"./bo.js":20,"./br":21,"./br.js":21,"./bs":22,"./bs.js":22,"./ca":23,"./ca.js":23,"./cs":24,"./cs.js":24,"./cv":25,"./cv.js":25,"./cy":26,"./cy.js":26,"./da":27,"./da.js":27,"./de":28,"./de-at":29,"./de-at.js":29,"./de-ch":30,"./de-ch.js":30,"./de.js":28,"./dv":31,"./dv.js":31,"./el":32,"./el.js":32,"./en-au":33,"./en-au.js":33,"./en-ca":34,"./en-ca.js":34,"./en-gb":35,"./en-gb.js":35,"./en-ie":36,"./en-ie.js":36,"./en-il":37,"./en-il.js":37,"./en-in":38,"./en-in.js":38,"./en-nz":39,"./en-nz.js":39,"./en-sg":40,"./en-sg.js":40,"./eo":41,"./eo.js":41,"./es":42,"./es-do":43,"./es-do.js":43,"./es-us":44,"./es-us.js":44,"./es.js":42,"./et":45,"./et.js":45,"./eu":46,"./eu.js":46,"./fa":47,"./fa.js":47,"./fi":48,"./fi.js":48,"./fil":49,"./fil.js":49,"./fo":50,"./fo.js":50,"./fr":51,"./fr-ca":52,"./fr-ca.js":52,"./fr-ch":53,"./fr-ch.js":53,"./fr.js":51,"./fy":54,"./fy.js":54,"./ga":55,"./ga.js":55,"./gd":56,"./gd.js":56,"./gl":57,"./gl.js":57,"./gom-deva":58,"./gom-deva.js":58,"./gom-latn":59,"./gom-latn.js":59,"./gu":60,"./gu.js":60,"./he":61,"./he.js":61,"./hi":62,"./hi.js":62,"./hr":63,"./hr.js":63,"./hu":64,"./hu.js":64,"./hy-am":65,"./hy-am.js":65,"./id":66,"./id.js":66,"./is":67,"./is.js":67,"./it":68,"./it-ch":69,"./it-ch.js":69,"./it.js":68,"./ja":70,"./ja.js":70,"./jv":71,"./jv.js":71,"./ka":72,"./ka.js":72,"./kk":73,"./kk.js":73,"./km":74,"./km.js":74,"./kn":75,"./kn.js":75,"./ko":76,"./ko.js":76,"./ku":77,"./ku.js":77,"./ky":78,"./ky.js":78,"./lb":79,"./lb.js":79,"./lo":80,"./lo.js":80,"./lt":81,"./lt.js":81,"./lv":82,"./lv.js":82,"./me":83,"./me.js":83,"./mi":84,"./mi.js":84,"./mk":85,"./mk.js":85,"./ml":86,"./ml.js":86,"./mn":87,"./mn.js":87,"./mr":88,"./mr.js":88,"./ms":89,"./ms-my":90,"./ms-my.js":90,"./ms.js":89,"./mt":91,"./mt.js":91,"./my":92,"./my.js":92,"./nb":93,"./nb.js":93,"./ne":94,"./ne.js":94,"./nl":95,"./nl-be":96,"./nl-be.js":96,"./nl.js":95,"./nn":97,"./nn.js":97,"./oc-lnc":98,"./oc-lnc.js":98,"./pa-in":99,"./pa-in.js":99,"./pl":100,"./pl.js":100,"./pt":101,"./pt-br":102,"./pt-br.js":102,"./pt.js":101,"./ro":103,"./ro.js":103,"./ru":104,"./ru.js":104,"./sd":105,"./sd.js":105,"./se":106,"./se.js":106,"./si":107,"./si.js":107,"./sk":108,"./sk.js":108,"./sl":109,"./sl.js":109,"./sq":110,"./sq.js":110,"./sr":111,"./sr-cyrl":112,"./sr-cyrl.js":112,"./sr.js":111,"./ss":113,"./ss.js":113,"./sv":114,"./sv.js":114,"./sw":115,"./sw.js":115,"./ta":116,"./ta.js":116,"./te":117,"./te.js":117,"./tet":118,"./tet.js":118,"./tg":119,"./tg.js":119,"./th":120,"./th.js":120,"./tk":121,"./tk.js":121,"./tl-ph":122,"./tl-ph.js":122,"./tlh":123,"./tlh.js":123,"./tr":124,"./tr.js":124,"./tzl":125,"./tzl.js":125,"./tzm":126,"./tzm-latn":127,"./tzm-latn.js":127,"./tzm.js":126,"./ug-cn":128,"./ug-cn.js":128,"./uk":129,"./uk.js":129,"./ur":130,"./ur.js":130,"./uz":131,"./uz-latn":132,"./uz-latn.js":132,"./uz.js":131,"./vi":133,"./vi.js":133,"./x-pseudo":134,"./x-pseudo.js":134,"./yo":135,"./yo.js":135,"./zh-cn":136,"./zh-cn.js":136,"./zh-hk":137,"./zh-hk.js":137,"./zh-mo":138,"./zh-mo.js":138,"./zh-tw":139,"./zh-tw.js":139};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=144},function(t){t.exports=JSON.parse('{"version":"2020a","zones":["Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q|48e5","Africa/Accra|LMT GMT +0020|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE|41e5","Africa/Nairobi|LMT EAT +0230 +0245|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ|47e5","Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5","Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A|17e6","Africa/Bissau|LMT -01 GMT|12.k 10 0|012|-2ldX0 2xoo0|39e4","Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k|26e5","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6","Africa/Casablanca|LMT +00 +01|u.k 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 gM0 2600 e00 2600 gM0|32e5","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1y7o0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|85e3","Africa/El_Aaiun|LMT -01 +00 +01|Q.M 10 0 -10|012323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 gM0 2600 e00 2600 gM0|20e4","Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0|84e5","Africa/Juba|LMT CAT CAST EAT|-26.s -20 -30 -30|01212121212121212121212121212121213|-1yW26.s 1zK06.s 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0|","Africa/Khartoum|LMT CAT CAST EAT|-2a.8 -20 -30 -30|012121212121212121212121212121212131|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5","Africa/Monrovia|MMT MMT GMT|H.8 I.u 0|012|-23Lzg.Q 28G01.m|11e5","Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0|13e5","Africa/Sao_Tome|LMT GMT WAT|A.J 0 -10|0121|-2le00 4i6N0 2q00|","Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5","Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5","Africa/Windhoek|+0130 SAST SAST CAT WAT|-1u -20 -30 -20 -10|01213434343434343434343434343434343434343434343434343|-2GJdu 1Ajdu 1cL0 1SqL0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|NST NWT NPT BST BDT AHST HST HDT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AST AWT APT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Port_of_Spain|LMT AST|46.4 40|01|-2kNvR.U|43e3","America/Araguaina|LMT -03 -02|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4","America/Argentina/Buenos_Aires|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0|","America/Argentina/Catamarca|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Cordoba|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0|","America/Argentina/Jujuy|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0|","America/Argentina/La_Rioja|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Mendoza|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232312121321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0|","America/Argentina/Rio_Gallegos|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Salta|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0|","America/Argentina/San_Juan|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0|","America/Argentina/San_Luis|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121212321212|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0|","America/Argentina/Tucuman|CMT -04 -03 -02|4g.M 40 30 20|0121212121212121212121212121212121212121212323232313232123232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0|","America/Argentina/Ushuaia|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0|","America/Curacao|LMT -0430 AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d|15e4","America/Asuncion|AMT -04 -03|3O.E 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5","America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0|28e2","America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3","America/Bahia|LMT -03 -02|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5","America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4","America/Belem|LMT -03 -02|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|20e5","America/Belize|LMT CST -0530 CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0|57e3","America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0|11e2","America/Boa_Vista|LMT -04 -03|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2","America/Bogota|BMT -05 -04|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0|90e5","America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4","America/Cambridge_Bay|-00 MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2","America/Campo_Grande|LMT -04 -03|3C.s 40 30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|77e4","America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141412|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|CMT -0430 -04|4r.E 4u 40|01212|-2kV7w.k 28KM2.k 1IwOu kqo0|29e5","America/Cayenne|LMT -04 -03|3t.k 40 30|012|-2mrwu.E 2gWou.E|58e3","America/Panama|CMT EST|5j.A 50|01|-2uduE.o|15e5","America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4","America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5","America/Creston|MST PST|70 80|010|-29DR0 43B0|53e2","America/Cuiaba|LMT -04 -03|3I.k 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|54e4","America/Danmarkshavn|LMT -03 -02 GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8","America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0|12e3","America/Dawson|YST YDT YWT YPT YDDT PST PDT MST|90 80 80 80 70 80 70 70|01010230405656565656565656565656565656565656565656565656565656565656565656565656565656565657|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|13e2","America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|0123425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 JxX1 SMX 1cN0 1cL0 aW10 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5","America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|0121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 XQp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5","America/Eirunepe|LMT -05 -04|4D.s 50 40|0121212121212121212121212121212121|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3","America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0|11e5","America/Tijuana|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOO0 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5","America/Fort_Nelson|PST PDT PWT PPT MST|80 70 70 70 70|01023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010104|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Fortaleza|LMT -03 -02|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5","America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","America/Godthab|LMT -03 -02|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3","America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|KMT EST EDT AST|57.a 50 40 40|01212121212121212121212121212121212121212121212121212121212121212121212121232121212121212121212121212121212121212121|-2l1uQ.O 2HHBQ.O 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5","America/Guayaquil|QMT -05 -04|5e 50 40|0121|-1yVSK 2uILK rz0|27e5","America/Guyana|LMT -0345 -03 -04|3Q.E 3J 30 40|0123|-2dvU7.k 2r6LQ.k Bxbf|80e4","America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4","America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010401054541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 8wn0 1cN0 1cL0 1cN0 1cK0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Inuvik|-00 PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2","America/Iqaluit|-00 EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2","America/Jamaica|KMT EST EDT|57.a 50 40|0121212121212121212121|-2l1uQ.O 2uM1Q.O 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4","America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3","America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 1nX1 e0X 9vd0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/La_Paz|CMT BST -04|4w.A 3w.A 40|012|-1x37r.o 13b0|19e5","America/Lima|LMT -05 -04|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6","America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp1 1VaX 3dA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Maceio|LMT -03 -02|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4","America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5","America/Manaus|LMT -04 -03|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5","America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0|39e4","America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4","America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|44e4","America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2","America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|11e5","America/Metlakatla|PST PWT PPT PDT AKST AKDT|80 70 70 70 90 80|01203030303030303030303030303030304545450454545454545454545454545454545454545454|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 uM0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6","America/Miquelon|LMT AST -03 -02|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3","America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|41e5","America/Montevideo|LMT MMT -04 -03 -0330 -0230 -02 -0130|3I.P 3I.P 40 30 3u 2u 20 1u|012343434343434343434343435353636353636375363636363636363636363636363636363636363636363|-2tRUf.9 sVc0 8jcf.9 1db0 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1fAu 1cLu 1o0u 11zu NAu 3jXu zXu Dq0u 19Xu pcu jz0 cm10 19X0 6tB0 1fbu 3o0u jX0 4vB0 xz0 3Cp0 mmu 1a10 IMu Db0 4c10 uL0 1Nd0 An0 1SN0 uL0 mp0 28L0 iPB0 un0 1SN0 xz0 1zd0 Lz0 1zd0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5","America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|24e4","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|16e2","America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2","America/Noronha|LMT -02 -01|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2","America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Pangnirtung|-00 AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Paramaribo|LMT PMT PMT -0330 -03|3E.E 3E.Q 3E.A 3u 30|01234|-2nDUj.k Wqo0.c qanX.I 1yVXN.o|24e4","America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0|42e5","America/Port-au-Prince|PPMT EST EDT|4N 50 40|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Rio_Branco|LMT -05 -04|4v.c 50 40|01212121212121212121212121212121|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4","America/Porto_Velho|LMT -04 -03|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|37e4","America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0|24e5","America/Punta_Arenas|SMT -05 -04 -03|4G.K 50 40 30|0102021212121212121232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 blz0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|","America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|842","America/Rankin_Inlet|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2","America/Recife|LMT -03 -02|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5","America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0|19e4","America/Resolute|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229","America/Santarem|LMT -04 -03|3C.M 40 30|0121212121212121212121212121212|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4","America/Santiago|SMT -05 -04 -03|4G.K 50 40 30|010202121212121212321232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9Bz0 jb0 1oN0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0|62e5","America/Santo_Domingo|SDMT EST EDT -0430 AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5","America/Sao_Paulo|LMT -03 -02|36.s 30 20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|20e6","America/Scoresbysund|LMT -02 -01 +00|1r.Q 20 10 0|0121323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452","America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2","America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0|16e3","America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0|11e5","America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656","America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Whitehorse|YST YDT YWT YPT YDDT PST PDT MST|90 80 80 80 70 80 70 70|01010230405656565656565656565656565656565656565656565656565656565656565656565656565656565657|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 3NA0 vrd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|23e3","America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4","America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642","America/Yellowknife|-00 MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","Antarctica/Casey|-00 +08 +11|0 -80 -b0|01212121|-2q00 1DjS0 T90 40P0 KL0 blz0 3m10|10","Antarctica/Davis|-00 +07 +05|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0|70","Antarctica/DumontDUrville|-00 +10|0 -a0|0101|-U0o0 cfq0 bFm0|80","Antarctica/Macquarie|AEST AEDT -00 +11|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0|1","Antarctica/Mawson|-00 +06 +05|0 -60 -50|012|-CEo0 2fyk0|60","Pacific/Auckland|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5","Antarctica/Palmer|-00 -03 -04 -02|0 30 40 20|0121212121213121212121212121212121212121212121212121212121212121212121212121212121|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","Antarctica/Rothera|-00 -03|0 30|01|gOo0|130","Antarctica/Syowa|-00 +03|0 -30|01|-vs00|20","Antarctica/Troll|-00 +00 +02|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40","Antarctica/Vostok|-00 +06|0 -60|01|-tjA0|25","Europe/Oslo|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e4","Asia/Riyadh|LMT +03|-36.Q -30|01|-TvD6.Q|57e5","Asia/Almaty|LMT +05 +06 +07|-57.M -50 -60 -70|012323232323232323232321232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5","Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e5","Asia/Anadyr|LMT +12 +13 +14 +11|-bN.U -c0 -d0 -e0 -b0|01232121212121212121214121212121212121212121212121212121212141|-1PcbN.U eUnN.U 23CL0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3","Asia/Aqtau|LMT +04 +05 +06|-3l.4 -40 -50 -60|012323232323232323232123232312121212121212121212|-1Pc3l.4 eUnl.4 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4","Asia/Aqtobe|LMT +04 +05 +06|-3M.E -40 -50 -60|0123232323232323232321232323232323232323232323232|-1Pc3M.E eUnM.E 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4","Asia/Ashgabat|LMT +04 +05 +06|-3R.w -40 -50 -60|0123232323232323232323212|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4","Asia/Atyrau|LMT +03 +05 +06 +04|-3r.I -30 -50 -60 -40|01232323232323232323242323232323232324242424242|-1Pc3r.I eUor.I 24PW0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|","Asia/Baghdad|BMT +03 +04|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5","Asia/Qatar|LMT +04 +03|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8|96e4","Asia/Baku|LMT +03 +04 +05|-3j.o -30 -40 -50|01232323232323232323232123232323232323232323232323232323232323232|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|BMT +07|-6G.4 -70|01|-218SG.4|15e6","Asia/Barnaul|LMT +06 +07 +08|-5z -60 -70 -80|0123232323232323232323212323232321212121212121212121212121212121212|-21S5z pCnz 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|","Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5","Asia/Bishkek|LMT +05 +06 +07|-4W.o -50 -60 -70|012323232323232323232321212121212121212121212121212|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4","Asia/Brunei|LMT +0730 +08|-7D.E -7u -80|012|-1KITD.E gDc9.E|42e4","Asia/Kolkata|MMT IST +0630|-5l.a -5u -6u|012121|-2zOtl.a 1r2LP.a 1un0 HB0 7zX0|15e6","Asia/Chita|LMT +08 +09 +10|-7x.Q -80 -90 -a0|012323232323232323232321232323232323232323232323232323232323232312|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|LMT +07 +08 +10 +09|-7C -70 -80 -a0 -90|0123434343434343434343434343434343434343434343424242|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST CDT|-80 -90|01010101010101010101010101010|-23uw0 18n0 OjB0 Rz0 11d0 1wL0 A10 8HX0 1G10 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 aL0 1tU30 Rb0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6","Asia/Colombo|MMT +0530 +06 +0630|-5j.w -5u -60 -6u|01231321|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5","Asia/Dhaka|HMT +0630 +0530 +06 +07|-5R.k -6u -5u -60 -70|0121343|-18LFR.k 1unn.k HB0 m6n0 2kxbu 1i00|16e6","Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5","Asia/Dili|LMT +08 +09|-8m.k -80 -90|01212|-2le8m.k 1dnXm.k 1nfA0 Xld0|19e4","Asia/Dubai|LMT +04|-3F.c -40|01|-21JfF.c|39e5","Asia/Dushanbe|LMT +05 +06 +07|-4z.c -50 -60 -70|012323232323232323232321|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4","Asia/Famagusta|LMT EET EEST +03|-2f.M -20 -30 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212312121212121212121212121212121212121212121|-1Vc2f.M 2a3cf.M 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|","Asia/Gaza|EET EEST IST IDT|-20 -30 -20 -30|0101010101010101010101010101010123232323232323232323232323232320101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 bXd0 gM0 8Q00 IM0 1wM0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0|18e5","Asia/Hebron|EET EEST IST IDT|-20 -30 -20 -30|010101010101010101010101010101012323232323232323232323232323232010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 bXd0 gM0 8Q00 IM0 1wM0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 11c0 1oo0 11c0 1oo0 11c0 1oo0 11c0 1rc0|25e4","Asia/Ho_Chi_Minh|LMT PLMT +07 +08 +09|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0|90e5","Asia/Hong_Kong|LMT HKT HKST HKWT JST|-7A.G -80 -90 -8u -90|0123412121212121212121212121212121212121212121212121212121212121212121|-2CFH0 1taO0 Hc0 xUu 9tBu 11z0 1tDu Rc0 1wo0 11A0 1cM0 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5","Asia/Hovd|LMT +06 +07 +08|-66.A -60 -70 -80|012323232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|IMT +07 +08 +09|-6V.5 -70 -80 -90|01232323232323232323232123232323232323232323232323232323232323232|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|IMT EET EEST +03 +04|-1U.U -20 -30 -30 -40|0121212121212121212121212121212121212121212121234312121212121212121212121212121212121212121212121212121212121212123|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSN0 CL0 mp0 1Vz0 1gN0 8yn0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1ip0 19X0 1ip0 17b0 qdB0 38L0 1jd0 Tz0 l6O0 11A0 WN0 1qL0 TB0 1tX0 U10 1tz0 11B0 1in0 17d0 z90 cne0 pb0 2Cp0 1800 14o0 1dc0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|BMT +0720 +0730 +09 +08 WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu|31e6","Asia/Jayapura|LMT +09 +0930 WIT|-9m.M -90 -9u -90|0123|-1uu9m.M sMMm.M L4nu|26e4","Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|012121212121321212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 bXd0 gM0 8Q00 IM0 1wM0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4","Asia/Kabul|+04 +0430|-40 -4u|01|-10Qs0|46e5","Asia/Kamchatka|LMT +11 +12 +13|-ay.A -b0 -c0 -d0|012323232323232323232321232323232323232323232323232323232323212|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4","Asia/Karachi|LMT +0530 +0630 +05 PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6","Asia/Urumqi|LMT +06|-5O.k -60|01|-1GgtO.k|32e5","Asia/Kathmandu|LMT +0530 +0545|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g|12e5","Asia/Khandyga|LMT +08 +09 +10 +11|-92.d -80 -90 -a0 -b0|0123232323232323232323212323232323232323232323232343434343434343432|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|LMT +06 +07 +08|-6b.q -60 -70 -80|01232323232323232323232123232323232323232323232323232323232323232|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|SMT +07 +0720 +0730 +09 +08|-6T.p -70 -7k -7u -90 -80|0123435|-2Bg6T.p 17anT.p l5XE 17bO 8Fyu 1so1u|71e5","Asia/Kuching|LMT +0730 +08 +0820 +09|-7l.k -7u -80 -8k -90|0123232323232323242|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0|13e4","Asia/Macau|LMT CST +09 +10 CDT|-7y.a -80 -90 -a0 -90|012323214141414141414141414141414141414141414141414141414141414141414141|-2CFHy.a 1uqKy.a PX0 1kn0 15B0 11b0 4Qq0 1oM0 11c0 1ko0 1u00 11A0 1cM0 11c0 1o00 11A0 1o00 11A0 1oo0 1400 1o00 11A0 1o00 U00 1tA0 U00 1wo0 Rc0 1wru U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cK0 1cO0 1cK0 1cO0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|57e4","Asia/Magadan|LMT +10 +11 +12|-a3.c -a0 -b0 -c0|012323232323232323232321232323232323232323232323232323232323232312|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|LMT MMT +08 +09 WITA|-7V.A -7V.A -80 -90 -80|01234|-21JjV.A vfc0 myLV.A 8ML0|15e5","Asia/Manila|PST PDT JST|-80 -90 -90|010201010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0|24e6","Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|32e4","Asia/Novokuznetsk|LMT +06 +07 +08|-5M.M -60 -70 -80|012323232323232323232321232323232323232323232323232323232323212|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4","Asia/Novosibirsk|LMT +06 +07 +08|-5v.E -60 -70 -80|0123232323232323232323212323212121212121212121212121212121212121212|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|LMT +05 +06 +07|-4R.u -50 -60 -70|01232323232323232323232123232323232323232323232323232323232323232|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5","Asia/Oral|LMT +03 +05 +06 +04|-3p.o -30 -50 -60 -40|01232323232323232424242424242424242424242424242|-1Pc3p.o eUop.o 23CK0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4","Asia/Pontianak|LMT PMT +0730 +09 +08 WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu|23e4","Asia/Pyongyang|LMT KST JST KST|-8n -8u -90 -90|012313|-2um8n 97XR 1lTzu 2Onc0 6BA0|29e5","Asia/Qostanay|LMT +04 +05 +06|-4e.s -40 -50 -60|012323232323232323232123232323232323232323232323|-1Pc4e.s eUoe.s 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|","Asia/Qyzylorda|LMT +04 +05 +06|-4l.Q -40 -50 -60|01232323232323232323232323232323232323232323232|-1Pc4l.Q eUol.Q 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 zQl0|73e4","Asia/Rangoon|RMT +0630 +09|-6o.L -6u -90|0121|-21Jio.L SmnS.L 7j9u|48e5","Asia/Sakhalin|LMT +09 +11 +12 +10|-9u.M -90 -b0 -c0 -a0|01232323232323232323232423232323232424242424242424242424242424242|-2AGVu.M 1BoMu.M 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Samarkand|LMT +04 +05 +06|-4r.R -40 -50 -60|01232323232323232323232|-1Pc4r.R eUor.R 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4","Asia/Seoul|LMT KST JST KST KDT KDT|-8r.Q -8u -90 -90 -a0 -9u|012343434343151515151515134343|-2um8r.Q 97XV.Q 1m1zu 6CM0 Fz0 1kN0 14n0 1kN0 14L0 1zd0 On0 69B0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0|23e6","Asia/Srednekolymsk|LMT +10 +11 +12|-ae.Q -a0 -b0 -c0|01232323232323232323232123232323232323232323232323232323232323232|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2","Asia/Taipei|CST JST CDT|-80 -90 -90|01020202020202020202020202020202020202020|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0|74e5","Asia/Tashkent|LMT +05 +06 +07|-4B.b -50 -60 -70|012323232323232323232321|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5","Asia/Tbilisi|TBMT +03 +04 +05|-2X.b -30 -40 -50|0123232323232323232323212121232323232323232323212|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5","Asia/Tehran|LMT TMT +0330 +04 +05 +0430|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|LMT +0530 +06|-5W.A -5u -60|012|-Su5W.A 1BGMs.A|79e3","Asia/Tokyo|JST JDT|-90 -a0|010101010|-QJJ0 Rc0 1lc0 14o0 1zc0 Oo0 1zc0 Oo0|38e6","Asia/Tomsk|LMT +06 +07 +08|-5D.P -60 -70 -80|0123232323232323232323212323232323232323232323212121212121212121212|-21NhD.P pxzD.P 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|LMT +07 +08 +09|-77.w -70 -80 -90|012323232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|LMT +08 +09 +12 +11 +10|-9w.S -80 -90 -c0 -b0 -a0|012343434343434343434345434343434343434343434343434343434343434345|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|LMT +09 +10 +11|-8L.v -90 -a0 -b0|01232323232323232323232123232323232323232323232323232323232323232|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|LMT +08 +09 +10|-8C.W -80 -90 -a0|01232323232323232323232123232323232323232323232323232323232323232|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|LMT PMT +04 +05 +06|-42.x -3J.5 -40 -50 -60|012343434343434343434343234343434343434343434343434343434343434343|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|LMT +03 +04 +05|-2W -30 -40 -50|0123232323232323232323212121212323232323232323232323232323232|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|HMT -02 -01 +00 WET|1S.w 20 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121232323232323232323232323232323234323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2ldW0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4","Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3","Atlantic/Canary|LMT -01 WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Atlantic/Cape_Verde|LMT -02 -01|1y.4 20 10|01212|-2ldW0 1eEo0 7zX0 1djf0|50e4","Atlantic/Faroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|49e3","Atlantic/Madeira|FMT -01 +00 +01 WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldX0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e4","Atlantic/Reykjavik|LMT -01 +00 GMT|1s 10 0 0|012121212121212121212121212121212121212121212121212121212121212121213|-2uWmw mfaw 1Bd0 ML0 1LB0 Cn0 1LB0 3fX0 C10 HrX0 1cO0 LB0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0|12e4","Atlantic/South_Georgia|-02|20|0||30","Atlantic/Stanley|SMT -04 -03 -02|3P.o 40 30 20|012121212121212323212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2","Australia/Sydney|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5","Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|18e3","Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|746","Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0|12e4","Australia/Eucla|+0845 +0945|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368","Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|21e4","Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347","Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10","Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|39e5","Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5","CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|","Pacific/Easter|EMT -07 -06 -05|7h.s 70 60 50|012121212121212121212121212123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1uSgG.w 1s4IG.w WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0|30e2","CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|","Europe/Dublin|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g600 14o0 1wo0 17c0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","EST|EST|50|0||","EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","Etc/GMT-0|GMT|0|0||","Etc/GMT-1|+01|-10|0||","Pacific/Port_Moresby|+10|-a0|0||25e4","Etc/GMT-11|+11|-b0|0||","Pacific/Tarawa|+12|-c0|0||29e3","Etc/GMT-13|+13|-d0|0||","Etc/GMT-14|+14|-e0|0||","Etc/GMT-2|+02|-20|0||","Etc/GMT-3|+03|-30|0||","Etc/GMT-4|+04|-40|0||","Etc/GMT-5|+05|-50|0||","Etc/GMT-6|+06|-60|0||","Indian/Christmas|+07|-70|0||21e2","Etc/GMT-8|+08|-80|0||","Pacific/Palau|+09|-90|0||21e3","Etc/GMT+1|-01|10|0||","Etc/GMT+10|-10|a0|0||","Etc/GMT+11|-11|b0|0||","Etc/GMT+12|-12|c0|0||","Etc/GMT+3|-03|30|0||","Etc/GMT+4|-04|40|0||","Etc/GMT+5|-05|50|0||","Etc/GMT+6|-06|60|0||","Etc/GMT+7|-07|70|0||","Etc/GMT+8|-08|80|0||","Etc/GMT+9|-09|90|0||","Etc/UTC|UTC|0|0||","Europe/Amsterdam|AMT NST +0120 +0020 CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|16e5","Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|79e3","Europe/Astrakhan|LMT +03 +04 +05|-3c.c -30 -40 -50|012323232323232323212121212121212121212121212121212121212121212|-1Pcrc.c eUMc.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|10e5","Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5","Europe/London|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6","Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e5","Europe/Prague|CET CEST GMT|-10 -20 0|01010101010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 1qM0 11c0 mp0 xA0 mn0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e5","Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|21e5","Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|19e5","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e4","Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|012323232323232323234545467676767676767676767323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4","Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|30e3","Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Kaliningrad|CET CEST EET EEST MSK MSD +03|-10 -20 -20 -30 -30 -40 -30|01010101010101232454545454545454543232323232323232323232323232323232323232323262|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 390 7A0 1en0 12N0 1pbb0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4","Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|34e5","Europe/Kirov|LMT +03 +04 +05|-3i.M -30 -40 -50|01232323232323232321212121212121212121212121212121212121212121|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4","Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2le00 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5","Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|010101010101010101210343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-25Td0 19B0 1cL0 1dd0 b1z0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1in0 17d0 iIn0 Hd0 1cL0 bb0 1200 2s20 14n0 5aL0 Mp0 1vz0 17d0 1in0 17d0 1in0 17d0 1in0 17d0 6hX0 11B0 XHX0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e5","Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1co0 17c0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Minsk|MMT EET MSK CEST CET MSD EEST +03|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5","Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e3","Europe/Moscow|MMT MMT MST MDST MSD MSK +05 EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c4v.j ik0 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6","Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6","Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|64e4","Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1cM0 16M0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|39e5","Europe/Samara|LMT +03 +04 +05|-3k.k -30 -40 -50|0123232323232323232121232323232323232323232323232323232323212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5","Europe/Saratov|LMT +03 +04 +05|-34.i -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810|","Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|15e5","Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e4","Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Ulyanovsk|LMT +03 +04 +05 +02|-3d.A -30 -40 -50 -20|01232323232323232321214121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|13e5","Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e4","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1ao0 1co0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|18e5","Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646473737373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Volgograd|LMT +03 +04 +05|-2V.E -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-21IqV.E psLV.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 9Jd0|10e5","Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zaporozhye|+0220 EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|77e4","HST|HST|a0|0||","Indian/Chagos|LMT +05 +06|-4N.E -50 -60|012|-2xosN.E 3AGLN.E|30e2","Indian/Cocos|+0630|-6u|0||596","Indian/Kerguelen|-00 +05|0 -50|01|-MG00|130","Indian/Mahe|LMT +04|-3F.M -40|01|-2yO3F.M|79e3","Indian/Maldives|MMT +05|-4S -50|01|-olgS|35e4","Indian/Mauritius|LMT +04 +05|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0|15e4","Indian/Reunion|LMT +04|-3F.Q -40|01|-2mDDF.Q|84e4","Pacific/Kwajalein|+11 +10 +09 -12 +12|-b0 -a0 -90 c0 -c0|012034|-1kln0 akp0 6Up0 12ry0 Wan0|14e3","MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|","MST|MST|70|0||","MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","Pacific/Chatham|+1215 +1245 +1345|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|LMT -1130 -11 -10 +14 +13|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +09 +11|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0|18e4","Pacific/Chuuk|+10 +09|-a0 -90|01010|-2ewy0 axB0 RVX0 axd0|49e3","Pacific/Efate|LMT +11 +12|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3","Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B7X0|1","Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483","Pacific/Fiji|LMT +12 +13|-bT.I -c0 -d0|0121212121212121212121212121212121212121212121212121212121212121|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 20o0 pc0 20o0 s00 20o0 pc0 20o0 pc0 20o0 pc0 20o0 pc0 20o0 s00 1VA0 s00 20o0 pc0 20o0 pc0 20o0 pc0 20o0 pc0 20o0 s00 20o0 pc0 20o0 pc0 20o0 pc0 20o0 pc0 20o0 s00 1VA0 s00|88e4","Pacific/Galapagos|LMT -05 -06|5W.o 50 60|01212|-1yVS1.A 2dTz1.A gNd0 rz0|25e3","Pacific/Gambier|LMT -09|8X.M 90|01|-2jof0.c|125","Pacific/Guadalcanal|LMT +11|-aD.M -b0|01|-2joyD.M|11e4","Pacific/Guam|GST +09 GDT ChST|-a0 -90 -b0 -a0|01020202020202020203|-18jK0 6pB0 AhB0 3QL0 g2p0 3p91 WOX rX0 1zd0 Rb0 1wp0 Rb0 5xd0 rX0 5sN0 zb1 1C0X On0 ULb0|17e4","Pacific/Honolulu|HST HDT HWT HPT HST|au 9u 9u 9u a0|0102304|-1thLu 8x0 lef0 8wWu iAu 46p0|37e4","Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B7Xk|51e2","Pacific/Kosrae|+11 +09 +10 +12|-b0 -90 -a0 -c0|01021030|-2ewz0 axC0 HBy0 akp0 axd0 WOK0 1bdz0|66e2","Pacific/Majuro|+11 +09 +10 +12|-b0 -90 -a0 -c0|0102103|-2ewz0 axC0 HBy0 akp0 6RB0 12um0|28e3","Pacific/Marquesas|LMT -0930|9i 9u|01|-2joeG|86e2","Pacific/Pago_Pago|LMT SST|bm.M b0|01|-2nDMB.c|37e2","Pacific/Nauru|LMT +1130 +09 +12|-b7.E -bu -90 -c0|01213|-1Xdn7.E QCnB.E 7mqu 1lnbu|10e3","Pacific/Niue|-1120 -1130 -11|bk bu b0|012|-KfME 17y0a|12e2","Pacific/Norfolk|+1112 +1130 +1230 +11 +12|-bc -bu -cu -b0 -c0|012134343434343434343434343434343434343434|-Kgbc W01G Oo0 1COo0 9Jcu 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|25e4","Pacific/Noumea|LMT +11 +12|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0|98e3","Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56","Pacific/Pohnpei|+11 +09 +10|-b0 -90 -a0|010210|-2ewz0 axC0 HBy0 akp0 axd0|34e3","Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3","Pacific/Tahiti|LMT -10|9W.g a0|01|-2joe1.I|18e4","Pacific/Tongatapu|+1220 +13 +14|-ck -d0 -e0|0121212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3","PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|"],"links":["Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/St_Helena","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Atikokan|America/Coral_Harbour","America/Chicago|US/Central","America/Curacao|America/Aruba","America/Curacao|America/Kralendijk","America/Curacao|America/Lower_Princes","America/Denver|America/Shiprock","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|Canada/Mountain","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Godthab|America/Nuuk","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Panama|America/Cayman","America/Phoenix|US/Arizona","America/Port_of_Spain|America/Anguilla","America/Port_of_Spain|America/Antigua","America/Port_of_Spain|America/Dominica","America/Port_of_Spain|America/Grenada","America/Port_of_Spain|America/Guadeloupe","America/Port_of_Spain|America/Marigot","America/Port_of_Spain|America/Montserrat","America/Port_of_Spain|America/St_Barthelemy","America/Port_of_Spain|America/St_Kitts","America/Port_of_Spain|America/St_Lucia","America/Port_of_Spain|America/St_Thomas","America/Port_of_Spain|America/St_Vincent","America/Port_of_Spain|America/Tortola","America/Port_of_Spain|America/Virgin","America/Regina|Canada/Saskatchewan","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Tijuana|America/Ensenada","America/Tijuana|America/Santa_Isabel","America/Tijuana|Mexico/BajaNorte","America/Toronto|America/Montreal","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|Canada/Central","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Singapore","Asia/Macau|Asia/Macao","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Qatar|Asia/Bahrain","Asia/Rangoon|Asia/Yangon","Asia/Riyadh|Asia/Aden","Asia/Riyadh|Asia/Kuwait","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Asia/Kashgar","Atlantic/Faroe|Atlantic/Faeroe","Atlantic/Reykjavik|Iceland","Atlantic/South_Georgia|Etc/GMT+2","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Tasmania","Australia/Lord_Howe|Australia/LHI","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/NSW","Etc/GMT-0|Etc/GMT","Etc/GMT-0|Etc/GMT+0","Etc/GMT-0|Etc/GMT0","Etc/GMT-0|Etc/Greenwich","Etc/GMT-0|GMT","Etc/GMT-0|GMT+0","Etc/GMT-0|GMT-0","Etc/GMT-0|GMT0","Etc/GMT-0|Greenwich","Etc/UTC|Etc/UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UCT","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Helsinki|Europe/Mariehamn","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Portugal","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Oslo|Arctic/Longyearbyen","Europe/Oslo|Atlantic/Jan_Mayen","Europe/Prague|Europe/Bratislava","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Europe/Zurich|Europe/Busingen","Europe/Zurich|Europe/Vaduz","Indian/Christmas|Etc/GMT-7","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Easter|Chile/EasterIsland","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kwajalein|Kwajalein","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Palau|Etc/GMT-9","Pacific/Pohnpei|Pacific/Ponape","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Tarawa|Etc/GMT-12","Pacific/Tarawa|Pacific/Funafuti","Pacific/Tarawa|Pacific/Wake","Pacific/Tarawa|Pacific/Wallis"],"countries":["AD|Europe/Andorra","AE|Asia/Dubai","AF|Asia/Kabul","AG|America/Port_of_Spain America/Antigua","AI|America/Port_of_Spain America/Anguilla","AL|Europe/Tirane","AM|Asia/Yerevan","AO|Africa/Lagos Africa/Luanda","AQ|Antarctica/Casey Antarctica/Davis Antarctica/DumontDUrville Antarctica/Mawson Antarctica/Palmer Antarctica/Rothera Antarctica/Syowa Antarctica/Troll Antarctica/Vostok Pacific/Auckland Antarctica/McMurdo","AR|America/Argentina/Buenos_Aires America/Argentina/Cordoba America/Argentina/Salta America/Argentina/Jujuy America/Argentina/Tucuman America/Argentina/Catamarca America/Argentina/La_Rioja America/Argentina/San_Juan America/Argentina/Mendoza America/Argentina/San_Luis America/Argentina/Rio_Gallegos America/Argentina/Ushuaia","AS|Pacific/Pago_Pago","AT|Europe/Vienna","AU|Australia/Lord_Howe Antarctica/Macquarie Australia/Hobart Australia/Currie Australia/Melbourne Australia/Sydney Australia/Broken_Hill Australia/Brisbane Australia/Lindeman Australia/Adelaide Australia/Darwin Australia/Perth Australia/Eucla","AW|America/Curacao America/Aruba","AX|Europe/Helsinki Europe/Mariehamn","AZ|Asia/Baku","BA|Europe/Belgrade Europe/Sarajevo","BB|America/Barbados","BD|Asia/Dhaka","BE|Europe/Brussels","BF|Africa/Abidjan Africa/Ouagadougou","BG|Europe/Sofia","BH|Asia/Qatar Asia/Bahrain","BI|Africa/Maputo Africa/Bujumbura","BJ|Africa/Lagos Africa/Porto-Novo","BL|America/Port_of_Spain America/St_Barthelemy","BM|Atlantic/Bermuda","BN|Asia/Brunei","BO|America/La_Paz","BQ|America/Curacao America/Kralendijk","BR|America/Noronha America/Belem America/Fortaleza America/Recife America/Araguaina America/Maceio America/Bahia America/Sao_Paulo America/Campo_Grande America/Cuiaba America/Santarem America/Porto_Velho America/Boa_Vista America/Manaus America/Eirunepe America/Rio_Branco","BS|America/Nassau","BT|Asia/Thimphu","BW|Africa/Maputo Africa/Gaborone","BY|Europe/Minsk","BZ|America/Belize","CA|America/St_Johns America/Halifax America/Glace_Bay America/Moncton America/Goose_Bay America/Blanc-Sablon America/Toronto America/Nipigon America/Thunder_Bay America/Iqaluit America/Pangnirtung America/Atikokan America/Winnipeg America/Rainy_River America/Resolute America/Rankin_Inlet America/Regina America/Swift_Current America/Edmonton America/Cambridge_Bay America/Yellowknife America/Inuvik America/Creston America/Dawson_Creek America/Fort_Nelson America/Vancouver America/Whitehorse America/Dawson","CC|Indian/Cocos","CD|Africa/Maputo Africa/Lagos Africa/Kinshasa Africa/Lubumbashi","CF|Africa/Lagos Africa/Bangui","CG|Africa/Lagos Africa/Brazzaville","CH|Europe/Zurich","CI|Africa/Abidjan","CK|Pacific/Rarotonga","CL|America/Santiago America/Punta_Arenas Pacific/Easter","CM|Africa/Lagos Africa/Douala","CN|Asia/Shanghai Asia/Urumqi","CO|America/Bogota","CR|America/Costa_Rica","CU|America/Havana","CV|Atlantic/Cape_Verde","CW|America/Curacao","CX|Indian/Christmas","CY|Asia/Nicosia Asia/Famagusta","CZ|Europe/Prague","DE|Europe/Zurich Europe/Berlin Europe/Busingen","DJ|Africa/Nairobi Africa/Djibouti","DK|Europe/Copenhagen","DM|America/Port_of_Spain America/Dominica","DO|America/Santo_Domingo","DZ|Africa/Algiers","EC|America/Guayaquil Pacific/Galapagos","EE|Europe/Tallinn","EG|Africa/Cairo","EH|Africa/El_Aaiun","ER|Africa/Nairobi Africa/Asmara","ES|Europe/Madrid Africa/Ceuta Atlantic/Canary","ET|Africa/Nairobi Africa/Addis_Ababa","FI|Europe/Helsinki","FJ|Pacific/Fiji","FK|Atlantic/Stanley","FM|Pacific/Chuuk Pacific/Pohnpei Pacific/Kosrae","FO|Atlantic/Faroe","FR|Europe/Paris","GA|Africa/Lagos Africa/Libreville","GB|Europe/London","GD|America/Port_of_Spain America/Grenada","GE|Asia/Tbilisi","GF|America/Cayenne","GG|Europe/London Europe/Guernsey","GH|Africa/Accra","GI|Europe/Gibraltar","GL|America/Nuuk America/Danmarkshavn America/Scoresbysund America/Thule","GM|Africa/Abidjan Africa/Banjul","GN|Africa/Abidjan Africa/Conakry","GP|America/Port_of_Spain America/Guadeloupe","GQ|Africa/Lagos Africa/Malabo","GR|Europe/Athens","GS|Atlantic/South_Georgia","GT|America/Guatemala","GU|Pacific/Guam","GW|Africa/Bissau","GY|America/Guyana","HK|Asia/Hong_Kong","HN|America/Tegucigalpa","HR|Europe/Belgrade Europe/Zagreb","HT|America/Port-au-Prince","HU|Europe/Budapest","ID|Asia/Jakarta Asia/Pontianak Asia/Makassar Asia/Jayapura","IE|Europe/Dublin","IL|Asia/Jerusalem","IM|Europe/London Europe/Isle_of_Man","IN|Asia/Kolkata","IO|Indian/Chagos","IQ|Asia/Baghdad","IR|Asia/Tehran","IS|Atlantic/Reykjavik","IT|Europe/Rome","JE|Europe/London Europe/Jersey","JM|America/Jamaica","JO|Asia/Amman","JP|Asia/Tokyo","KE|Africa/Nairobi","KG|Asia/Bishkek","KH|Asia/Bangkok Asia/Phnom_Penh","KI|Pacific/Tarawa Pacific/Enderbury Pacific/Kiritimati","KM|Africa/Nairobi Indian/Comoro","KN|America/Port_of_Spain America/St_Kitts","KP|Asia/Pyongyang","KR|Asia/Seoul","KW|Asia/Riyadh Asia/Kuwait","KY|America/Panama America/Cayman","KZ|Asia/Almaty Asia/Qyzylorda Asia/Qostanay Asia/Aqtobe Asia/Aqtau Asia/Atyrau Asia/Oral","LA|Asia/Bangkok Asia/Vientiane","LB|Asia/Beirut","LC|America/Port_of_Spain America/St_Lucia","LI|Europe/Zurich Europe/Vaduz","LK|Asia/Colombo","LR|Africa/Monrovia","LS|Africa/Johannesburg Africa/Maseru","LT|Europe/Vilnius","LU|Europe/Luxembourg","LV|Europe/Riga","LY|Africa/Tripoli","MA|Africa/Casablanca","MC|Europe/Monaco","MD|Europe/Chisinau","ME|Europe/Belgrade Europe/Podgorica","MF|America/Port_of_Spain America/Marigot","MG|Africa/Nairobi Indian/Antananarivo","MH|Pacific/Majuro Pacific/Kwajalein","MK|Europe/Belgrade Europe/Skopje","ML|Africa/Abidjan Africa/Bamako","MM|Asia/Yangon","MN|Asia/Ulaanbaatar Asia/Hovd Asia/Choibalsan","MO|Asia/Macau","MP|Pacific/Guam Pacific/Saipan","MQ|America/Martinique","MR|Africa/Abidjan Africa/Nouakchott","MS|America/Port_of_Spain America/Montserrat","MT|Europe/Malta","MU|Indian/Mauritius","MV|Indian/Maldives","MW|Africa/Maputo Africa/Blantyre","MX|America/Mexico_City America/Cancun America/Merida America/Monterrey America/Matamoros America/Mazatlan America/Chihuahua America/Ojinaga America/Hermosillo America/Tijuana America/Bahia_Banderas","MY|Asia/Kuala_Lumpur Asia/Kuching","MZ|Africa/Maputo","NA|Africa/Windhoek","NC|Pacific/Noumea","NE|Africa/Lagos Africa/Niamey","NF|Pacific/Norfolk","NG|Africa/Lagos","NI|America/Managua","NL|Europe/Amsterdam","NO|Europe/Oslo","NP|Asia/Kathmandu","NR|Pacific/Nauru","NU|Pacific/Niue","NZ|Pacific/Auckland Pacific/Chatham","OM|Asia/Dubai Asia/Muscat","PA|America/Panama","PE|America/Lima","PF|Pacific/Tahiti Pacific/Marquesas Pacific/Gambier","PG|Pacific/Port_Moresby Pacific/Bougainville","PH|Asia/Manila","PK|Asia/Karachi","PL|Europe/Warsaw","PM|America/Miquelon","PN|Pacific/Pitcairn","PR|America/Puerto_Rico","PS|Asia/Gaza Asia/Hebron","PT|Europe/Lisbon Atlantic/Madeira Atlantic/Azores","PW|Pacific/Palau","PY|America/Asuncion","QA|Asia/Qatar","RE|Indian/Reunion","RO|Europe/Bucharest","RS|Europe/Belgrade","RU|Europe/Kaliningrad Europe/Moscow Europe/Simferopol Europe/Kirov Europe/Astrakhan Europe/Volgograd Europe/Saratov Europe/Ulyanovsk Europe/Samara Asia/Yekaterinburg Asia/Omsk Asia/Novosibirsk Asia/Barnaul Asia/Tomsk Asia/Novokuznetsk Asia/Krasnoyarsk Asia/Irkutsk Asia/Chita Asia/Yakutsk Asia/Khandyga Asia/Vladivostok Asia/Ust-Nera Asia/Magadan Asia/Sakhalin Asia/Srednekolymsk Asia/Kamchatka Asia/Anadyr","RW|Africa/Maputo Africa/Kigali","SA|Asia/Riyadh","SB|Pacific/Guadalcanal","SC|Indian/Mahe","SD|Africa/Khartoum","SE|Europe/Stockholm","SG|Asia/Singapore","SH|Africa/Abidjan Atlantic/St_Helena","SI|Europe/Belgrade Europe/Ljubljana","SJ|Europe/Oslo Arctic/Longyearbyen","SK|Europe/Prague Europe/Bratislava","SL|Africa/Abidjan Africa/Freetown","SM|Europe/Rome Europe/San_Marino","SN|Africa/Abidjan Africa/Dakar","SO|Africa/Nairobi Africa/Mogadishu","SR|America/Paramaribo","SS|Africa/Juba","ST|Africa/Sao_Tome","SV|America/El_Salvador","SX|America/Curacao America/Lower_Princes","SY|Asia/Damascus","SZ|Africa/Johannesburg Africa/Mbabane","TC|America/Grand_Turk","TD|Africa/Ndjamena","TF|Indian/Reunion Indian/Kerguelen","TG|Africa/Abidjan Africa/Lome","TH|Asia/Bangkok","TJ|Asia/Dushanbe","TK|Pacific/Fakaofo","TL|Asia/Dili","TM|Asia/Ashgabat","TN|Africa/Tunis","TO|Pacific/Tongatapu","TR|Europe/Istanbul","TT|America/Port_of_Spain","TV|Pacific/Funafuti","TW|Asia/Taipei","TZ|Africa/Nairobi Africa/Dar_es_Salaam","UA|Europe/Simferopol Europe/Kiev Europe/Uzhgorod Europe/Zaporozhye","UG|Africa/Nairobi Africa/Kampala","UM|Pacific/Pago_Pago Pacific/Wake Pacific/Honolulu Pacific/Midway","US|America/New_York America/Detroit America/Kentucky/Louisville America/Kentucky/Monticello America/Indiana/Indianapolis America/Indiana/Vincennes America/Indiana/Winamac America/Indiana/Marengo America/Indiana/Petersburg America/Indiana/Vevay America/Chicago America/Indiana/Tell_City America/Indiana/Knox America/Menominee America/North_Dakota/Center America/North_Dakota/New_Salem America/North_Dakota/Beulah America/Denver America/Boise America/Phoenix America/Los_Angeles America/Anchorage America/Juneau America/Sitka America/Metlakatla America/Yakutat America/Nome America/Adak Pacific/Honolulu","UY|America/Montevideo","UZ|Asia/Samarkand Asia/Tashkent","VA|Europe/Rome Europe/Vatican","VC|America/Port_of_Spain America/St_Vincent","VE|America/Caracas","VG|America/Port_of_Spain America/Tortola","VI|America/Port_of_Spain America/St_Thomas","VN|Asia/Bangkok Asia/Ho_Chi_Minh","VU|Pacific/Efate","WF|Pacific/Wallis","WS|Pacific/Apia","YE|Asia/Riyadh Asia/Aden","YT|Africa/Nairobi Indian/Mayotte","ZA|Africa/Johannesburg","ZM|Africa/Maputo Africa/Lusaka","ZW|Africa/Maputo Africa/Harare"]}')},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i,r,a,o,s,c,l,u,h={};n.r(h),n.d(h,"version",(function(){return p})),n.d(h,"bisect",(function(){return _})),n.d(h,"bisectRight",(function(){return g})),n.d(h,"bisectLeft",(function(){return y})),n.d(h,"ascending",(function(){return d})),n.d(h,"bisector",(function(){return f})),n.d(h,"cross",(function(){return b})),n.d(h,"descending",(function(){return x})),n.d(h,"deviation",(function(){return T})),n.d(h,"extent",(function(){return L})),n.d(h,"histogram",(function(){return Y})),n.d(h,"thresholdFreedmanDiaconis",(function(){return j})),n.d(h,"thresholdScott",(function(){return F})),n.d(h,"thresholdSturges",(function(){return q})),n.d(h,"max",(function(){return H})),n.d(h,"mean",(function(){return U})),n.d(h,"median",(function(){return X})),n.d(h,"merge",(function(){return V})),n.d(h,"min",(function(){return G})),n.d(h,"pairs",(function(){return v})),n.d(h,"permute",(function(){return K})),n.d(h,"quantile",(function(){return W})),n.d(h,"range",(function(){return E})),n.d(h,"scan",(function(){return Z})),n.d(h,"shuffle",(function(){return J})),n.d(h,"sum",(function(){return Q})),n.d(h,"ticks",(function(){return P})),n.d(h,"tickIncrement",(function(){return B})),n.d(h,"tickStep",(function(){return R})),n.d(h,"transpose",(function(){return $})),n.d(h,"variance",(function(){return A})),n.d(h,"zip",(function(){return et})),n.d(h,"axisTop",(function(){return ht})),n.d(h,"axisRight",(function(){return pt})),n.d(h,"axisBottom",(function(){return dt})),n.d(h,"axisLeft",(function(){return ft})),n.d(h,"brush",(function(){return dr})),n.d(h,"brushX",(function(){return hr})),n.d(h,"brushY",(function(){return pr})),n.d(h,"brushSelection",(function(){return ur})),n.d(h,"chord",(function(){return xr})),n.d(h,"ribbon",(function(){return Br})),n.d(h,"nest",(function(){return jr})),n.d(h,"set",(function(){return Zr})),n.d(h,"map",(function(){return Wr})),n.d(h,"keys",(function(){return Jr})),n.d(h,"values",(function(){return Qr})),n.d(h,"entries",(function(){return $r})),n.d(h,"color",(function(){return Pn.a})),n.d(h,"rgb",(function(){return Pn.f})),n.d(h,"hsl",(function(){return Pn.d})),n.d(h,"lab",(function(){return Pn.e})),n.d(h,"hcl",(function(){return Pn.c})),n.d(h,"cubehelix",(function(){return Pn.b})),n.d(h,"dispatch",(function(){return bt})),n.d(h,"drag",(function(){return on})),n.d(h,"dragDisable",(function(){return Ke})),n.d(h,"dragEnable",(function(){return Ze})),n.d(h,"dsvFormat",(function(){return ia})),n.d(h,"csvParse",(function(){return aa})),n.d(h,"csvParseRows",(function(){return oa})),n.d(h,"csvFormat",(function(){return sa})),n.d(h,"csvFormatRows",(function(){return ca})),n.d(h,"tsvParse",(function(){return ua})),n.d(h,"tsvParseRows",(function(){return ha})),n.d(h,"tsvFormat",(function(){return pa})),n.d(h,"tsvFormatRows",(function(){return da})),n.d(h,"easeLinear",(function(){return ai})),n.d(h,"easeQuad",(function(){return ci})),n.d(h,"easeQuadIn",(function(){return oi})),n.d(h,"easeQuadOut",(function(){return si})),n.d(h,"easeQuadInOut",(function(){return ci})),n.d(h,"easeCubic",(function(){return hi})),n.d(h,"easeCubicIn",(function(){return li})),n.d(h,"easeCubicOut",(function(){return ui})),n.d(h,"easeCubicInOut",(function(){return hi})),n.d(h,"easePoly",(function(){return fi})),n.d(h,"easePolyIn",(function(){return pi})),n.d(h,"easePolyOut",(function(){return di})),n.d(h,"easePolyInOut",(function(){return fi})),n.d(h,"easeSin",(function(){return vi})),n.d(h,"easeSinIn",(function(){return yi})),n.d(h,"easeSinOut",(function(){return _i})),n.d(h,"easeSinInOut",(function(){return vi})),n.d(h,"easeExp",(function(){return xi})),n.d(h,"easeExpIn",(function(){return Mi})),n.d(h,"easeExpOut",(function(){return bi})),n.d(h,"easeExpInOut",(function(){return xi})),n.d(h,"easeCircle",(function(){return Ti})),n.d(h,"easeCircleIn",(function(){return wi})),n.d(h,"easeCircleOut",(function(){return Ai})),n.d(h,"easeCircleInOut",(function(){return Ti})),n.d(h,"easeBounce",(function(){return Oi})),n.d(h,"easeBounceIn",(function(){return ki})),n.d(h,"easeBounceOut",(function(){return Oi})),n.d(h,"easeBounceInOut",(function(){return zi})),n.d(h,"easeBack",(function(){return Ni})),n.d(h,"easeBackIn",(function(){return Ei})),n.d(h,"easeBackOut",(function(){return Di})),n.d(h,"easeBackInOut",(function(){return Ni})),n.d(h,"easeElastic",(function(){return Bi})),n.d(h,"easeElasticIn",(function(){return Pi})),n.d(h,"easeElasticOut",(function(){return Bi})),n.d(h,"easeElasticInOut",(function(){return Ri})),n.d(h,"forceCenter",(function(){return fa})),n.d(h,"forceCollide",(function(){return Sa})),n.d(h,"forceLink",(function(){return za})),n.d(h,"forceManyBody",(function(){return Pa})),n.d(h,"forceRadial",(function(){return Ba})),n.d(h,"forceSimulation",(function(){return Ia})),n.d(h,"forceX",(function(){return Ra})),n.d(h,"forceY",(function(){return qa})),n.d(h,"formatDefaultLocale",(function(){return $a})),n.d(h,"format",(function(){return Ga})),n.d(h,"formatPrefix",(function(){return Ka})),n.d(h,"formatLocale",(function(){return Qa})),n.d(h,"formatSpecifier",(function(){return Ua})),n.d(h,"precisionFixed",(function(){return to})),n.d(h,"precisionPrefix",(function(){return eo})),n.d(h,"precisionRound",(function(){return no})),n.d(h,"geoArea",(function(){return Ko})),n.d(h,"geoBounds",(function(){return Ws})),n.d(h,"geoCentroid",(function(){return $s})),n.d(h,"geoCircle",(function(){return uc})),n.d(h,"geoClipAntimeridian",(function(){return bc})),n.d(h,"geoClipCircle",(function(){return xc})),n.d(h,"geoClipExtent",(function(){return Oc})),n.d(h,"geoClipRectangle",(function(){return Tc})),n.d(h,"geoContains",(function(){return Vc})),n.d(h,"geoDistance",(function(){return Rc})),n.d(h,"geoGraticule",(function(){return Zc})),n.d(h,"geoGraticule10",(function(){return Jc})),n.d(h,"geoInterpolate",(function(){return nl})),n.d(h,"geoLength",(function(){return Ic})),n.d(h,"geoPath",(function(){return tu})),n.d(h,"geoAlbers",(function(){return yu})),n.d(h,"geoAlbersUsa",(function(){return _u})),n.d(h,"geoAzimuthalEqualArea",(function(){return xu})),n.d(h,"geoAzimuthalEqualAreaRaw",(function(){return bu})),n.d(h,"geoAzimuthalEquidistant",(function(){return Au})),n.d(h,"geoAzimuthalEquidistantRaw",(function(){return wu})),n.d(h,"geoConicConformal",(function(){return zu})),n.d(h,"geoConicConformalRaw",(function(){return Ou})),n.d(h,"geoConicEqualArea",(function(){return gu})),n.d(h,"geoConicEqualAreaRaw",(function(){return mu})),n.d(h,"geoConicEquidistant",(function(){return Nu})),n.d(h,"geoConicEquidistantRaw",(function(){return Du})),n.d(h,"geoEquirectangular",(function(){return Eu})),n.d(h,"geoEquirectangularRaw",(function(){return Cu})),n.d(h,"geoGnomonic",(function(){return Pu})),n.d(h,"geoGnomonicRaw",(function(){return Iu})),n.d(h,"geoIdentity",(function(){return Ru})),n.d(h,"geoProjection",(function(){return pu})),n.d(h,"geoProjectionMutator",(function(){return du})),n.d(h,"geoMercator",(function(){return Lu})),n.d(h,"geoMercatorRaw",(function(){return Tu})),n.d(h,"geoNaturalEarth1",(function(){return Yu})),n.d(h,"geoNaturalEarth1Raw",(function(){return qu})),n.d(h,"geoOrthographic",(function(){return ju})),n.d(h,"geoOrthographicRaw",(function(){return Wu})),n.d(h,"geoStereographic",(function(){return Hu})),n.d(h,"geoStereographicRaw",(function(){return Fu})),n.d(h,"geoTransverseMercator",(function(){return Xu})),n.d(h,"geoTransverseMercatorRaw",(function(){return Uu})),n.d(h,"geoRotation",(function(){return sc})),n.d(h,"geoStream",(function(){return Wo})),n.d(h,"geoTransform",(function(){return eu})),n.d(h,"cluster",(function(){return Zu})),n.d(h,"hierarchy",(function(){return Qu})),n.d(h,"pack",(function(){return wh})),n.d(h,"packSiblings",(function(){return yh})),n.d(h,"packEnclose",(function(){return rh})),n.d(h,"partition",(function(){return Oh})),n.d(h,"stratify",(function(){return Nh})),n.d(h,"tree",(function(){return Wh})),n.d(h,"treemap",(function(){return Xh})),n.d(h,"treemapBinary",(function(){return Vh})),n.d(h,"treemapDice",(function(){return kh})),n.d(h,"treemapSlice",(function(){return jh})),n.d(h,"treemapSliceDice",(function(){return Gh})),n.d(h,"treemapSquarify",(function(){return Uh})),n.d(h,"treemapResquarify",(function(){return Kh})),n.d(h,"interpolate",(function(){return sn.interpolate})),n.d(h,"interpolateArray",(function(){return sn.interpolateArray})),n.d(h,"interpolateBasis",(function(){return sn.interpolateBasis})),n.d(h,"interpolateBasisClosed",(function(){return sn.interpolateBasisClosed})),n.d(h,"interpolateDate",(function(){return sn.interpolateDate})),n.d(h,"interpolateNumber",(function(){return sn.interpolateNumber})),n.d(h,"interpolateObject",(function(){return sn.interpolateObject})),n.d(h,"interpolateRound",(function(){return sn.interpolateRound})),n.d(h,"interpolateString",(function(){return sn.interpolateString})),n.d(h,"interpolateTransformCss",(function(){return sn.interpolateTransformCss})),n.d(h,"interpolateTransformSvg",(function(){return sn.interpolateTransformSvg})),n.d(h,"interpolateZoom",(function(){return sn.interpolateZoom})),n.d(h,"interpolateRgb",(function(){return sn.interpolateRgb})),n.d(h,"interpolateRgbBasis",(function(){return sn.interpolateRgbBasis})),n.d(h,"interpolateRgbBasisClosed",(function(){return sn.interpolateRgbBasisClosed})),n.d(h,"interpolateHsl",(function(){return sn.interpolateHsl})),n.d(h,"interpolateHslLong",(function(){return sn.interpolateHslLong})),n.d(h,"interpolateLab",(function(){return sn.interpolateLab})),n.d(h,"interpolateHcl",(function(){return sn.interpolateHcl})),n.d(h,"interpolateHclLong",(function(){return sn.interpolateHclLong})),n.d(h,"interpolateCubehelix",(function(){return sn.interpolateCubehelix})),n.d(h,"interpolateCubehelixLong",(function(){return sn.interpolateCubehelixLong})),n.d(h,"quantize",(function(){return sn.quantize})),n.d(h,"path",(function(){return Cr})),n.d(h,"polygonArea",(function(){return Zh})),n.d(h,"polygonCentroid",(function(){return Jh})),n.d(h,"polygonHull",(function(){return tp})),n.d(h,"polygonContains",(function(){return ep})),n.d(h,"polygonLength",(function(){return np})),n.d(h,"quadtree",(function(){return ba})),n.d(h,"queue",(function(){return up})),n.d(h,"randomUniform",(function(){return pp})),n.d(h,"randomNormal",(function(){return dp})),n.d(h,"randomLogNormal",(function(){return fp})),n.d(h,"randomBates",(function(){return gp})),n.d(h,"randomIrwinHall",(function(){return mp})),n.d(h,"randomExponential",(function(){return yp})),n.d(h,"request",(function(){return _p})),n.d(h,"html",(function(){return Mp})),n.d(h,"json",(function(){return bp})),n.d(h,"text",(function(){return xp})),n.d(h,"xml",(function(){return wp})),n.d(h,"csv",(function(){return Lp})),n.d(h,"tsv",(function(){return Sp})),n.d(h,"scaleBand",(function(){return Dp})),n.d(h,"scalePoint",(function(){return Ip})),n.d(h,"scaleIdentity",(function(){return Xp})),n.d(h,"scaleLinear",(function(){return Up})),n.d(h,"scaleLog",(function(){return td})),n.d(h,"scaleOrdinal",(function(){return Ep})),n.d(h,"scaleImplicit",(function(){return Cp})),n.d(h,"scalePow",(function(){return nd})),n.d(h,"scaleSqrt",(function(){return id})),n.d(h,"scaleQuantile",(function(){return rd})),n.d(h,"scaleQuantize",(function(){return ad})),n.d(h,"scaleThreshold",(function(){return od})),n.d(h,"scaleTime",(function(){return og})),n.d(h,"scaleUtc",(function(){return sg})),n.d(h,"schemeCategory10",(function(){return lg})),n.d(h,"schemeCategory20b",(function(){return ug})),n.d(h,"schemeCategory20c",(function(){return hg})),n.d(h,"schemeCategory20",(function(){return pg})),n.d(h,"interpolateCubehelixDefault",(function(){return dg})),n.d(h,"interpolateRainbow",(function(){return yg})),n.d(h,"interpolateWarm",(function(){return fg})),n.d(h,"interpolateCool",(function(){return mg})),n.d(h,"interpolateViridis",(function(){return vg})),n.d(h,"interpolateMagma",(function(){return Mg})),n.d(h,"interpolateInferno",(function(){return bg})),n.d(h,"interpolatePlasma",(function(){return xg})),n.d(h,"scaleSequential",(function(){return wg})),n.d(h,"create",(function(){return Be})),n.d(h,"creator",(function(){return St})),n.d(h,"local",(function(){return qe})),n.d(h,"matcher",(function(){return It})),n.d(h,"mouse",(function(){return Fe})),n.d(h,"namespace",(function(){return At})),n.d(h,"namespaces",(function(){return wt})),n.d(h,"clientPoint",(function(){return je})),n.d(h,"select",(function(){return Pe})),n.d(h,"selectAll",(function(){return He})),n.d(h,"selection",(function(){return Ie})),n.d(h,"selector",(function(){return Ot})),n.d(h,"selectorAll",(function(){return Ct})),n.d(h,"style",(function(){return Jt})),n.d(h,"touch",(function(){return Ue})),n.d(h,"touches",(function(){return Xe})),n.d(h,"window",(function(){return Vt})),n.d(h,"event",(function(){return xe})),n.d(h,"customEvent",(function(){return ke})),n.d(h,"arc",(function(){return Ug})),n.d(h,"area",(function(){return Jg})),n.d(h,"line",(function(){return Zg})),n.d(h,"pie",(function(){return ty})),n.d(h,"areaRadial",(function(){return oy})),n.d(h,"radialArea",(function(){return oy})),n.d(h,"lineRadial",(function(){return ay})),n.d(h,"radialLine",(function(){return ay})),n.d(h,"pointRadial",(function(){return sy})),n.d(h,"linkHorizontal",(function(){return my})),n.d(h,"linkVertical",(function(){return gy})),n.d(h,"linkRadial",(function(){return yy})),n.d(h,"symbol",(function(){return Py})),n.d(h,"symbols",(function(){return Iy})),n.d(h,"symbolCircle",(function(){return _y})),n.d(h,"symbolCross",(function(){return vy})),n.d(h,"symbolDiamond",(function(){return xy})),n.d(h,"symbolSquare",(function(){return Sy})),n.d(h,"symbolStar",(function(){return Ly})),n.d(h,"symbolTriangle",(function(){return Oy})),n.d(h,"symbolWye",(function(){return Ny})),n.d(h,"curveBasisClosed",(function(){return jy})),n.d(h,"curveBasisOpen",(function(){return Hy})),n.d(h,"curveBasis",(function(){return Yy})),n.d(h,"curveBundle",(function(){return Xy})),n.d(h,"curveCardinalClosed",(function(){return Jy})),n.d(h,"curveCardinalOpen",(function(){return $y})),n.d(h,"curveCardinal",(function(){return Ky})),n.d(h,"curveCatmullRomClosed",(function(){return r_})),n.d(h,"curveCatmullRomOpen",(function(){return o_})),n.d(h,"curveCatmullRom",(function(){return n_})),n.d(h,"curveLinearClosed",(function(){return c_})),n.d(h,"curveLinear",(function(){return Vg})),n.d(h,"curveMonotoneX",(function(){return g_})),n.d(h,"curveMonotoneY",(function(){return y_})),n.d(h,"curveNatural",(function(){return M_})),n.d(h,"curveStep",(function(){return x_})),n.d(h,"curveStepAfter",(function(){return A_})),n.d(h,"curveStepBefore",(function(){return w_})),n.d(h,"stack",(function(){return k_})),n.d(h,"stackOffsetExpand",(function(){return O_})),n.d(h,"stackOffsetDiverging",(function(){return z_})),n.d(h,"stackOffsetNone",(function(){return T_})),n.d(h,"stackOffsetSilhouette",(function(){return C_})),n.d(h,"stackOffsetWiggle",(function(){return E_})),n.d(h,"stackOrderAscending",(function(){return D_})),n.d(h,"stackOrderDescending",(function(){return I_})),n.d(h,"stackOrderInsideOut",(function(){return P_})),n.d(h,"stackOrderNone",(function(){return L_})),n.d(h,"stackOrderReverse",(function(){return B_})),n.d(h,"timeInterval",(function(){return ld})),n.d(h,"timeMillisecond",(function(){return hd})),n.d(h,"timeMilliseconds",(function(){return pd})),n.d(h,"utcMillisecond",(function(){return hd})),n.d(h,"utcMilliseconds",(function(){return pd})),n.d(h,"timeSecond",(function(){return vd})),n.d(h,"timeSeconds",(function(){return Md})),n.d(h,"utcSecond",(function(){return vd})),n.d(h,"utcSeconds",(function(){return Md})),n.d(h,"timeMinute",(function(){return xd})),n.d(h,"timeMinutes",(function(){return wd})),n.d(h,"timeHour",(function(){return Td})),n.d(h,"timeHours",(function(){return Ld})),n.d(h,"timeDay",(function(){return kd})),n.d(h,"timeDays",(function(){return Od})),n.d(h,"timeWeek",(function(){return Cd})),n.d(h,"timeWeeks",(function(){return Rd})),n.d(h,"timeSunday",(function(){return Cd})),n.d(h,"timeSundays",(function(){return Rd})),n.d(h,"timeMonday",(function(){return Ed})),n.d(h,"timeMondays",(function(){return qd})),n.d(h,"timeTuesday",(function(){return Dd})),n.d(h,"timeTuesdays",(function(){return Yd})),n.d(h,"timeWednesday",(function(){return Nd})),n.d(h,"timeWednesdays",(function(){return Wd})),n.d(h,"timeThursday",(function(){return Id})),n.d(h,"timeThursdays",(function(){return jd})),n.d(h,"timeFriday",(function(){return Pd})),n.d(h,"timeFridays",(function(){return Fd})),n.d(h,"timeSaturday",(function(){return Bd})),n.d(h,"timeSaturdays",(function(){return Hd})),n.d(h,"timeMonth",(function(){return Xd})),n.d(h,"timeMonths",(function(){return Vd})),n.d(h,"timeYear",(function(){return Kd})),n.d(h,"timeYears",(function(){return Zd})),n.d(h,"utcMinute",(function(){return Qd})),n.d(h,"utcMinutes",(function(){return $d})),n.d(h,"utcHour",(function(){return ef})),n.d(h,"utcHours",(function(){return nf})),n.d(h,"utcDay",(function(){return af})),n.d(h,"utcDays",(function(){return of})),n.d(h,"utcWeek",(function(){return cf})),n.d(h,"utcWeeks",(function(){return mf})),n.d(h,"utcSunday",(function(){return cf})),n.d(h,"utcSundays",(function(){return mf})),n.d(h,"utcMonday",(function(){return lf})),n.d(h,"utcMondays",(function(){return gf})),n.d(h,"utcTuesday",(function(){return uf})),n.d(h,"utcTuesdays",(function(){return yf})),n.d(h,"utcWednesday",(function(){return hf})),n.d(h,"utcWednesdays",(function(){return _f})),n.d(h,"utcThursday",(function(){return pf})),n.d(h,"utcThursdays",(function(){return vf})),n.d(h,"utcFriday",(function(){return df})),n.d(h,"utcFridays",(function(){return Mf})),n.d(h,"utcSaturday",(function(){return ff})),n.d(h,"utcSaturdays",(function(){return bf})),n.d(h,"utcMonth",(function(){return wf})),n.d(h,"utcMonths",(function(){return Af})),n.d(h,"utcYear",(function(){return Lf})),n.d(h,"utcYears",(function(){return Sf})),n.d(h,"timeFormatDefaultLocale",(function(){return Vm})),n.d(h,"timeFormat",(function(){return Df})),n.d(h,"timeParse",(function(){return Nf})),n.d(h,"utcFormat",(function(){return If})),n.d(h,"utcParse",(function(){return Pf})),n.d(h,"timeFormatLocale",(function(){return Cf})),n.d(h,"isoFormat",(function(){return Km})),n.d(h,"isoParse",(function(){return Zm})),n.d(h,"now",(function(){return gn})),n.d(h,"timer",(function(){return vn})),n.d(h,"timerFlush",(function(){return Mn})),n.d(h,"timeout",(function(){return An})),n.d(h,"interval",(function(){return Tn})),n.d(h,"transition",(function(){return ni})),n.d(h,"active",(function(){return ji})),n.d(h,"interrupt",(function(){return En})),n.d(h,"voronoi",(function(){return xv})),n.d(h,"zoom",(function(){return jv})),n.d(h,"zoomTransform",(function(){return Sv})),n.d(h,"zoomIdentity",(function(){return Lv})),function(t){t[t.Tab=9]="Tab",t[t.Esc=27]="Esc",t[t.Enter=13]="Enter",t[t.Up=38]="Up",t[t.Down=40]="Down"}(i||(i={})),function(t){t.DisplayName="DisplayName",t.Rank="Rank"}(r||(r={})),function(t){t.UntilChildren="UntilChildren",t.OneLevel="OneLevel"}(a||(a={})),function(t){t.Name="Name",t.CumulativeInstanceCount="CumulativeInstanceCount"}(o||(o={})),function(t){t.Double="Double",t.String="String",t.DateTime="DateTime",t.Long="Long"}(s||(s={})),function(t){t.startAt="Start at",t.shifted="shifted"}(c||(c={})),function(t){t.None="",t.CurveLinear="curveLinear",t.CurveStep="curveStep",t.CurveStepBefore="curveStepBefore",t.CurveStepAfter="curveStepAfter",t.CurveBasis="curveBasis",t.CurveCardinal="curveCardinal",t.CurveMonotoneX="curveMonotoneX",t.CurveCatmullRom="curveCatmullRom"}(l||(l={})),function(t){t.InvalidInput="InvalidInput",t.PartialSuccess="PartialSuccess"}(u||(u={}));var p="4.13.0",d=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},f=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return d(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}};var m=f(d),g=m.right,y=m.left,_=g,v=function(t,e){null==e&&(e=M);for(var n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(r,r=t[++n]);return a};function M(t,e){return[t,e]}var b=function(t,e,n){var i,r,a,o,s=t.length,c=e.length,l=new Array(s*c);for(null==n&&(n=M),i=a=0;i<s;++i)for(o=t[i],r=0;r<c;++r,++a)l[a]=n(o,e[r]);return l},x=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},w=function(t){return null===t?NaN:+t},A=function(t,e){var n,i,r=t.length,a=0,o=-1,s=0,c=0;if(null==e)for(;++o<r;)isNaN(n=w(t[o]))||(c+=(i=n-s)*(n-(s+=i/++a)));else for(;++o<r;)isNaN(n=w(e(t[o],o,t)))||(c+=(i=n-s)*(n-(s+=i/++a)));if(a>1)return c/(a-1)},T=function(t,e){var n=A(t,e);return n?Math.sqrt(n):n},L=function(t,e){var n,i,r,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(i=r=n;++o<a;)null!=(n=t[o])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=r=n;++o<a;)null!=(n=e(t[o],o,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},S=Array.prototype,k=S.slice,O=S.map,z=function(t){return function(){return t}},C=function(t){return t},E=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a},D=Math.sqrt(50),N=Math.sqrt(10),I=Math.sqrt(2),P=function(t,e,n){var i,r,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=B(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a};function B(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=D?10:a>=N?5:a>=I?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=D?10:a>=N?5:a>=I?2:1)}function R(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=D?r*=10:a>=N?r*=5:a>=I&&(r*=2),e<t?-r:r}var q=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Y=function(){var t=C,e=L,n=q;function i(i){var r,a,o=i.length,s=new Array(o);for(r=0;r<o;++r)s[r]=t(i[r],r,i);var c=e(s),l=c[0],u=c[1],h=n(s,l,u);Array.isArray(h)||(h=R(l,u,h),h=E(Math.ceil(l/h)*h,Math.floor(u/h)*h,h));for(var p=h.length;h[0]<=l;)h.shift(),--p;for(;h[p-1]>u;)h.pop(),--p;var d,f=new Array(p+1);for(r=0;r<=p;++r)(d=f[r]=[]).x0=r>0?h[r-1]:l,d.x1=r<p?h[r]:u;for(r=0;r<o;++r)l<=(a=s[r])&&a<=u&&f[_(h,a,0,p)].push(i[r]);return f}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:z(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:z([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?z(k.call(t)):z(t),i):n},i},W=function(t,e,n){if(null==n&&(n=w),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(r-a)}},j=function(t,e,n){return t=O.call(t,w).sort(d),Math.ceil((n-e)/(2*(W(t,.75)-W(t,.25))*Math.pow(t.length,-1/3)))},F=function(t,e,n){return Math.ceil((n-e)/(3.5*T(t)*Math.pow(t.length,-1/3)))},H=function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(i=n;++a<r;)null!=(n=t[a])&&n>i&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&n>i&&(i=n);return i},U=function(t,e){var n,i=t.length,r=i,a=-1,o=0;if(null==e)for(;++a<i;)isNaN(n=w(t[a]))?--r:o+=n;else for(;++a<i;)isNaN(n=w(e(t[a],a,t)))?--r:o+=n;if(r)return o/r},X=function(t,e){var n,i=t.length,r=-1,a=[];if(null==e)for(;++r<i;)isNaN(n=w(t[r]))||a.push(n);else for(;++r<i;)isNaN(n=w(e(t[r],r,t)))||a.push(n);return W(a.sort(d),.5)},V=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--o]=i[e];return n},G=function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(i=n;++a<r;)null!=(n=t[a])&&i>n&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&i>n&&(i=n);return i},K=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Z=function(t,e){if(n=t.length){var n,i,r=0,a=0,o=t[a];for(null==e&&(e=d);++r<n;)(e(i=t[r],o)<0||0!==e(o,o))&&(o=i,a=r);return 0===e(o,o)?a:void 0}},J=function(t,e,n){for(var i,r,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},Q=function(t,e){var n,i=t.length,r=-1,a=0;if(null==e)for(;++r<i;)(n=+t[r])&&(a+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(a+=n);return a},$=function(t){if(!(r=t.length))return[];for(var e=-1,n=G(t,tt),i=new Array(n);++e<n;)for(var r,a=-1,o=i[e]=new Array(r);++a<r;)o[a]=t[a][e];return i};function tt(t){return t.length}var et=function(){return $(arguments)},nt=Array.prototype.slice,it=function(t){return t},rt=1e-6;function at(t){return"translate("+(t+.5)+",0)"}function ot(t){return"translate(0,"+(t+.5)+")"}function st(t){return function(e){return+t(e)}}function ct(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function lt(){return!this.__axis}function ut(t,e){var n=[],i=null,r=null,a=6,o=6,s=3,c=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",u=1===t||3===t?at:ot;function h(h){var p=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,d=null==r?e.tickFormat?e.tickFormat.apply(e,n):it:r,f=Math.max(a,0)+s,m=e.range(),g=+m[0]+.5,y=+m[m.length-1]+.5,_=(e.bandwidth?ct:st)(e.copy()),v=h.selection?h.selection():h,M=v.selectAll(".domain").data([null]),b=v.selectAll(".tick").data(p,e).order(),x=b.exit(),w=b.enter().append("g").attr("class","tick"),A=b.select("line"),T=b.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),b=b.merge(w),A=A.merge(w.append("line").attr("stroke","#000").attr(l+"2",c*a)),T=T.merge(w.append("text").attr("fill","#000").attr(l,c*f).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==v&&(M=M.transition(h),b=b.transition(h),A=A.transition(h),T=T.transition(h),x=x.transition(h).attr("opacity",rt).attr("transform",(function(t){return isFinite(t=_(t))?u(t):this.getAttribute("transform")})),w.attr("opacity",rt).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:_(t))}))),x.remove(),M.attr("d",4===t||2==t?"M"+c*o+","+g+"H0.5V"+y+"H"+c*o:"M"+g+","+c*o+"V0.5H"+y+"V"+c*o),b.attr("opacity",1).attr("transform",(function(t){return u(_(t))})),A.attr(l+"2",c*a),T.attr(l,c*f).text(d),v.filter(lt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),v.each((function(){this.__axis=_}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=nt.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:nt.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:nt.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function ht(t){return ut(1,t)}function pt(t){return ut(2,t)}function dt(t){return ut(3,t)}function ft(t){return ut(4,t)}var mt={value:function(){}};function gt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new yt(i)}function yt(t){this._=t}function _t(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function vt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Mt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=mt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}yt.prototype=gt.prototype={constructor:yt,on:function(t,e){var n,i=this._,r=_t(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=r[a]).type)i[n]=Mt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Mt(i[n],t.name,null);return this}for(;++a<o;)if((n=(t=r[a]).type)&&(n=vt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};var bt=gt,xt="http://www.w3.org/1999/xhtml",wt={svg:"http://www.w3.org/2000/svg",xhtml:xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),wt.hasOwnProperty(e)?{space:wt[e],local:t}:t};function Tt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xt&&e.documentElement.namespaceURI===xt?e.createElement(t):e.createElementNS(n,t)}}function Lt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var St=function(t){var e=At(t);return(e.local?Lt:Tt)(e)};function kt(){}var Ot=function(t){return null==t?kt:function(){return this.querySelector(t)}};function zt(){return[]}var Ct=function(t){return null==t?zt:function(){return this.querySelectorAll(t)}},Et=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Dt=document.documentElement;if(!Dt.matches){var Nt=Dt.webkitMatchesSelector||Dt.msMatchesSelector||Dt.mozMatchesSelector||Dt.oMatchesSelector;Et=function(t){return function(){return Nt.call(this,t)}}}}var It=Et,Pt=function(t){return new Array(t.length)};function Bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bt.prototype={constructor:Bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Rt(t,e,n,i,r,a){for(var o,s=0,c=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new Bt(t,a[s]);for(;s<c;++s)(o=e[s])&&(r[s]=o)}function qt(t,e,n,i,r,a,o){var s,c,l,u={},h=e.length,p=a.length,d=new Array(h);for(s=0;s<h;++s)(c=e[s])&&(d[s]=l="$"+o.call(c,c.__data__,s,e),l in u?r[s]=c:u[l]=c);for(s=0;s<p;++s)(c=u[l="$"+o.call(t,a[s],s,a)])?(i[s]=c,c.__data__=a[s],u[l]=null):n[s]=new Bt(t,a[s]);for(s=0;s<h;++s)(c=e[s])&&u[d[s]]===c&&(r[s]=c)}function Yt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wt(t){return function(){this.removeAttribute(t)}}function jt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ft(t,e){return function(){this.setAttribute(t,e)}}function Ht(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ut(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Xt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Vt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Gt(t){return function(){this.style.removeProperty(t)}}function Kt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zt(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Jt(t,e){return t.style.getPropertyValue(e)||Vt(t).getComputedStyle(t,null).getPropertyValue(e)}function Qt(t){return function(){delete this[t]}}function $t(t,e){return function(){this[t]=e}}function te(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ee(t){return t.trim().split(/^|\s+/)}function ne(t){return t.classList||new ie(t)}function ie(t){this._node=t,this._names=ee(t.getAttribute("class")||"")}function re(t,e){for(var n=ne(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ae(t,e){for(var n=ne(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function oe(t){return function(){re(this,t)}}function se(t){return function(){ae(this,t)}}function ce(t,e){return function(){(e.apply(this,arguments)?re:ae)(this,t)}}ie.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function le(){this.textContent=""}function ue(t){return function(){this.textContent=t}}function he(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function pe(){this.innerHTML=""}function de(t){return function(){this.innerHTML=t}}function fe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function me(){this.nextSibling&&this.parentNode.appendChild(this)}function ge(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ye(){return null}function _e(){var t=this.parentNode;t&&t.removeChild(this)}function ve(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Me(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var be={},xe=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(be={mouseenter:"mouseover",mouseleave:"mouseout"}));function we(t,e,n){return t=Ae(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Ae(t,e,n){return function(i){var r=xe;xe=i;try{t.call(this,this.__data__,e,n)}finally{xe=r}}}function Te(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Le(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Se(t,e,n){var i=be.hasOwnProperty(t.type)?we:Ae;return function(r,a,o){var s,c=this.__on,l=i(e,a,o);if(c)for(var u=0,h=c.length;u<h;++u)if((s=c[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function ke(t,e,n,i){var r=xe;t.sourceEvent=xe,xe=t;try{return e.apply(n,i)}finally{xe=r}}function Oe(t,e,n){var i=Vt(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ze(t,e){return function(){return Oe(this,t,e)}}function Ce(t,e){return function(){return Oe(this,t,e.apply(this,arguments))}}var Ee=[null];function De(t,e){this._groups=t,this._parents=e}function Ne(){return new De([[document.documentElement]],Ee)}De.prototype=Ne.prototype={constructor:De,select:function(t){"function"!=typeof t&&(t=Ot(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o,s=e[r],c=s.length,l=i[r]=new Array(c),u=0;u<c;++u)(a=s[u])&&(o=t.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),l[u]=o);return new De(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Ct(t));for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o,s=e[a],c=s.length,l=0;l<c;++l)(o=s[l])&&(i.push(t.call(o,o.__data__,l,s)),r.push(o));return new De(i,r)},filter:function(t){"function"!=typeof t&&(t=It(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,c=i[r]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&c.push(a);return new De(i,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),u=-1,this.each((function(t){f[++u]=t})),f;var n,i=e?qt:Rt,r=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),c=new Array(o),l=new Array(o),u=0;u<o;++u){var h=r[u],p=a[u],d=p.length,f=t.call(h,h&&h.__data__,u,r),m=f.length,g=c[u]=new Array(m),y=s[u]=new Array(m);i(h,p,g,y,l[u]=new Array(d),f,e);for(var _,v,M=0,b=0;M<m;++M)if(_=g[M]){for(M>=b&&(b=M+1);!(v=y[b])&&++b<m;);_._next=v||null}}return(s=new De(s,r))._enter=c,s._exit=l,s},enter:function(){return new De(this._enter||this._groups.map(Pt),this._parents)},exit:function(){return new De(this._exit||this._groups.map(Pt),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,l=e[s],u=n[s],h=l.length,p=o[s]=new Array(h),d=0;d<h;++d)(c=l[d]||u[d])&&(p[d]=c);for(;s<i;++s)o[s]=e[s];return new De(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Yt);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o,s=n[a],c=s.length,l=r[a]=new Array(c),u=0;u<c;++u)(o=s[u])&&(l[u]=o);l.sort(e)}return new De(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,e){var n=At(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?jt:Wt:"function"==typeof e?n.local?Xt:Ut:n.local?Ht:Ft)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Gt:"function"==typeof e?Zt:Kt)(t,e,null==n?"":n)):Jt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Qt:"function"==typeof e?te:$t)(t,e)):this.node()[t]},classed:function(t,e){var n=ee(t+"");if(arguments.length<2){for(var i=ne(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?ce:e?oe:se)(n,e))},text:function(t){return arguments.length?this.each(null==t?le:("function"==typeof t?he:ue)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?pe:("function"==typeof t?fe:de)(t)):this.node().innerHTML},raise:function(){return this.each(me)},lower:function(){return this.each(ge)},append:function(t){var e="function"==typeof t?t:St(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:St(t),i=null==e?ye:"function"==typeof e?e:Ot(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(_e)},clone:function(t){return this.select(t?Me:ve)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=Te(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Se:Le,null==n&&(n=!1),i=0;i<o;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(i=0,c=s[l];i<o;++i)if((r=a[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ce:ze)(t,e))}};var Ie=Ne,Pe=function(t){return"string"==typeof t?new De([[document.querySelector(t)]],[document.documentElement]):new De([[t]],Ee)},Be=function(t){return Pe(St(t).call(document.documentElement))},Re=0;function qe(){return new Ye}function Ye(){this._="@"+(++Re).toString(36)}Ye.prototype=qe.prototype={constructor:Ye,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var We=function(){for(var t,e=xe;t=e.sourceEvent;)e=t;return e},je=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},Fe=function(t){var e=We();return e.changedTouches&&(e=e.changedTouches[0]),je(t,e)},He=function(t){return"string"==typeof t?new De([document.querySelectorAll(t)],[document.documentElement]):new De([null==t?[]:t],Ee)},Ue=function(t,e,n){arguments.length<3&&(n=e,e=We().changedTouches);for(var i,r=0,a=e?e.length:0;r<a;++r)if((i=e[r]).identifier===n)return je(t,i);return null},Xe=function(t,e){null==e&&(e=We().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=je(t,e[n]);return r};function Ve(){xe.stopImmediatePropagation()}var Ge=function(){xe.preventDefault(),xe.stopImmediatePropagation()},Ke=function(t){var e=t.document.documentElement,n=Pe(t).on("dragstart.drag",Ge,!0);"onselectstart"in e?n.on("selectstart.drag",Ge,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Ze(t,e){var n=t.document.documentElement,i=Pe(t).on("dragstart.drag",null);e&&(i.on("click.drag",Ge,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Je=function(t){return function(){return t}};function Qe(t,e,n,i,r,a,o,s,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=a,this.y=o,this.dx=s,this.dy=c,this._=l}function $e(){return!xe.button}function tn(){return this.parentNode}function en(t){return null==t?{x:xe.x,y:xe.y}:t}function nn(){return"ontouchstart"in this}Qe.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var rn,an,on=function(){var t,e,n,i,r=$e,a=tn,o=en,s=nn,c={},l=bt("start","drag","end"),u=0,h=0;function p(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!i&&r.apply(this,arguments)){var o=v("mouse",a.apply(this,arguments),Fe,this,arguments);o&&(Pe(xe.view).on("mousemove.drag",f,!0).on("mouseup.drag",m,!0),Ke(xe.view),Ve(),n=!1,t=xe.clientX,e=xe.clientY,o("start"))}}function f(){if(Ge(),!n){var i=xe.clientX-t,r=xe.clientY-e;n=i*i+r*r>h}c.mouse("drag")}function m(){Pe(xe.view).on("mousemove.drag mouseup.drag",null),Ze(xe.view,n),Ge(),c.mouse("end")}function g(){if(r.apply(this,arguments)){var t,e,n=xe.changedTouches,i=a.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=v(n[t].identifier,i,Ue,this,arguments))&&(Ve(),e("start"))}}function y(){var t,e,n=xe.changedTouches,i=n.length;for(t=0;t<i;++t)(e=c[n[t].identifier])&&(Ge(),e("drag"))}function _(){var t,e,n=xe.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<r;++t)(e=c[n[t].identifier])&&(Ve(),e("end"))}function v(t,e,n,i,r){var a,s,h,d=n(e,t),f=l.copy();if(ke(new Qe(p,"beforestart",a,t,u,d[0],d[1],0,0,f),(function(){return null!=(xe.subject=a=o.apply(i,r))&&(s=a.x-d[0]||0,h=a.y-d[1]||0,!0)})))return function o(l){var m,g=d;switch(l){case"start":c[t]=o,m=u++;break;case"end":delete c[t],--u;case"drag":d=n(e,t),m=u}ke(new Qe(p,l,a,t,m,d[0]+s,d[1]+h,d[0]-g[0],d[1]-g[1],f),f.apply,f,[l,i,r])}}return p.filter=function(t){return arguments.length?(r="function"==typeof t?t:Je(!!t),p):r},p.container=function(t){return arguments.length?(a="function"==typeof t?t:Je(t),p):a},p.subject=function(t){return arguments.length?(o="function"==typeof t?t:Je(t),p):o},p.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Je(!!t),p):s},p.on=function(){var t=l.on.apply(l,arguments);return t===l?p:t},p.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,p):Math.sqrt(h)},p},sn=n(2),cn=0,ln=0,un=0,hn=0,pn=0,dn=0,fn="object"==typeof performance&&performance.now?performance:Date,mn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gn(){return pn||(mn(yn),pn=fn.now()+dn)}function yn(){pn=0}function _n(){this._call=this._time=this._next=null}function vn(t,e,n){var i=new _n;return i.restart(t,e,n),i}function Mn(){gn(),++cn;for(var t,e=rn;e;)(t=pn-e._time)>=0&&e._call.call(null,t),e=e._next;--cn}function bn(){pn=(hn=fn.now())+dn,cn=ln=0;try{Mn()}finally{cn=0,function(){var t,e,n=rn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:rn=e);an=t,wn(i)}(),pn=0}}function xn(){var t=fn.now(),e=t-hn;e>1e3&&(dn-=e,hn=t)}function wn(t){cn||(ln&&(ln=clearTimeout(ln)),t-pn>24?(t<1/0&&(ln=setTimeout(bn,t-fn.now()-dn)),un&&(un=clearInterval(un))):(un||(hn=fn.now(),un=setInterval(xn,1e3)),cn=1,mn(bn)))}_n.prototype=vn.prototype={constructor:_n,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?gn():+n)+(null==e?0:+e),this._next||an===this||(an?an._next=this:rn=this,an=this),this._call=t,this._time=n,wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,wn())}};var An=function(t,e,n){var i=new _n;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i},Tn=function(t,e,n){var i=new _n,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?gn():+n,i.restart((function a(o){o+=r,i.restart(a,r+=e,n),t(o)}),e,n),i)},Ln=bt("start","end","interrupt"),Sn=[],kn=function(t,e,n,i,r,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function a(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var l,u,h,p;if(1!==n.state)return c();for(l in r)if((p=r[l]).name===n.name){if(3===p.state)return An(o);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[l]):+l<e&&(p.state=6,p.timer.stop(),delete r[l])}if(An((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=p);i.length=u+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(null,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=vn(a,0,n.time)}(t,n,{name:e,index:i,group:r,on:Ln,tween:Sn,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function On(t,e){var n=Cn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function zn(t,e){var n=Cn(t,e);if(n.state>2)throw new Error("too late; already started");return n}function Cn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var En=function(t,e){var n,i,r,a=t.__transition,o=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[r]):o=!1;o&&delete t.__transition}};function Dn(t,e){var n,i;return function(){var r=zn(this,t),a=r.tween;if(a!==n)for(var o=0,s=(i=n=a).length;o<s;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function Nn(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=zn(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:e,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===e){r[c]=s;break}c===l&&r.push(s)}a.tween=r}}function In(t,e,n){var i=t._id;return t.each((function(){var t=zn(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Cn(t,i).value[e]}}var Pn=n(1),Bn=function(t,e){var n;return("number"==typeof e?sn.interpolateNumber:e instanceof Pn.a?sn.interpolateRgb:(n=Object(Pn.a)(e))?(e=n,sn.interpolateRgb):sn.interpolateString)(t,e)};function Rn(t){return function(){this.removeAttribute(t)}}function qn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yn(t,e,n){var i,r;return function(){var a=this.getAttribute(t);return a===n?null:a===i?r:r=e(i=a,n)}}function Wn(t,e,n){var i,r;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===i?r:r=e(i=a,n)}}function jn(t,e,n){var i,r,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttribute(t))===s?null:o===i&&s===r?a:a=e(i=o,r=s);this.removeAttribute(t)}}function Fn(t,e,n){var i,r,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===s?null:o===i&&s===r?a:a=e(i=o,r=s);this.removeAttributeNS(t.space,t.local)}}function Hn(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function Un(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function Xn(t,e){return function(){On(this,t).delay=+e.apply(this,arguments)}}function Vn(t,e){return e=+e,function(){On(this,t).delay=e}}function Gn(t,e){return function(){zn(this,t).duration=+e.apply(this,arguments)}}function Kn(t,e){return e=+e,function(){zn(this,t).duration=e}}function Zn(t,e){if("function"!=typeof e)throw new Error;return function(){zn(this,t).ease=e}}function Jn(t,e,n){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?On:zn;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(e,n),o.on=r}}var Qn=Ie.prototype.constructor;function $n(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}var ti=0;function ei(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ni(t){return Ie().transition(t)}function ii(){return++ti}var ri=Ie.prototype;function ai(t){return+t}function oi(t){return t*t}function si(t){return t*(2-t)}function ci(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function li(t){return t*t*t}function ui(t){return--t*t*t+1}function hi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}ei.prototype=ni.prototype={constructor:ei,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ot(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s,c,l=i[o],u=l.length,h=a[o]=new Array(u),p=0;p<u;++p)(s=l[p])&&(c=t.call(s,s.__data__,p,l))&&("__data__"in s&&(c.__data__=s.__data__),h[p]=c,kn(h[p],e,n,p,h,Cn(s,n)));return new ei(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ct(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var c,l=i[s],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var p,d=t.call(c,c.__data__,h,l),f=Cn(c,n),m=0,g=d.length;m<g;++m)(p=d[m])&&kn(p,e,n,m,d,f);a.push(d),o.push(c)}return new ei(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=It(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,c=i[r]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&c.push(a);return new ei(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,l=e[s],u=n[s],h=l.length,p=o[s]=new Array(h),d=0;d<h;++d)(c=l[d]||u[d])&&(p[d]=c);for(;s<i;++s)o[s]=e[s];return new ei(o,this._parents,this._name,this._id)},selection:function(){return new Qn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ii(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,l=0;l<c;++l)if(o=s[l]){var u=Cn(o,e);kn(o,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ei(i,this._parents,t,n)},call:ri.call,nodes:ri.nodes,node:ri.node,size:ri.size,empty:ri.empty,each:ri.each,on:function(t,e){var n=this._id;return arguments.length<2?Cn(this.node(),n).on.on(t):this.each(Jn(n,t,e))},attr:function(t,e){var n=At(t),i="transform"===n?sn.interpolateTransformSvg:Bn;return this.attrTween(t,"function"==typeof e?(n.local?Fn:jn)(n,i,In(this,"attr."+t,e)):null==e?(n.local?qn:Rn)(n):(n.local?Wn:Yn)(n,i,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=At(t);return this.tween(n,(i.local?Hn:Un)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?sn.interpolateTransformCss:Bn;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var a=Jt(this,t),o=(this.style.removeProperty(t),Jt(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}(t,i)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var i,r,a;return function(){var o=Jt(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=Jt(this,t)),o===s?null:o===i&&s===r?a:a=e(i=o,r=s)}}(t,i,In(this,"style."+t,e)):function(t,e,n){var i,r;return function(){var a=Jt(this,t);return a===n?null:a===i?r:r=e(i=a,n)}}(t,i,e+""),n)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,$n(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(In(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Cn(this.node(),n).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?Dn:Nn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xn:Vn)(e,t)):Cn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Gn:Kn)(e,t)):Cn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Zn(e,t)):Cn(this.node(),e).ease}};var pi=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),di=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),fi=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),mi=Math.PI,gi=mi/2;function yi(t){return 1-Math.cos(t*gi)}function _i(t){return Math.sin(t*gi)}function vi(t){return(1-Math.cos(mi*t))/2}function Mi(t){return Math.pow(2,10*t-10)}function bi(t){return 1-Math.pow(2,-10*t)}function xi(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function wi(t){return 1-Math.sqrt(1-t*t)}function Ai(t){return Math.sqrt(1- --t*t)}function Ti(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Li=4/11,Si=7.5625;function ki(t){return 1-Oi(1-t)}function Oi(t){return(t=+t)<Li?Si*t*t:t<.7272727272727273?Si*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Si*(t-=.8181818181818182)*t+.9375:Si*(t-=.9545454545454546)*t+.984375}function zi(t){return((t*=2)<=1?1-Oi(1-t):Oi(t-1)+1)/2}var Ci=1.70158,Ei=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(Ci),Di=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(Ci),Ni=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Ci),Ii=2*Math.PI,Pi=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Ii);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*Ii)},r.period=function(n){return t(e,n)},r}(1,.3),Bi=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Ii);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*Ii)},r.period=function(n){return t(e,n)},r}(1,.3),Ri=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Ii);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*Ii)},r.period=function(n){return t(e,n)},r}(1,.3),qi={time:null,delay:0,duration:250,ease:hi};function Yi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return qi.time=gn(),qi;return n}Ie.prototype.interrupt=function(t){return this.each((function(){En(this,t)}))},Ie.prototype.transition=function(t){var e,n;t instanceof ei?(e=t._id,t=t._name):(e=ii(),(n=qi).time=gn(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,l=0;l<c;++l)(o=s[l])&&kn(o,t,e,l,s,n||Yi(o,e));return new ei(i,this._parents,t,e)};var Wi=[null],ji=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>1&&n.name===e)return new ei([[t]],Wi,e,+i);return null},Fi=function(t){return function(){return t}},Hi=function(t,e,n){this.target=t,this.type=e,this.selection=n};function Ui(){xe.stopImmediatePropagation()}var Xi=function(){xe.preventDefault(),xe.stopImmediatePropagation()},Vi={name:"drag"},Gi={name:"space"},Ki={name:"handle"},Zi={name:"center"},Ji={name:"x",handles:["e","w"].map(ar),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Qi={name:"y",handles:["n","s"].map(ar),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},$i={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(ar),input:function(t){return t},output:function(t){return t}},tr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},er={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},nr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ir={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},rr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ar(t){return{type:t}}function or(){return!xe.button}function sr(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function cr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function lr(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ur(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function hr(){return fr(Ji)}function pr(){return fr(Qi)}var dr=function(){return fr($i)};function fr(t){var e,n=sr,i=or,r=bt(o,"start","brush","end"),a=6;function o(e){var n=e.property("__brush",h).selectAll(".overlay").data([ar("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",tr.overlay).merge(n).each((function(){var t=cr(this).extent;Pe(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([ar("selection")]).enter().append("rect").attr("class","selection").attr("cursor",tr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return tr[t.type]})),e.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function s(){var t=Pe(this),e=cr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e){return t.__brush.emitter||new l(t,e)}function l(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function u(){if(xe.touches){if(xe.changedTouches.length<xe.touches.length)return Xi()}else if(e)return;if(i.apply(this,arguments)){var n,r,a,o,l,u,h,p,d,f,m,g,y,_=this,v=xe.target.__data__.type,M="selection"===(xe.metaKey?v="overlay":v)?Vi:xe.altKey?Zi:Ki,b=t===Qi?null:ir[v],x=t===Ji?null:rr[v],w=cr(_),A=w.extent,T=w.selection,L=A[0][0],S=A[0][1],k=A[1][0],O=A[1][1],z=b&&x&&xe.shiftKey,C=Fe(_),E=C,D=c(_,arguments).beforestart();"overlay"===v?w.selection=T=[[n=t===Qi?L:C[0],a=t===Ji?S:C[1]],[l=t===Qi?k:n,h=t===Ji?O:a]]:(n=T[0][0],a=T[0][1],l=T[1][0],h=T[1][1]),r=n,o=a,u=l,p=h;var N=Pe(_).attr("pointer-events","none"),I=N.selectAll(".overlay").attr("cursor",tr[v]);if(xe.touches)N.on("touchmove.brush",B,!0).on("touchend.brush touchcancel.brush",q,!0);else{var P=Pe(xe.view).on("keydown.brush",Y,!0).on("keyup.brush",W,!0).on("mousemove.brush",B,!0).on("mouseup.brush",q,!0);Ke(xe.view)}Ui(),En(_),s.call(_),D.start()}function B(){var t=Fe(_);!z||g||y||(Math.abs(t[0]-E[0])>Math.abs(t[1]-E[1])?y=!0:g=!0),E=t,m=!0,Xi(),R()}function R(){var t;switch(d=E[0]-C[0],f=E[1]-C[1],M){case Gi:case Vi:b&&(d=Math.max(L-n,Math.min(k-l,d)),r=n+d,u=l+d),x&&(f=Math.max(S-a,Math.min(O-h,f)),o=a+f,p=h+f);break;case Ki:b<0?(d=Math.max(L-n,Math.min(k-n,d)),r=n+d,u=l):b>0&&(d=Math.max(L-l,Math.min(k-l,d)),r=n,u=l+d),x<0?(f=Math.max(S-a,Math.min(O-a,f)),o=a+f,p=h):x>0&&(f=Math.max(S-h,Math.min(O-h,f)),o=a,p=h+f);break;case Zi:b&&(r=Math.max(L,Math.min(k,n-d*b)),u=Math.max(L,Math.min(k,l+d*b))),x&&(o=Math.max(S,Math.min(O,a-f*x)),p=Math.max(S,Math.min(O,h+f*x)))}u<r&&(b*=-1,t=n,n=l,l=t,t=r,r=u,u=t,v in er&&I.attr("cursor",tr[v=er[v]])),p<o&&(x*=-1,t=a,a=h,h=t,t=o,o=p,p=t,v in nr&&I.attr("cursor",tr[v=nr[v]])),w.selection&&(T=w.selection),g&&(r=T[0][0],u=T[1][0]),y&&(o=T[0][1],p=T[1][1]),T[0][0]===r&&T[0][1]===o&&T[1][0]===u&&T[1][1]===p||(w.selection=[[r,o],[u,p]],s.call(_),D.brush())}function q(){if(Ui(),xe.touches){if(xe.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),N.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Ze(xe.view,m),P.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),I.attr("cursor",tr.overlay),w.selection&&(T=w.selection),lr(T)&&(w.selection=null,s.call(_)),D.end()}function Y(){switch(xe.keyCode){case 16:z=b&&x;break;case 18:M===Ki&&(b&&(l=u-d*b,n=r+d*b),x&&(h=p-f*x,a=o+f*x),M=Zi,R());break;case 32:M!==Ki&&M!==Zi||(b<0?l=u-d:b>0&&(n=r-d),x<0?h=p-f:x>0&&(a=o-f),M=Gi,I.attr("cursor",tr.selection),R());break;default:return}Xi()}function W(){switch(xe.keyCode){case 16:z&&(g=y=z=!1,R());break;case 18:M===Zi&&(b<0?l=u:b>0&&(n=r),x<0?h=p:x>0&&(a=o),M=Ki,R());break;case 32:M===Gi&&(xe.altKey?(b&&(l=u-d*b,n=r+d*b),x&&(h=p-f*x,a=o+f*x),M=Zi):(b<0?l=u:b>0&&(n=r),x<0?h=p:x>0&&(a=o),M=Ki),I.attr("cursor",tr[v]),R());break;default:return}Xi()}}function h(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return o.move=function(e,n){e.selection?e.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var e=this,i=e.__brush,r=c(e,arguments),a=i.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),l=Object(sn.interpolate)(a,o);function u(t){i.selection=1===t&&lr(o)?null:l(t),s.call(e),r.brush()}return a&&o?u:u(1)})):e.each((function(){var e=this,i=arguments,r=e.__brush,a=t.input("function"==typeof n?n.apply(e,i):n,r.extent),o=c(e,i).beforestart();En(e),r.selection=null==a||lr(a)?null:a,s.call(e),o.start().brush().end()}))},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){ke(new Hi(o,e,t.output(this.state.selection)),r.apply,r,[e,this.that,this.args])}},o.extent=function(t){return arguments.length?(n="function"==typeof t?t:Fi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):n},o.filter=function(t){return arguments.length?(i="function"==typeof t?t:Fi(!!t),o):i},o.handleSize=function(t){return arguments.length?(a=+t,o):a},o.on=function(){var t=r.on.apply(r,arguments);return t===r?o:t},o}var mr=Math.cos,gr=Math.sin,yr=Math.PI,_r=yr/2,vr=2*yr,Mr=Math.max;function br(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var xr=function(){var t=0,e=null,n=null,i=null;function r(r){var a,o,s,c,l,u,h=r.length,p=[],d=E(h),f=[],m=[],g=m.groups=new Array(h),y=new Array(h*h);for(a=0,l=-1;++l<h;){for(o=0,u=-1;++u<h;)o+=r[l][u];p.push(o),f.push(E(h)),a+=o}for(e&&d.sort((function(t,n){return e(p[t],p[n])})),n&&f.forEach((function(t,e){t.sort((function(t,i){return n(r[e][t],r[e][i])}))})),c=(a=Mr(0,vr-t*h)/a)?t:vr/h,o=0,l=-1;++l<h;){for(s=o,u=-1;++u<h;){var _=d[l],v=f[_][u],M=r[_][v],b=o,x=o+=M*a;y[v*h+_]={index:_,subindex:v,startAngle:b,endAngle:x,value:M}}g[_]={index:_,startAngle:s,endAngle:o,value:p[_]},o+=c}for(l=-1;++l<h;)for(u=l-1;++u<h;){var w=y[u*h+l],A=y[l*h+u];(w.value||A.value)&&m.push(w.value<A.value?{source:A,target:w}:{source:w,target:A})}return i?m.sort(i):m}return r.padAngle=function(e){return arguments.length?(t=Mr(0,e),r):t},r.sortGroups=function(t){return arguments.length?(e=t,r):e},r.sortSubgroups=function(t){return arguments.length?(n=t,r):n},r.sortChords=function(t){return arguments.length?(null==t?i=null:(i=br(t))._=t,r):i&&i._},r},wr=Array.prototype.slice,Ar=function(t){return function(){return t}},Tr=Math.PI,Lr=2*Tr,Sr=1e-6,kr=Lr-Sr;function Or(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zr(){return new Or}Or.prototype=zr.prototype={constructor:Or,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var a=this._x1,o=this._y1,s=n-t,c=i-e,l=a-t,u=o-e,h=l*l+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Sr)if(Math.abs(u*s-c*l)>Sr&&r){var p=n-a,d=i-o,f=s*s+c*c,m=p*p+d*d,g=Math.sqrt(f),y=Math.sqrt(h),_=r*Math.tan((Tr-Math.acos((f+h-m)/(2*g*y)))/2),v=_/y,M=_/g;Math.abs(v-1)>Sr&&(this._+="L"+(t+v*l)+","+(e+v*u)),this._+="A"+r+","+r+",0,0,"+ +(u*p>l*d)+","+(this._x1=t+M*s)+","+(this._y1=e+M*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,a){t=+t,e=+e;var o=(n=+n)*Math.cos(i),s=n*Math.sin(i),c=t+o,l=e+s,u=1^a,h=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Sr||Math.abs(this._y1-l)>Sr)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Lr+Lr),h>kr?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>Sr&&(this._+="A"+n+","+n+",0,"+ +(h>=Tr)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Cr=zr;function Er(t){return t.source}function Dr(t){return t.target}function Nr(t){return t.radius}function Ir(t){return t.startAngle}function Pr(t){return t.endAngle}var Br=function(){var t=Er,e=Dr,n=Nr,i=Ir,r=Pr,a=null;function o(){var o,s=wr.call(arguments),c=t.apply(this,s),l=e.apply(this,s),u=+n.apply(this,(s[0]=c,s)),h=i.apply(this,s)-_r,p=r.apply(this,s)-_r,d=u*mr(h),f=u*gr(h),m=+n.apply(this,(s[0]=l,s)),g=i.apply(this,s)-_r,y=r.apply(this,s)-_r;if(a||(a=o=Cr()),a.moveTo(d,f),a.arc(0,0,u,h,p),h===g&&p===y||(a.quadraticCurveTo(0,0,m*mr(g),m*gr(g)),a.arc(0,0,m,g,y)),a.quadraticCurveTo(0,0,d,f),a.closePath(),o)return a=null,o+""||null}return o.radius=function(t){return arguments.length?(n="function"==typeof t?t:Ar(+t),o):n},o.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ar(+t),o):i},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ar(+t),o):r},o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(t){return arguments.length?(e=t,o):e},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o},Rr="$";function qr(){}function Yr(t,e){var n=new qr;if(t instanceof qr)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==e)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e(i=t[r],r,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}qr.prototype=Yr.prototype={constructor:qr,has:function(t){return Rr+t in this},get:function(t){return this[Rr+t]},set:function(t,e){return this[Rr+t]=e,this},remove:function(t){var e=Rr+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Rr&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Rr&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Rr&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Rr&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Rr&&++t;return t},empty:function(){for(var t in this)if(t[0]===Rr)return!1;return!0},each:function(t){for(var e in this)e[0]===Rr&&t(this[e],e.slice(1),this)}};var Wr=Yr,jr=function(){var t,e,n,i=[],r=[];function a(n,r,o,s){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,u,h=-1,p=n.length,d=i[r++],f=Wr(),m=o();++h<p;)(u=f.get(c=d(l=n[h])+""))?u.push(l):f.set(c,[l]);return f.each((function(t,e){s(m,e,a(t,r,o,s))})),m}function o(t,n){if(++n>i.length)return t;var a,s=r[n-1];return null!=e&&n>=i.length?a=t.entries():(a=[],t.each((function(t,e){a.push({key:e,values:o(t,n)})}))),null!=s?a.sort((function(t,e){return s(t.key,e.key)})):a}return n={object:function(t){return a(t,0,Fr,Hr)},map:function(t){return a(t,0,Ur,Xr)},entries:function(t){return o(a(t,0,Ur,Xr),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Fr(){return{}}function Hr(t,e,n){t[e]=n}function Ur(){return Wr()}function Xr(t,e,n){t.set(e,n)}function Vr(){}var Gr=Wr.prototype;function Kr(t,e){var n=new Vr;if(t instanceof Vr)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}Vr.prototype=Kr.prototype={constructor:Vr,has:Gr.has,add:function(t){return this[Rr+(t+="")]=t,this},remove:Gr.remove,clear:Gr.clear,values:Gr.keys,size:Gr.size,empty:Gr.empty,each:Gr.each};var Zr=Kr,Jr=function(t){var e=[];for(var n in t)e.push(n);return e},Qr=function(t){var e=[];for(var n in t)e.push(t[n]);return e},$r=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ta={},ea={};function na(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}var ia=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],a=t.length,o=0,s=0,c=a<=0,l=!1;function u(){if(c)return ea;if(l)return l=!1,ta;var e,i,r=o;if(34===t.charCodeAt(r)){for(;o++<a&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=a?c=!0:10===(i=t.charCodeAt(o++))?l=!0:13===i&&(l=!0,10===t.charCodeAt(o)&&++o),t.slice(r+1,e-1).replace(/""/g,'"')}for(;o<a;){if(10===(i=t.charCodeAt(e=o++)))l=!0;else if(13===i)l=!0,10===t.charCodeAt(o)&&++o;else if(i!==n)continue;return t.slice(r,e)}return c=!0,t.slice(r,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(i=u())!==ea;){for(var h=[];i!==ta&&i!==ea;)h.push(i),i=u();e&&null==(h=e(h,s++))||r.push(h)}return r}function r(e){return e.map(a).join(t)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,a=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=na(t);return function(i,r){return e(n(i),r,t)}}(t,e):na(t)}));return a.columns=r||[],a},parseRows:i,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}(e)),[n.map(a).join(t)].concat(e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}},ra=ia(","),aa=ra.parse,oa=ra.parseRows,sa=ra.format,ca=ra.formatRows,la=ia("\t"),ua=la.parse,ha=la.parseRows,pa=la.format,da=la.formatRows,fa=function(t,e){var n;function i(){var i,r,a=n.length,o=0,s=0;for(i=0;i<a;++i)o+=(r=n[i]).x,s+=r.y;for(o=o/a-t,s=s/a-e,i=0;i<a;++i)(r=n[i]).x-=o,r.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},ma=function(t){return function(){return t}},ga=function(){return 1e-6*(Math.random()-.5)};function ya(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,a,o,s,c,l,u,h,p,d=t._root,f={data:i},m=t._x0,g=t._y0,y=t._x1,_=t._y1;if(!d)return t._root=f,t;for(;d.length;)if((l=e>=(a=(m+y)/2))?m=a:y=a,(u=n>=(o=(g+_)/2))?g=o:_=o,r=d,!(d=d[h=u<<1|l]))return r[h]=f,t;if(s=+t._x.call(null,d.data),c=+t._y.call(null,d.data),e===s&&n===c)return f.next=d,r?r[h]=f:t._root=f,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(a=(m+y)/2))?m=a:y=a,(u=n>=(o=(g+_)/2))?g=o:_=o}while((h=u<<1|l)==(p=(c>=o)<<1|s>=a));return r[p]=d,r[h]=f,t}var _a=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function va(t){return t[0]}function Ma(t){return t[1]}function ba(t,e,n){var i=new xa(null==e?va:e,null==n?Ma:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function xa(t,e,n,i,r,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function wa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Aa=ba.prototype=xa.prototype;function Ta(t){return t.x+t.vx}function La(t){return t.y+t.vy}Aa.copy=function(){var t,e,n=new xa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=wa(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=wa(e));return n},Aa.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ya(this.cover(e,n),e,n,t)},Aa.addAll=function(t){var e,n,i,r,a=t.length,o=new Array(a),s=new Array(a),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(o[n]=i,s[n]=r,i<c&&(c=i),i>u&&(u=i),r<l&&(l=r),r>h&&(h=r));for(u<c&&(c=this._x0,u=this._x1),h<l&&(l=this._y0,h=this._y1),this.cover(c,l).cover(u,h),n=0;n<a;++n)ya(this,o[n],s[n],t[n]);return this},Aa.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>a))return this;var o,s,c=r-n,l=this._root;switch(s=(e<(i+a)/2)<<1|t<(n+r)/2){case 0:do{(o=new Array(4))[s]=l,l=o}while(a=i+(c*=2),t>(r=n+c)||e>a);break;case 1:do{(o=new Array(4))[s]=l,l=o}while(a=i+(c*=2),(n=r-c)>t||e>a);break;case 2:do{(o=new Array(4))[s]=l,l=o}while(i=a-(c*=2),t>(r=n+c)||i>e);break;case 3:do{(o=new Array(4))[s]=l,l=o}while(i=a-(c*=2),(n=r-c)>t||i>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this},Aa.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Aa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Aa.find=function(t,e,n){var i,r,a,o,s,c,l,u=this._x0,h=this._y0,p=this._x1,d=this._y1,f=[],m=this._root;for(m&&f.push(new _a(m,u,h,p,d)),null==n?n=1/0:(u=t-n,h=e-n,p=t+n,d=e+n,n*=n);c=f.pop();)if(!(!(m=c.node)||(r=c.x0)>p||(a=c.y0)>d||(o=c.x1)<u||(s=c.y1)<h))if(m.length){var g=(r+o)/2,y=(a+s)/2;f.push(new _a(m[3],g,y,o,s),new _a(m[2],r,y,g,s),new _a(m[1],g,a,o,y),new _a(m[0],r,a,g,y)),(l=(e>=y)<<1|t>=g)&&(c=f[f.length-1],f[f.length-1]=f[f.length-1-l],f[f.length-1-l]=c)}else{var _=t-+this._x.call(null,m.data),v=e-+this._y.call(null,m.data),M=_*_+v*v;if(M<n){var b=Math.sqrt(n=M);u=t-b,h=e-b,p=t+b,d=e+b,i=m.data}}return i},Aa.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,r,a,o,s,c,l,u,h,p,d=this._root,f=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(s=(f+g)/2))?f=s:g=s,(u=o>=(c=(m+y)/2))?m=c:y=c,e=d,!(d=d[h=u<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,p=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=r,this)},Aa.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Aa.root=function(){return this._root},Aa.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Aa.visit=function(t){var e,n,i,r,a,o,s=[],c=this._root;for(c&&s.push(new _a(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,i=e.x0,r=e.y0,a=e.x1,o=e.y1)&&c.length){var l=(i+a)/2,u=(r+o)/2;(n=c[3])&&s.push(new _a(n,l,u,a,o)),(n=c[2])&&s.push(new _a(n,i,u,l,o)),(n=c[1])&&s.push(new _a(n,l,r,a,u)),(n=c[0])&&s.push(new _a(n,i,r,l,u))}return this},Aa.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new _a(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var a,o=e.x0,s=e.y0,c=e.x1,l=e.y1,u=(o+c)/2,h=(s+l)/2;(a=r[0])&&n.push(new _a(a,o,s,u,h)),(a=r[1])&&n.push(new _a(a,u,s,c,h)),(a=r[2])&&n.push(new _a(a,o,h,u,l)),(a=r[3])&&n.push(new _a(a,u,h,c,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Aa.x=function(t){return arguments.length?(this._x=t,this):this._x},Aa.y=function(t){return arguments.length?(this._y=t,this):this._y};var Sa=function(t){var e,n,i=1,r=1;function a(){for(var t,a,s,c,l,u,h,p=e.length,d=0;d<r;++d)for(a=ba(e,Ta,La).visitAfter(o),t=0;t<p;++t)s=e[t],u=n[s.index],h=u*u,c=s.x+s.vx,l=s.y+s.vy,a.visit(f);function f(t,e,n,r,a){var o=t.data,p=t.r,d=u+p;if(!o)return e>c+d||r<c-d||n>l+d||a<l-d;if(o.index>s.index){var f=c-o.x-o.vx,m=l-o.y-o.vy,g=f*f+m*m;g<d*d&&(0===f&&(g+=(f=ga())*f),0===m&&(g+=(m=ga())*m),g=(d-(g=Math.sqrt(g)))/g*i,s.vx+=(f*=g)*(d=(p*=p)/(h+p)),s.vy+=(m*=g)*d,o.vx-=f*(d=1-d),o.vy-=m*d)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,r,a=e.length;for(n=new Array(a),i=0;i<a;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=ma(null==t?1:+t)),a.initialize=function(t){e=t,s()},a.iterations=function(t){return arguments.length?(r=+t,a):r},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:ma(+e),s(),a):t},a};function ka(t){return t.index}function Oa(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var za=function(t){var e,n,i,r,a,o=ka,s=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},c=ma(30),l=1;function u(i){for(var r=0,o=t.length;r<l;++r)for(var s,c,u,h,p,d,f,m=0;m<o;++m)c=(s=t[m]).source,h=(u=s.target).x+u.vx-c.x-c.vx||ga(),p=u.y+u.vy-c.y-c.vy||ga(),h*=d=((d=Math.sqrt(h*h+p*p))-n[m])/d*i*e[m],p*=d,u.vx-=h*(f=a[m]),u.vy-=p*f,c.vx+=h*(f=1-f),c.vy+=p*f}function h(){if(i){var s,c,l=i.length,u=t.length,h=Wr(i,o);for(s=0,r=new Array(l);s<u;++s)(c=t[s]).index=s,"object"!=typeof c.source&&(c.source=Oa(h,c.source)),"object"!=typeof c.target&&(c.target=Oa(h,c.target)),r[c.source.index]=(r[c.source.index]||0)+1,r[c.target.index]=(r[c.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)c=t[s],a[s]=r[c.source.index]/(r[c.source.index]+r[c.target.index]);e=new Array(u),p(),n=new Array(u),d()}}function p(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+s(t[n],n,t)}function d(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){i=t,h()},u.links=function(e){return arguments.length?(t=e,h(),u):t},u.id=function(t){return arguments.length?(o=t,u):o},u.iterations=function(t){return arguments.length?(l=+t,u):l},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:ma(+t),p(),u):s},u.distance=function(t){return arguments.length?(c="function"==typeof t?t:ma(+t),d(),u):c},u};function Ca(t){return t.x}function Ea(t){return t.y}var Da,Na=Math.PI*(3-Math.sqrt(5)),Ia=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),a=0,o=.6,s=Wr(),c=vn(u),l=bt("tick","end");function u(){h(),l.call("tick",e),n<i&&(c.stop(),l.call("end",e))}function h(){var e,i,c=t.length;for(n+=(a-n)*r,s.each((function(t){t(n)})),e=0;e<c;++e)null==(i=t[e]).fx?i.x+=i.vx*=o:(i.x=i.fx,i.vx=0),null==i.fy?i.y+=i.vy*=o:(i.y=i.fy,i.vy=0)}function p(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(n),a=n*Na;e.x=r*Math.cos(a),e.y=r*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),p(),e={tick:h,restart:function(){return c.restart(u),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,i){var r,a,o,s,c,l=0,u=t.length;for(null==i?i=1/0:i*=i,l=0;l<u;++l)(o=(r=e-(s=t[l]).x)*r+(a=n-s.y)*a)<i&&(c=s,i=o);return c},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}},Pa=function(){var t,e,n,i,r=ma(-30),a=1,o=1/0,s=.81;function c(i){var r,a=t.length,o=ba(t,Ca,Ea).visitAfter(u);for(n=i,r=0;r<a;++r)e=t[r],o.visit(h)}function l(){if(t){var e,n,a=t.length;for(i=new Array(a),e=0;e<a;++e)n=t[e],i[n.index]=+r(n,e,t)}}function u(t){var e,n,r,a,o,s=0,c=0;if(t.length){for(r=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,r+=n*e.x,a+=n*e.y);t.x=r/c,t.y=a/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,r,c,l){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,p=l-r,d=u*u+h*h;if(p*p/s<d)return d<o&&(0===u&&(d+=(u=ga())*u),0===h&&(d+=(h=ga())*h),d<a&&(d=Math.sqrt(a*d)),e.vx+=u*t.value*n/d,e.vy+=h*t.value*n/d),!0;if(!(t.length||d>=o)){(t.data!==e||t.next)&&(0===u&&(d+=(u=ga())*u),0===h&&(d+=(h=ga())*h),d<a&&(d=Math.sqrt(a*d)));do{t.data!==e&&(p=i[t.data.index]*n/d,e.vx+=u*p,e.vy+=h*p)}while(t=t.next)}}return c.initialize=function(e){t=e,l()},c.strength=function(t){return arguments.length?(r="function"==typeof t?t:ma(+t),l(),c):r},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c},Ba=function(t,e,n){var i,r,a,o=ma(.1);function s(t){for(var o=0,s=i.length;o<s;++o){var c=i[o],l=c.x-e||1e-6,u=c.y-n||1e-6,h=Math.sqrt(l*l+u*u),p=(a[o]-h)*r[o]*t/h;c.vx+=l*p,c.vy+=u*p}}function c(){if(i){var e,n=i.length;for(r=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(i[e],e,i),r[e]=isNaN(a[e])?0:+o(i[e],e,i)}}return"function"!=typeof t&&(t=ma(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){i=t,c()},s.strength=function(t){return arguments.length?(o="function"==typeof t?t:ma(+t),c(),s):o},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:ma(+e),c(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},Ra=function(t){var e,n,i,r=ma(.1);function a(t){for(var r,a=0,o=e.length;a<o;++a)(r=e[a]).vx+=(i[a]-r.x)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),i=new Array(o),a=0;a<o;++a)n[a]=isNaN(i[a]=+t(e[a],a,e))?0:+r(e[a],a,e)}}return"function"!=typeof t&&(t=ma(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(r="function"==typeof t?t:ma(+t),o(),a):r},a.x=function(e){return arguments.length?(t="function"==typeof e?e:ma(+e),o(),a):t},a},qa=function(t){var e,n,i,r=ma(.1);function a(t){for(var r,a=0,o=e.length;a<o;++a)(r=e[a]).vy+=(i[a]-r.y)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),i=new Array(o),a=0;a<o;++a)n[a]=isNaN(i[a]=+t(e[a],a,e))?0:+r(e[a],a,e)}}return"function"!=typeof t&&(t=ma(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(r="function"==typeof t?t:ma(+t),o(),a):r},a.y=function(e){return arguments.length?(t="function"==typeof e?e:ma(+e),o(),a):t},a},Ya=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Wa=function(t){return(t=Ya(Math.abs(t)))?t[1]:NaN},ja=function(t,e){var n=Ya(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Fa={"":function(t,e){t:for(var n,i=(t=t.toPrecision(e)).length,r=1,a=-1;r<i;++r)switch(t[r]){case".":a=n=r;break;case"0":0===a&&(a=r),n=r;break;case"e":break t;default:a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ja(100*t,e)},r:ja,s:function(t,e){var n=Ya(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(Da=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Ya(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ha=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Ua(t){return new Xa(t)}function Xa(t){if(!(e=Ha.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],c=!!e[7],l=e[8]&&+e[8].slice(1),u=e[9]||"";"n"===u?(c=!0,u="g"):Fa[u]||(u=""),(o||"0"===n&&"="===i)&&(o=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=a,this.zero=o,this.width=s,this.comma=c,this.precision=l,this.type=u}Ua.prototype=Xa.prototype,Xa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Va,Ga,Ka,Za=function(t){return t},Ja=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],Qa=function(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var r=t.length,a=[],o=0,s=e[0],c=0;r>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),a.push(t.substring(r-=s,r+s)),!((c+=s+1)>i));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}):Za,r=t.currency,a=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):Za,s=t.percent||"%";function c(t){var e=(t=Ua(t)).fill,n=t.align,c=t.sign,l=t.symbol,u=t.zero,h=t.width,p=t.comma,d=t.precision,f=t.type,m="$"===l?r[0]:"#"===l&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",g="$"===l?r[1]:/[%p]/.test(f)?s:"",y=Fa[f],_=!f||/[defgprs%]/.test(f);function v(t){var r,s,l,v=m,M=g;if("c"===f)M=y(t)+M,t="";else{var b=(t=+t)<0;if(t=y(Math.abs(t),d),b&&0==+t&&(b=!1),v=(b?"("===c?c:"-":"-"===c||"("===c?"":c)+v,M=("s"===f?Ja[8+Da/3]:"")+M+(b&&"("===c?")":""),_)for(r=-1,s=t.length;++r<s;)if(48>(l=t.charCodeAt(r))||l>57){M=(46===l?a+t.slice(r+1):t.slice(r))+M,t=t.slice(0,r);break}}p&&!u&&(t=i(t,1/0));var x=v.length+t.length+M.length,w=x<h?new Array(h-x+1).join(e):"";switch(p&&u&&(t=i(w+t,w.length?h-M.length:1/0),w=""),n){case"<":t=v+t+M+w;break;case"=":t=v+w+t+M;break;case"^":t=w.slice(0,x=w.length>>1)+v+t+M+w.slice(x);break;default:t=w+v+t+M}return o(t)}return d=null==d?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),v.toString=function(){return t+""},v}return{format:c,formatPrefix:function(t,e){var n=c(((t=Ua(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Wa(e)/3))),r=Math.pow(10,-i),a=Ja[8+i/3];return function(t){return n(r*t)+a}}}};function $a(t){return Va=Qa(t),Ga=Va.format,Ka=Va.formatPrefix,Va}$a({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var to=function(t){return Math.max(0,-Wa(Math.abs(t)))},eo=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wa(e)/3)))-Wa(Math.abs(t)))},no=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wa(e)-Wa(t))+1},io=function(){return new ro};function ro(){this.reset()}ro.prototype={constructor:ro,reset:function(){this.s=this.t=0},add:function(t){oo(ao,t,this.t),oo(this,ao.s,this.s),this.s?this.t+=ao.t:this.s=ao.t},valueOf:function(){return this.s}};var ao=new ro;function oo(t,e,n){var i=t.s=e+n,r=i-e,a=i-r;t.t=e-a+(n-r)}var so=1e-6,co=Math.PI,lo=co/2,uo=co/4,ho=2*co,po=180/co,fo=co/180,mo=Math.abs,go=Math.atan,yo=Math.atan2,_o=Math.cos,vo=Math.ceil,Mo=Math.exp,bo=(Math.floor,Math.log),xo=Math.pow,wo=Math.sin,Ao=Math.sign||function(t){return t>0?1:t<0?-1:0},To=Math.sqrt,Lo=Math.tan;function So(t){return t>1?0:t<-1?co:Math.acos(t)}function ko(t){return t>1?lo:t<-1?-lo:Math.asin(t)}function Oo(t){return(t=wo(t/2))*t}function zo(){}function Co(t,e){t&&Do.hasOwnProperty(t.type)&&Do[t.type](t,e)}var Eo={Feature:function(t,e){Co(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Co(n[i].geometry,e)}},Do={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){No(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)No(n[i],e,0)},Polygon:function(t,e){Io(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Io(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Co(n[i],e)}};function No(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Io(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)No(t[n],e,1);e.polygonEnd()}var Po,Bo,Ro,qo,Yo,Wo=function(t,e){t&&Eo.hasOwnProperty(t.type)?Eo[t.type](t,e):Co(t,e)},jo=io(),Fo=io(),Ho={point:zo,lineStart:zo,lineEnd:zo,polygonStart:function(){jo.reset(),Ho.lineStart=Uo,Ho.lineEnd=Xo},polygonEnd:function(){var t=+jo;Fo.add(t<0?ho+t:t),this.lineStart=this.lineEnd=this.point=zo},sphere:function(){Fo.add(ho)}};function Uo(){Ho.point=Vo}function Xo(){Go(Po,Bo)}function Vo(t,e){Ho.point=Go,Po=t,Bo=e,Ro=t*=fo,qo=_o(e=(e*=fo)/2+uo),Yo=wo(e)}function Go(t,e){var n=(t*=fo)-Ro,i=n>=0?1:-1,r=i*n,a=_o(e=(e*=fo)/2+uo),o=wo(e),s=Yo*o,c=qo*a+s*_o(r),l=s*i*wo(r);jo.add(yo(l,c)),Ro=t,qo=a,Yo=o}var Ko=function(t){return Fo.reset(),Wo(t,Ho),2*Fo};function Zo(t){return[yo(t[1],t[0]),ko(t[2])]}function Jo(t){var e=t[0],n=t[1],i=_o(n);return[i*_o(e),i*wo(e),wo(n)]}function Qo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $o(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ts(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function es(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ns(t){var e=To(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var is,rs,as,os,ss,cs,ls,us,hs,ps,ds=io(),fs={point:ms,lineStart:ys,lineEnd:_s,polygonStart:function(){fs.point=vs,fs.lineStart=Ms,fs.lineEnd=bs,ds.reset(),Ho.polygonStart()},polygonEnd:function(){Ho.polygonEnd(),fs.point=ms,fs.lineStart=ys,fs.lineEnd=_s,jo<0?(is=-(as=180),rs=-(os=90)):ds>so?os=90:ds<-1e-6&&(rs=-90),ps[0]=is,ps[1]=as}};function ms(t,e){hs.push(ps=[is=t,as=t]),e<rs&&(rs=e),e>os&&(os=e)}function gs(t,e){var n=Jo([t*fo,e*fo]);if(us){var i=$o(us,n),r=$o([i[1],-i[0],0],i);ns(r),r=Zo(r);var a,o=t-ss,s=o>0?1:-1,c=r[0]*po*s,l=mo(o)>180;l^(s*ss<c&&c<s*t)?(a=r[1]*po)>os&&(os=a):l^(s*ss<(c=(c+360)%360-180)&&c<s*t)?(a=-r[1]*po)<rs&&(rs=a):(e<rs&&(rs=e),e>os&&(os=e)),l?t<ss?xs(is,t)>xs(is,as)&&(as=t):xs(t,as)>xs(is,as)&&(is=t):as>=is?(t<is&&(is=t),t>as&&(as=t)):t>ss?xs(is,t)>xs(is,as)&&(as=t):xs(t,as)>xs(is,as)&&(is=t)}else hs.push(ps=[is=t,as=t]);e<rs&&(rs=e),e>os&&(os=e),us=n,ss=t}function ys(){fs.point=gs}function _s(){ps[0]=is,ps[1]=as,fs.point=ms,us=null}function vs(t,e){if(us){var n=t-ss;ds.add(mo(n)>180?n+(n>0?360:-360):n)}else cs=t,ls=e;Ho.point(t,e),gs(t,e)}function Ms(){Ho.lineStart()}function bs(){vs(cs,ls),Ho.lineEnd(),mo(ds)>so&&(is=-(as=180)),ps[0]=is,ps[1]=as,us=null}function xs(t,e){return(e-=t)<0?e+360:e}function ws(t,e){return t[0]-e[0]}function As(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Ts,Ls,Ss,ks,Os,zs,Cs,Es,Ds,Ns,Is,Ps,Bs,Rs,qs,Ys,Ws=function(t){var e,n,i,r,a,o,s;if(os=as=-(is=rs=1/0),hs=[],Wo(t,fs),n=hs.length){for(hs.sort(ws),e=1,a=[i=hs[0]];e<n;++e)As(i,(r=hs[e])[0])||As(i,r[1])?(xs(i[0],r[1])>xs(i[0],i[1])&&(i[1]=r[1]),xs(r[0],i[1])>xs(i[0],i[1])&&(i[0]=r[0])):a.push(i=r);for(o=-1/0,e=0,i=a[n=a.length-1];e<=n;i=r,++e)r=a[e],(s=xs(i[1],r[0]))>o&&(o=s,is=r[0],as=i[1])}return hs=ps=null,is===1/0||rs===1/0?[[NaN,NaN],[NaN,NaN]]:[[is,rs],[as,os]]},js={sphere:zo,point:Fs,lineStart:Us,lineEnd:Gs,polygonStart:function(){js.lineStart=Ks,js.lineEnd=Zs},polygonEnd:function(){js.lineStart=Us,js.lineEnd=Gs}};function Fs(t,e){t*=fo;var n=_o(e*=fo);Hs(n*_o(t),n*wo(t),wo(e))}function Hs(t,e,n){++Ts,Ss+=(t-Ss)/Ts,ks+=(e-ks)/Ts,Os+=(n-Os)/Ts}function Us(){js.point=Xs}function Xs(t,e){t*=fo;var n=_o(e*=fo);Rs=n*_o(t),qs=n*wo(t),Ys=wo(e),js.point=Vs,Hs(Rs,qs,Ys)}function Vs(t,e){t*=fo;var n=_o(e*=fo),i=n*_o(t),r=n*wo(t),a=wo(e),o=yo(To((o=qs*a-Ys*r)*o+(o=Ys*i-Rs*a)*o+(o=Rs*r-qs*i)*o),Rs*i+qs*r+Ys*a);Ls+=o,zs+=o*(Rs+(Rs=i)),Cs+=o*(qs+(qs=r)),Es+=o*(Ys+(Ys=a)),Hs(Rs,qs,Ys)}function Gs(){js.point=Fs}function Ks(){js.point=Js}function Zs(){Qs(Ps,Bs),js.point=Fs}function Js(t,e){Ps=t,Bs=e,t*=fo,e*=fo,js.point=Qs;var n=_o(e);Rs=n*_o(t),qs=n*wo(t),Ys=wo(e),Hs(Rs,qs,Ys)}function Qs(t,e){t*=fo;var n=_o(e*=fo),i=n*_o(t),r=n*wo(t),a=wo(e),o=qs*a-Ys*r,s=Ys*i-Rs*a,c=Rs*r-qs*i,l=To(o*o+s*s+c*c),u=ko(l),h=l&&-u/l;Ds+=h*o,Ns+=h*s,Is+=h*c,Ls+=u,zs+=u*(Rs+(Rs=i)),Cs+=u*(qs+(qs=r)),Es+=u*(Ys+(Ys=a)),Hs(Rs,qs,Ys)}var $s=function(t){Ts=Ls=Ss=ks=Os=zs=Cs=Es=Ds=Ns=Is=0,Wo(t,js);var e=Ds,n=Ns,i=Is,r=e*e+n*n+i*i;return r<1e-12&&(e=zs,n=Cs,i=Es,Ls<so&&(e=Ss,n=ks,i=Os),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[yo(n,e)*po,ko(i/To(r))*po]},tc=function(t){return function(){return t}},ec=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};function nc(t,e){return[t>co?t-ho:t<-co?t+ho:t,e]}function ic(t,e,n){return(t%=ho)?e||n?ec(ac(t),oc(e,n)):ac(t):e||n?oc(e,n):nc}function rc(t){return function(e,n){return[(e+=t)>co?e-ho:e<-co?e+ho:e,n]}}function ac(t){var e=rc(t);return e.invert=rc(-t),e}function oc(t,e){var n=_o(t),i=wo(t),r=_o(e),a=wo(e);function o(t,e){var o=_o(e),s=_o(t)*o,c=wo(t)*o,l=wo(e),u=l*n+s*i;return[yo(c*r-u*a,s*n-l*i),ko(u*r+c*a)]}return o.invert=function(t,e){var o=_o(e),s=_o(t)*o,c=wo(t)*o,l=wo(e),u=l*r-c*a;return[yo(c*r+l*a,s*n+u*i),ko(u*n-s*i)]},o}nc.invert=nc;var sc=function(t){function e(e){return(e=t(e[0]*fo,e[1]*fo))[0]*=po,e[1]*=po,e}return t=ic(t[0]*fo,t[1]*fo,t.length>2?t[2]*fo:0),e.invert=function(e){return(e=t.invert(e[0]*fo,e[1]*fo))[0]*=po,e[1]*=po,e},e};function cc(t,e,n,i,r,a){if(n){var o=_o(e),s=wo(e),c=i*n;null==r?(r=e+i*ho,a=e-c/2):(r=lc(o,r),a=lc(o,a),(i>0?r<a:r>a)&&(r+=i*ho));for(var l,u=r;i>0?u>a:u<a;u-=c)l=Zo([o,-s*_o(u),-s*wo(u)]),t.point(l[0],l[1])}}function lc(t,e){(e=Jo(e))[0]-=t,ns(e);var n=So(-e[1]);return((-e[2]<0?-n:n)+ho-so)%ho}var uc=function(){var t,e,n=tc([0,0]),i=tc(90),r=tc(6),a={point:function(n,i){t.push(n=e(n,i)),n[0]*=po,n[1]*=po}};function o(){var o=n.apply(this,arguments),s=i.apply(this,arguments)*fo,c=r.apply(this,arguments)*fo;return t=[],e=ic(-o[0]*fo,-o[1]*fo,0).invert,cc(a,s,c,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:tc([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(i="function"==typeof t?t:tc(+t),o):i},o.precision=function(t){return arguments.length?(r="function"==typeof t?t:tc(+t),o):r},o},hc=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:zo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},pc=function(t,e){return mo(t[0]-e[0])<so&&mo(t[1]-e[1])<so};function dc(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var fc=function(t,e,n,i,r){var a,o,s=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(pc(i,o)){for(r.lineStart(),a=0;a<e;++a)r.point((i=t[a])[0],i[1]);r.lineEnd()}else s.push(n=new dc(i,t,null,!0)),c.push(n.o=new dc(i,null,n,!1)),s.push(n=new dc(o,t,null,!1)),c.push(n.o=new dc(o,null,n,!0))}})),s.length){for(c.sort(e),mc(s),mc(c),a=0,o=c.length;a<o;++a)c[a].e=n=!n;for(var l,u,h=s[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(a=0,o=l.length;a<o;++a)r.point((u=l[a])[0],u[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(d)for(l=p.p.z,a=l.length-1;a>=0;--a)r.point((u=l[a])[0],u[1]);else i(p.x,p.p.x,-1,r);p=p.p}l=(p=p.o).z,d=!d}while(!p.v);r.lineEnd()}}};function mc(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var gc=io(),yc=function(t,e){var n=e[0],i=e[1],r=[wo(n),-_o(n),0],a=0,o=0;gc.reset();for(var s=0,c=t.length;s<c;++s)if(u=(l=t[s]).length)for(var l,u,h=l[u-1],p=h[0],d=h[1]/2+uo,f=wo(d),m=_o(d),g=0;g<u;++g,p=_,f=M,m=b,h=y){var y=l[g],_=y[0],v=y[1]/2+uo,M=wo(v),b=_o(v),x=_-p,w=x>=0?1:-1,A=w*x,T=A>co,L=f*M;if(gc.add(yo(L*w*wo(A),m*b+L*_o(A))),a+=T?x+w*ho:x,T^p>=n^_>=n){var S=$o(Jo(h),Jo(y));ns(S);var k=$o(r,S);ns(k);var O=(T^x>=0?-1:1)*ko(k[2]);(i>O||i===O&&(S[0]||S[1]))&&(o+=T^x>=0?1:-1)}}return(a<-1e-6||a<so&&gc<-1e-6)^1&o},_c=function(t,e,n,i){return function(r){var a,o,s,c=e(r),l=hc(),u=e(l),h=!1,p={point:d,lineStart:m,lineEnd:g,polygonStart:function(){p.point=y,p.lineStart=_,p.lineEnd=v,o=[],a=[]},polygonEnd:function(){p.point=d,p.lineStart=m,p.lineEnd=g,o=V(o);var t=yc(a,i);o.length?(h||(r.polygonStart(),h=!0),fc(o,Mc,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),o=a=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,n){t(e,n)&&r.point(e,n)}function f(t,e){c.point(t,e)}function m(){p.point=f,c.lineStart()}function g(){p.point=d,c.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function _(){u.lineStart(),s=[]}function v(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,i,c=u.clean(),p=l.result(),d=p.length;if(s.pop(),a.push(s),s=null,d)if(1&c){if((e=(n=p[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else d>1&&2&c&&p.push(p.pop().concat(p.shift())),o.push(p.filter(vc))}return p}};function vc(t){return t.length>1}function Mc(t,e){return((t=t.x)[0]<0?t[1]-lo-so:lo-t[1])-((e=e.x)[0]<0?e[1]-lo-so:lo-e[1])}var bc=_c((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?co:-co,c=mo(a-n);mo(c-co)<so?(t.point(n,i=(i+o)/2>0?lo:-lo),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&c>=co&&(mo(n-r)<so&&(n-=r*so),mo(a-s)<so&&(a-=s*so),i=function(t,e,n,i){var r,a,o=wo(t-n);return mo(o)>so?go((wo(e)*(a=_o(i))*wo(n)-wo(i)*(r=_o(e))*wo(t))/(r*a*o)):(e+i)/2}(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*lo,i.point(-co,r),i.point(0,r),i.point(co,r),i.point(co,0),i.point(co,-r),i.point(0,-r),i.point(-co,-r),i.point(-co,0),i.point(-co,r);else if(mo(t[0]-e[0])>so){var a=t[0]<e[0]?co:-co;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}),[-co,-lo]);var xc=function(t){var e=_o(t),n=6*fo,i=e>0,r=mo(e)>so;function a(t,n){return _o(t)*_o(n)>e}function o(t,n,i){var r=[1,0,0],a=$o(Jo(t),Jo(n)),o=Qo(a,a),s=a[0],c=o-s*s;if(!c)return!i&&t;var l=e*o/c,u=-e*s/c,h=$o(r,a),p=es(r,l);ts(p,es(a,u));var d=h,f=Qo(p,d),m=Qo(d,d),g=f*f-m*(Qo(p,p)-1);if(!(g<0)){var y=To(g),_=es(d,(-f-y)/m);if(ts(_,p),_=Zo(_),!i)return _;var v,M=t[0],b=n[0],x=t[1],w=n[1];b<M&&(v=M,M=b,b=v);var A=b-M,T=mo(A-co)<so;if(!T&&w<x&&(v=x,x=w,w=v),T||A<so?T?x+w>0^_[1]<(mo(_[0]-M)<so?x:w):x<=_[1]&&_[1]<=w:A>co^(M<=_[0]&&_[0]<=b)){var L=es(d,(-f+y)/m);return ts(L,p),[_,Zo(L)]}}}function s(e,n){var r=i?t:co-t,a=0;return e<-r?a|=1:e>r&&(a|=2),n<-r?a|=4:n>r&&(a|=8),a}return _c(a,(function(t){var e,n,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(h,p){var d,f=[h,p],m=a(h,p),g=i?m?0:s(h,p):m?s(h+(h<0?co:-co),p):0;if(!e&&(l=c=m)&&t.lineStart(),m!==c&&(!(d=o(e,f))||pc(e,d)||pc(f,d))&&(f[0]+=so,f[1]+=so,m=a(f[0],f[1])),m!==c)u=0,m?(t.lineStart(),d=o(f,e),t.point(d[0],d[1])):(d=o(e,f),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(r&&e&&i^m){var y;g&n||!(y=o(f,e,!0))||(u=0,i?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&pc(e,f)||t.point(f[0],f[1]),e=f,c=m,n=g},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return u|(l&&c)<<1}}}),(function(e,i,r,a){cc(a,t,n,r,e,i)}),i?[0,-t]:[-co,t-co])},wc=1e9,Ac=-wc;function Tc(t,e,n,i){function r(r,a){return t<=r&&r<=n&&e<=a&&a<=i}function a(r,a,s,l){var u=0,h=0;if(null==r||(u=o(r,s))!==(h=o(a,s))||c(r,a)<0^s>0)do{l.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+s+4)%4)!==h);else l.point(a[0],a[1])}function o(i,r){return mo(i[0]-t)<so?r>0?0:3:mo(i[0]-n)<so?r>0?2:1:mo(i[1]-e)<so?r>0?1:0:r>0?3:2}function s(t,e){return c(t.x,e.x)}function c(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var c,l,u,h,p,d,f,m,g,y,_,v=o,M=hc(),b={point:x,lineStart:function(){b.point=w,l&&l.push(u=[]);y=!0,g=!1,f=m=NaN},lineEnd:function(){c&&(w(h,p),d&&g&&M.rejoin(),c.push(M.result()));b.point=x,g&&v.lineEnd()},polygonStart:function(){v=M,c=[],l=[],_=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=l.length;n<r;++n)for(var a,o,s=l[n],c=1,u=s.length,h=s[0],p=h[0],d=h[1];c<u;++c)a=p,o=d,p=(h=s[c])[0],d=h[1],o<=i?d>i&&(p-a)*(i-o)>(d-o)*(t-a)&&++e:d<=i&&(p-a)*(i-o)<(d-o)*(t-a)&&--e;return e}(),n=_&&e,r=(c=V(c)).length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),r&&fc(c,s,e,a,o),o.polygonEnd());v=o,c=l=u=null}};function x(t,e){r(t,e)&&v.point(t,e)}function w(a,o){var s=r(a,o);if(l&&u.push([a,o]),y)h=a,p=o,d=s,y=!1,s&&(v.lineStart(),v.point(a,o));else if(s&&g)v.point(a,o);else{var c=[f=Math.max(Ac,Math.min(wc,f)),m=Math.max(Ac,Math.min(wc,m))],M=[a=Math.max(Ac,Math.min(wc,a)),o=Math.max(Ac,Math.min(wc,o))];!function(t,e,n,i,r,a){var o,s=t[0],c=t[1],l=0,u=1,h=e[0]-s,p=e[1]-c;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<u&&(u=o)}else if(h>0){if(o>u)return;o>l&&(l=o)}if(o=r-s,h||!(o<0)){if(o/=h,h<0){if(o>u)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<u&&(u=o)}if(o=i-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<u&&(u=o)}else if(p>0){if(o>u)return;o>l&&(l=o)}if(o=a-c,p||!(o<0)){if(o/=p,p<0){if(o>u)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<u&&(u=o)}return l>0&&(t[0]=s+l*h,t[1]=c+l*p),u<1&&(e[0]=s+u*h,e[1]=c+u*p),!0}}}}}(c,M,t,e,n,i)?s&&(v.lineStart(),v.point(a,o),_=!1):(g||(v.lineStart(),v.point(c[0],c[1])),v.point(M[0],M[1]),s||v.lineEnd(),_=!1)}f=a,m=o,g=s}return b}}var Lc,Sc,kc,Oc=function(){var t,e,n,i=0,r=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=Tc(i,r,a,o)(e=n)},extent:function(s){return arguments.length?(i=+s[0][0],r=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[i,r],[a,o]]}}},zc=io(),Cc={sphere:zo,point:zo,lineStart:function(){Cc.point=Dc,Cc.lineEnd=Ec},lineEnd:zo,polygonStart:zo,polygonEnd:zo};function Ec(){Cc.point=Cc.lineEnd=zo}function Dc(t,e){Lc=t*=fo,Sc=wo(e*=fo),kc=_o(e),Cc.point=Nc}function Nc(t,e){t*=fo;var n=wo(e*=fo),i=_o(e),r=mo(t-Lc),a=_o(r),o=i*wo(r),s=kc*n-Sc*i*a,c=Sc*n+kc*i*a;zc.add(yo(To(o*o+s*s),c)),Lc=t,Sc=n,kc=i}var Ic=function(t){return zc.reset(),Wo(t,Cc),+zc},Pc=[null,null],Bc={type:"LineString",coordinates:Pc},Rc=function(t,e){return Pc[0]=t,Pc[1]=e,Ic(Bc)},qc={Feature:function(t,e){return Wc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Wc(n[i].geometry,e))return!0;return!1}},Yc={Sphere:function(){return!0},Point:function(t,e){return jc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(jc(n[i],e))return!0;return!1},LineString:function(t,e){return Fc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Fc(n[i],e))return!0;return!1},Polygon:function(t,e){return Hc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Hc(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Wc(n[i],e))return!0;return!1}};function Wc(t,e){return!(!t||!Yc.hasOwnProperty(t.type))&&Yc[t.type](t,e)}function jc(t,e){return 0===Rc(t,e)}function Fc(t,e){var n=Rc(t[0],t[1]);return Rc(t[0],e)+Rc(e,t[1])<=n+so}function Hc(t,e){return!!yc(t.map(Uc),Xc(e))}function Uc(t){return(t=t.map(Xc)).pop(),t}function Xc(t){return[t[0]*fo,t[1]*fo]}var Vc=function(t,e){return(t&&qc.hasOwnProperty(t.type)?qc[t.type]:Wc)(t,e)};function Gc(t,e,n){var i=E(t,e-so,n).concat(e);return function(t){return i.map((function(e){return[t,e]}))}}function Kc(t,e,n){var i=E(t,e-so,n).concat(e);return function(t){return i.map((function(e){return[e,t]}))}}function Zc(){var t,e,n,i,r,a,o,s,c,l,u,h,p=10,d=p,f=90,m=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return E(vo(i/f)*f,n,f).map(u).concat(E(vo(s/m)*m,o,m).map(h)).concat(E(vo(e/p)*p,t,p).filter((function(t){return mo(t%f)>so})).map(c)).concat(E(vo(a/d)*d,r,d).filter((function(t){return mo(t%m)>so})).map(l))}return y.lines=function(){return _().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(i).concat(h(o).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],i>n&&(t=i,i=n,n=t),s>o&&(t=s,s=o,o=t),y.precision(g)):[[i,s],[n,o]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),a>r&&(n=a,a=r,r=n),y.precision(g)):[[e,a],[t,r]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(f=+t[0],m=+t[1],y):[f,m]},y.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(p){return arguments.length?(g=+p,c=Gc(a,r,90),l=Kc(e,t,g),u=Gc(s,o,90),h=Kc(i,n,g),y):g},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Jc(){return Zc()()}var Qc,$c,tl,el,nl=function(t,e){var n=t[0]*fo,i=t[1]*fo,r=e[0]*fo,a=e[1]*fo,o=_o(i),s=wo(i),c=_o(a),l=wo(a),u=o*_o(n),h=o*wo(n),p=c*_o(r),d=c*wo(r),f=2*ko(To(Oo(a-i)+o*c*Oo(r-n))),m=wo(f),g=f?function(t){var e=wo(t*=f)/m,n=wo(f-t)/m,i=n*u+e*p,r=n*h+e*d,a=n*s+e*l;return[yo(r,i)*po,yo(a,To(i*i+r*r))*po]}:function(){return[n*po,i*po]};return g.distance=f,g},il=function(t){return t},rl=io(),al=io(),ol={point:zo,lineStart:zo,lineEnd:zo,polygonStart:function(){ol.lineStart=sl,ol.lineEnd=ul},polygonEnd:function(){ol.lineStart=ol.lineEnd=ol.point=zo,rl.add(mo(al)),al.reset()},result:function(){var t=rl/2;return rl.reset(),t}};function sl(){ol.point=cl}function cl(t,e){ol.point=ll,Qc=tl=t,$c=el=e}function ll(t,e){al.add(el*t-tl*e),tl=t,el=e}function ul(){ll(Qc,$c)}var hl=ol,pl=1/0,dl=pl,fl=-pl,ml=fl;var gl,yl,_l,vl,Ml={point:function(t,e){t<pl&&(pl=t);t>fl&&(fl=t);e<dl&&(dl=e);e>ml&&(ml=e)},lineStart:zo,lineEnd:zo,polygonStart:zo,polygonEnd:zo,result:function(){var t=[[pl,dl],[fl,ml]];return fl=ml=-(dl=pl=1/0),t}},bl=0,xl=0,wl=0,Al=0,Tl=0,Ll=0,Sl=0,kl=0,Ol=0,zl={point:Cl,lineStart:El,lineEnd:Il,polygonStart:function(){zl.lineStart=Pl,zl.lineEnd=Bl},polygonEnd:function(){zl.point=Cl,zl.lineStart=El,zl.lineEnd=Il},result:function(){var t=Ol?[Sl/Ol,kl/Ol]:Ll?[Al/Ll,Tl/Ll]:wl?[bl/wl,xl/wl]:[NaN,NaN];return bl=xl=wl=Al=Tl=Ll=Sl=kl=Ol=0,t}};function Cl(t,e){bl+=t,xl+=e,++wl}function El(){zl.point=Dl}function Dl(t,e){zl.point=Nl,Cl(_l=t,vl=e)}function Nl(t,e){var n=t-_l,i=e-vl,r=To(n*n+i*i);Al+=r*(_l+t)/2,Tl+=r*(vl+e)/2,Ll+=r,Cl(_l=t,vl=e)}function Il(){zl.point=Cl}function Pl(){zl.point=Rl}function Bl(){ql(gl,yl)}function Rl(t,e){zl.point=ql,Cl(gl=_l=t,yl=vl=e)}function ql(t,e){var n=t-_l,i=e-vl,r=To(n*n+i*i);Al+=r*(_l+t)/2,Tl+=r*(vl+e)/2,Ll+=r,Sl+=(r=vl*t-_l*e)*(_l+t),kl+=r*(vl+e),Ol+=3*r,Cl(_l=t,vl=e)}var Yl=zl;function Wl(t){this._context=t}Wl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ho)}},result:zo};var jl,Fl,Hl,Ul,Xl,Vl=io(),Gl={point:zo,lineStart:function(){Gl.point=Kl},lineEnd:function(){jl&&Zl(Fl,Hl),Gl.point=zo},polygonStart:function(){jl=!0},polygonEnd:function(){jl=null},result:function(){var t=+Vl;return Vl.reset(),t}};function Kl(t,e){Gl.point=Zl,Fl=Ul=t,Hl=Xl=e}function Zl(t,e){Ul-=t,Xl-=e,Vl.add(To(Ul*Ul+Xl*Xl)),Ul=t,Xl=e}var Jl=Gl;function Ql(){this._string=[]}function $l(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Ql.prototype={_radius:4.5,_circle:$l(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=$l(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var tu=function(t,e){var n,i,r=4.5;function a(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),Wo(t,n(i))),i.result()}return a.area=function(t){return Wo(t,n(hl)),hl.result()},a.measure=function(t){return Wo(t,n(Jl)),Jl.result()},a.bounds=function(t){return Wo(t,n(Ml)),Ml.result()},a.centroid=function(t){return Wo(t,n(Yl)),Yl.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,il):(t=e).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(e=null,new Ql):new Wl(e=t),"function"!=typeof r&&i.pointRadius(r),a):e},a.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),a):r},a.projection(t).context(e)},eu=function(t){return{stream:nu(t)}};function nu(t){return function(e){var n=new iu;for(var i in t)n[i]=t[i];return n.stream=e,n}}function iu(){}function ru(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Wo(n,t.stream(Ml)),e(Ml.result()),null!=i&&t.clipExtent(i),t}function au(t,e,n){return ru(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],a=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),o=+e[0][0]+(i-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(r-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}function ou(t,e,n){return au(t,[[0,0],e],n)}function su(t,e,n){return ru(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),a=(i-r*(n[1][0]+n[0][0]))/2,o=-r*n[0][1];t.scale(150*r).translate([a,o])}),n)}function cu(t,e,n){return ru(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),a=-r*n[0][0],o=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([a,o])}),n)}iu.prototype={constructor:iu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lu=_o(30*fo),uu=function(t,e){return+e?function(t,e){function n(i,r,a,o,s,c,l,u,h,p,d,f,m,g){var y=l-i,_=u-r,v=y*y+_*_;if(v>4*e&&m--){var M=o+p,b=s+d,x=c+f,w=To(M*M+b*b+x*x),A=ko(x/=w),T=mo(mo(x)-1)<so||mo(a-h)<so?(a+h)/2:yo(b,M),L=t(T,A),S=L[0],k=L[1],O=S-i,z=k-r,C=_*O-y*z;(C*C/v>e||mo((y*O+_*z)/v-.5)>.3||o*p+s*d+c*f<lu)&&(n(i,r,a,o,s,c,S,k,T,M/=w,b/=w,x,m,g),g.point(S,k),n(S,k,T,M,b,x,l,u,h,p,d,f,m,g))}}return function(e){var i,r,a,o,s,c,l,u,h,p,d,f,m={point:g,lineStart:y,lineEnd:v,polygonStart:function(){e.polygonStart(),m.lineStart=M},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function g(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){u=NaN,m.point=_,e.lineStart()}function _(i,r){var a=Jo([i,r]),o=t(i,r);n(u,h,l,p,d,f,u=o[0],h=o[1],l=i,p=a[0],d=a[1],f=a[2],16,e),e.point(u,h)}function v(){m.point=g,e.lineEnd()}function M(){y(),m.point=b,m.lineEnd=x}function b(t,e){_(i=t,e),r=u,a=h,o=p,s=d,c=f,m.point=_}function x(){n(u,h,l,p,d,f,r,a,i,o,s,c,16,e),m.lineEnd=v,v()}return m}}(t,e):function(t){return nu({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var hu=nu({point:function(t,e){this.stream.point(t*fo,e*fo)}});function pu(t){return du((function(){return t}))()}function du(t){var e,n,i,r,a,o,s,c,l,u,h=150,p=480,d=250,f=0,m=0,g=0,y=0,_=0,v=null,M=bc,b=null,x=il,w=.5,A=uu(S,w);function T(t){return[(t=a(t[0]*fo,t[1]*fo))[0]*h+n,i-t[1]*h]}function L(t){return(t=a.invert((t[0]-n)/h,(i-t[1])/h))&&[t[0]*po,t[1]*po]}function S(t,r){return[(t=e(t,r))[0]*h+n,i-t[1]*h]}function k(){a=ec(r=ic(g,y,_),e);var t=e(f,m);return n=p-t[0]*h,i=d+t[1]*h,O()}function O(){return l=u=null,T}return T.stream=function(t){return l&&u===t?l:l=hu(function(t){return nu({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(r)(M(A(x(u=t)))))},T.preclip=function(t){return arguments.length?(M=t,v=void 0,O()):M},T.postclip=function(t){return arguments.length?(x=t,b=o=s=c=null,O()):x},T.clipAngle=function(t){return arguments.length?(M=+t?xc(v=t*fo):(v=null,bc),O()):v*po},T.clipExtent=function(t){return arguments.length?(x=null==t?(b=o=s=c=null,il):Tc(b=+t[0][0],o=+t[0][1],s=+t[1][0],c=+t[1][1]),O()):null==b?null:[[b,o],[s,c]]},T.scale=function(t){return arguments.length?(h=+t,k()):h},T.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],k()):[p,d]},T.center=function(t){return arguments.length?(f=t[0]%360*fo,m=t[1]%360*fo,k()):[f*po,m*po]},T.rotate=function(t){return arguments.length?(g=t[0]%360*fo,y=t[1]%360*fo,_=t.length>2?t[2]%360*fo:0,k()):[g*po,y*po,_*po]},T.precision=function(t){return arguments.length?(A=uu(S,w=t*t),O()):To(w)},T.fitExtent=function(t,e){return au(T,t,e)},T.fitSize=function(t,e){return ou(T,t,e)},T.fitWidth=function(t,e){return su(T,t,e)},T.fitHeight=function(t,e){return cu(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&L,k()}}function fu(t){var e=0,n=co/3,i=du(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*fo,n=t[1]*fo):[e*po,n*po]},r}function mu(t,e){var n=wo(t),i=(n+wo(e))/2;if(mo(i)<so)return function(t){var e=_o(t);function n(t,n){return[t*e,wo(n)/e]}return n.invert=function(t,n){return[t/e,ko(n*e)]},n}(t);var r=1+n*(2*i-n),a=To(r)/i;function o(t,e){var n=To(r-2*i*wo(e))/i;return[n*wo(t*=i),a-n*_o(t)]}return o.invert=function(t,e){var n=a-e;return[yo(t,mo(n))/i*Ao(n),ko((r-(t*t+n*n)*i*i)/(2*i))]},o}var gu=function(){return fu(mu).scale(155.424).center([0,33.6442])},yu=function(){return gu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var _u=function(){var t,e,n,i,r,a,o=yu(),s=gu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=gu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){a=[t,e]}};function u(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(i.point(e,o),a)||(r.point(e,o),a)}function h(){return t=e=null,u}return u.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?s:r>=.166&&r<.234&&i>=-.214&&i<-.115?c:o).invert(t)},u.stream=function(n){return t&&e===n?t:(i=[o.stream(e=n),s.stream(n),c.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},u.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),c.precision(t),h()):o.precision()},u.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),c.scale(t),u.translate(o.translate())):o.scale()},u.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],u=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,u-.238*e],[a+.455*e,u+.238*e]]).stream(l),i=s.translate([a-.307*e,u+.201*e]).clipExtent([[a-.425*e+so,u+.12*e+so],[a-.214*e-so,u+.234*e-so]]).stream(l),r=c.translate([a-.205*e,u+.212*e]).clipExtent([[a-.214*e+so,u+.166*e+so],[a-.115*e-so,u+.234*e-so]]).stream(l),h()},u.fitExtent=function(t,e){return au(u,t,e)},u.fitSize=function(t,e){return ou(u,t,e)},u.fitWidth=function(t,e){return su(u,t,e)},u.fitHeight=function(t,e){return cu(u,t,e)},u.scale(1070)};function vu(t){return function(e,n){var i=_o(e),r=_o(n),a=t(i*r);return[a*r*wo(e),a*wo(n)]}}function Mu(t){return function(e,n){var i=To(e*e+n*n),r=t(i),a=wo(r),o=_o(r);return[yo(e*a,i*o),ko(i&&n*a/i)]}}var bu=vu((function(t){return To(2/(1+t))}));bu.invert=Mu((function(t){return 2*ko(t/2)}));var xu=function(){return pu(bu).scale(124.75).clipAngle(179.999)},wu=vu((function(t){return(t=So(t))&&t/wo(t)}));wu.invert=Mu((function(t){return t}));var Au=function(){return pu(wu).scale(79.4188).clipAngle(179.999)};function Tu(t,e){return[t,bo(Lo((lo+e)/2))]}Tu.invert=function(t,e){return[t,2*go(Mo(e))-lo]};var Lu=function(){return Su(Tu).scale(961/ho)};function Su(t){var e,n,i,r=pu(t),a=r.center,o=r.scale,s=r.translate,c=r.clipExtent,l=null;function u(){var a=co*o(),s=r(sc(r.rotate()).invert([0,0]));return c(null==l?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===Tu?[[Math.max(s[0]-a,l),e],[Math.min(s[0]+a,n),i]]:[[l,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,i)]])}return r.scale=function(t){return arguments.length?(o(t),u()):o()},r.translate=function(t){return arguments.length?(s(t),u()):s()},r.center=function(t){return arguments.length?(a(t),u()):a()},r.clipExtent=function(t){return arguments.length?(null==t?l=e=n=i=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),u()):null==l?null:[[l,e],[n,i]]},u()}function ku(t){return Lo((lo+t)/2)}function Ou(t,e){var n=_o(t),i=t===e?wo(t):bo(n/_o(e))/bo(ku(e)/ku(t)),r=n*xo(ku(t),i)/i;if(!i)return Tu;function a(t,e){r>0?e<-lo+so&&(e=-lo+so):e>lo-so&&(e=lo-so);var n=r/xo(ku(e),i);return[n*wo(i*t),r-n*_o(i*t)]}return a.invert=function(t,e){var n=r-e,a=Ao(i)*To(t*t+n*n);return[yo(t,mo(n))/i*Ao(n),2*go(xo(r/a,1/i))-lo]},a}var zu=function(){return fu(Ou).scale(109.5).parallels([30,30])};function Cu(t,e){return[t,e]}Cu.invert=Cu;var Eu=function(){return pu(Cu).scale(152.63)};function Du(t,e){var n=_o(t),i=t===e?wo(t):(n-_o(e))/(e-t),r=n/i+t;if(mo(i)<so)return Cu;function a(t,e){var n=r-e,a=i*t;return[n*wo(a),r-n*_o(a)]}return a.invert=function(t,e){var n=r-e;return[yo(t,mo(n))/i*Ao(n),r-Ao(i)*To(t*t+n*n)]},a}var Nu=function(){return fu(Du).scale(131.154).center([0,13.9389])};function Iu(t,e){var n=_o(e),i=_o(t)*n;return[n*wo(t)/i,wo(e)/i]}Iu.invert=Mu(go);var Pu=function(){return pu(Iu).scale(144.049).clipAngle(60)};function Bu(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?il:nu({point:function(r,a){this.stream.point(r*t+n,a*e+i)}})}var Ru=function(){var t,e,n,i,r,a,o=1,s=0,c=0,l=1,u=1,h=il,p=null,d=il;function f(){return i=r=null,a}return a={stream:function(t){return i&&r===t?i:i=h(d(r=t))},postclip:function(i){return arguments.length?(d=i,p=t=e=n=null,f()):d},clipExtent:function(i){return arguments.length?(d=null==i?(p=t=e=n=null,il):Tc(p=+i[0][0],t=+i[0][1],e=+i[1][0],n=+i[1][1]),f()):null==p?null:[[p,t],[e,n]]},scale:function(t){return arguments.length?(h=Bu((o=+t)*l,o*u,s,c),f()):o},translate:function(t){return arguments.length?(h=Bu(o*l,o*u,s=+t[0],c=+t[1]),f()):[s,c]},reflectX:function(t){return arguments.length?(h=Bu(o*(l=t?-1:1),o*u,s,c),f()):l<0},reflectY:function(t){return arguments.length?(h=Bu(o*l,o*(u=t?-1:1),s,c),f()):u<0},fitExtent:function(t,e){return au(a,t,e)},fitSize:function(t,e){return ou(a,t,e)},fitWidth:function(t,e){return su(a,t,e)},fitHeight:function(t,e){return cu(a,t,e)}}};function qu(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}qu.invert=function(t,e){var n,i=e,r=25;do{var a=i*i,o=a*a;i-=n=(i*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(mo(n)>so&&--r>0);return[t/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]};var Yu=function(){return pu(qu).scale(175.295)};function Wu(t,e){return[_o(e)*wo(t),wo(e)]}Wu.invert=Mu(ko);var ju=function(){return pu(Wu).scale(249.5).clipAngle(90.000001)};function Fu(t,e){var n=_o(e),i=1+_o(t)*n;return[n*wo(t)/i,wo(e)/i]}Fu.invert=Mu((function(t){return 2*go(t)}));var Hu=function(){return pu(Fu).scale(250).clipAngle(142)};function Uu(t,e){return[bo(Lo((lo+e)/2)),-t]}Uu.invert=function(t,e){return[-e,2*go(Mo(t))-lo]};var Xu=function(){var t=Su(Uu),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function Vu(t,e){return t.parent===e.parent?1:2}function Gu(t,e){return t+e.x}function Ku(t,e){return Math.max(t,e.y)}var Zu=function(){var t=Vu,e=1,n=1,i=!1;function r(r){var a,o=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Gu,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Ku,0)}(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(r),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),l=s.x-t(s,c)/2,u=c.x+t(c,s)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-l)/(u-l)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r};function Ju(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Qu(t,e){var n,i,r,a,o,s=new nh(t),c=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=$u);n=l.pop();)if(c&&(n.value=+n.data.value),(r=e(n.data))&&(o=r.length))for(n.children=new Array(o),a=o-1;a>=0;--a)l.push(i=n.children[a]=new nh(r[a])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(eh)}function $u(t){return t.children}function th(t){t.data=t.data.data}function eh(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function nh(t){this.data=t,this.depth=this.height=0,this.parent=null}nh.prototype=Qu.prototype={constructor:nh,count:function(){return this.eachAfter(Ju)},each:function(t){var e,n,i,r,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(i=0,r=n.length;i<r;++i)o.push(n[i])}while(o.length);return this},eachAfter:function(t){for(var e,n,i,r=this,a=[r],o=[];r=a.pop();)if(o.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)a.push(e[n]);for(;r=o.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Qu(this).eachBefore(th)}};var ih=Array.prototype.slice;var rh=function(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(ih.call(t))).length,a=[];i<r;)e=t[i],n&&sh(n,e)?++i:(n=lh(a=ah(a,e)),i=0);return n};function ah(t,e){var n,i;if(ch(e,t))return[e];for(n=0;n<t.length;++n)if(oh(e,t[n])&&ch(uh(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(oh(uh(t[n],t[i]),e)&&oh(uh(t[n],e),t[i])&&oh(uh(t[i],e),t[n])&&ch(hh(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function oh(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function sh(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function ch(t,e){for(var n=0;n<e.length;++n)if(!sh(t,e[n]))return!1;return!0}function lh(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return uh(t[0],t[1]);case 3:return hh(t[0],t[1],t[2])}var e}function uh(t,e){var n=t.x,i=t.y,r=t.r,a=e.x,o=e.y,s=e.r,c=a-n,l=o-i,u=s-r,h=Math.sqrt(c*c+l*l);return{x:(n+a+c/h*u)/2,y:(i+o+l/h*u)/2,r:(h+r+s)/2}}function hh(t,e,n){var i=t.x,r=t.y,a=t.r,o=e.x,s=e.y,c=e.r,l=n.x,u=n.y,h=n.r,p=i-o,d=i-l,f=r-s,m=r-u,g=c-a,y=h-a,_=i*i+r*r-a*a,v=_-o*o-s*s+c*c,M=_-l*l-u*u+h*h,b=d*f-p*m,x=(f*M-m*v)/(2*b)-i,w=(m*g-f*y)/b,A=(d*v-p*M)/(2*b)-r,T=(p*y-d*g)/b,L=w*w+T*T-1,S=2*(a+x*w+A*T),k=x*x+A*A-a*a,O=-(L?(S+Math.sqrt(S*S-4*L*k))/(2*L):k/S);return{x:i+x+w*O,y:r+A+T*O,r:O}}function ph(t,e,n){var i=t.x,r=t.y,a=e.r+n.r,o=t.r+n.r,s=e.x-i,c=e.y-r,l=s*s+c*c;if(l){var u=.5+((o*=o)-(a*=a))/(2*l),h=Math.sqrt(Math.max(0,2*a*(o+l)-(o-=l)*o-a*a))/(2*l);n.x=i+u*s+h*c,n.y=r+u*c-h*s}else n.x=i+o,n.y=r}function dh(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r-1e-6>n*n+i*i}function fh(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,a=(e.y*n.r+n.y*e.r)/i;return r*r+a*a}function mh(t){this._=t,this.next=null,this.previous=null}function gh(t){if(!(r=t.length))return 0;var e,n,i,r,a,o,s,c,l,u,h;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;ph(n,e,i=t[2]),e=new mh(e),n=new mh(n),i=new mh(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){ph(e._,n._,i=t[s]),i=new mh(i),c=n.next,l=e.previous,u=n._.r,h=e._.r;do{if(u<=h){if(dh(c._,i._)){n=c,e.next=n,n.previous=e,--s;continue t}u+=c._.r,c=c.next}else{if(dh(l._,i._)){(e=l).next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(c!==l.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,a=fh(e);(i=i.next)!==n;)(o=fh(i))<a&&(e=i,a=o);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=rh(e),s=0;s<r;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}var yh=function(t){return gh(t),t};function _h(t){return null==t?null:vh(t)}function vh(t){if("function"!=typeof t)throw new Error;return t}function Mh(){return 0}var bh=function(t){return function(){return t}};function xh(t){return Math.sqrt(t.value)}var wh=function(){var t=null,e=1,n=1,i=Mh;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(Ah(t)).eachAfter(Th(i,.5)).eachBefore(Lh(1)):r.eachBefore(Ah(xh)).eachAfter(Th(Mh,1)).eachAfter(Th(i,r.r/Math.min(e,n))).eachBefore(Lh(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=_h(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:bh(+t),r):i},r};function Ah(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Th(t,e){return function(n){if(i=n.children){var i,r,a,o=i.length,s=t(n)*e||0;if(s)for(r=0;r<o;++r)i[r].r+=s;if(a=gh(i),s)for(r=0;r<o;++r)i[r].r-=s;n.r=a+s}}}function Lh(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var Sh=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},kh=function(t,e,n,i,r){for(var a,o=t.children,s=-1,c=o.length,l=t.value&&(i-e)/t.value;++s<c;)(a=o[s]).y0=n,a.y1=r,a.x0=e,a.x1=e+=a.value*l},Oh=function(){var t=1,e=1,n=0,i=!1;function r(r){var a=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/a,r.eachBefore(function(t,e){return function(i){i.children&&kh(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,a=i.y0,o=i.x1-n,s=i.y1-n;o<r&&(r=o=(r+o)/2),s<a&&(a=s=(a+s)/2),i.x0=r,i.y0=a,i.x1=o,i.y1=s}}(e,a)),i&&r.eachBefore(Sh),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},zh={depth:-1},Ch={};function Eh(t){return t.id}function Dh(t){return t.parentId}var Nh=function(){var t=Eh,e=Dh;function n(n){var i,r,a,o,s,c,l,u=n.length,h=new Array(u),p={};for(r=0;r<u;++r)i=n[r],s=h[r]=new nh(i),null!=(c=t(i,r,n))&&(c+="")&&(p[l="$"+(s.id=c)]=l in p?Ch:s);for(r=0;r<u;++r)if(s=h[r],null!=(c=e(n[r],r,n))&&(c+="")){if(!(o=p["$"+c]))throw new Error("missing: "+c);if(o===Ch)throw new Error("ambiguous: "+c);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=zh,a.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(eh),a.parent=null,u>0)throw new Error("cycle");return a}return n.id=function(e){return arguments.length?(t=vh(e),n):t},n.parentId=function(t){return arguments.length?(e=vh(t),n):e},n};function Ih(t,e){return t.parent===e.parent?1:2}function Ph(t){var e=t.children;return e?e[0]:t.t}function Bh(t){var e=t.children;return e?e[e.length-1]:t.t}function Rh(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function qh(t,e,n){return t.a.parent===e.parent?t.a:n}function Yh(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Yh.prototype=Object.create(nh.prototype);var Wh=function(){var t=Ih,e=1,n=1,i=null;function r(r){var c=function(t){for(var e,n,i,r,a,o=new Yh(t,0),s=[o];e=s.pop();)if(i=e._.children)for(e.children=new Array(a=i.length),r=a-1;r>=0;--r)s.push(n=e.children[r]=new Yh(i[r],r)),n.parent=e;return(o.parent=new Yh(null,0)).children=[o],o}(r);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),i)r.eachBefore(s);else{var l=r,u=r,h=r;r.eachBefore((function(t){t.x<l.x&&(l=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var p=l===u?1:t(l,u)/2,d=p-l.x,f=e/(u.x+p+d),m=n/(h.depth||1);r.eachBefore((function(t){t.x=(t.x+d)*f,t.y=t.depth*m}))}return r}function a(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)(e=r[a]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-a):e.z=a}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,a=e,o=e,s=n,c=a.parent.children[0],l=a.m,u=o.m,h=s.m,p=c.m;s=Bh(s),a=Ph(a),s&&a;)c=Ph(c),(o=Bh(o)).a=e,(r=s.z+h-a.z-l+t(s._,a._))>0&&(Rh(qh(s,e,i),e,r),l+=r,u+=r),h+=s.m,l+=a.m,p+=c.m,u+=o.m;s&&!Bh(o)&&(o.t=s,o.m+=h-u),a&&!Ph(c)&&(c.t=a,c.m+=l-p,i=e)}return i}(e,r,e.parent.A||i[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},jh=function(t,e,n,i,r){for(var a,o=t.children,s=-1,c=o.length,l=t.value&&(r-n)/t.value;++s<c;)(a=o[s]).x0=e,a.x1=i,a.y0=n,a.y1=n+=a.value*l},Fh=(1+Math.sqrt(5))/2;function Hh(t,e,n,i,r,a){for(var o,s,c,l,u,h,p,d,f,m,g,y=[],_=e.children,v=0,M=0,b=_.length,x=e.value;v<b;){c=r-n,l=a-i;do{u=_[M++].value}while(!u&&M<b);for(h=p=u,g=u*u*(m=Math.max(l/c,c/l)/(x*t)),f=Math.max(p/g,g/h);M<b;++M){if(u+=s=_[M].value,s<h&&(h=s),s>p&&(p=s),g=u*u*m,(d=Math.max(p/g,g/h))>f){u-=s;break}f=d}y.push(o={value:u,dice:c<l,children:_.slice(v,M)}),o.dice?kh(o,n,i,r,x?i+=l*u/x:a):jh(o,n,i,x?n+=c*u/x:r,a),x-=u,v=M}return y}var Uh=function t(e){function n(t,n,i,r,a){Hh(e,t,n,i,r,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Fh),Xh=function(){var t=Uh,e=!1,n=1,i=1,r=[0],a=Mh,o=Mh,s=Mh,c=Mh,l=Mh;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(h),r=[0],e&&t.eachBefore(Sh),t}function h(e){var n=r[e.depth],i=e.x0+n,u=e.y0+n,h=e.x1-n,p=e.y1-n;h<i&&(i=h=(i+h)/2),p<u&&(u=p=(u+p)/2),e.x0=i,e.y0=u,e.x1=h,e.y1=p,e.children&&(n=r[e.depth+1]=a(e)/2,i+=l(e)-n,u+=o(e)-n,(h-=s(e)-n)<i&&(i=h=(i+h)/2),(p-=c(e)-n)<u&&(u=p=(u+p)/2),t(e,i,u,h,p))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],i=+t[1],u):[n,i]},u.tile=function(e){return arguments.length?(t=vh(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:bh(+t),u):a},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:bh(+t),u):o},u.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:bh(+t),u):s},u.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:bh(+t),u):c},u.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:bh(+t),u):l},u},Vh=function(t,e,n,i,r){var a,o,s=t.children,c=s.length,l=new Array(c+1);for(l[0]=o=a=0;a<c;++a)l[a+1]=o+=s[a].value;!function t(e,n,i,r,a,o,c){if(e>=n-1){var u=s[e];return u.x0=r,u.y0=a,u.x1=o,void(u.y1=c)}var h=l[e],p=i/2+h,d=e+1,f=n-1;for(;d<f;){var m=d+f>>>1;l[m]<p?d=m+1:f=m}p-l[d-1]<l[d]-p&&e+1<d&&--d;var g=l[d]-h,y=i-g;if(o-r>c-a){var _=(r*y+o*g)/i;t(e,d,g,r,a,_,c),t(d,n,y,_,a,o,c)}else{var v=(a*y+c*g)/i;t(e,d,g,r,a,o,v),t(d,n,y,r,v,o,c)}}(0,c,t.value,e,n,i,r)},Gh=function(t,e,n,i,r){(1&t.depth?jh:kh)(t,e,n,i,r)},Kh=function t(e){function n(t,n,i,r,a){if((o=t._squarify)&&o.ratio===e)for(var o,s,c,l,u,h=-1,p=o.length,d=t.value;++h<p;){for(c=(s=o[h]).children,l=s.value=0,u=c.length;l<u;++l)s.value+=c[l].value;s.dice?kh(s,n,i,r,i+=(a-i)*s.value/d):jh(s,n,i,n+=(r-n)*s.value/d,a),d-=s.value}else t._squarify=o=Hh(e,t,n,i,r,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Fh),Zh=function(t){for(var e,n=-1,i=t.length,r=t[i-1],a=0;++n<i;)e=r,r=t[n],a+=e[1]*r[0]-e[0]*r[1];return a/2},Jh=function(t){for(var e,n,i=-1,r=t.length,a=0,o=0,s=t[r-1],c=0;++i<r;)e=s,s=t[i],c+=n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a/(c*=3),o/c]};function Qh(t,e){return t[0]-e[0]||t[1]-e[1]}function $h(t){for(var e,n,i,r=t.length,a=[0,1],o=2,s=2;s<r;++s){for(;o>1&&(e=t[a[o-2]],n=t[a[o-1]],i=t[s],(n[0]-e[0])*(i[1]-e[1])-(n[1]-e[1])*(i[0]-e[0])<=0);)--o;a[o++]=s}return a.slice(0,o)}var tp=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(Qh),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var a=$h(i),o=$h(r),s=o[0]===a[0],c=o[o.length-1]===a[a.length-1],l=[];for(e=a.length-1;e>=0;--e)l.push(t[i[a[e]][2]]);for(e=+s;e<o.length-c;++e)l.push(t[i[o[e]][2]]);return l},ep=function(t,e){for(var n,i,r=t.length,a=t[r-1],o=e[0],s=e[1],c=a[0],l=a[1],u=!1,h=0;h<r;++h)n=(a=t[h])[0],(i=a[1])>s!=l>s&&o<(c-n)*(s-i)/(l-i)+n&&(u=!u),c=n,l=i;return u},np=function(t){for(var e,n,i=-1,r=t.length,a=t[r-1],o=a[0],s=a[1],c=0;++i<r;)e=o,n=s,e-=o=(a=t[i])[0],n-=s=a[1],c+=Math.sqrt(e*e+n*n);return c},ip=[].slice,rp={};function ap(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function op(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=sp(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||rp)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])cp(t,e);else if(!t._data)throw e}}function sp(t,e){return function(n,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?cp(t,n):(t._data[e]=i,t._waiting?op(t):lp(t))))}}function cp(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--i>=0;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,lp(t)}function lp(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function up(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new ap(t)}ap.prototype=up.prototype={constructor:ap,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=ip.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),op(this),this},abort:function(){return null==this._error&&cp(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},lp(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,lp(this),this}};var hp=function(){return Math.random()},pp=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(hp),dp=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var a;if(null!=i)a=i,i=null;else do{i=2*e()-1,a=2*e()-1,r=i*i+a*a}while(!r||r>1);return t+n*a*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(hp),fp=function t(e){function n(){var t=dp.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(hp),mp=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(hp),gp=function t(e){function n(t){var n=mp.source(e)(t);return function(){return n()/t}}return n.source=t,n}(hp),yp=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(hp),_p=function(t,e){var n,i,r,a,o=bt("beforesend","progress","load","error"),s=Wr(),c=new XMLHttpRequest,l=null,u=null,h=0;function p(t){var e,i=c.status;if(!i&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||i>=200&&i<300||304===i){if(r)try{e=r.call(n,c)}catch(t){return void o.call("error",n,t)}else e=c;o.call("load",n,e)}else o.call("error",n,t)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(t)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=p:c.onreadystatechange=function(t){c.readyState>3&&p(t)},c.onprogress=function(t){o.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s.get(t):(null==e?s.remove(t):s.set(t,e+""),n)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",n):i},responseType:function(t){return arguments.length?(a=t,n):a},timeout:function(t){return arguments.length?(h=+t,n):h},user:function(t){return arguments.length<1?l:(l=null==t?null:t+"",n)},password:function(t){return arguments.length<1?u:(u=null==t?null:t+"",n)},response:function(t){return r=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,r,p){return c.open(e,t,!0,l,u),null==i||s.has("accept")||s.set("accept",i+",*/*"),c.setRequestHeader&&s.each((function(t,e){c.setRequestHeader(e,t)})),null!=i&&c.overrideMimeType&&c.overrideMimeType(i),null!=a&&(c.responseType=a),h>0&&(c.timeout=h),null==p&&"function"==typeof r&&(p=r,r=null),null!=p&&1===p.length&&(p=function(t){return function(e,n){t(null==e?n:null)}}(p)),null!=p&&n.on("error",p).on("load",(function(t){p(null,t)})),o.call("beforesend",n,c),c.send(null==r?null:r),n},abort:function(){return c.abort(),n},on:function(){var t=o.on.apply(o,arguments);return t===o?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};var vp=function(t,e){return function(n,i){var r=_p(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}},Mp=vp("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),bp=vp("application/json",(function(t){return JSON.parse(t.responseText)})),xp=vp("text/plain",(function(t){return t.responseText})),wp=vp("application/xml",(function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})),Ap=function(t,e){return function(n,i,r){arguments.length<3&&(r=i,i=null);var a=_p(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(Tp(e,i=t)):i},a.row(i),r?a.get(r):a}};function Tp(t,e){return function(n){return t(n.responseText,e)}}var Lp=Ap("text/csv",aa),Sp=Ap("text/tab-separated-values",ua),kp=Array.prototype,Op=kp.map,zp=kp.slice,Cp={name:"implicit"};function Ep(t){var e=Wr(),n=[],i=Cp;function r(r){var a=r+"",o=e.get(a);if(!o){if(i!==Cp)return i;e.set(a,o=n.push(r))}return t[(o-1)%t.length]}return t=null==t?[]:zp.call(t),r.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Wr();for(var i,a,o=-1,s=t.length;++o<s;)e.has(a=(i=t[o])+"")||e.set(a,n.push(i));return r},r.range=function(e){return arguments.length?(t=zp.call(e),r):t.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Ep().domain(n).range(t).unknown(i)},r}function Dp(){var t,e,n=Ep().unknown(void 0),i=n.domain,r=n.range,a=[0,1],o=!1,s=0,c=0,l=.5;function u(){var n=i().length,u=a[1]<a[0],h=a[u-0],p=a[1-u];t=(p-h)/Math.max(1,n-s+2*c),o&&(t=Math.floor(t)),h+=(p-h-t*(n-s))*l,e=t*(1-s),o&&(h=Math.round(h),e=Math.round(e));var d=E(n).map((function(e){return h+t*e}));return r(u?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),u()):i()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],u()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,u()):o},n.padding=function(t){return arguments.length?(s=c=Math.max(0,Math.min(1,t)),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u()):s},n.paddingOuter=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),u()):l},n.copy=function(){return Dp().domain(i()).range(a).round(o).paddingInner(s).paddingOuter(c).align(l)},u()}function Np(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Np(e())},t}function Ip(){return Np(Dp().paddingInner(1))}var Pp=function(t){return function(){return t}},Bp=function(t){return+t},Rp=[0,1];function qp(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pp(e)}function Yp(t,e,n,i){var r=t[0],a=t[1],o=e[0],s=e[1];return a<r?(r=n(a,r),o=i(s,o)):(r=n(r,a),o=i(o,s)),function(t){return o(r(t))}}function Wp(t,e,n,i){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=n(t[s],t[s+1]),o[s]=i(e[s],e[s+1]);return function(e){var n=_(t,e,1,r)-1;return o[n](a[n](e))}}function jp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Fp(t,e){var n,i,r,a=Rp,o=Rp,s=sn.interpolate,c=!1;function l(){return n=Math.min(a.length,o.length)>2?Wp:Yp,i=r=null,u}function u(e){return(i||(i=n(a,o,c?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}(t):t,s)))(+e)}return u.invert=function(t){return(r||(r=n(o,a,qp,c?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}(e):e)))(+t)},u.domain=function(t){return arguments.length?(a=Op.call(t,Bp),l()):a.slice()},u.range=function(t){return arguments.length?(o=zp.call(t),l()):o.slice()},u.rangeRound=function(t){return o=zp.call(t),s=sn.interpolateRound,l()},u.clamp=function(t){return arguments.length?(c=!!t,l()):c},u.interpolate=function(t){return arguments.length?(s=t,l()):s},l()}function Hp(t){var e=t.domain;return t.ticks=function(t){var n=e();return P(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return function(t,e,n){var i,r=t[0],a=t[t.length-1],o=R(r,a,null==e?10:e);switch((n=Ua(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(a));return null!=n.precision||isNaN(i=eo(o,s))||(n.precision=i),Ka(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=no(o,Math.max(Math.abs(r),Math.abs(a))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=to(o))||(n.precision=i-2*("%"===n.type))}return Ga(n)}(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),a=0,o=r.length-1,s=r[a],c=r[o];return c<s&&(i=s,s=c,c=i,i=a,a=o,o=i),(i=B(s,c,n))>0?i=B(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,n):i<0&&(i=B(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,n)),i>0?(r[a]=Math.floor(s/i)*i,r[o]=Math.ceil(c/i)*i,e(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[o]=Math.floor(c*i)/i,e(r)),t},t}function Up(){var t=Fp(qp,sn.interpolateNumber);return t.copy=function(){return jp(t,Up())},Hp(t)}function Xp(){var t=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Op.call(n,Bp),e):t.slice()},e.copy=function(){return Xp().domain(t)},Hp(e)}var Vp=function(t,e){var n,i=0,r=(t=t.slice()).length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t};function Gp(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Pp(e)}function Kp(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Zp(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Jp(t){return 10===t?Zp:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Qp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function $p(t){return function(e){return-t(-e)}}function td(){var t=Fp(Gp,Kp).domain([1,10]),e=t.domain,n=10,i=Qp(10),r=Jp(10);function a(){return i=Qp(n),r=Jp(n),e()[0]<0&&(i=$p(i),r=$p(r)),t}return t.base=function(t){return arguments.length?(n=+t,a()):n},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,o=e(),s=o[0],c=o[o.length-1];(a=c<s)&&(p=s,s=c,c=p);var l,u,h,p=i(s),d=i(c),f=null==t?10:+t,m=[];if(!(n%1)&&d-p<f){if(p=Math.round(p)-1,d=Math.round(d)+1,s>0){for(;p<d;++p)for(u=1,l=r(p);u<n;++u)if(!((h=l*u)<s)){if(h>c)break;m.push(h)}}else for(;p<d;++p)for(u=n-1,l=r(p);u>=1;--u)if(!((h=l*u)<s)){if(h>c)break;m.push(h)}}else m=P(p,d,Math.min(d-p,f)).map(r);return a?m.reverse():m},t.tickFormat=function(e,a){if(null==a&&(a=10===n?".0e":","),"function"!=typeof a&&(a=Ga(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/r(Math.round(i(t)));return e*n<n-.5&&(e*=n),e<=o?a(t):""}},t.nice=function(){return e(Vp(e(),{floor:function(t){return r(Math.floor(i(t)))},ceil:function(t){return r(Math.ceil(i(t)))}}))},t.copy=function(){return jp(t,td().base(n))},t}function ed(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function nd(){var t=1,e=Fp((function(e,n){return(n=ed(n,t)-(e=ed(e,t)))?function(i){return(ed(i,t)-e)/n}:Pp(n)}),(function(e,n){return n=ed(n,t)-(e=ed(e,t)),function(i){return ed(e+n*i,1/t)}})),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return jp(e,nd().exponent(t))},Hp(e)}function id(){return nd().exponent(.5)}function rd(){var t=[],e=[],n=[];function i(){var i=0,a=Math.max(1,e.length);for(n=new Array(a-1);++i<a;)n[i-1]=W(t,i/a);return r}function r(t){if(!isNaN(t=+t))return e[_(n,t)]}return r.invertExtent=function(i){var r=e.indexOf(i);return r<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,r=0,a=e.length;r<a;++r)null==(n=e[r])||isNaN(n=+n)||t.push(n);return t.sort(d),i()},r.range=function(t){return arguments.length?(e=zp.call(t),i()):e.slice()},r.quantiles=function(){return n.slice()},r.copy=function(){return rd().domain(t).range(e)},r}function ad(){var t=0,e=1,n=1,i=[.5],r=[0,1];function a(t){if(t<=t)return r[_(i,t,0,n)]}function o(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*e-(r-n)*t)/(n+1);return a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],o()):[t,e]},a.range=function(t){return arguments.length?(n=(r=zp.call(t)).length-1,o()):r.slice()},a.invertExtent=function(a){var o=r.indexOf(a);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=n?[i[n-1],e]:[i[o-1],i[o]]},a.copy=function(){return ad().domain([t,e]).range(r)},Hp(a)}function od(){var t=[.5],e=[0,1],n=1;function i(i){if(i<=i)return e[_(t,i,0,n)]}return i.domain=function(r){return arguments.length?(t=zp.call(r),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(r){return arguments.length?(e=zp.call(r),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(n){var i=e.indexOf(n);return[t[i-1],t[i]]},i.copy=function(){return od().domain(t).range(e)},i}var sd=new Date,cd=new Date;function ld(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,a){var o,s=[];if(n=r.ceil(n),a=null==a?1:Math.floor(a),!(n<i&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<i);return s},r.filter=function(n){return ld((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return sd.setTime(+e),cd.setTime(+i),t(sd),t(cd),Math.floor(n(sd,cd))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var ud=ld((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ud.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ld((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ud:null};var hd=ud,pd=ud.range,dd=1e3,fd=6e4,md=36e5,gd=864e5,yd=6048e5,_d=ld((function(t){t.setTime(Math.floor(t/dd)*dd)}),(function(t,e){t.setTime(+t+e*dd)}),(function(t,e){return(e-t)/dd}),(function(t){return t.getUTCSeconds()})),vd=_d,Md=_d.range,bd=ld((function(t){t.setTime(Math.floor(t/fd)*fd)}),(function(t,e){t.setTime(+t+e*fd)}),(function(t,e){return(e-t)/fd}),(function(t){return t.getMinutes()})),xd=bd,wd=bd.range,Ad=ld((function(t){var e=t.getTimezoneOffset()*fd%md;e<0&&(e+=md),t.setTime(Math.floor((+t-e)/md)*md+e)}),(function(t,e){t.setTime(+t+e*md)}),(function(t,e){return(e-t)/md}),(function(t){return t.getHours()})),Td=Ad,Ld=Ad.range,Sd=ld((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fd)/gd}),(function(t){return t.getDate()-1})),kd=Sd,Od=Sd.range;function zd(t){return ld((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fd)/yd}))}var Cd=zd(0),Ed=zd(1),Dd=zd(2),Nd=zd(3),Id=zd(4),Pd=zd(5),Bd=zd(6),Rd=Cd.range,qd=Ed.range,Yd=Dd.range,Wd=Nd.range,jd=Id.range,Fd=Pd.range,Hd=Bd.range,Ud=ld((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Xd=Ud,Vd=Ud.range,Gd=ld((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Gd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ld((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Kd=Gd,Zd=Gd.range,Jd=ld((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*fd)}),(function(t,e){return(e-t)/fd}),(function(t){return t.getUTCMinutes()})),Qd=Jd,$d=Jd.range,tf=ld((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*md)}),(function(t,e){return(e-t)/md}),(function(t){return t.getUTCHours()})),ef=tf,nf=tf.range,rf=ld((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/gd}),(function(t){return t.getUTCDate()-1})),af=rf,of=rf.range;function sf(t){return ld((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/yd}))}var cf=sf(0),lf=sf(1),uf=sf(2),hf=sf(3),pf=sf(4),df=sf(5),ff=sf(6),mf=cf.range,gf=lf.range,yf=uf.range,_f=hf.range,vf=pf.range,Mf=df.range,bf=ff.range,xf=ld((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),wf=xf,Af=xf.range,Tf=ld((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Tf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ld((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Lf=Tf,Sf=Tf.range;function kf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Of(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zf(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Cf(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,l=Ff(r),u=Hf(r),h=Ff(a),p=Hf(a),d=Ff(o),f=Hf(o),m=Ff(s),g=Hf(s),y=Ff(c),_=Hf(c),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:um,e:um,f:mm,H:hm,I:pm,j:dm,L:fm,m:gm,M:ym,p:function(t){return r[+(t.getHours()>=12)]},Q:Um,s:Xm,S:_m,u:vm,U:Mm,V:bm,w:xm,W:wm,x:null,X:null,y:Am,Y:Tm,Z:Lm,"%":Hm},M={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Sm,e:Sm,f:Em,H:km,I:Om,j:zm,L:Cm,m:Dm,M:Nm,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:Um,s:Xm,S:Im,u:Pm,U:Bm,V:Rm,w:qm,W:Ym,x:null,X:null,y:Wm,Y:jm,Z:Fm,"%":Hm},b={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=y.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=g[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return A(t,e,n,i)},d:tm,e:tm,f:om,H:nm,I:nm,j:em,L:am,m:$f,M:im,p:function(t,e,n){var i=l.exec(e.slice(n));return i?(t.p=u[i[0].toLowerCase()],n+i[0].length):-1},Q:cm,s:lm,S:rm,u:Xf,U:Vf,V:Gf,w:Uf,W:Kf,x:function(t,e,i){return A(t,n,e,i)},X:function(t,e,n){return A(t,i,e,n)},y:Jf,Y:Zf,Z:Qf,"%":sm};function x(t,e){return function(n){var i,r,a,o=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(r=Bf[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(a=e[i])&&(i=a(n,r)),o.push(i),c=s+1);return o.push(t.slice(c,s)),o.join("")}}function w(t,e){return function(n){var i,r,a=zf(1900);if(A(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=Of(zf(a.y))).getUTCDay(),i=r>4||0===r?lf.ceil(i):lf(i),i=af.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(r=(i=e(zf(a.y))).getDay(),i=r>4||0===r?Ed.ceil(i):Ed(i),i=kd.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?Of(zf(a.y)).getUTCDay():e(zf(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Of(a)):e(a)}}function A(t,e,n,i){for(var r,a,o=0,s=e.length,c=n.length;o<s;){if(i>=c)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(a=b[r in Bf?e.charAt(o++):r])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return v.x=x(n,v),v.X=x(i,v),v.c=x(e,v),M.x=x(n,M),M.X=x(i,M),M.c=x(e,M),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",kf);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,Of);return e.toString=function(){return t},e}}}var Ef,Df,Nf,If,Pf,Bf={"-":"",_:" ",0:"0"},Rf=/^\s*\d+/,qf=/^%/,Yf=/[\\^$*+?|[\]().{}]/g;function Wf(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function jf(t){return t.replace(Yf,"\\$&")}function Ff(t){return new RegExp("^(?:"+t.map(jf).join("|")+")","i")}function Hf(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Uf(t,e,n){var i=Rf.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Xf(t,e,n){var i=Rf.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Vf(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Gf(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Kf(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Zf(t,e,n){var i=Rf.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Jf(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Qf(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function $f(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function tm(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function em(t,e,n){var i=Rf.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function nm(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function im(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function rm(t,e,n){var i=Rf.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function am(t,e,n){var i=Rf.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function om(t,e,n){var i=Rf.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function sm(t,e,n){var i=qf.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function cm(t,e,n){var i=Rf.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function lm(t,e,n){var i=Rf.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function um(t,e){return Wf(t.getDate(),e,2)}function hm(t,e){return Wf(t.getHours(),e,2)}function pm(t,e){return Wf(t.getHours()%12||12,e,2)}function dm(t,e){return Wf(1+kd.count(Kd(t),t),e,3)}function fm(t,e){return Wf(t.getMilliseconds(),e,3)}function mm(t,e){return fm(t,e)+"000"}function gm(t,e){return Wf(t.getMonth()+1,e,2)}function ym(t,e){return Wf(t.getMinutes(),e,2)}function _m(t,e){return Wf(t.getSeconds(),e,2)}function vm(t){var e=t.getDay();return 0===e?7:e}function Mm(t,e){return Wf(Cd.count(Kd(t),t),e,2)}function bm(t,e){var n=t.getDay();return t=n>=4||0===n?Id(t):Id.ceil(t),Wf(Id.count(Kd(t),t)+(4===Kd(t).getDay()),e,2)}function xm(t){return t.getDay()}function wm(t,e){return Wf(Ed.count(Kd(t),t),e,2)}function Am(t,e){return Wf(t.getFullYear()%100,e,2)}function Tm(t,e){return Wf(t.getFullYear()%1e4,e,4)}function Lm(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Wf(e/60|0,"0",2)+Wf(e%60,"0",2)}function Sm(t,e){return Wf(t.getUTCDate(),e,2)}function km(t,e){return Wf(t.getUTCHours(),e,2)}function Om(t,e){return Wf(t.getUTCHours()%12||12,e,2)}function zm(t,e){return Wf(1+af.count(Lf(t),t),e,3)}function Cm(t,e){return Wf(t.getUTCMilliseconds(),e,3)}function Em(t,e){return Cm(t,e)+"000"}function Dm(t,e){return Wf(t.getUTCMonth()+1,e,2)}function Nm(t,e){return Wf(t.getUTCMinutes(),e,2)}function Im(t,e){return Wf(t.getUTCSeconds(),e,2)}function Pm(t){var e=t.getUTCDay();return 0===e?7:e}function Bm(t,e){return Wf(cf.count(Lf(t),t),e,2)}function Rm(t,e){var n=t.getUTCDay();return t=n>=4||0===n?pf(t):pf.ceil(t),Wf(pf.count(Lf(t),t)+(4===Lf(t).getUTCDay()),e,2)}function qm(t){return t.getUTCDay()}function Ym(t,e){return Wf(lf.count(Lf(t),t),e,2)}function Wm(t,e){return Wf(t.getUTCFullYear()%100,e,2)}function jm(t,e){return Wf(t.getUTCFullYear()%1e4,e,4)}function Fm(){return"+0000"}function Hm(){return"%"}function Um(t){return+t}function Xm(t){return Math.floor(+t/1e3)}function Vm(t){return Ef=Cf(t),Df=Ef.format,Nf=Ef.parse,If=Ef.utcFormat,Pf=Ef.utcParse,Ef}Vm({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Gm="%Y-%m-%dT%H:%M:%S.%LZ";var Km=Date.prototype.toISOString?function(t){return t.toISOString()}:If(Gm);var Zm=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Pf(Gm),Jm=1e3,Qm=6e4,$m=36e5,tg=864e5,eg=2592e6,ng=31536e6;function ig(t){return new Date(t)}function rg(t){return t instanceof Date?+t:+new Date(+t)}function ag(t,e,n,i,r,a,o,s,c){var l=Fp(qp,sn.interpolateNumber),u=l.invert,h=l.domain,p=c(".%L"),d=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),_=c("%b %d"),v=c("%B"),M=c("%Y"),b=[[o,1,Jm],[o,5,5e3],[o,15,15e3],[o,30,3e4],[a,1,Qm],[a,5,3e5],[a,15,9e5],[a,30,18e5],[r,1,$m],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,tg],[i,2,1728e5],[n,1,6048e5],[e,1,eg],[e,3,7776e6],[t,1,ng]];function x(s){return(o(s)<s?p:a(s)<s?d:r(s)<s?m:i(s)<s?g:e(s)<s?n(s)<s?y:_:t(s)<s?v:M)(s)}function w(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,o=f((function(t){return t[2]})).right(b,a);o===b.length?(r=R(n/ng,i/ng,e),e=t):o?(r=(o=b[a/b[o-1][2]<b[o][2]/a?o-1:o])[1],e=o[0]):(r=Math.max(R(n,i,e),1),e=s)}return null==r?e:e.every(r)}return l.invert=function(t){return new Date(u(t))},l.domain=function(t){return arguments.length?h(Op.call(t,rg)):h().map(ig)},l.ticks=function(t,e){var n,i=h(),r=i[0],a=i[i.length-1],o=a<r;return o&&(n=r,r=a,a=n),n=(n=w(t,r,a,e))?n.range(r,a+1):[],o?n.reverse():n},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t,e){var n=h();return(t=w(t,n[0],n[n.length-1],e))?h(Vp(n,t)):l},l.copy=function(){return jp(l,ag(t,e,n,i,r,a,o,s,c))},l}var og=function(){return ag(Kd,Xd,Cd,kd,Td,xd,vd,hd,Df).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},sg=function(){return ag(Lf,wf,cf,af,ef,Qd,vd,hd,If).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},cg=function(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))},lg=cg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ug=cg("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),hg=cg("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),pg=cg("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),dg=Object(sn.interpolateCubehelixLong)(Object(Pn.b)(300,.5,0),Object(Pn.b)(-240,.5,1)),fg=Object(sn.interpolateCubehelixLong)(Object(Pn.b)(-100,.75,.35),Object(Pn.b)(80,1.5,.8)),mg=Object(sn.interpolateCubehelixLong)(Object(Pn.b)(260,.75,.35),Object(Pn.b)(80,1.5,.8)),gg=Object(Pn.b)(),yg=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return gg.h=360*t-100,gg.s=1.5-1.5*e,gg.l=.8-.9*e,gg+""};function _g(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var vg=_g(cg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Mg=_g(cg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),bg=_g(cg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xg=_g(cg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function wg(t){var e=0,n=1,i=!1;function r(r){var a=(r-e)/(n-e);return t(i?Math.max(0,Math.min(1,a)):a)}return r.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.clamp=function(t){return arguments.length?(i=!!t,r):i},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return wg(t).domain([e,n]).clamp(i)},Hp(r)}var Ag=function(t){return function(){return t}},Tg=Math.abs,Lg=Math.atan2,Sg=Math.cos,kg=Math.max,Og=Math.min,zg=Math.sin,Cg=Math.sqrt,Eg=1e-12,Dg=Math.PI,Ng=Dg/2,Ig=2*Dg;function Pg(t){return t>1?0:t<-1?Dg:Math.acos(t)}function Bg(t){return t>=1?Ng:t<=-1?-Ng:Math.asin(t)}function Rg(t){return t.innerRadius}function qg(t){return t.outerRadius}function Yg(t){return t.startAngle}function Wg(t){return t.endAngle}function jg(t){return t&&t.padAngle}function Fg(t,e,n,i,r,a,o,s){var c=n-t,l=i-e,u=o-r,h=s-a,p=(u*(e-a)-h*(t-r))/(h*c-u*l);return[t+p*c,e+p*l]}function Hg(t,e,n,i,r,a,o){var s=t-n,c=e-i,l=(o?a:-a)/Cg(s*s+c*c),u=l*c,h=-l*s,p=t+u,d=e+h,f=n+u,m=i+h,g=(p+f)/2,y=(d+m)/2,_=f-p,v=m-d,M=_*_+v*v,b=r-a,x=p*m-f*d,w=(v<0?-1:1)*Cg(kg(0,b*b*M-x*x)),A=(x*v-_*w)/M,T=(-x*_-v*w)/M,L=(x*v+_*w)/M,S=(-x*_+v*w)/M,k=A-g,O=T-y,z=L-g,C=S-y;return k*k+O*O>z*z+C*C&&(A=L,T=S),{cx:A,cy:T,x01:-u,y01:-h,x11:A*(r/b-1),y11:T*(r/b-1)}}var Ug=function(){var t=Rg,e=qg,n=Ag(0),i=null,r=Yg,a=Wg,o=jg,s=null;function c(){var c,l,u=+t.apply(this,arguments),h=+e.apply(this,arguments),p=r.apply(this,arguments)-Ng,d=a.apply(this,arguments)-Ng,f=Tg(d-p),m=d>p;if(s||(s=c=Cr()),h<u&&(l=h,h=u,u=l),h>Eg)if(f>Ig-Eg)s.moveTo(h*Sg(p),h*zg(p)),s.arc(0,0,h,p,d,!m),u>Eg&&(s.moveTo(u*Sg(d),u*zg(d)),s.arc(0,0,u,d,p,m));else{var g,y,_=p,v=d,M=p,b=d,x=f,w=f,A=o.apply(this,arguments)/2,T=A>Eg&&(i?+i.apply(this,arguments):Cg(u*u+h*h)),L=Og(Tg(h-u)/2,+n.apply(this,arguments)),S=L,k=L;if(T>Eg){var O=Bg(T/u*zg(A)),z=Bg(T/h*zg(A));(x-=2*O)>Eg?(M+=O*=m?1:-1,b-=O):(x=0,M=b=(p+d)/2),(w-=2*z)>Eg?(_+=z*=m?1:-1,v-=z):(w=0,_=v=(p+d)/2)}var C=h*Sg(_),E=h*zg(_),D=u*Sg(b),N=u*zg(b);if(L>Eg){var I=h*Sg(v),P=h*zg(v),B=u*Sg(M),R=u*zg(M);if(f<Dg){var q=x>Eg?Fg(C,E,B,R,I,P,D,N):[D,N],Y=C-q[0],W=E-q[1],j=I-q[0],F=P-q[1],H=1/zg(Pg((Y*j+W*F)/(Cg(Y*Y+W*W)*Cg(j*j+F*F)))/2),U=Cg(q[0]*q[0]+q[1]*q[1]);S=Og(L,(u-U)/(H-1)),k=Og(L,(h-U)/(H+1))}}w>Eg?k>Eg?(g=Hg(B,R,C,E,h,k,m),y=Hg(I,P,D,N,h,k,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),k<L?s.arc(g.cx,g.cy,k,Lg(g.y01,g.x01),Lg(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,k,Lg(g.y01,g.x01),Lg(g.y11,g.x11),!m),s.arc(0,0,h,Lg(g.cy+g.y11,g.cx+g.x11),Lg(y.cy+y.y11,y.cx+y.x11),!m),s.arc(y.cx,y.cy,k,Lg(y.y11,y.x11),Lg(y.y01,y.x01),!m))):(s.moveTo(C,E),s.arc(0,0,h,_,v,!m)):s.moveTo(C,E),u>Eg&&x>Eg?S>Eg?(g=Hg(D,N,I,P,u,-S,m),y=Hg(C,E,B,R,u,-S,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),S<L?s.arc(g.cx,g.cy,S,Lg(g.y01,g.x01),Lg(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,S,Lg(g.y01,g.x01),Lg(g.y11,g.x11),!m),s.arc(0,0,u,Lg(g.cy+g.y11,g.cx+g.x11),Lg(y.cy+y.y11,y.cx+y.x11),m),s.arc(y.cx,y.cy,S,Lg(y.y11,y.x11),Lg(y.y01,y.x01),!m))):s.arc(0,0,u,b,M,m):s.lineTo(D,N)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-Dg/2;return[Sg(i)*n,zg(i)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Ag(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Ag(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Ag(+t),c):n},c.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ag(+t),c):i},c.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ag(+t),c):r},c.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:Ag(+t),c):a},c.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ag(+t),c):o},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c};function Xg(t){this._context=t}Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Vg=function(t){return new Xg(t)};function Gg(t){return t[0]}function Kg(t){return t[1]}var Zg=function(){var t=Gg,e=Kg,n=Ag(!0),i=null,r=Vg,a=null;function o(o){var s,c,l,u=o.length,h=!1;for(null==i&&(a=r(l=Cr())),s=0;s<=u;++s)!(s<u&&n(c=o[s],s,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(c,s,o),+e(c,s,o));if(l)return a=null,l+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:Ag(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Ag(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ag(!!t),o):n},o.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),o):i},o},Jg=function(){var t=Gg,e=null,n=Ag(0),i=Kg,r=Ag(!0),a=null,o=Vg,s=null;function c(c){var l,u,h,p,d,f=c.length,m=!1,g=new Array(f),y=new Array(f);for(null==a&&(s=o(d=Cr())),l=0;l<=f;++l){if(!(l<f&&r(p=c[l],l,c))===m)if(m=!m)u=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=u;--h)s.point(g[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(g[l]=+t(p,l,c),y[l]=+n(p,l,c),s.point(e?+e(p,l,c):g[l],i?+i(p,l,c):y[l]))}if(d)return s=null,d+""||null}function l(){return Zg().defined(r).curve(o).context(a)}return c.x=function(n){return arguments.length?(t="function"==typeof n?n:Ag(+n),e=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:Ag(+e),c):t},c.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Ag(+t),c):e},c.y=function(t){return arguments.length?(n="function"==typeof t?t:Ag(+t),i=null,c):n},c.y0=function(t){return arguments.length?(n="function"==typeof t?t:Ag(+t),c):n},c.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ag(+t),c):i},c.lineX0=c.lineY0=function(){return l().x(t).y(n)},c.lineY1=function(){return l().x(t).y(i)},c.lineX1=function(){return l().x(e).y(n)},c.defined=function(t){return arguments.length?(r="function"==typeof t?t:Ag(!!t),c):r},c.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),c):o},c.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),c):a},c},Qg=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},$g=function(t){return t},ty=function(){var t=$g,e=Qg,n=null,i=Ag(0),r=Ag(Ig),a=Ag(0);function o(o){var s,c,l,u,h,p=o.length,d=0,f=new Array(p),m=new Array(p),g=+i.apply(this,arguments),y=Math.min(Ig,Math.max(-Ig,r.apply(this,arguments)-g)),_=Math.min(Math.abs(y)/p,a.apply(this,arguments)),v=_*(y<0?-1:1);for(s=0;s<p;++s)(h=m[f[s]=s]=+t(o[s],s,o))>0&&(d+=h);for(null!=e?f.sort((function(t,n){return e(m[t],m[n])})):null!=n&&f.sort((function(t,e){return n(o[t],o[e])})),s=0,l=d?(y-p*v)/d:0;s<p;++s,g=u)c=f[s],u=g+((h=m[c])>0?h*l:0)+v,m[c]={data:o[c],index:s,value:h,startAngle:g,endAngle:u,padAngle:_};return m}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:Ag(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ag(+t),o):i},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ag(+t),o):r},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Ag(+t),o):a},o},ey=iy(Vg);function ny(t){this._curve=t}function iy(t){function e(e){return new ny(t(e))}return e._curve=t,e}function ry(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(iy(t)):e()._curve},t}ny.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var ay=function(){return ry(Zg().curve(ey))},oy=function(){var t=Jg().curve(ey),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ry(n())},delete t.lineX0,t.lineEndAngle=function(){return ry(i())},delete t.lineX1,t.lineInnerRadius=function(){return ry(r())},delete t.lineY0,t.lineOuterRadius=function(){return ry(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(iy(t)):e()._curve},t},sy=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},cy=Array.prototype.slice;function ly(t){return t.source}function uy(t){return t.target}function hy(t){var e=ly,n=uy,i=Gg,r=Kg,a=null;function o(){var o,s=cy.call(arguments),c=e.apply(this,s),l=n.apply(this,s);if(a||(a=o=Cr()),t(a,+i.apply(this,(s[0]=c,s)),+r.apply(this,s),+i.apply(this,(s[0]=l,s)),+r.apply(this,s)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(i="function"==typeof t?t:Ag(+t),o):i},o.y=function(t){return arguments.length?(r="function"==typeof t?t:Ag(+t),o):r},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function py(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function dy(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function fy(t,e,n,i,r){var a=sy(e,n),o=sy(e,n=(n+r)/2),s=sy(i,n),c=sy(i,r);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],c[0],c[1])}function my(){return hy(py)}function gy(){return hy(dy)}function yy(){var t=hy(fy);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var _y={draw:function(t,e){var n=Math.sqrt(e/Dg);t.moveTo(n,0),t.arc(0,0,n,0,Ig)}},vy={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},My=Math.sqrt(1/3),by=2*My,xy={draw:function(t,e){var n=Math.sqrt(e/by),i=n*My;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},wy=Math.sin(Dg/10)/Math.sin(7*Dg/10),Ay=Math.sin(Ig/10)*wy,Ty=-Math.cos(Ig/10)*wy,Ly={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=Ay*n,r=Ty*n;t.moveTo(0,-n),t.lineTo(i,r);for(var a=1;a<5;++a){var o=Ig*a/5,s=Math.cos(o),c=Math.sin(o);t.lineTo(c*n,-s*n),t.lineTo(s*i-c*r,c*i+s*r)}t.closePath()}},Sy={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},ky=Math.sqrt(3),Oy={draw:function(t,e){var n=-Math.sqrt(e/(3*ky));t.moveTo(0,2*n),t.lineTo(-ky*n,-n),t.lineTo(ky*n,-n),t.closePath()}},zy=-.5,Cy=Math.sqrt(3)/2,Ey=1/Math.sqrt(12),Dy=3*(Ey/2+1),Ny={draw:function(t,e){var n=Math.sqrt(e/Dy),i=n/2,r=n*Ey,a=i,o=n*Ey+n,s=-a,c=o;t.moveTo(i,r),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(zy*i-Cy*r,Cy*i+zy*r),t.lineTo(zy*a-Cy*o,Cy*a+zy*o),t.lineTo(zy*s-Cy*c,Cy*s+zy*c),t.lineTo(zy*i+Cy*r,zy*r-Cy*i),t.lineTo(zy*a+Cy*o,zy*o-Cy*a),t.lineTo(zy*s+Cy*c,zy*c-Cy*s),t.closePath()}},Iy=[_y,vy,xy,Sy,Ly,Oy,Ny],Py=function(){var t=Ag(_y),e=Ag(64),n=null;function i(){var i;if(n||(n=i=Cr()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"==typeof e?e:Ag(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:Ag(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},By=function(){};function Ry(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qy(t){this._context=t}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ry(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ry(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Yy=function(t){return new qy(t)};function Wy(t){this._context=t}Wy.prototype={areaStart:By,areaEnd:By,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ry(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var jy=function(t){return new Wy(t)};function Fy(t){this._context=t}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ry(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Hy=function(t){return new Fy(t)};function Uy(t,e){this._basis=new qy(t),this._beta=e}Uy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],a=e[0],o=t[n]-r,s=e[n]-a,c=-1;++c<=n;)i=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+i*o),this._beta*e[c]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Xy=function t(e){function n(t){return 1===e?new qy(t):new Uy(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Vy(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Gy(t,e){this._context=t,this._k=(1-e)/6}Gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Vy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Vy(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ky=function t(e){function n(t){return new Gy(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Zy(t,e){this._context=t,this._k=(1-e)/6}Zy.prototype={areaStart:By,areaEnd:By,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Vy(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Jy=function t(e){function n(t){return new Zy(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Qy(t,e){this._context=t,this._k=(1-e)/6}Qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vy(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $y=function t(e){function n(t){return new Qy(t,e)}return n.tension=function(e){return t(+e)},n}(0);function t_(t,e,n){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Eg){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Eg){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function e_(t,e){this._context=t,this._alpha=e}e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:t_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var n_=function t(e){function n(t){return e?new e_(t,e):new Gy(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function i_(t,e){this._context=t,this._alpha=e}i_.prototype={areaStart:By,areaEnd:By,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:t_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var r_=function t(e){function n(t){return e?new i_(t,e):new Zy(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function a_(t,e){this._context=t,this._alpha=e}a_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:t_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var o_=function t(e){function n(t){return e?new a_(t,e):new Qy(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function s_(t){this._context=t}s_.prototype={areaStart:By,areaEnd:By,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var c_=function(t){return new s_(t)};function l_(t){return t<0?-1:1}function u_(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(l_(a)+l_(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function h_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function p_(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function d_(t){this._context=t}function f_(t){this._context=new m_(t)}function m_(t){this._context=t}function g_(t){return new d_(t)}function y_(t){return new f_(t)}function __(t){this._context=t}function v_(t){var e,n,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/a[i-1],e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}d_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p_(this,this._t0,h_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,p_(this,h_(this,n=u_(this,t,e)),n);break;default:p_(this,this._t0,n=u_(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(f_.prototype=Object.create(d_.prototype)).point=function(t,e){d_.prototype.point.call(this,e,t)},m_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}},__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=v_(t),r=v_(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var M_=function(t){return new __(t)};function b_(t,e){this._context=t,this._t=e}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var x_=function(t){return new b_(t,.5)};function w_(t){return new b_(t,0)}function A_(t){return new b_(t,1)}var T_=function(t,e){if((r=t.length)>1)for(var n,i,r,a=1,o=t[e[0]],s=o.length;a<r;++a)for(i=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},L_=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function S_(t,e){return t[e]}var k_=function(){var t=Ag([]),e=L_,n=T_,i=S_;function r(r){var a,o,s=t.apply(this,arguments),c=r.length,l=s.length,u=new Array(l);for(a=0;a<l;++a){for(var h,p=s[a],d=u[a]=new Array(c),f=0;f<c;++f)d[f]=h=[0,+i(r[f],p,f,r)],h.data=r[f];d.key=p}for(a=0,o=e(u);a<l;++a)u[o[a]].index=a;return n(u,o),u}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:Ag(cy.call(e)),r):t},r.value=function(t){return arguments.length?(i="function"==typeof t?t:Ag(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?L_:"function"==typeof t?t:Ag(cy.call(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?T_:t,r):n},r},O_=function(t,e){if((i=t.length)>0){for(var n,i,r,a=0,o=t[0].length;a<o;++a){for(r=n=0;n<i;++n)r+=t[n][a][1]||0;if(r)for(n=0;n<i;++n)t[n][a][1]/=r}T_(t,e)}},z_=function(t,e){if((s=t.length)>1)for(var n,i,r,a,o,s,c=0,l=t[e[0]].length;c<l;++c)for(a=o=0,n=0;n<s;++n)(r=(i=t[e[n]][c])[1]-i[0])>=0?(i[0]=a,i[1]=a+=r):r<0?(i[1]=o,i[0]=o+=r):i[0]=a},C_=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],a=r.length;i<a;++i){for(var o=0,s=0;o<n;++o)s+=t[o][i][1]||0;r[i][1]+=r[i][0]=-s/2}T_(t,e)}},E_=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,a=0,o=1;o<i;++o){for(var s=0,c=0,l=0;s<r;++s){for(var u=t[e[s]],h=u[o][1]||0,p=(h-(u[o-1][1]||0))/2,d=0;d<s;++d){var f=t[e[d]];p+=(f[o][1]||0)-(f[o-1][1]||0)}c+=h,l+=p*h}n[o-1][1]+=n[o-1][0]=a,c&&(a-=l/c)}n[o-1][1]+=n[o-1][0]=a,T_(t,e)}},D_=function(t){var e=t.map(N_);return L_(t).sort((function(t,n){return e[t]-e[n]}))};function N_(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}var I_=function(t){return D_(t).reverse()},P_=function(t){var e,n,i=t.length,r=t.map(N_),a=L_(t).sort((function(t,e){return r[e]-r[t]})),o=0,s=0,c=[],l=[];for(e=0;e<i;++e)n=a[e],o<s?(o+=r[n],c.push(n)):(s+=r[n],l.push(n));return l.reverse().concat(c)},B_=function(t){return L_(t).reverse()},R_=function(t){return function(){return t}};function q_(t){return t[0]}function Y_(t){return t[1]}function W_(){this._=null}function j_(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function F_(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function H_(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function U_(t){for(;t.L;)t=t.L;return t}W_.prototype={constructor:W_,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=U_(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(F_(this,n),n=(t=n).U),n.C=!1,i.C=!0,H_(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(H_(this,n),n=(t=n).U),n.C=!1,i.C=!0,F_(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?U_(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,F_(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,H_(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,F_(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,H_(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,F_(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,H_(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var X_=W_;function V_(t,e,n,i){var r=[null,null],a=yv.push(r)-1;return r.left=t,r.right=e,n&&K_(r,t,e,n),i&&K_(r,e,t,i),mv[t.index].halfedges.push(a),mv[e.index].halfedges.push(a),r}function G_(t,e,n){var i=[e,n];return i.left=t,i}function K_(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Z_(t,e,n,i,r){var a,o=t[0],s=t[1],c=o[0],l=o[1],u=0,h=1,p=s[0]-c,d=s[1]-l;if(a=e-c,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>u&&(u=a)}if(a=i-c,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<h&&(h=a)}if(a=n-l,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>u&&(u=a)}if(a=r-l,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<h&&(h=a)}return!(u>0||h<1)||(u>0&&(t[0]=[c+u*p,l+u*d]),h<1&&(t[1]=[c+h*p,l+h*d]),!0)}}}}}function J_(t,e,n,i,r){var a=t[1];if(a)return!0;var o,s,c=t[0],l=t.left,u=t.right,h=l[0],p=l[1],d=u[0],f=u[1],m=(h+d)/2,g=(p+f)/2;if(f===p){if(m<e||m>=i)return;if(h>d){if(c){if(c[1]>=r)return}else c=[m,n];a=[m,r]}else{if(c){if(c[1]<n)return}else c=[m,r];a=[m,n]}}else if(s=g-(o=(h-d)/(f-p))*m,o<-1||o>1)if(h>d){if(c){if(c[1]>=r)return}else c=[(n-s)/o,n];a=[(r-s)/o,r]}else{if(c){if(c[1]<n)return}else c=[(r-s)/o,r];a=[(n-s)/o,n]}else if(p<f){if(c){if(c[0]>=i)return}else c=[e,o*e+s];a=[i,o*i+s]}else{if(c){if(c[0]<e)return}else c=[i,o*i+s];a=[e,o*e+s]}return t[0]=c,t[1]=a,!0}function Q_(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function $_(t,e){return e[+(e.left!==t.site)]}function tv(t,e){return e[+(e.left===t.site)]}var ev,nv=[];function iv(){j_(this),this.x=this.y=this.arc=this.site=this.cy=null}function rv(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r[0],s=r[1],c=i[0]-o,l=i[1]-s,u=a[0]-o,h=a[1]-s,p=2*(c*h-l*u);if(!(p>=-vv)){var d=c*c+l*l,f=u*u+h*h,m=(h*d-l*f)/p,g=(c*f-u*d)/p,y=nv.pop()||new iv;y.arc=t,y.site=r,y.x=m+o,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=y;for(var _=null,v=gv._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}gv.insert(_,y),_||(ev=y)}}}}function av(t){var e=t.circle;e&&(e.P||(ev=e.N),gv.remove(e),nv.push(e),j_(e),t.circle=null)}var ov=[];function sv(){j_(this),this.edge=this.site=this.circle=null}function cv(t){var e=ov.pop()||new sv;return e.site=t,e}function lv(t){av(t),fv.remove(t),ov.push(t),j_(t)}function uv(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],a=t.P,o=t.N,s=[t];lv(t);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<_v&&Math.abs(i-c.circle.cy)<_v;)a=c.P,s.unshift(c),lv(c),c=a;s.unshift(c),av(c);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<_v&&Math.abs(i-l.circle.cy)<_v;)o=l.N,s.push(l),lv(l),l=o;s.push(l),av(l);var u,h=s.length;for(u=1;u<h;++u)l=s[u],c=s[u-1],K_(l.edge,c.site,l.site,r);c=s[0],(l=s[h-1]).edge=V_(c.site,l.site,null,r),rv(c),rv(l)}function hv(t){for(var e,n,i,r,a=t[0],o=t[1],s=fv._;s;)if((i=pv(s,o)-a)>_v)s=s.L;else{if(!((r=a-dv(s,o))>_v)){i>-_v?(e=s.P,n=s):r>-_v?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){mv[t.index]={site:t,halfedges:[]}}(t);var c=cv(t);if(fv.insert(e,c),e||n){if(e===n)return av(e),n=cv(e.site),fv.insert(c,n),c.edge=n.edge=V_(e.site,c.site),rv(e),void rv(n);if(n){av(e),av(n);var l=e.site,u=l[0],h=l[1],p=t[0]-u,d=t[1]-h,f=n.site,m=f[0]-u,g=f[1]-h,y=2*(p*g-d*m),_=p*p+d*d,v=m*m+g*g,M=[(g*_-d*v)/y+u,(p*v-m*_)/y+h];K_(n.edge,l,f,M),c.edge=V_(l,t,null,M),n.edge=V_(t,f,null,M),rv(e),rv(n)}else c.edge=V_(e.site,c.site)}}function pv(t,e){var n=t.site,i=n[0],r=n[1],a=r-e;if(!a)return i;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],c=n[1],l=c-e;if(!l)return s;var u=s-i,h=1/a-1/l,p=u/l;return h?(-p+Math.sqrt(p*p-2*h*(u*u/(-2*l)-c+l/2+r-a/2)))/h+i:(i+s)/2}function dv(t,e){var n=t.N;if(n)return pv(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var fv,mv,gv,yv,_v=1e-6,vv=1e-12;function Mv(t,e){return e[1]-t[1]||e[0]-t[0]}function bv(t,e){var n,i,r,a=t.sort(Mv).pop();for(yv=[],mv=new Array(t.length),fv=new X_,gv=new X_;;)if(r=ev,a&&(!r||a[1]<r.y||a[1]===r.y&&a[0]<r.x))a[0]===n&&a[1]===i||(hv(a),n=a[0],i=a[1]),a=t.pop();else{if(!r)break;uv(r.arc)}if(function(){for(var t,e,n,i,r=0,a=mv.length;r<a;++r)if((t=mv[r])&&(i=(e=t.halfedges).length)){var o=new Array(i),s=new Array(i);for(n=0;n<i;++n)o[n]=n,s[n]=Q_(t,yv[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<i;++n)s[n]=e[o[n]];for(n=0;n<i;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],c=+e[1][0],l=+e[1][1];!function(t,e,n,i){for(var r,a=yv.length;a--;)J_(r=yv[a],t,e,n,i)&&Z_(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>_v||Math.abs(r[0][1]-r[1][1])>_v)||delete yv[a]}(o,s,c,l),function(t,e,n,i){var r,a,o,s,c,l,u,h,p,d,f,m,g=mv.length,y=!0;for(r=0;r<g;++r)if(a=mv[r]){for(o=a.site,s=(c=a.halfedges).length;s--;)yv[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)f=(d=tv(a,yv[c[s]]))[0],m=d[1],h=(u=$_(a,yv[c[++s%l]]))[0],p=u[1],(Math.abs(f-h)>_v||Math.abs(m-p)>_v)&&(c.splice(s,0,yv.push(G_(o,d,Math.abs(f-t)<_v&&i-m>_v?[t,Math.abs(h-t)<_v?p:i]:Math.abs(m-i)<_v&&n-f>_v?[Math.abs(p-i)<_v?h:n,i]:Math.abs(f-n)<_v&&m-e>_v?[n,Math.abs(h-n)<_v?p:e]:Math.abs(m-e)<_v&&f-t>_v?[Math.abs(p-e)<_v?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var _,v,M,b=1/0;for(r=0,y=null;r<g;++r)(a=mv[r])&&(M=(_=(o=a.site)[0]-t)*_+(v=o[1]-e)*v)<b&&(b=M,y=a);if(y){var x=[t,e],w=[t,i],A=[n,i],T=[n,e];y.halfedges.push(yv.push(G_(o=y.site,x,w))-1,yv.push(G_(o,w,A))-1,yv.push(G_(o,A,T))-1,yv.push(G_(o,T,x))-1)}}for(r=0;r<g;++r)(a=mv[r])&&(a.halfedges.length||delete mv[r])}(o,s,c,l)}this.edges=yv,this.cells=mv,fv=gv=yv=mv=null}bv.prototype={constructor:bv,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return $_(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(a=(r=n.halfedges).length)for(var r,a,o,s,c,l,u=n.site,h=-1,p=e[r[a-1]],d=p.left===u?p.right:p.left;++h<a;)o=d,d=(p=e[r[h]]).left===u?p.right:p.left,o&&d&&i<o.index&&i<d.index&&(c=o,l=d,((s=u)[0]-l[0])*(c[1]-s[1])-(s[0]-c[0])*(l[1]-s[1])<0)&&t.push([u.data,o.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,a=this,o=a._found||0,s=a.cells.length;!(r=a.cells[o]);)if(++o>=s)return null;var c=t-r.site[0],l=e-r.site[1],u=c*c+l*l;do{r=a.cells[i=o],o=null,r.halfedges.forEach((function(n){var i=a.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var c=t-s[0],l=e-s[1],h=c*c+l*l;h<u&&(u=h,o=s.index)}}))}while(null!==o);return a._found=i,null==n||u<=n*n?r.site:null}};var xv=function(){var t=q_,e=Y_,n=null;function i(i){return new bv(i.map((function(n,r){var a=[Math.round(t(n,r,i)/_v)*_v,Math.round(e(n,r,i)/_v)*_v];return a.index=r,a.data=n,a})),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"==typeof e?e:R_(+e),i):t},i.y=function(t){return arguments.length?(e="function"==typeof t?t:R_(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},wv=function(t){return function(){return t}};function Av(t,e,n){this.target=t,this.type=e,this.transform=n}function Tv(t,e,n){this.k=t,this.x=e,this.y=n}Tv.prototype={constructor:Tv,scale:function(t){return 1===t?this:new Tv(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Tv(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lv=new Tv(1,0,0);function Sv(t){return t.__zoom||Lv}function kv(){xe.stopImmediatePropagation()}Sv.prototype=Tv.prototype;var Ov=function(){xe.preventDefault(),xe.stopImmediatePropagation()};function zv(){return!xe.button}function Cv(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Ev(){return this.__zoom||Lv}function Dv(){return-xe.deltaY*(xe.deltaMode?120:1)/500}function Nv(){return"ontouchstart"in this}function Iv(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var Pv,Bv,Rv,qv,Yv,Wv,jv=function(){var t,e,n=zv,i=Cv,r=Iv,a=Dv,o=Nv,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,u=sn.interpolateZoom,h=[],p=bt("start","zoom","end"),d=500,f=0;function m(t){t.property("__zoom",Ev).on("wheel.zoom",x).on("mousedown.zoom",w).on("dblclick.zoom",A).filter(o).on("touchstart.zoom",T).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new Tv(e,t.x,t.y)}function y(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Tv(t.k,i,r)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n){t.on("start.zoom",(function(){M(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){M(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,a=M(t,r),o=i.apply(t,r),s=n||_(o),c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,r):e,p=u(l.invert(s).concat(c/l.k),h.invert(s).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=p(t),n=c/e[2];t=new Tv(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function M(t,e){for(var n,i=0,r=h.length;i<r;++i)if((n=h[i]).that===t)return n;return new b(t,e)}function b(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=i.apply(t,e)}function x(){if(n.apply(this,arguments)){var t=M(this,arguments),e=this.__zoom,i=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,a.apply(this,arguments)))),o=Fe(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[o,e.invert(o)],En(this),t.start()}Ov(),t.wheel=setTimeout(l,150),t.zoom("mouse",r(y(g(e,i),t.mouse[0],t.mouse[1]),t.extent,c))}function l(){t.wheel=null,t.end()}}function w(){if(!e&&n.apply(this,arguments)){var t=M(this,arguments),i=Pe(xe.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",u,!0),a=Fe(this),o=xe.clientX,s=xe.clientY;Ke(xe.view),kv(),t.mouse=[a,this.__zoom.invert(a)],En(this),t.start()}function l(){if(Ov(),!t.moved){var e=xe.clientX-o,n=xe.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",r(y(t.that.__zoom,t.mouse[0]=Fe(t.that),t.mouse[1]),t.extent,c))}function u(){i.on("mousemove.zoom mouseup.zoom",null),Ze(xe.view,t.moved),Ov(),t.end()}}function A(){if(n.apply(this,arguments)){var t=this.__zoom,e=Fe(this),a=t.invert(e),o=t.k*(xe.shiftKey?.5:2),s=r(y(g(t,o),e,a),i.apply(this,arguments),c);Ov(),l>0?Pe(this).transition().duration(l).call(v,s,e):Pe(this).call(m.transform,s)}}function T(){if(n.apply(this,arguments)){var e,i,r,a,o=M(this,arguments),s=xe.changedTouches,c=s.length;for(kv(),i=0;i<c;++i)r=s[i],a=[a=Ue(this,s,r.identifier),this.__zoom.invert(a),r.identifier],o.touch0?o.touch1||(o.touch1=a):(o.touch0=a,e=!0);if(t&&(t=clearTimeout(t),!o.touch1))return o.end(),void((a=Pe(this).on("dblclick.zoom"))&&a.apply(this,arguments));e&&(t=setTimeout((function(){t=null}),d),En(this),o.start())}}function L(){var e,n,i,a,o=M(this,arguments),s=xe.changedTouches,l=s.length;for(Ov(),t&&(t=clearTimeout(t)),e=0;e<l;++e)n=s[e],i=Ue(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=i:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=i);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],h=o.touch0[1],p=o.touch1[0],d=o.touch1[1],f=(f=p[0]-u[0])*f+(f=p[1]-u[1])*f,m=(m=d[0]-h[0])*m+(m=d[1]-h[1])*m;n=g(n,Math.sqrt(f/m)),i=[(u[0]+p[0])/2,(u[1]+p[1])/2],a=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!o.touch0)return;i=o.touch0[0],a=o.touch0[1]}o.zoom("touch",r(y(n,i,a),o.extent,c))}function S(){var t,n,i=M(this,arguments),r=xe.changedTouches,a=r.length;for(kv(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),t=0;t<a;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return m.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Ev),t!==n?v(t,e):n.interrupt().each((function(){M(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e){m.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}))},m.scaleTo=function(t,e){m.transform(t,(function(){var t=i.apply(this,arguments),n=this.__zoom,a=_(t),o=n.invert(a),s="function"==typeof e?e.apply(this,arguments):e;return r(y(g(n,s),a,o),t,c)}))},m.translateBy=function(t,e,n){m.transform(t,(function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}))},m.translateTo=function(t,e,n){m.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,o=_(t);return r(Lv.translate(o[0],o[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}))},b.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){ke(new Av(m,t,this.that.__zoom),p.apply,p,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:wv(+t),m):a},m.filter=function(t){return arguments.length?(n="function"==typeof t?t:wv(!!t),m):n},m.touchable=function(t){return arguments.length?(o="function"==typeof t?t:wv(!!t),m):o},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:wv([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(t){return arguments.length?(r=t,m):r},m.duration=function(t){return arguments.length?(l=+t,m):l},m.interpolate=function(t){return arguments.length?(u=t,m):u},m.on=function(){var t=p.on.apply(p,arguments);return t===p?m:t},m.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,m):Math.sqrt(f)},m},Fv=n(3),Hv=n.n(Fv),Uv=(n(146),function(){function t(){this.stringValueDefaults={"Last 30 mins":"Last 30 mins","Last Hour":"Last Hour","Last 2 Hours":"Last 2 Hours","Last 4 Hours":"Last 4 Hours","Last 12 Hours":"Last 12 Hours","Last 24 Hours":"Last 24 Hours","Last 7 Days":"Last 7 Days","Last 30 Days":"Last 30 Days",Custom:"Custom",Timeframe:"Timeframe",Save:"Save",timezone:"timezone",start:"start",end:"end",Latest:"Latest","Show ellipsis menu":"Show ellipsis menu","Hide ellipsis menu":"Hide ellipsis menu","Download as CSV":"Download as CSV","Toggle all columns":"Toggle all columns","All Columns":"All Columns",only:"only","Invalid Date":"Invalid Date","Stack/Unstack Bars":"Stack/Unstack Bars","Stack bars":"Stack bars","Unstack bars":"Unstack bars","No filter results":"No filter results","All hierarchies":"All hierarchies",Selected:"Selected","toggle visibility for":"toggle visibility for","Series type selection for":"Series type selection for",shifted:"shifted","Click to drop marker":"Click to drop marker","drag to reposition":"drag to reposition","Delete marker at":"Delete marker at","set axis state to":"set axis state to","Drop a Marker":"Drop a Marker","Search Time Series Instances":"Search Time Series Instances","No results":"No results","Show more":"Show more","No description":"No description","Time Series ID":"Time Series ID","Currently displayed time is":"Currently displayed time is","Left arrow to go back in time":"Left arrow to go back in time","right arrow to go forward":"right arrow to go forward",Local:"Local","Display Grid":"Display Grid","Previous Month":"Previous Month","Next Month":"Next Month","Unassigned Time Series Instances":"Unassigned Time Series Instances","Search Globally":"Search Globally","Show More Instances":"Show more instances","Show More Hierarchies":"Show more hierarchies","Add to Filter Path":"Add to Filter Path",Empty:"Empty","Date/Time":"Date/Time","show series":"show series","hide series":"hide series","in group":"in group","show group":"show group","hide group":"hide group","Use the arrow keys to navigate the values of each cell":"Use the arrow keys to navigate the values of each cell","A grid of values":"A grid of values","close grid":"close grid","column header for date":"column header for date","row header for":"row header for","values for cell at":"values for cell at","no values at":"no values at",and:"and",are:"are","timezone selection":"timezone selection","Start time input":"Start time input","End time input":"End time input","snap end time to latest":"snap end time to latest","zoom in":"zoom in","zoom out":"zoom out","select quick time of":"select quick time of","a time selection control dialog":"a time selection control dialog.","a button to launch a time selection dialog current selected time is ":"a button to launch a time selection dialog. current selected time is ","No color":"No color","Change y-axis type":"Change y-axis type","Show/Hide values":"Show/Hide values","Line chart":"Line chart","Bar chart":"Bar chart",Heatmap:"Heatmap","Pie chart":"Pie chart","Scatter plot":"Scatter plot","Select color":"Select color","Search suggestion instruction":"When autocomplete results are available use up and down arrows to review and enter to select","Search suggestions available":" results available, keyboard users, use up and down arrows to review and enter to select.","Hierarchy list":"Hierarchy list","event in series":"Event in series","at time":"at time","measure with key":"measure with key","and value":"and value","Looking for":"Looking for","Hierarchy error":"Error occured! Refreshing hierarchy...","Failed to get token":"Failed to get token","Error in hierarchy navigation":"Error in hierarchy navigation","Failed to load types for navigation":"Failed to load types for navigation","Failed to load hierarchies for navigation":"Failed to load hierarchies for navigation","Failed to complete search":"Failed to complete search","Failed to get instance details":"Failed to get instance details",Add:"Add",Search:"Search",Marker:"Marker","Start at":"Start at"},this.stringValues={},this.stringValues=this.stringValueDefaults}return t.prototype.mergeStrings=function(t){var e=this;Object.keys(this.stringValues).forEach((function(n){n in t&&(e.stringValues[n]=t[n])}))},t.prototype.getString=function(t){return t in this.stringValues?this.stringValues[t]:t},t.prototype.toObject=function(){return this.stringValues},t}()),Xv={instancesPageSize:10,hierarchiesPageSize:10,isInstancesRecursive:!1,isInstancesHighlighted:!1,instancesSort:r.DisplayName,hierarchiesExpand:a.OneLevel,hierarchiesSort:o.Name},Vv="null",Gv=40,Kv=8,Zv=28,Jv=['"',"`","'","!","(",")","^","[","{",":","]","}","~","/","\\","@","#","$","%","&","*",";","=",".","_","-","<",">",",","?"],Qv=function(){function t(){this.stringsInstance=new Uv}return t.prototype.getInterpolationFunction=function(t){return t==l.CurveLinear?Vg:t==l.CurveStep?x_:t==l.CurveStepBefore?w_:t==l.CurveStepAfter?A_:t==l.CurveBasis?Yy:t==l.CurveCardinal?Ky:t==l.CurveMonotoneX?g_:t==l.CurveCatmullRom?n_:g_},t.prototype.setOptions=function(t){t=t||{},this.grid=this.mergeValue(t,"grid",!1),this.preserveAvailabilityState=this.mergeValue(t,"preserveAvailabilityState",!1),this.persistDateTimeButtonRange=this.mergeValue(t,"persistDateTimeButtonRange",!1),this.isCompact=this.mergeValue(t,"isCompact",!1),this.keepBrush=this.mergeValue(t,"keepBrush",!1),this.isArea=this.mergeValue(t,"isArea",!1),this.noAnimate=this.mergeValue(t,"noAnimate",!1),this.updateInterval=this.mergeValue(t,"updateInterval",0),this.minutesForTimeLabels=this.mergeValue(t,"minutesForTimeLabels",!1),this.aggTopMargin=this.mergeValue(t,"aggTopMargin",12),this.color=this.mergeValue(t,"color",null),this.maxBuckets=this.mergeValue(t,"maxBuckets",500),this.yAxisHidden=this.mergeValue(t,"yAxisHidden",!1),this.focusHidden=this.mergeValue(t,"focusHidden",!1),this.singleLineXAxisLabel=this.mergeValue(t,"singleLineXAxisLabel",!1),this.legend=this.mergeValue(t,"legend","shown"),this.tooltip=this.mergeValue(t,"tooltip",!1),this.throttleSlider=this.mergeValue(t,"throttleSlider",!1),this.snapBrush=this.mergeValue(t,"snapBrush",!1),this.minBrushWidth=this.mergeValue(t,"minBrushWidth",0),this.theme=this.mergeValue(t,"theme","dark"),this.keepSplitByColor=this.mergeValue(t,"keepSplitByColor",!1),this.brushContextMenuActions=this.mergeValue(t,"brushContextMenuActions",null),this.timeFrame=this.mergeValue(t,"timeFrame",null),this.fromChart=this.mergeValue(t,"fromChart",!1),this.timestamp=this.mergeValue(t,"timestamp",null),this.stacked=this.mergeValue(t,"stacked",!1),this.scaledToCurrentTime=this.mergeValue(t,"scaledToCurrentTime",!1),this.zeroYAxis=this.mergeValue(t,"zeroYAxis",!0),this.arcWidthRatio=this.mergeValue(t,"arcWidthRatio",0),this.bucketSizeMillis=this.mergeValue(t,"bucketSizeMillis",0),this.brushClearable=this.mergeValue(t,"brushClearable",!0),this.brushMoveAction=this.mergeValue(t,"brushMoveAction",(function(){})),this.brushMoveEndAction=this.mergeValue(t,"brushMoveEndAction",(function(){})),this.yAxisState=this.mergeValue(t,"yAxisState","stacked"),this.xAxisHidden=this.mergeValue(t,"xAxisHidden",!1),this.suppressResizeListener=this.mergeValue(t,"suppressResizeListener",!1),this.onMouseout=this.mergeValue(t,"onMouseout",(function(){})),this.onMouseover=this.mergeValue(t,"onMouseover",(function(){})),this.onSticky=this.mergeValue(t,"onSticky",(function(){})),this.onUnsticky=this.mergeValue(t,"onUnsticky",(function(){})),this.onKeydown=this.mergeValue(t,"onKeydown",(function(){})),this.onInput=this.mergeValue(t,"onInput",(function(){})),this.brushHandlesVisible=this.mergeValue(t,"brushHandlesVisible",!1),this.hideChartControlPanel=this.mergeValue(t,"hideChartControlPanel",!1),this.offset=this.mergeValue(t,"offset",0),this.is24HourTime=this.mergeValue(t,"is24HourTime",!0),this.includeTimezones=this.mergeValue(t,"includeTimezones",!0),this.availabilityLeftMargin=this.mergeValue(t,"availabilityLeftMargin",60),this.onInstanceClick=this.mergeValue(t,"onInstanceClick",(function(){return{}})),this.interpolationFunction=this.getInterpolationFunction(this.mergeValue(t,"interpolationFunction",l.None)),this.includeEnvelope=this.mergeValue(t,"includeEnvelope",!1),this.canDownload=this.mergeValue(t,"canDownload",!0),this.withContextMenu=this.mergeValue(t,"withContextMenu",!1),this.autoTriggerBrushContextMenu=this.mergeValue(t,"autoTriggerBrushContextMenu",!1),this.includeDots=this.mergeValue(t,"includeDots",!1),this.yExtent=this.mergeValue(t,"yExtent",null),this.ellipsisItems=this.mergeValue(t,"ellipsisItems",[]),this.markers=uM.getValueOrDefault(t,"markers",null),this.onMarkersChange=this.mergeValue(t,"onMarkersChange",(function(t){})),this.spMeasures=this.mergeValue(t,"spMeasures",null),this.scatterPlotRadius=this.mergeValue(t,"scatterPlotRadius",[4,10]),this.spAxisLabels=this.mergeValue(t,"spAxisLabels",null),this.isTemporal=this.mergeValue(t,"isTemporal",!1),this.xAxisTimeFormat=this.mergeValue(t,"xAxisTimeFormat",null),this.brushRangeVisible=this.mergeValue(t,"brushRangeVisible",!0),this.strings=this.mergeStrings(uM.getValueOrDefault(t,"strings",{})),this.dateLocale=this.mergeValue(t,"dateLocale",uM.languageGuess()),this.defaultAvailabilityZoomRangeMillis=this.mergeValue(t,"defaultAvailabilityZoomRangeMillis",null),this.warmStoreRange=this.mergeValue(t,"warmStoreRange",null),this.initialValue=this.mergeValue(t,"initialValue",null),this.dTPIsModal=this.mergeValue(t,"dTPIsModal",!1),this.defaultColor=this.mergeValue(t,"defaultColor",null),this.numberOfColors=this.mergeValue(t,"numberOfColors",15),this.colors=uM.generateColors(this.numberOfColors,t.colors?t.colors:null),this.isColorValueHidden=this.mergeValue(t,"isColorValueHidden",!1),this.onClick=this.mergeValue(t,"onClick",(function(){})),this.onSelect=this.mergeValue(t,"onSelect",(function(){})),this.swimLaneOptions=this.mergeValue(t,"swimLaneOptions",null),this.hierarchyOptions=this.mergeValue(t,"hierarchyOptions",Object.assign({},Xv)),this.labelSeriesWithMarker=this.mergeValue(t,"labelSeriesWithMarker",!1),this.onError=this.mergeValue(t,"onError",(function(t,e,n){})),this.timeSeriesIdProperties=uM.getValueOrDefault(t,"timeSeriesIdProperties",[]),this.shouldSticky=this.mergeValue(t,"shouldSticky",!0)},t.prototype.mergeStrings=function(t){return this.stringsInstance.mergeStrings(t),this.stringsInstance.toObject()},t.prototype.mergeValue=function(t,e,n){return void 0!==this[e]&&void 0===t[e]?this[e]:uM.getValueOrDefault(t,e,n)},t.prototype.toObject=function(){return{grid:this.grid,preserveAvailabilityState:this.preserveAvailabilityState,persistDateTimeButtonRange:this.persistDateTimeButtonRange,isCompact:this.isCompact,keepBrush:this.keepBrush,isArea:this.isArea,noAnimate:this.noAnimate,minutesForTimeLabels:this.minutesForTimeLabels,aggTopMargin:this.aggTopMargin,color:this.color,maxBuckets:this.maxBuckets,yAxisHidden:this.yAxisHidden,focusHidden:this.focusHidden,singleLineXAxisLabel:this.singleLineXAxisLabel,legend:this.legend,tooltip:this.tooltip,throttleSlider:this.throttleSlider,snapBrush:this.snapBrush,minBrushWidth:this.minBrushWidth,theme:this.theme,keepSplitByColor:this.keepSplitByColor,brushContextMenuActions:this.brushContextMenuActions,timeFrame:this.timeFrame,fromChart:this.fromChart,timestamp:this.timestamp,stacked:this.stacked,scaledToCurrentTime:this.scaledToCurrentTime,zeroYAxis:this.zeroYAxis,arcWidthRatio:this.arcWidthRatio,brushClearable:this.brushClearable,brushMoveAction:this.brushMoveAction,yAxisState:this.yAxisState,xAxisHidden:this.xAxisHidden,suppressResizeListener:this.suppressResizeListener,brushMoveEndAction:this.brushMoveEndAction,onMouseout:this.onMouseout,onMouseover:this.onMouseover,onSticky:this.onSticky,onUnsticky:this.onUnsticky,onKeydown:this.onKeydown,onInput:this.onInput,brushHandlesVisible:this.brushHandlesVisible,hideChartControlPanel:this.hideChartControlPanel,offset:this.offset,is24HourTime:this.is24HourTime.valueOf,includeTimezones:this.includeTimezones,availabilityLeftMargin:this.availabilityLeftMargin,onInstanceClick:this.onInstanceClick,interpolationFunction:this.interpolationFunction,includeEnvelope:this.includeEnvelope,canDownload:this.canDownload,withContextMenu:this.withContextMenu,autoTriggerBrushContextMenu:this.autoTriggerBrushContextMenu,includeDots:this.includeDots,yExtent:this.yExtent,ellipsisItems:this.ellipsisItems,markers:this.markers,onMarkersChange:this.onMarkersChange,xAxisTimeFormat:this.xAxisTimeFormat,spMeasures:this.spMeasures,scatterPlotRadius:this.scatterPlotRadius,spAxisLabels:this.spAxisLabels,brushRangeVisible:this.brushRangeVisible,strings:this.strings.toObject(),dateLocale:this.dateLocale,defaultAvailabilityZoomRangeMillis:this.defaultAvailabilityZoomRangeMillis,warmStoreRange:this.warmStoreRange,initialValue:this.initialValue,bucketSizeMillis:this.bucketSizeMillis,updateInterval:this.updateInterval,dTPIsModal:this.dTPIsModal,numberOfColors:this.numberOfColors,defaultColor:this.defaultColor,isColorValueHidden:this.isColorValueHidden,onClick:this.onClick,onSelect:this.onSelect,colors:this.colors,swimLaneOptions:this.swimLaneOptions,hierarchyOptions:this.hierarchyOptions,onError:this.onError,labelSeriesWithMarker:this.labelSeriesWithMarker,timeSeriesIdProperties:this.timeSeriesIdProperties,shouldSticky:this.shouldSticky}},t}(),$v=function(){function t(t){this.TRANSDURATION=window.navigator.userAgent.indexOf("Edge")>-1?0:400,this.usesSeconds=!1,this.usesMillis=!1,this.chartOptions=new Qv,this.teardropD=function(t,e){return"M"+t/2+" "+e/14+" \n                Q"+t/1.818+" "+e/6.17+" "+t/1.2+" "+e/2.33+"\n                A"+t/2.35+" "+t/2.35+" 0 1 1 "+t/6+" "+t/2.33+"\n                Q"+t/2.22+" "+e/6.18+" "+t/2+" "+e/14+"z"},this.renderTarget=t}return t.prototype.getString=function(t){return this.chartOptions.stringsInstance.getString(t)},t.prototype.themify=function(t,e){e=uM.getTheme(e);null==t||t.classed(this.currentTheme,!1),null==t||t.classed("tsi-light",!1),null==t||t.classed("tsi-dark",!1),null==t||t.classed(e,!0),this.currentTheme=e},t.prototype.tooltipFormat=function(t,e,n,i){void 0===i&&(i=null)},t.prototype.createTooltipSeriesInfo=function(t,e,n){var i=e.append("h2").attr("class","tsi-tooltipGroupName tsi-tooltipTitle");if(uM.appendFormattedElementsFromString(i,t.aggregateName),t.splitBy&&""!=t.splitBy){var r=e.append("h4").attr("class","tsi-tooltipSeriesName tsi-tooltipSubtitle");uM.appendFormattedElementsFromString(r,t.splitBy)}n.variableAlias&&n.isVariableAliasShownOnTooltip&&e.append("h4").text(n.variableAlias).attr("class","tsi-tooltipVariableAlias tsi-tooltipSubtitle")},t}(),tM=function(){return(tM=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},eM=function(){function t(){var t=this;this.data={},this.displayState={},this.timeArrays=[],this.visibleTSCount=0,this.visibleTAs=[],this.allValues=[],this.allNumericValues=[],this.usesSeconds=!1,this.usesMillis=!1,this.fromMillis=1/0,this.toMillis=0,this.stickiedKey=null,this.isFromHeatmap=!1,this.getSwimlane=function(e){return t.displayState[e].aggregateExpression?t.displayState[e].aggregateExpression.swimLane:null},this.getVisibleType=function(e,n,i,r){if(t.displayState[e]&&t.displayState[e].splitBys[n]){var a=t.displayState[e].splitBys[n].visibleType;if(-1!==r.indexOf(a))return a}return i}}return t.prototype.setAllTimestampsArray=function(){var t={};this.data.forEach((function(e){var n=e[Object.keys(e)[0]];Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(e){t[e]=!0}))}))})),this.allTimestampsArray=Object.keys(t).sort()},t.prototype.getDataType=function(t){return this.displayState[t]?this.displayState[t].dataType:Rv.Numeric},t.prototype.fillColors=function(t){if(null==t&&(t=[]),t.length<this.data.length)for(var e=t.length;e<this.data.length;e++)t.push({});var n=t.reduce((function(t,e){return null!=e.color?t:t+1}),0),i=0,r=uM.generateColors(n);return t.forEach((function(t){null==t.color&&(t.color=r[i],i++)})),t},t.prototype.mergeDataToDisplayStateAndTimeArrays=function(t,e){var n=this;void 0===e&&(e=null),this.data=t;var i={};this.timeArrays={},this.visibleTAs={},this.allValues=[],this.allNumericValues=[],this.visibleTSCount=0,this.fromMillis=1/0,this.toMillis=0,this.usesSeconds=!1,this.usesMillis=!1,e=this.fillColors(e);var r=uM.getAggKeys(this.data);if(this.data=this.data.map((function(a,o){var s=Object.keys(a)[0],c=tM({},a),l=r[o];if(n.data[o].aggKey=l,c.aggKey=l,n.displayState[l]?i[l]={visible:e[o]&&e[o].visibilityState?e[o].visibilityState[0]:n.displayState[l].visible,name:n.displayState[l].name,color:e[o]&&e[o].color?e[o].color:n.displayState[l].color,interpolationFunction:e[o].interpolationFunction,yExtent:e[o].yExtent,includeEnvelope:e[o].includeEnvelope,includeDots:e[o].includeDots,splitBys:{},dataType:e[o].dataType,visibleSplitByCap:n.displayState[l].visibleSplitByCap,shownSplitBys:20}:i[l]={visible:!e[o]||!e[o].visibilityState||e[o].visibilityState[0],splitBys:{},name:s,color:e[o]&&e[o].color?e[o].color:"teal",interpolationFunction:e[o].interpolationFunction,yExtent:e[o].yExtent,includeEnvelope:e[o].includeEnvelope,includeDots:e[o].includeDots,dataType:e[o].dataType,visibleSplitByCap:10,shownSplitBys:20},e)i[l].contextMenuActions=e[o]?e[o].contextMenu:[],i[l].aggregateExpression=e[o],e[o]&&e[o].visibleSplitByCap&&(i[l].visibleSplitByCap=e[o].visibleSplitByCap);else{var u=n.displayState[l]&&n.displayState[l].contextMenuActions?n.displayState[l].contextMenuActions:[];i[l].contextMenuActions=u;var h=n.displayState[l]&&n.displayState[l].aggregateExpression?n.displayState[l].aggregateExpression:{};i[l].aggregateExpression=h}i[l].aggregateExpression&&i[l].aggregateExpression.searchSpan&&(i[l].from=new Date(i[l].aggregateExpression.searchSpan.from),i[l].to=new Date(i[l].aggregateExpression.searchSpan.to),i[l].bucketSize=i[l].aggregateExpression.searchSpan.bucketSize?uM.parseTimeInput(i[l].aggregateExpression.searchSpan.bucketSize):null);var p=i[l].visible;return n.timeArrays[l]=[],n.visibleTAs[l]={},Object.keys(t[o][s]).forEach((function(r,a){var c,u=uM.parseShift(e[o].timeShift,e[o].startAt,e[o].searchSpan);if(n.timeArrays[l][r]=n.convertAggregateToArray(t[o][s][r],l,s,r,i[l].from,i[l].to,i[l].bucketSize,u),i[l].dataType===Rv.Categorical&&e[o].rollupCategoricalValues&&(n.timeArrays[l][r]=uM.rollUpContiguous(n.timeArrays[l][r])),c=e[o]&&e[o].visibilityState&&2===e[o].visibilityState.length?-1!=e[o].visibilityState[1].indexOf(r):e[o]&&e[o].visibilityState&&1===Object.keys(t[o][s]).length&&""===r?e[o].visibilityState[0]:n.displayState[l]&&n.displayState[l].splitBys[r]?n.displayState[l].splitBys[r].visible:a<i[l].visibleSplitByCap,i[l].splitBys[r]={visible:c,visibleType:i[l].splitBys[r]?i[l].splitBys[r].visibleType:null,types:i[l].splitBys[r]?i[l].splitBys[r].types:[]},n.timeArrays[l][r]&&n.timeArrays[l][r].length&&i[l].aggregateExpression&&i[l].aggregateExpression.measureTypes?i[l].splitBys[r].types=i[l].aggregateExpression.measureTypes:i[l].splitBys[r].types=n.determineMeasureTypes(n.timeArrays[l][r]),!i[l].splitBys[r].visibleType||-1===i[l].splitBys[r].types.indexOf(i[l].splitBys[r].visibleType)){var h=-1!==i[l].splitBys[r].types.indexOf("avg")?"avg":i[l].splitBys[r].types[0];i[l].splitBys[r].visibleType=n.getVisibleType(l,r,h,i[l].splitBys[r].types)}i[l].splitBys[r].visible&&p&&(n.allValues=n.allValues.concat(n.timeArrays[l][r]),i[l].dataType===Rv.Numeric&&(n.allNumericValues=n.allNumericValues.concat(n.timeArrays[l][r])),n.usesSeconds=n.usesSeconds||n.doesTimeArrayUseSeconds(n.timeArrays[l][r]),n.usesMillis=n.usesMillis||n.doesTimeArrayUseMillis(n.timeArrays[l][r]),n.visibleTAs[l][r]=n.timeArrays[l][r],n.visibleTSCount+=1)})),c})),this.stickiedKey){var a=this.stickiedKey.splitBy,o=this.stickiedKey.aggregateKey;i[o]&&i[o].visible&&i[o].splitBys[a]&&i[o].splitBys[a].visible||(this.stickiedKey=null)}this.displayState=i,this.setAllTimestampsArray()},t.prototype.determineMeasureTypes=function(t){var e=t.reduce((function(t,e){return e&&e.measures&&Object.keys(e.measures).length&&Object.keys(e.measures).forEach((function(e){t[e]=!0})),t}),{});return Object.keys(e)},t.prototype.getTemporalShiftStringTuple=function(t){var e=this.displayState[t].aggregateExpression;if(e){if(uM.isStartAt(e.startAt,e.searchSpan))return[c.startAt,e.startAt];if(e.timeShift)return[c.shifted,e.timeShift]}return null},t.prototype.getTemporalShiftMillis=function(t){var e=this.displayState[t].aggregateExpression;return e?uM.parseShift(e.timeShift,e.startAt,e.searchSpan):0},t.prototype.doesTimeArrayUseSeconds=function(t){return t.reduce((function(t,e){return 0!=e.dateTime.getSeconds()||t}),!1)},t.prototype.doesTimeArrayUseMillis=function(t){return t.reduce((function(t,e){return 0!=e.dateTime.getMilliseconds()||t}),!1)},t.prototype.setAllValuesAndVisibleTAs=function(){var t=this,e=0,n=1/0;return this.allValues=[],this.allNumericValues=[],this.visibleTAs=[],this.visibleTSCount=0,Object.keys(this.timeArrays).forEach((function(i){t.getAggVisible(i)&&(t.visibleTAs[i]={},Object.keys(t.timeArrays[i]).forEach((function(r){t.getSplitByVisible(i,r)&&(t.allValues=t.allValues.concat(t.timeArrays[i][r]),t.displayState[i].dataType===Rv.Numeric&&(t.allNumericValues=t.allNumericValues.concat(t.timeArrays[i][r])),t.visibleTAs[i][r]=t.timeArrays[i][r],t.visibleTSCount+=1,t.timeArrays[i][r].forEach((function(r){var a=r.dateTime.valueOf(),o=t.displayState[i].bucketSize;a<n&&(n=a);var s=o?a+o:a;s>e&&(e=s)})),t.usesSeconds=t.usesSeconds||t.doesTimeArrayUseSeconds(t.timeArrays[i][r]),t.usesMillis=t.usesMillis||t.doesTimeArrayUseMillis(t.timeArrays[i][r]))})))})),this.toMillis=e>this.toMillis?e:this.toMillis,this.fromMillis=n<this.fromMillis?n:this.fromMillis,this.fromMillis===1/0&&(this.fromMillis=this.toMillis-1),[new Date(this.fromMillis),new Date(this.toMillis)]},t.prototype.findLastTimestampWithValue=function(t,e){for(var n=this.timeArrays[t][e],i=n.length-1,r=null;i>=0&&null===r;)n[i].measures&&null!==n[i].measures[this.getVisibleMeasure(t,e)]&&(r=n[i]),i+=-1;return r},t.prototype.findFirstBucket=function(t,e,n){if(null==t||0==Object.keys(t).length)return null;var i=Object.keys(t).filter((function(t){return new Date(t).valueOf()+n>e}));if(0===i.length)return null;for(var r=i.sort((function(t,e){return new Date(t).valueOf()<new Date(e).valueOf()?-1:new Date(t).valueOf()>new Date(e).valueOf()?1:0}))[0],a=new Date(r).valueOf();a>e;)a+=-n;return a},t.prototype.getNumberOfPaddedBuckets=function(t,e,n){return Math.ceil((e-t)/n)},t.prototype.convertAggregateToArray=function(t,e,n,i,r,a,o,s){void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o=null);var c=[],l={};Object.keys(t).forEach((function(e){var n=new Date(new Date(e).valueOf()-s).toISOString();l[n]=t[e]})),t=l;var u=function(){var t={};return t.aggregateKey=e,t.aggregateName=n,t.splitBy=i,t.measures={},t.bucketSize=o,t};if(r&&(this.fromMillis=Math.min(r.valueOf(),this.fromMillis)),a&&(this.toMillis=Math.max(a.valueOf(),this.toMillis)),r&&a&&o){var h=this.findFirstBucket(t,r.valueOf(),o);if(null!==h){var p=h.valueOf();if(this.getNumberOfPaddedBuckets(p,a.valueOf(),o)>1e4)Object.keys(t).forEach((function(e){var n=u();n.dateTime=new Date(e);var i=t[e];Object.keys(i).forEach((function(t){n.measures[t]=i[t]})),c.push(n)}));else for(var d=new Date(p);d.valueOf()<a.valueOf();d=new Date(d.valueOf()+o)){var f=u();f.dateTime=d;var m=d.toISOString();if(t[m]){var g=t[m];Object.keys(g).forEach((function(t){f.measures[t]=g[t]}))}else f.measures=null;c.push(f),this.fromMillis=Math.min(r.valueOf(),d.valueOf()),this.toMillis=Math.max(a.valueOf(),d.valueOf()+o)}}}else Object.keys(t).sort().forEach((function(e){var n=u();n.dateTime=new Date(e),t[e]&&Object.keys(t[e]).forEach((function(i){n.measures[i]=t[e][i]})),c.push(n)}));return c},t.prototype.isSplitByVisible=function(t,e){return!(null==this.displayState[t]||!this.displayState[t].visible)&&(null!=this.displayState[t].splitBys[e]&&this.displayState[t].splitBys[e].visible)},t.prototype.isPossibleEnvelope=function(t,e){return"avg"==this.displayState[t].splitBys[e].visibleType&&-1!=this.displayState[t].splitBys[e].types.indexOf("min")&&-1!=this.displayState[t].splitBys[e].types.indexOf("max")},t.prototype.getVisibleMeasure=function(t,e){return null==this.displayState[t]||null==this.displayState[t].splitBys[e]?null:this.displayState[t].splitBys[e].visibleType},t.prototype.getAggVisible=function(t){return this.displayState[t].visible},t.prototype.getSplitByVisible=function(t,e){return this.getAggVisible(t)&&this.displayState[t].splitBys[e].visible},t.prototype.aggHasVisibleSplitBys=function(t){var e=this;if(!this.getAggVisible(t))return!1;var n=!1;return Object.keys(this.displayState[t].splitBys).forEach((function(i){e.isSplitByVisible(t,i)&&(n=!0)})),n},t.prototype.valueAtTS=function(t,e,n){var i=this.displayState[t].splitBys[e];return this.data[t][this.displayState[t].name][e][n][i.visibleType]},t.prototype.setFilteredAggregates=function(){var t=this;this.filteredAggregates=Object.keys(this.displayState).filter((function(e){return t.displayState[e].visible}))},t.prototype.guessValueType=function(t){return"number"==typeof t?Wv.Double:"string"==typeof t?Wv.String:Wv.Dynamic},t.prototype.generateCSVString=function(t,e,n){var i=this;void 0===t&&(t=0),void 0===e&&(e="en"),void 0===n&&(n=null);var r=function(t){return t.slice(0,t.length-1)+"\n"},a="",o="Interval,",s={},c=[];return this.data.forEach((function(t){var e=t.aggKey,r=i.displayState[e].aggregateExpression.splitByObject;Object.keys(i.timeArrays[e]).forEach((function(t){var a=uM.stripNullGuid(i.displayState[e].name);null!=r?a+="/"+r.property+"/"+t:""!==t?a+="/"+t:i.displayState[e].aggregateExpression.variableAlias&&(a+="/"+i.displayState[e].aggregateExpression.variableAlias),(n||i.displayState[e].splitBys[t].types).forEach((function(n){var i=e+"_"+t+"_"+n;s[i]={},c.push(i),o+=uM.sanitizeString(a+"."+n,Wv.String)+","}))}))})),a=r(o),this.allValues.forEach((function(t){t.measures&&0!=Object.keys(t.measures).length&&Object.keys(t.measures).forEach((function(e){var n=t.aggregateKey+"_"+t.splitBy+"_"+e;n in s&&(s[n][t.dateTime.valueOf()]=null==t.measures[e]||null==t.measures[e]?"":uM.sanitizeString(t.measures[e],i.guessValueType(t.measures[e])))}))})),this.allTimestampsArray.forEach((function(n){var o=new Date(n).valueOf();a+=uM.timeFormat(i.usesSeconds,i.usesMillis,t,null,null,null,e)(new Date(o))+",",c.forEach((function(t){a+=(null!=s[t][o]?s[t][o]:"")+","})),a=r(a)})),a},t.prototype.getVisibilityState=function(){var t=this,e=[];return Object.keys(this.displayState).forEach((function(n){var i=t.displayState[n],r=i.visible?Object.keys(i.splitBys).filter((function(t){return i.splitBys[t].visible})):[],a={};a[i.name]=[i.visible,r],e.push(a)})),e},t}(),nM=(Pv=function(t,e){return(Pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),iM=function(t){function e(e){var n=t.call(this,e)||this;return n.rowLabelKey="__tsiLabel__",n.colorKey="__tsiColor__",n.aggIndexKey="__tsiAggIndex__",n.chartComponentData=new eM,n.closeButton=null,n.usesSeconds=!1,n.usesMillis=!1,n.cellClass=function(t,e){return"tsi-table-"+t+"-"+e},n.focus=function(t,e){try{n.gridComponent.select("."+n.cellClass(t,e)).node().focus()}catch(t){console.log(t)}},n.getFormattedDate=function(t){var e=new Date(t);return e!=n.getString("Invalid Date")?uM.timeFormat(n.usesSeconds,n.usesMillis,n.chartOptions.offset,null,null,null,n.chartOptions.dateLocale)(e):t},n.setFilteredTimestamps=function(){n.chartComponentData.fromMillis===1/0?n.filteredTimestamps=n.chartComponentData.allTimestampsArray:n.filteredTimestamps=n.chartComponentData.allTimestampsArray.filter((function(t){var e=new Date(t).valueOf();return e>=n.chartComponentData.fromMillis&&e<n.chartComponentData.toMillis}))},n.arrowNavigate=function(t,e,i){if(9!==t.keyCode){var r=[37,38,39,40].indexOf(t.keyCode);if(-1!=r)switch(r){case 0:n.focus(e,i-1),t.preventDefault();break;case 1:n.focus(e-1,i),t.preventDefault();break;case 2:n.focus(e,i+1),t.preventDefault();break;case 3:n.focus(e+1,i),t.preventDefault()}}else n.closeButton&&(n.closeButton.node().focus(),t.preventDefault())},n}return nM(e,t),e.prototype.Grid=function(){},e.prototype.renderFromAggregates=function(t,e,n,i){var r=this;this.chartOptions.setOptions(e);var a=t.reduce((function(t,e,i){var a=Object.keys(e)[0];return Object.keys(e[a]).forEach((function(o){var s={};Object.keys(e[a][o]).forEach((function(t){s[t]=e[a][o][t]})),s[r.rowLabelKey]=1==Object.keys(e[a]).length&&""==o?a:o,n&&n[i].color&&(s[r.colorKey]=n[i].color),s[r.aggIndexKey]=i,t.push(s)})),t}),[]);return this.render(a,e,n,i)},e.prototype.getRowData=function(){var t=this,e=[];return Object.keys(this.chartComponentData.timeArrays).forEach((function(n){Object.keys(t.chartComponentData.timeArrays[n]).forEach((function(i,r){t.chartComponentData.getSplitByVisible(n,i)&&e.push([n,i])}))})),e},e.prototype.convertSeriesToGridData=function(t,e){return Object.keys(t).forEach((function(e){return t[e]={}})),(e=e.filter((function(t){return null!==t.measures}))).map((function(e){t[e.dateTime.toISOString()]=e})),Object.keys(t).map((function(e){return t[e]}))},e.prototype.addHeaderCells=function(){var t=this,e=this.filteredTimestamps,n=this.tableHeaderRow.selectAll(".tsi-headerCell").data(e);n.enter().append("th").attr("tabindex",1).merge(n).attr("class",(function(e,n){return t.cellClass(0,n+1)+" tsi-headerCell"})).on("keydown",(function(e,n){t.arrowNavigate(xe,0,n+1)})).text(this.getFormattedDate).attr("aria-label",(function(e){return t.getString("column header for date")+" "+t.getFormattedDate(e)})).exit().remove()},e.prototype.addValueCells=function(){var t=this.getRowData(),e=this.table.selectAll(".tsi-gridContentRow").data(t),n=this,i=this.filteredTimestamps.reduce((function(t,e){return t[e]={},t}),{}),r=this.filteredTimestamps;e.enter().append("tr").classed("tsi-gridContentRow",!0).each((function(t,e){var a=t[0],o=t[1],s=n.convertSeriesToGridData(i,n.chartComponentData.timeArrays[a][o]),c=Pe(this).selectAll(".tsi-valueCell").data(s),l=n.chartOptions.spMeasures?n.chartOptions.spMeasures:n.chartComponentData.displayState[a].splitBys[o].types,u=Pe(this).selectAll("tsi-rowHeaderCell").data([t]),h=function(t){return n.chartComponentData.displayState[a].name+(""!==o?": "+o:"")};u.enter().append("td").attr("tabindex",1).merge(u).attr("class",(function(t,i){return"tsi-rowHeaderCell "+n.cellClass(e+1,0)})).on("keydown",(function(t,i){n.arrowNavigate(xe,e+1,0)})).attr("aria-label",(function(t){return n.getString("row header for")+" "+uM.stripNullGuid(h())})).each((function(t){Pe(this).select("*").remove();var e=Pe(this).append("div").attr("class","tsi-rowHeaderContainer"),n=e.append("div").attr("class","tsi-rowHeaderSeriesName");uM.appendFormattedElementsFromString(n,h()),e.append("div").attr("class","tsi-rowHeaderMeasures").selectAll(".tsi-measureName").data(l).enter().append("div").attr("class","tsi-measureName").text((function(t){return t}))})),u.exit().remove(),c.enter().append("td").merge(c).attr("class",(function(t,i){return"tsi-valueCell "+n.cellClass(e+1,i+1)})).on("keydown",(function(t,i){n.arrowNavigate(xe,e+1,i+1)})).attr("tabindex",1).attr("aria-label",(function(t,e){if(!t.measures||0===Object.keys(t.measures).length)return n.getString("no values at")+" "+h()+" and "+n.getFormattedDate(new Date(r[e]));var i=Object.keys(t.measures).map((function(e){return e+": "+t.measures[e]})).join(", ");return n.getString("values for cell at")+" "+h()+" "+n.getString("and")+" "+n.getFormattedDate(t.dateTime)+" "+n.getString("are")+" "+i})).each((function(t,e){var n=Pe(this).selectAll(".tsi-measureValue").data(l);n.enter().append("div").attr("class","tsi-measureValue").text((function(e){return t.measures?t.measures[e]:""})),n.exit().remove()})),c.exit().remove()})).exit().remove()},e.prototype.render=function(e,n,i,r){var a=this;void 0===r&&(r=null),e=uM.standardizeTSStrings(e),this.chartOptions.setOptions(n),this.gridComponent=Pe(this.renderTarget),r?this.chartComponentData=r:this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(e,i),this.setFilteredTimestamps(),t.prototype.themify.call(this,this.gridComponent,this.chartOptions.theme),this.gridComponent.classed("tsi-gridComponent",!0).classed("tsi-fromChart",!!n.fromChart);var o=this.gridComponent.append("div").attr("class","tsi-gridWrapper").attr("tabindex",0).on("click",(function(){a&&a.focus(0,0)}));Object.keys(e.reduce((function(t,e){return Object.keys(e).forEach((function(e){e!=a.rowLabelKey&&e!=a.colorKey&&(t[e]=!0)})),t}),{})).sort();this.table||(this.table=o.append("table").classed("tsi-gridTable",!0),this.tableHeaderRow=this.table.append("tr").classed("tsi-gridHeaderRow",!0),this.tableHeaderRow.append("th").attr("tabindex",0).attr("class","tsi-topLeft "+this.cellClass(0,0)).on("keydown",(function(){a.arrowNavigate(xe,0,0)})).attr("aria-label",this.getString("A grid of values")+" - "+this.getString("Use the arrow keys to navigate the values of each cell"))),this.addHeaderCells(),this.addValueCells(),this.chartOptions.fromChart&&(this.gridComponent.selectAll(".tsi-closeButton").remove(),this.closeButton=o.append("button").attr("class","tsi-closeButton").attr("aria-label",this.getString("close grid")).html("&times").on("keydown",(function(){9===xe.keyCode&&(a.focus(0,0),xe.preventDefault())})).on("click",(function(){n.fromChart&&(uM.focusOnEllipsisButton(a.renderTarget.parentNode),a.gridComponent.remove())})))},e}($v),rM=16,aM="tsi-gridContainer",oM={top:40,bottom:40,left:70,right:60};!function(t){t.Stacked="stacked",t.Shared="shared",t.Overlap="overlap"}(Bv||(Bv={})),function(t){t.Numeric="numeric",t.Categorical="categorical",t.Events="events"}(Rv||(Rv={})),function(t){t.Diamond="diamond",t.Teardrop="teardrop"}(qv||(qv={})),function(t){t.Enveloped="Enveloped",t.SingleValue="SingleValue",t.Scatter="Scatter"}(Yv||(Yv={})),function(t){t.String="String",t.Double="Double",t.Long="Long",t.Dynamic="Dynamic",t.Boolean="Boolean",t.DateTime="DateTime"}(Wv||(Wv={}));var sM,cM,lM,uM=function(){function t(){}return t.formatYAxisNumber=function(t){if(Math.abs(t)<1e6){if(Math.abs(t)<1e-7)return Ga(".2n")(t);var e=Ga(",.7r")(t);if(-1!=e.indexOf(".")){for(var n=e[e.length-1];"0"==n;)n=(e=e.slice(0,-1))[e.length-1];"."==n&&(e=e.slice(0,-1))}return e}return Math.abs(t)>=1e6&&Math.abs(t)<1e9?Ga(".3s")(t):Math.abs(t)>=1e9&&Math.abs(t)<1e12?Ga(".3s")(t).slice(0,-1)+"B":Ga(".2n")(t)},t.getStackStates=function(){return Bv},t.parseTimeInput=function(t){var e=function(t,e){var n=-1!==t.indexOf("pt")?2:-1!==t.indexOf("p")?1:0;return Number(t.slice(n,t.length-e))};return(t=t.toLowerCase()).indexOf("ms")==t.length-2?e(t,2):t.indexOf("s")==t.length-1?1e3*e(t,1):t.indexOf("m")==t.length-1?60*e(t,1)*1e3:t.indexOf("h")==t.length-1?60*e(t,1)*60*1e3:t.indexOf("d")==t.length-1?24*e(t,1)*60*60*1e3:-1},t.findClosestTime=function(t,e){var n=1/0,i=null;return Object.keys(e).forEach((function(e){var r=Number(e);Math.abs(r-t)<n&&(n=Math.abs(r-t),i=r)})),i},t.getValueOfVisible=function(t,e){return!t.measures||null==t.measures[e]&&null==t.measures[e]?null:t.measures[e]},t.isStartAt=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),null!==t&&null!==e&&null!==e.from},t.parseShift=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),this.isStartAt(e,n)?new Date(e).valueOf()-new Date(n.from).valueOf():null==t||0===t.length?0:-("-"===t[0]||"+"===t[0]?("-"===t[0]?-1:1)*this.parseTimeInput(t.slice(1,t.length)):this.parseTimeInput(t))},t.adjustStartMillisToAbsoluteZero=function(t,e){var n=621355968e5;return Math.floor((t+n)/e)*e-n},t.bucketSizeToTsqInterval=function(e){if(!e)return null;var n=t.parseTimeInput(e);return n<1e3&&(e=-1!==e.toLowerCase().indexOf("d")?"d.":"."+function(t){var e=String(t);return e.length<3&&(e=(2===e.length?"0":"00")+e),e}(n)+"s"),((-1!==e.toLowerCase().indexOf("d")?"P":"PT")+e).toUpperCase()},t.createEntityKey=function(t,e){return encodeURIComponent(t).split(".").join("_")+"_"+e},t.getColorForValue=function(t,e){return t.valueMapping&&void 0!==t.valueMapping[e]?t.valueMapping[e].color:null},t.rollUpContiguous=function(t){return t.filter((function(e,n){return 0===n||(i=e,r=t[n-1],!(i.measures&&r.measures&&Object.keys(i.measures).length===Object.keys(r.measures).length&&Object.keys(i.measures).reduce((function(t,e,n){return t&&i.measures[e]===r.measures[e]}),!0)));var i,r}))},t.formatOffsetMinutes=function(t){return(t<0?"-":"+")+Math.floor(t/60)+":"+(t%60<10?"0":"")+t%60},t.getOffsetMinutes=function(t,e){return"Local"==t?-Hv.a.tz.zone(Hv.a.tz.guess()).parse(e):"string"==typeof t&&isNaN(t)?-Hv.a.tz.zone(t).parse(e):t},t.offsetUTC=function(t){return new Date(t.valueOf()-60*t.getTimezoneOffset()*1e3)},t.getMinutesToUTC=function(t,e){return"Local"==t?Hv.a.tz.zone(Hv.a.tz.guess()).utcOffset(e):"string"==typeof t&&isNaN(t)?Hv.a.tz.zone(t).utcOffset(e):-t},t.addOffsetGuess=function(t){return"UTC"+Hv.a.tz(new Date,t.split(" ").join("_")).format("Z")},t.timezoneAbbreviation=function(t){var e=Hv.a.tz(new Date,t).format("z");return"-"===e[0]||"+"===e[0]?"":e},t.createTimezoneAbbreviation=function(e){var n=t.parseTimezoneName(e),i=t.timezoneAbbreviation(n);return 0!==i.length?i:t.addOffsetGuess(n)},t.parseTimezoneName=function(t){return isNaN(t)?"Local"==t?Hv.a.tz.guess():null!==t?t.split(" ").join("_"):"":0===t?"UTC":""},t.convertTimezoneToLabel=function(t,e){void 0===e&&(e="Local");var n=this.parseTimezoneName(t),i="",r="";"Local"==t&&(i=e+" - "),"UTC"!==t&&(r=" ("+this.addOffsetGuess(n)+")");var a=this.timezoneAbbreviation(n),o=a&&0!==a.length&&"UTC"!==a?": "+a:"";return r+" "+i+n.replace(/_/g," ")+o},t.rangeTimeFormat=function(t){var e=6e4,n=36e5,i=864e5,r=Math.floor(t/i),a=Math.floor(t/n)%24,o=Math.floor(t/e)%60,s=Math.floor(t/1e3)%60,c=Math.floor(t%1e3);return t>=i?r+"d "+(a>0?a+"h":""):t>=n?a+"h "+(o>0?o+"m":""):t>=e?o+"m "+(s>0?s+"s":""):t>=1e3?s+(0!=c?"."+c:"")+"s":c+"ms"},t.subDateTimeFormat=function(t,e,n){return(t?"HH":"hh")+":mm"+(e?":ss"+(n?".SSS":""):"")+(t?"":" A")},t.timeFormat=function(t,e,n,i,r,a,o){var s=this;return void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=0),void 0===i&&(i=!0),void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o="en"),function(c){var l;return 0!==r&&(c=new Date(c.valueOf()+r)),l=null!==a?a:"L "+s.subDateTimeFormat(i,t,e),"string"==typeof n&&isNaN(n)?Hv.a.tz(c,"UTC").tz("Local"===n?Hv.a.tz.guess():n).locale(o).format(l):Hv.a.tz(c,"UTC").utcOffset(n).locale(o).format(l)}},t.splitTimeLabel=function(t){t.each((function(){if(null==this.children||0==this.children.length){var t=Pe(this),e=t.text().split(" "),n=parseFloat(t.attr("dy"));if(a=t.text(),1!==(o=a.split(" ")).length&&(2!==o.length||"AM"!==o[1]&&"PM"!==o[1])){var i=e[0]+(3===e.length?" "+e[1]:""),r=e[e.length-1];t.text(null).append("tspan").attr("x",0).attr("y",t.attr("y")).attr("dy",n+"em").text(i),t.append("tspan").attr("x",0).attr("y",t.attr("y")).attr("dy",n+1.4*n+"em").text(r)}}var a,o}))},t.getUTCHours=function(t,e){void 0===e&&(e=!0);var n=t.getUTCHours();return e||(0==n&&(n=12),n>12&&(n-=12)),n},t.UTCTwelveHourFormat=function(t){return String(this.getUTCHours(t))+":"+((t.getUTCMinutes()<10?"0":"")+String(t.getUTCMinutes()))+" "+(t.getUTCHours()<12?"AM":"PM")},t.getAgVisible=function(t,e,n){return!!t[e].visible&&t[e].splitBys[n].visible},t.getAgVisibleMeasure=function(t,e,n){return t[e].splitBys[n].visibleType},t.createSeriesTypeIcon=function(t,e){var n=e.append("g").style("position","absolute");"event"==t?n.attr("transform","translate(7.5,0)").append("rect").attr("width",7).attr("height",7).attr("transform","rotate(45)"):"state"==t?n.append("rect").attr("width",15).attr("height",10):n.append("path").attr("d","M0 5 Q 4 0, 8 5 T 16 5").attr("fill","none")},t.strip=function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},t.stripForConcat=function(t){return['"',"'","?","<",">",";"].forEach((function(e){t=t.split(e).join("")})),t},t.setSeriesLabelSubtitleText=function(e,n){void 0===n&&(n=!1);var i=e.data()[0];if(!e.select(".tsi-splitBy").empty()){var r=""!==i.timeShift||i.variableAlias,a=i.splitBy+(r&&!n?", ":"");t.appendFormattedElementsFromString(e.select(".tsi-splitBy"),a)}e.select(".tsi-timeShift")&&e.select(".tsi-timeShift").text((function(t){return i.timeShift+(i.variableAlias&&!n?", ":"")})),e.select(".tsi-variableAlias")&&e.select(".tsi-variableAlias").text((function(t){return i.variableAlias}))},t.revertAllSubtitleText=function(t,e){void 0===e&&(e=1);var n=this;t.classed("tsi-isExpanded",!1).style("opacity",e).each((function(){n.setSeriesLabelSubtitleText(Pe(this).selectAll(".tsi-tooltipSubtitle"),!1)}))},t.generateColors=function(t,e){void 0===e&&(e=null);var n=["#008272","#D869CB","#FF8C00","#8FE6D7","#3195E3","#F7727E","#E0349E","#C8E139","#60B9AE","#93CFFB","#854CC7","#258225","#0078D7","#FF2828","#FFF100"],i=wg(dg).domain([n.length-.5,t-.5]),r=[],a=0;if(e)for(var o=0;o<e.length&&a<t;o++){var s=e[o];-1===r.indexOf(s)&&(r.push(s),a++)}for(o=0;a<t;o++)o<n.length?-1===r.indexOf(n[o])&&(r.push(n[o]),a++):-1===r.indexOf(i(o))&&(r.push(i(o)),a++);return r},t.convertFromLocal=function(t){return new Date(t.valueOf()-60*t.getTimezoneOffset()*1e3)},t.adjustDateFromTimezoneOffset=function(t){var e=new Date(t.valueOf());return e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3),e},t.offsetFromUTC=function(e,n){void 0===n&&(n=0);var i=t.getOffsetMinutes(n,e.valueOf());return new Date(e.valueOf()+60*i*1e3)},t.offsetToUTC=function(e,n){void 0===n&&(n=0);var i=t.getOffsetMinutes(n,e.valueOf());return new Date(e.valueOf()-60*i*1e3)},t.parseUserInputDateTime=function(t,e){var n="L "+this.subDateTimeFormat(!0,!0,!0),i=Hv()(t,n).toDate();return this.offsetToUTC(this.convertFromLocal(i),e).valueOf()},t.getBrighterColor=function(t){var e=Pn.c(t);return e.l<80?e.brighter().toString():e.toString()},t.createSplitByColors=function(t,e,n){if(void 0===n&&(n=!1),1==Object.keys(t[e].splitBys).length)return[t[e].color];if(Object.keys(t).reduce((function(n,i){return i==e?n:0==t[i].visible&&(n&&!0)}),!0)&&!n)return this.generateColors(Object.keys(t[e].splitBys).length);for(var i=t[e].color,r=Up().domain([0,Object.keys(t[e].splitBys).length]).range([Pn.c(i).darker(),Pn.c(i).brighter()]),a=[],o=0;o<Object.keys(t[e].splitBys).length;o++)a.push(r(o));return a},t.colorSplitBy=function(t,e,n,i){if(void 0===i&&(i=!1),1==Object.keys(t[n].splitBys).length)return t[n].color;if(Object.keys(t).reduce((function(e,i){return i==n?e:0==t[i].visible&&(e&&!0)}),!0)&&!i)return this.generateColors(Object.keys(t[n].splitBys).length)[e];var r=t[n].color;return Up().domain([0,Object.keys(t[n].splitBys).length]).range([Pn.c(r).darker(),Pn.c(r).brighter()])(e)},t.getTheme=function(t){return t?"tsi-"+t:"tsi-dark"},t.clearSelection=function(){var t=window.getSelection?window.getSelection():document.selection;t&&(t.removeAllRanges?t.removeAllRanges():t.empty&&t.empty())},t.mark=function(t,e){if(0==t.length)return e;var n=new RegExp(t,"gi");return e.replace(n,(function(t){return"<mark>"+t+"</mark>"}))},t.hash=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0},t.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.createValueFilter=function(t,e){return function(n,i){var r,a;if(n.aggregateKey)r=n.aggregateKey,a=n.splitBy;else{if(!n||!n.length)return!0;r=n[0].aggregateKey,a=n[0].splitBy}return r==t&&(null==e||e==a)}},t.downloadCSV=function(t,e){void 0===e&&(e="Table");var n=new Blob([t],{type:"text/csv;charset=utf-8;"}),i=window.URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download",e+".csv"),r.setAttribute("tabindex","0"),r.innerHTML="",document.body.appendChild(r),r.click()},t.sanitizeString=function(t,e){if(null==t)return"";if(e!==Wv.Double&&e!==Wv.Long){var n=e===Wv.Dynamic?JSON.stringify(t):String(t);if(-1!==n.indexOf(",")||-1!==n.indexOf('"')||-1!==n.indexOf("\n")||e===Wv.Dynamic)return'"'+n.replace(/"/g,'""')+'"'}return t},t.hideGrid=function(t){Pe(t).selectAll(".tsi-gridContainer").remove()},t.showGrid=function(t,e,n,i){e.fromChart=!0,Pe(t).selectAll(".tsi-gridContainer").remove();var r=Pe(t).append("div").attr("class",aM).style("width","100%").style("height","100%"),a=new iM(r.node());a.usesSeconds=i.usesSeconds,a.usesMillis=i.usesMillis;a.renderFromAggregates(i.data,e,n,i);a.focus(0,0)},t.createGridEllipsisOption=function(t,e,n,i,r){var a=this;return void 0===r&&(r="Display Grid"),{iconClass:"grid",label:r,action:function(){a.showGrid(t,e,n,i)},description:""}},t.focusOnEllipsisButton=function(t){var e=Pe(t).select(".tsi-ellipsisContainerDiv");e.empty()||e.select(".tsi-ellipsisButton").node().focus()},t.createDownloadEllipsisOption=function(e,n,i){return void 0===n&&(n=function(){}),void 0===i&&(i="Download as CSV"),{iconClass:"download",label:i,action:function(){t.downloadCSV(e()),n()},description:""}},t.createControlPanel=function(t,e,n,i){Pe(t).selectAll(".tsi-chartControlsPanel").remove();var r=Math.max(1,Pe(t).node().clientWidth-("shown"==i.legend?e:0));return Pe(t).append("div").attr("class","tsi-chartControlsPanel").style("width",r+"px").style("top",Math.max(n-32,0)+"px")},t.escapeQuotesCommasAndNewlines=function(t){var e="";return!t||-1==t.indexOf('"')&&-1==t.indexOf(",")&&-1==t.indexOf("\n")?t:(e+='"',e+=t=t.replace(/"/g,'""'),e+='"')},t.getNonNumericHeight=function(t){return t+8},t.getControlPanelWidth=function(t,e,n){return Math.max(1,Pe(t).node().clientWidth-(n?e:0))},t.getValueOrDefault=function(t,e,n){void 0===n&&(n=null);var i=t[e];return null==i?null==this[e]?n:this[e]:i},t.safeNotNullOrUndefined=function(t){try{var e=t();return!(null==e)}catch(t){return!1}},t.getAggKeys=function(e){var n={};return e.map((function(e){var i,r=Object.keys(e)[0];return n[r]?(i=t.createEntityKey(r,n[r]),n[r]+=1):(i=t.createEntityKey(r,0),n[r]=1),i}))},t.roundToMillis=function(t,e){return Math.ceil((t+621355968e5)/e)*e-621355968e5},t.mergeSeriesForScatterPlot=function(e,n){var i,r=this,a=e[n.X_MEASURE],o=e[n.Y_MEASURE],s=e[n.R_MEASURE],c=t.getScatterPlotMeasureNames(e,n),l=a.additionalFields.Variable.substring(0,15)+(a.additionalFields.Variable.length>15?"... vs":" vs")+(" "+o.additionalFields.Variable.substring(0,15)+(o.additionalFields.Variable.length>15?"... ":""))+(null!=s?" vs "+s.additionalFields.Variable.substring(0,15)+(s.additionalFields.Variable.length>15?"... ":""):""),u=((i={})[l]={"":{}},i),h={X_MEASURE_TYPE:"avg"in a.measureTypes?a.measureTypes.avg:a.measureTypes[0],Y_MEASURE_TYPE:"avg"in o.measureTypes?o.measureTypes.avg:o.measureTypes[0],R_MEASURE_TYPE:null},p=function(t){var e={};return Object.keys(t.data[t.alias][""]).forEach((function(n){var i=new Date(n).valueOf(),a=""!=t.timeShift?r.parseShift(t.timeShift,t.startAt,t.searchSpan):0,o=r.adjustStartMillisToAbsoluteZero(a,r.parseShift(t.searchSpan.bucketSize)),s=new Date(i-o).toISOString();e[s]=t.data[t.alias][""][n]})),e};return a.data[a.alias][""]=p(a),o.data[o.alias][""]=p(o),s&&(s.data[s.alias][""]=p(s),h.R_MEASURE_TYPE="avg"in s.measureTypes?s.measureTypes.avg:s.measureTypes[0]),Object.keys(a.data[a.alias][""]).forEach((function(t){if(t in o.data[o.alias][""]){var e={};e[c.X_MEASURE]=a.data[a.alias][""][t][h.X_MEASURE_TYPE],e[c.Y_MEASURE]=o.data[o.alias][""][t][h.Y_MEASURE_TYPE],null!=s&&t in s.data[s.alias][""]&&(e[c.R_MEASURE]=s.data[s.alias][""][t][h.R_MEASURE_TYPE]),a.data[a.alias][""][t][h.X_MEASURE_TYPE]&&o.data[o.alias][""][t][h.Y_MEASURE_TYPE]&&(null!=s?t in s.data[s.alias][""]&&s.data[s.alias][""][t][h.R_MEASURE_TYPE]&&(u[l][""][t]=e):u[l][""][t]=e)}})),u},t.getScatterPlotMeasureNames=function(t,e){var n={},i=t[e.X_MEASURE].alias+" "+t[e.X_MEASURE].additionalFields.Variable+(""==t[e.X_MEASURE].timeShift?"":" "+t[e.X_MEASURE].timeShift);n[i]=1;var r=t[e.Y_MEASURE].alias+" "+t[e.Y_MEASURE].additionalFields.Variable+(""==t[e.Y_MEASURE].timeShift?"":" "+t[e.Y_MEASURE].timeShift);if(r in n){var a=r;r+=" ("+n[r].toString()+")",n[a]=n[a]+1}else n[r]=1;var o=t[e.R_MEASURE]?t[e.R_MEASURE].alias+" "+t[e.R_MEASURE].additionalFields.Variable+(""==t[e.R_MEASURE].timeShift?"":" "+t[e.R_MEASURE].timeShift):null;return null!=o&&o in n&&(o+=" ("+n[o].toString()+")"),{X_MEASURE:i,Y_MEASURE:r,R_MEASURE:o||null}},t.getMinWarmTime=function(e,n){var i=new Date(e);if(null!==n){var r=t.parseTimeInput(n);i=new Date(Math.max(i.valueOf(),Date.now()-r))}return i},t.standardizeTSStrings=function(t){var e=[];return t.forEach((function(t,n){var i=Object.keys(t)[0],r=t[i],a={},o={};o[i]=a,e.push(o),r&&Object.keys(r).forEach((function(t){a[t]={},r[t]&&Object.keys(r[t]).forEach((function(e){var n;try{n=new Date(e).toISOString(),a[t][n]=r[t][e]}catch(t){console.log(e+" is not a valid ISO time")}}))}))})),e},t.cullValuesOutOfRange=function(t,e,n){var i="0000-01-01T00:00:00Z",r=new Date(e).valueOf(),a=new Date(n).valueOf();if(new Date(t.range.from).valueOf()<r||new Date(t.range.to).valueOf()>a){var o={},s={},c=i,l=new Date(c).valueOf(),u=1/0;Object.keys(t.distribution).forEach((function(e){var n=new Date(e).valueOf();n>a||n<r?s[e]=t.distribution[e]:(o[e]=t.distribution[e],n>l&&(l=n,c=e),n<u&&(u=n))}));var h=this.parseTimeInput(t.intervalSize);if(c!==i){var p=(new Date).valueOf();t.range.to=l<p&&l+h>p?new Date(p).toISOString():new Date(l+h).toISOString()}else{var d=new Date(t.range.to).valueOf();if(r>d)t.range.to=n;else{var f=Math.min(a+h,new Date(t.range.to).valueOf());t.range.to=new Date(f).toISOString()}}if(u!==1/0)t.range.from=new Date(u).toISOString();else{var m=new Date(t.range.from).valueOf();if(a<new Date(t.range.from).valueOf())t.range.from=e;else{var g=Math.max(r,m);t.range.from=new Date(g).toISOString()}}return t.distribution=o,[t,s]}return[t,{}]},t.mergeAvailabilities=function(t,e,n){void 0===n&&(n=null);var i=t.range,r=this.getMinWarmTime(i.from,n),a=new Date(Math.min(new Date(i.to).valueOf(),new Date(e.range.to).valueOf())),o=Object.assign({},e);return o.warmStoreRange=[r.toISOString(),a.toISOString()],null!==n&&(o.retentionPeriod=n),o},t.languageGuess=function(){return navigator.languages&&navigator.languages[0]||navigator.language},t.memorySizeOf=function(t){var e=0,n=function(t){if(null!=t)switch(typeof t){case"number":e+=8;break;case"string":e+=2*t.length;break;case"boolean":e+=4;break;case"object":var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i||"Array"===i)for(var r in t)t.hasOwnProperty(r)&&(n(r),n(t[r]));else e+=2*t.toString().length}return e};return n(t)},t.guidForNullTSID=t.guid(),t.equalToEventTarget=function(){return this==xe.target},t.isKeyDownAndNotEnter=function(t){if(t&&t.type&&"keydown"===t.type){if(13!==(t.which||t.keyCode))return!0;t.preventDefault()}return!1},t.getInstanceKey=function(e){return t.instanceHasEmptyTSID(e)?t.guid():e.timeSeriesId.map((function(e){return null===e?t.guidForNullTSID:e})).join()},t.stripNullGuid=function(e){return e.replace(t.guidForNullTSID,Vv)},t.getTimeSeriesIdString=function(t){return t.timeSeriesId.map((function(t){return null===t?Vv:t})).join(", ")},t.getTimeSeriesIdToDisplay=function(e,n){return t.instanceHasEmptyTSID(e)?n:e.timeSeriesId.map((function(e){return null===e?t.guidForNullTSID:e})).join(", ")},t.getHighlightedTimeSeriesIdToDisplay=function(e){var n;return null===(n=e.highlights)||void 0===n?void 0:n.timeSeriesId.map((function(n,i){return null===e.timeSeriesId[i]?t.guidForNullTSID:n})).join(", ")},t.instanceHasEmptyTSID=function(t){return!t.timeSeriesId||0===t.timeSeriesId.length},t.appendFormattedElementsFromString=function(e,n,i){void 0===i&&(i=null);var r=[],a=function(e){var n=[];return e.split(t.guidForNullTSID).forEach((function(t,e){0===e||n.push({str:Vv,isNull:!0}),t&&n.push({str:t})})),n},o=i&&i.splitByTag?i.splitByTag:"hit";n.split("<"+o+">").forEach((function(t,e){if(0===e)r=r.concat(a(t));else{var n=t.split("</"+o+">");r.push({str:n[0],isHit:!0}),r=r.concat(a(n[1]))}}));var s=i&&i.additionalClassName?i.additionalClassName:"",c=e.selectAll(".tsi-formattedChildren").data(r);c.enter().append((function(t){return t.isHit?document.createElement("mark"):i&&i.inSvg?document.createElementNS("http://www.w3.org/2000/svg","tspan"):document.createElement("span")})).classed("tsi-formattedChildren",!0).merge(c).classed("tsi-baseMono",(function(t){return t.isNull})).classed(s,i&&i.additionalClassName).text((function(t){return t.str})),c.exit().remove()},t.escapedTsidForExactSearch=function(t){var e=t||"";return t&&Jv.forEach((function(t){e=e.split(t).join("+")})),e},t}(),hM=function(){return(hM=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pM=function(){function t(){var t=this;this.apiVersionUrlParam="?api-version=2016-12-12",this.oldTsmTsqApiVersion="?api-version=2018-11-01-preview",this.tsmTsqApiVersion="?api-version=2020-07-31",this.referenceDataAPIVersion="?api-version=2017-11-15",this.maxRetryCount=3,this.sessionId=uM.guid(),this.retriableStatusCodes=[408,429,500,503],this.onAjaxError=function(t){},this.onAjaxRetry=function(t){},this.onFallbackToOldApiVersion=function(t){},this.retryBasedOnStatus=function(e){return-1!==t.retriableStatusCodes.indexOf(e.status)},this.fallBackToOldApiVersion=function(t){return 400===t.status&&-1!==t.response.indexOf("UnsupportedTSXVersionTSX01")},this.setStandardHeaders=function(e,n){var i=uM.guid();return e.setRequestHeader("Authorization","Bearer "+n),e.setRequestHeader("x-ms-client-request-id",i),e.setRequestHeader("x-ms-client-session-id",t.sessionId),i},this.mergeTsqEventsResults=function(t){var e={properties:[],timestamps:[]};return t.forEach((function(t){var n=e.timestamps.length;t.properties&&t.properties.length&&t.properties.forEach((function(t){var i,r=e.properties.filter((function(e){return e.name===t.name&&e.type===t.type}));if(1===r.length){var a=e.properties.indexOf(r[0]);i=e.properties[a]}else i={name:t.name,type:t.type,values:[]},e.properties.push(i);for(;i.values.length<n;)i.values.push(null);i.values=i.values.concat(t.values)})),e.timestamps=e.timestamps.concat(t.timestamps)})),e},this.getQueryApiResult=function(e,n,i,r,a,o,s,c,l,u){var h;void 0===c&&(c=function(t){}),void 0===l&&(l=!1),void 0===u&&(u=null),null===u&&(u=new XMLHttpRequest);var p,d,f,m=0,g=[];h=function(){if(4==u.readyState){var y=t.fallBackToOldApiVersion(u);if(200==u.status){var _=JSON.parse(u.responseText);if(_.continuationToken){g.push(_);var v=_&&_.progress?_.progress:0;n[r].progress=l?Math.max(v,g.reduce((function(t,e){return t+(e.timestamps&&e.timestamps.length?e.timestamps.length:0)}),0)/i.getEvents.take*100):v,(u=new XMLHttpRequest).onreadystatechange=h,u.open("POST",a),t.setStandardHeaders(u,e),u.setRequestHeader("Content-Type","application/json"),d=_.continuationToken,u.setRequestHeader("x-ms-continuation",d),u.send(JSON.stringify(i))}else{l&&g.length?(g.push(_),n[r]=t.mergeTsqEventsResults(g)):(n[r]=s(_),delete n[r].progress);var M=n[r]&&n[r].timestamps&&n[r].timestamps.length?n[r].timestamps.length:0,b=i&&i.getEvents&&i.getEvents.take?i.getEvents.take:0;M&&b&&M===b&&(n.moreEventsAvailable=!0),n.map((function(t){return!("progress"in t)})).reduce((function(t,e){return t=e&&t}),!0)&&o(n)}}else t.retryBasedOnStatus(u)&&m<t.maxRetryCount||y?(m+=y?0:1,p=t.retryWithDelay(m,(function(){y&&(a=a.split(t.tsmTsqApiVersion).join(t.oldTsmTsqApiVersion),t.onFallbackToOldApiVersion({uri:a,payload:JSON.stringify(i),clientRequestId:f,sessionId:t.sessionId,statusCode:u.status})),u.open("POST",a),f=t.setStandardHeaders(u,e),u.setRequestHeader("Content-Type","application/json"),d&&u.setRequestHeader("x-ms-continuation",d),u.send(JSON.stringify(i)),t.onAjaxRetry({uri:a,payload:JSON.stringify(i),clientRequestId:f,sessionId:t.sessionId,statusCode:u.status})}))):0!==u.status&&(n[r]={__tsiError__:JSON.parse(u.responseText)},n.map((function(t){return!("progress"in t)})).reduce((function(t,e){return t=e&&t}),!0)&&(o(n),t.onAjaxError({uri:a,payload:JSON.stringify(i),clientRequestId:f,sessionId:t.sessionId})));var x=Math.max(n.map((function(t){return"progress"in t?t.progress:100})).reduce((function(t,e){return t+e}),0)/n.length,1);c(x)}},u.onreadystatechange=h,u.onabort=function(){o("__CANCELLED__"),clearTimeout(p)},u.open("POST",a),f=t.setStandardHeaders(u,e),u.setRequestHeader("Content-Type","application/json"),u.send(JSON.stringify(i))},this.sendBatchDataPostRequestPromise=function(e,n){var i=e.url,r=e.token,a=e.method,o=e.onProgressChange,s=e.batch;return new Promise((function(e){var c={};c[a]=s;var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState){if(200===l.status||202===l.status){var t=JSON.parse(l.responseText);if(null==t?void 0:t.error)return n.erroneousDataCount+=s.length,n.resultErrorMessage+=t.error.message?" Item "+n.dataIndex+"-"+(n.dataIndex+s.length)+": "+t.error.message:"",void(n.dataIndex+=s.length);t[a].forEach((function(t){var e;n.dataIndex++,((null==t?void 0:t.error)||(null==t?void 0:t.code)===u.InvalidInput)&&(n.erroneousDataCount++,n.resultErrorMessage+="\n>Item-"+n.dataIndex+": "+((null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)||(null==t?void 0:t.message)))}))}else n.erroneousDataCount+=s.length,n.resultErrorMessage+=" Item "+n.dataIndex+"-"+(n.dataIndex+s.length)+": Server error!",n.dataIndex+=s.length;n.completedDataCount+=s.length;var i=100*n.completedDataCount/n.totalItemCount;o(i),e({})}},l.open("POST",i),t.setStandardHeaders(l,r),l.setRequestHeader("Content-Type","application/json"),l.send(JSON.stringify(c))}))},this.createPostBatchPromise=function(e,n,i,r,a,o,s,c){for(var l={dataIndex:0,erroneousDataCount:0,completedDataCount:0,totalItemCount:n.length,resultErrorMessage:""},h=[];n.length;){for(var p=[];p.length<s&&uM.memorySizeOf(p.concat(n[0]))<c&&(p=p.concat(n.splice(0,1)),0!==n.length););p.length&&h.push(p)}return h.reduce((function(n,a){return n.then((function(){return t.sendBatchDataPostRequestPromise({url:e,token:i,method:r,onProgressChange:o,batch:a},l)}))}),Promise.resolve()).then((function(){var t={};return t[r]=0===l.erroneousDataCount?[{}]:[{error:{code:u.PartialSuccess,message:"Error in "+l.erroneousDataCount+"/"+l.totalItemCount+" items.  "+l.resultErrorMessage}}],a(JSON.stringify(t))}))},this.createPromiseFromXhrForBatchData=function(e,n,i,r,a,o,s){void 0===a&&(a=function(t){}),void 0===o&&(o=1e3),void 0===s&&(s=8e6);var c=JSON.parse(n);if(c.put||c.update){var l=c.put?"put":"update",u=c[l];return t.createPostBatchPromise(e,u,i,l,r,a,o,s)}return t.createPromiseFromXhr(e,"POST",n,i,(function(t){return JSON.parse(t)}))}}return t.prototype.Server=function(){},t.prototype.createPromiseFromXhr=function(t,e,n,i,r,a){var o=this;return void 0===a&&(a=null),new Promise((function(s,c){var l,u,h=0;(l=function(){var p=new XMLHttpRequest;p.onreadystatechange=function(){4==p.readyState&&(p.status>=200&&p.status<300?0==p.responseText.length?s({}):s(r(p.responseText)):o.retryBasedOnStatus(p)&&h<o.maxRetryCount?(h++,o.retryWithDelay(h,l),o.onAjaxRetry({uri:t,method:e,payload:JSON.stringify(n),clientRequestId:u,sessionId:o.sessionId,statusCode:p.status})):(c(p),o.onAjaxError({uri:t,method:e,payload:JSON.stringify(n),clientRequestId:u,sessionId:o.sessionId})))},p.open(e,t),u=o.setStandardHeaders(p,i),"POST"!=e&&"PUT"!=e||p.setRequestHeader("Content-Type","application/json"),a&&p.setRequestHeader("x-ms-continuation",a),p.send(n)})()}))},t.prototype.getCancellableTsqResults=function(t,e,n,i,r,a){return void 0===i&&(i=function(t){}),void 0===r&&(r=!1),void 0===a&&(a=null),this.getTsqResults(t,e,n,i,r,a,!0)},t.prototype.getTsqResults=function(t,e,n,i,r,a,o){var s=this;void 0===i&&(i=function(t){}),void 0===r&&(r=!1),void 0===a&&(a=null),void 0===o&&(o=!1);var c=[];n.forEach((function(t){c.push({progress:0})}));var l=n.map((function(t){return new XMLHttpRequest})),u=a?"&storeType="+a:"",h=new Promise((function(a,o){n.map((function(n,o){return s.getQueryApiResult(t,c,n,o,"https://"+e+"/timeseries/query"+s.tsmTsqApiVersion+u,a,(function(t){return t}),i,r,l[o])}))}));if(o){return[h,function(){l.forEach((function(t){t.abort()}))}]}return h},t.prototype.getAggregates=function(t,e,n,i){var r=this;void 0===i&&(i=function(t){});var a=[];return n.forEach((function(t){a.push({progress:0})})),new Promise((function(o,s){n.forEach((function(n,s){r.getQueryApiResult(t,a,n,s,"https://"+e+"/aggregates"+r.apiVersionUrlParam,o,(function(t){return t.aggregates[0]}),i)}))}))},t.prototype.getTimeseriesInstances=function(t,e,n,i){var r=this;return void 0===n&&(n=1e4),void 0===i&&(i=null),i&&0!==i.length?this.createPromiseFromXhr("https://"+e+"/timeseries/instances/$batch"+this.tsmTsqApiVersion,"POST",JSON.stringify({get:i}),t,(function(t){return JSON.parse(t)})):new Promise((function(i,a){r.getDataWithContinuationBatch(t,i,a,[],"https://"+e+"/timeseries/instances/"+r.tsmTsqApiVersion,"GET","instances",null,n)}))},t.prototype.getTimeseriesTypes=function(t,e,n){if(void 0===n&&(n=null),n&&0!==n.length)return this.createPromiseFromXhr("https://"+e+"/timeseries/types/$batch"+this.tsmTsqApiVersion,"POST",JSON.stringify({get:{typeIds:n,names:null}}),t,(function(t){return JSON.parse(t)}));var i="https://"+e+"/timeseries/types/"+this.tsmTsqApiVersion;return this.createPromiseFromXhr(i,"GET",{},t,(function(t){return JSON.parse(t)}))},t.prototype.postTimeSeriesTypes=function(t,e,n,i){void 0===i&&(i=!1);var r="https://"+e+"/timeseries/types/$batch"+(i?this.oldTsmTsqApiVersion:this.tsmTsqApiVersion);return this.createPromiseFromXhr(r,"POST",n,t,(function(t){return JSON.parse(t)}))},t.prototype.updateSavedQuery=function(t,e,n){void 0===n&&(n="https://api.timeseries.azure.com");var i=n+"/artifacts/"+e.id+this.tsmTsqApiVersion,r=JSON.stringify(e);return this.createPromiseFromXhr(i,"MERGE",r,t,(function(t){return JSON.parse(t)}))},t.prototype.getTimeseriesHierarchies=function(t,e){var n="https://"+e+"/timeseries/hierarchies/"+this.tsmTsqApiVersion;return this.createPromiseFromXhr(n,"GET",{},t,(function(t){return JSON.parse(t)}))},t.prototype.getTimeseriesModel=function(t,e){var n="https://"+e+"/timeseries/modelSettings/"+this.tsmTsqApiVersion;return this.createPromiseFromXhr(n,"GET",{},t,(function(t){return JSON.parse(t)}))},t.prototype.getTimeseriesInstancesPathSearch=function(t,e,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var a="https://"+e+"/timeseries/instances/search"+this.tsmTsqApiVersion,o=hM({},n);return 0==o.path.length&&(o.path=null),this.createPromiseFromXhr(a,"POST",JSON.stringify(o),t,(function(t){return JSON.parse(t)}),i||r)},t.prototype.getTimeseriesInstancesSuggestions=function(t,e,n,i){void 0===i&&(i=10);var r="https://"+e+"/timeseries/instances/suggest"+this.tsmTsqApiVersion;return this.createPromiseFromXhr(r,"POST",JSON.stringify({searchString:n,take:i}),t,(function(t){return JSON.parse(t)}))},t.prototype.getTimeseriesInstancesSearch=function(t,e,n,i){void 0===i&&(i=null);var r="https://"+e+"/timeseries/instances/search"+this.tsmTsqApiVersion;return this.createPromiseFromXhr(r,"POST",JSON.stringify({searchString:n}),t,(function(t){return JSON.parse(t)}),i)},t.prototype.getReferenceDatasetRows=function(t,e,n){var i=this;return new Promise((function(r,a){i.getDataWithContinuationBatch(t,r,a,[],"https://"+e+"/referencedatasets/"+n+"/items"+i.apiVersionUrlParam+"&format=stream","POST","items")}))},t.prototype.postReferenceDatasetRows=function(t,e,n,i,r){void 0===r&&(r=function(t){});var a="https://"+e+"/referencedatasets/"+n+"/$batch"+this.apiVersionUrlParam;return this.createPromiseFromXhrForBatchData(a,JSON.stringify({put:i}),t,(function(t){return JSON.parse(t)}),r)},t.prototype.getReferenceDatasets=function(t,e,n){void 0===n&&(n="https://management.azure.com");var i=n+e+"/referencedatasets"+this.referenceDataAPIVersion;return this.createPromiseFromXhr(i,"GET",{},t,(function(t){return JSON.parse(t)}))},t.prototype.deleteReferenceDataSet=function(t,e,n,i){void 0===i&&(i="https://management.azure.com");var r=i+e+"/referencedatasets/"+n+this.referenceDataAPIVersion;return this.createPromiseFromXhr(r,"DELETE",{},t,(function(t){return JSON.parse(t)}))},t.prototype.putReferenceDataSet=function(t,e,n,i,r){void 0===r&&(r="https://management.azure.com");var a=r+e+"/referencedatasets/"+n+this.referenceDataAPIVersion;return this.createPromiseFromXhr(a,"PUT",JSON.stringify(i),t,(function(t){return JSON.parse(t)}))},t.prototype.getGen1Environment=function(t,e,n){void 0===n&&(n="https://management.azure.com");var i=n+e+this.referenceDataAPIVersion;return this.createPromiseFromXhr(i,"GET",{},t,(function(t){return JSON.parse(t)}))},t.prototype.getEnvironments=function(t,e){void 0===e&&(e="https://api.timeseries.azure.com");var n=e+"/environments"+this.apiVersionUrlParam;return this.createPromiseFromXhr(n,"GET",{},t,(function(t){return JSON.parse(t)}))},t.prototype.getSampleEnvironments=function(t,e){void 0===e&&(e="https://api.timeseries.azure.com");var n=e+"/sampleenvironments"+this.apiVersionUrlParam;return this.createPromiseFromXhr(n,"GET",{},t,(function(t){return JSON.parse(t)}))},t.prototype.getMetadata=function(t,e,n,i){var r="https://"+e+"/metadata"+this.apiVersionUrlParam,a={searchSpan:{from:new Date(n).toISOString(),to:new Date(i).toISOString()}},o=JSON.stringify(a);return this.createPromiseFromXhr(r,"POST",o,t,(function(t){return JSON.parse(t).properties}))},t.prototype.getEventSchema=function(t,e,n,i){var r="https://"+e+"/eventSchema"+this.tsmTsqApiVersion,a={searchSpan:{from:new Date(n).toISOString(),to:new Date(i).toISOString()}},o=JSON.stringify(a);return this.createPromiseFromXhr(r,"POST",o,t,(function(t){return JSON.parse(t).properties}))},t.prototype.getAvailability=function(t,e,n,i){var r=this;void 0===n&&(n=this.apiVersionUrlParam),void 0===i&&(i=!1);var a="https://"+e+"/availability",o=a+n+(i?"&storeType=ColdStore":"");return new Promise((function(e,s){r.createPromiseFromXhr(o,"GET",{},t,(function(t){return JSON.parse(t)})).then((function(o){if(i){var s=a+n+"&storeType=WarmStore";r.createPromiseFromXhr(s,"GET",{},t,(function(t){return JSON.parse(t)})).then((function(t){var n=t?t.availability:null;o.availability&&(n=uM.mergeAvailabilities(t.availability,o.availability,t.retention)),e({availability:n})})).catch((function(){e(o)}))}else e(o)})).catch((function(t){s(t)}))}))},t.prototype.getEvents=function(t,e,n,i,r,a){var o="https://"+e+"/events"+this.apiVersionUrlParam,s={predicate:n,top:{sort:[{input:{builtInProperty:"$ts"},order:"Asc"}],count:1e4},searchSpan:{from:new Date(r).toISOString(),to:new Date(a).toISOString()}},c=JSON.stringify(s);return this.createPromiseFromXhr(o,"POST",c,t,(function(t){return JSON.parse(t).events}))},t.prototype.getDataWithContinuationBatch=function(t,e,n,i,r,a,o,s,c){var l=this;void 0===s&&(s=null),void 0===c&&(c=Number.MAX_VALUE);var u,h,p=0,d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status){var f=JSON.parse(d.responseText);f[o]&&(i=i.concat(f[o])),!(s="GET"==a?f.continuationToken:d.getResponseHeader("x-ms-continuation"))||i.length>=c?e(i):l.getDataWithContinuationBatch(t,e,n,i,r,a,o,s,c)}else l.retryBasedOnStatus(d)&&p<l.maxRetryCount?(p++,l.retryWithDelay(p,u),l.onAjaxRetry({uri:r,method:a,clientRequestId:h,sessionId:l.sessionId,statusCode:d.status})):(n(d),l.onAjaxError({uri:r,method:a,clientRequestId:h,sessionId:l.sessionId}))},(u=function(){d.open(a,r),h=l.setStandardHeaders(d,t),"POST"===a&&d.setRequestHeader("Content-Type","application/json"),s&&d.setRequestHeader("x-ms-continuation",s),d.send(JSON.stringify({take:1e5}))})()},t.prototype.retryWithDelay=function(t,e){var n=1e3*(Math.exp(t-1)+2*Math.random());return setTimeout(e,n)},t}(),dM=(n(147),n(148),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),fM=function(t){function e(e,n,i){var r=t.call(this,n)||this;return r.renderSplitBys=function(t,e,n,i){var a=Object.keys(r.chartComponentData.timeArrays[t]),o=r.chartComponentData.displayState[t].splitBys[Object.keys(r.chartComponentData.displayState[t].splitBys)[0]],s=o?o.visibleType:null,c=(Object.keys(r.chartComponentData.displayState[t].splitBys).reduce((function(e,n){return s==r.chartComponentData.displayState[t].splitBys[n].visibleType&&e}),!0),function(){var o=r.chartComponentData.displayState[t].shownSplitBys;r.chartComponentData.displayState[t].shownSplitBys=Math.min(o+20,a.length),o!=r.chartComponentData.displayState[t].shownSplitBys&&r.renderSplitBys(t,e,n,i)}),l=e.selectAll(".tsi-splitByContainer").data([t]),u=l.enter().append("div").merge(l).classed("tsi-splitByContainer",!0),h=u.selectAll(".tsi-splitByLabel").data(a.slice(0,r.chartComponentData.displayState[t].shownSplitBys),(function(t){return t})),p=r,d=h.enter().append("div").merge(h).attr("role","compact"===r.legendState?"button":"presentation").attr("tabindex","compact"===r.legendState?"0":"-1").on("keypress",(function(e){"compact"!==r.legendState||13!==xe.keyCode&&32!==xe.keyCode||(r.toggleSplitByVisible(t,e),r.drawChart(),xe.preventDefault())})).on("click",(function(e,n){"compact"==p.legendState?p.toggleSplitByVisible(t,e):p.toggleSticky(t,e),p.drawChart()})).on("mouseover",(function(e,n){xe.stopPropagation(),p.labelMouseover(t,e)})).on("mouseout",(function(e,n){xe.stopPropagation(),p.svgSelection.selectAll(".tsi-valueElement").attr("stroke-opacity",1).attr("fill-opacity",1),p.labelMouseout(p.svgSelection,t)})).attr("class",(function(e,i){return"tsi-splitByLabel tsi-splitByLabel "+(n!==Rv.Numeric?"tsi-splitByLabelCompact":"")+" "+(uM.getAgVisible(p.chartComponentData.displayState,t,e)?"shown":"")})).classed("stickied",(function(e,n){if(null!=p.chartComponentData.stickiedKey)return t==p.chartComponentData.stickiedKey.aggregateKey&&e==p.chartComponentData.stickiedKey.splitBy})),f=uM.createSplitByColors(p.chartComponentData.displayState,t,p.chartOptions.keepSplitByColor);d.each((function(e,r){var a=p.chartComponentData.isFromHeatmap?p.chartComponentData.displayState[t].color:f[r];if(n===Rv.Numeric||i||"compact"===p.legendState){var o=Pe(this).selectAll(".tsi-colorKey").data([a]),s=o.enter().append("div").attr("class","tsi-colorKey").merge(o);n===Rv.Numeric?s.style("background-color",(function(t){return t})):p.createNonNumericColorKey(n,s,t),Pe(this).classed("tsi-nonCompactNonNumeric",(n===Rv.Categorical||n===Rv.Events)&&"compact"!==this.legendState),o.exit().remove()}else Pe(this).selectAll(".tsi-colorKey").remove();if(Pe(this).select(".tsi-eyeIcon").empty()&&Pe(this).append("button").attr("class","tsi-eyeIcon").attr("aria-label",(function(){return(p.chartComponentData.displayState[t].splitBys[e].visible?p.getString("hide series"):p.getString("show series"))+" "+e+" "+p.getString("in group")+" "+p.chartComponentData.displayState[t].name})).attr("title",(function(){return p.getString("Show/Hide values")})).on("click",(function(n,i){xe.stopPropagation(),p.toggleSplitByVisible(t,e),Pe(this).classed("shown",uM.getAgVisible(p.chartComponentData.displayState,t,e)),p.drawChart()})),Pe(this).select(".tsi-seriesName").empty()){var c=Pe(this).append("div").attr("class","tsi-seriesName");uM.appendFormattedElementsFromString(c,i?p.chartComponentData.displayState[t].name:e)}n===Rv.Numeric?(Pe(this).select(".tsi-seriesTypeSelection").empty()&&Pe(this).append("select").attr("aria-label",p.getString("Series type selection for")+" "+e+" "+p.getString("in group")+" "+p.chartComponentData.displayState[t].name).attr("class","tsi-seriesTypeSelection").on("change",(function(n){var i=Pe(this).property("value");p.chartComponentData.displayState[t].splitBys[e].visibleType=i,p.drawChart()})).on("click",(function(){xe.stopPropagation()})),Pe(this).select(".tsi-seriesTypeSelection").each((function(n){var i=Pe(this).selectAll("option").data((function(n){return p.chartComponentData.displayState[t].splitBys[e].types.map((function(n){return{type:n,aggKey:t,splitBy:e,visibleMeasure:uM.getAgVisibleMeasure(p.chartComponentData.displayState,t,e)}}))}));i.enter().append("option").attr("class","seriesTypeLabel").merge(i).property("selected",(function(t){return t.type==uM.getAgVisibleMeasure(p.chartComponentData.displayState,t.aggKey,t.splitBy)?" selected":""})).text((function(t){return t.type})),i.exit().remove()}))):Pe(this).selectAll(".tsi-seriesTypeSelection").remove()})),h.exit().remove();var m=p.chartComponentData.displayState[t].shownSplitBys<a.length;u.selectAll(".tsi-legendShowMore").remove(),"shown"===r.legendState&&m&&u.append("button").text(r.getString("Show more")).attr("class","tsi-legendShowMore").style("display","shown"===r.legendState&&m?"block":"none").on("click",c),u.on("scroll",(function(){"shown"===p.chartOptions.legend&&this.scrollTop+this.clientHeight+40>this.scrollHeight&&c()})),l.exit().remove()},r.toggleSticky=function(t,e){r.chartComponentData.displayState[t].visible&&r.chartComponentData.displayState[t].splitBys[e].visible&&(null!=r.chartComponentData.stickiedKey&&r.chartComponentData.stickiedKey.aggregateKey==t&&r.chartComponentData.stickiedKey.splitBy==e?r.chartComponentData.stickiedKey=null:r.stickySeriesAction&&r.stickySeriesAction(t,e))},r.drawChart=e,r.legendWidth=i,r.legendElement=Pe(n).insert("div",":first-child").attr("class","tsi-legend").style("left","0px").style("width",r.legendWidth+"px"),r}return dM(e,t),e.prototype.labelMouseoutWrapper=function(t,e){return function(e,n){xe.stopPropagation(),e.selectAll(".tsi-valueElement").filter((function(){return!Pe(this).classed("tsi-valueEnvelope")})).attr("stroke-opacity",1).attr("fill-opacity",1),e.selectAll(".tsi-valueEnvelope").attr("fill-opacity",.2),t(e,n)}},e.prototype.toggleSplitByVisible=function(t,e){var n=this,i=!this.chartComponentData.displayState[t].splitBys[e].visible;this.chartComponentData.displayState[t].splitBys[e].visible=i,this.chartComponentData.displayState[t].visible=Object.keys(this.chartComponentData.displayState[t].splitBys).reduce((function(e,i){return n.chartComponentData.displayState[t].splitBys[i].visible||e}),!1),0==i&&null!=this.chartComponentData.stickiedKey&&this.chartComponentData.stickiedKey.aggregateKey==t&&this.chartComponentData.stickiedKey.splitBy==e&&(this.chartComponentData.stickiedKey=null)},e.prototype.triggerSplitByFocus=function(t,e){if("hidden"!=this.chartOptions.legend){this.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1),this.legendElement.selectAll(".tsi-splitByLabel").filter((function(n){return Pe(this.parentNode).datum()==t&&n==e})).classed("inFocus",!0);var n=Object.keys(this.chartComponentData.displayState[t].splitBys).indexOf(e);if(-1!=n){var i=this.legendElement.selectAll(".tsi-splitByContainer").filter((function(e){return e==t})).node(),r=Math.max((n-1)*this.getHeightPerSplitBy(t),0);(i.scrollTop<r-(i.clientHeight-40)||i.scrollTop>r)&&(i.scrollTop=r)}}},e.prototype.getHeightPerSplitBy=function(t){return this.chartComponentData.displayState[t].dataType===Rv.Numeric?44:24},e.prototype.createGradient=function(t,e,n){var i=e.append("defs").append("linearGradient").attr("id",t).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%"),r=Object.keys(n).length;Object.keys(n).forEach((function(t,e){var a=e/r*100,o=(e+1)/r*100,s=n[t].color;i.append("stop").attr("offset",a+"%").attr("stop-color",s).attr("stop-opacity",1),i.append("stop").attr("offset",o+"%").attr("stop-color",s).attr("stop-opacity",1)}))},e.prototype.isNonNumeric=function(t){var e=this.chartComponentData.displayState[t].dataType;return e===Rv.Categorical||e===Rv.Events},e.prototype.createNonNumericColorKey=function(t,e,n){t===Rv.Categorical&&this.createCategoricalColorKey(e,n),t===Rv.Events&&this.createEventsColorKey(e,n)},e.prototype.createCategoricalColorKey=function(t,e){var n=this.chartComponentData.displayState[e].aggregateExpression.valueMapping;t.classed("tsi-categoricalColorKey",!0),t.selectAll("*").remove();var i=t.append("svg").attr("width",t.style("width")).attr("height",t.style("height")),r=i.append("rect").attr("width","100%").attr("height","100%").attr("fill","black"),a=uM.guid();this.createGradient(a,i,n),r.attr("fill","url(#"+a+")")},e.prototype.createEventsColorKey=function(t,e){var n=this.chartComponentData.displayState[e].aggregateExpression.valueMapping,i=this.chartComponentData.displayState[e].aggregateExpression.eventElementType;t.classed("tsi-eventsColorKey",!0),t.selectAll("*").remove();var r=t.node().getBoundingClientRect().width,a=t.node().getBoundingClientRect().height,o=Math.floor(a/Math.sqrt(2)),s=t.append("svg").attr("width",r+"px").attr("height",a+"px"),c=uM.guid();(this.createGradient(c,s,n),i===qv.Teardrop)?s.append("path").attr("transform",(function(t){return"translate("+.75*r+","+.75*a+") rotate(180)"})).attr("d",this.teardropD(r/2,a/2)).attr("stroke-width",Math.min(o/2.25,8)).style("fill","none").style("stroke","url(#"+c+")"):s.append("rect").attr("width",o).attr("height",o).attr("transform","translate("+r/2+",0)rotate(45)").attr("fill","black").attr("fill","url(#"+c+")")},e.prototype.draw=function(e,n,i,r,a,o,s){var c=this;void 0===o&&(o=null),void 0===s&&(s=null),this.chartOptions.setOptions(a),this.chartComponentData=n,this.legendState=e,this.stickySeriesAction=s,this.labelMouseover=i,this.labelMouseout=this.labelMouseoutWrapper(o,r),this.svgSelection=r;var l=this.legendElement,u=this;t.prototype.themify.call(this,this.legendElement,this.chartOptions.theme),l.style("visibility","hidden"!=this.legendState).classed("compact","compact"==this.legendState).classed("hidden","hidden"==this.legendState);var h=Object.keys(this.chartComponentData.displayState),p=l.selectAll(".tsi-seriesLabel").data(h,(function(t){return t})),d=p.enter().append("div").merge(p).attr("class",(function(t,e){return"tsi-seriesLabel "+(c.chartComponentData.displayState[t].visible?" shown":"")})).style("min-width",(function(){return Math.min(124,c.legendElement.node().clientWidth/h.length)+"px"})).style("border-color",(function(t,e){return Pe(this).classed("shown")?u.chartComponentData.displayState[t].color:"lightgray"})),f=(u=this,l.node().clientHeight),m=Math.ceil(Math.max(201,f/d.size())),g=0;if(d.each((function(t,e){var n=u.getHeightPerSplitBy(t),a=Object.keys(u.chartComponentData.timeArrays[t]),o=1==a.length&&""==a[0],s=Pe(this).selectAll(".tsi-seriesNameLabel").data([t]);Pe(this).classed("tsi-nsb",o);var c=s.enter().append("button").merge(s).attr("class",(function(t,e){return"tsi-seriesNameLabel"+(u.chartComponentData.displayState[t].visible?" shown":"")})).attr("aria-label",(function(t){return(u.chartComponentData.displayState[t].visible?u.getString("hide group"):u.getString("show group"))+" "+u.getString("group")+" "+uM.stripNullGuid(u.chartComponentData.displayState[t].name)})).on("click",(function(t,e){var n=!u.chartComponentData.displayState[t].visible;u.chartComponentData.displayState[t].visible=n,0==n&&null!=u.chartComponentData.stickiedKey&&u.chartComponentData.stickiedKey.aggregateKey==t&&(u.chartComponentData.stickiedKey=null),u.drawChart()})).on("mouseover",(function(t){i(t)})).on("mouseout",(function(t){u.labelMouseout(r,t)})),l=u.chartComponentData.displayState[t].dataType;if(l===Rv.Categorical||l===Rv.Events){c.classed("tsi-nonCompactNonNumeric",!0);var h=c.selectAll(".tsi-colorKey").data([""]),p=h.enter().append("div").attr("class","tsi-colorKey").merge(h);u.createNonNumericColorKey(l,p,t),h.exit().remove()}var d,f=c.selectAll("h4").data([t]);f.enter().append("h4").merge(f).attr("title",(function(t){return uM.stripNullGuid(u.chartComponentData.displayState[t].name)})).each((function(){uM.appendFormattedElementsFromString(Pe(this),u.chartComponentData.displayState[t].name)})),f.exit().remove(),s.exit().remove(),a.length>m/n?g+=(d=m-25)+25:a.length>1||1===a.length&&""!==a[0]?(d=a.length*n+25,g+=d+25):g+=d=n,"shown"==u.chartOptions.legend?Pe(this).style("height",d+"px"):Pe(this).style("height","unset");var y=Pe(this).selectAll(".tsi-splitByContainer").data([t]),_=y.enter().append("div").merge(y).classed("tsi-splitByContainer",!0),v=Pe(this);u.renderSplitBys(t,v,l,o);_.on("scroll",(function(){if("shown"==u.chartOptions.legend&&this.scrollTop+this.clientHeight+40>this.scrollHeight){var e=u.chartComponentData.displayState[t].shownSplitBys;u.chartComponentData.displayState[t].shownSplitBys=Math.min(e+20,a.length),e!=u.chartComponentData.displayState[t].shownSplitBys&&u.renderSplitBys(t,v,l,o)}})),Pe(this).on("scroll",(function(){if("compact"==u.chartOptions.legend&&this.scrollLeft+this.clientWidth+40>this.scrollWidth){var e=u.chartComponentData.displayState[t].shownSplitBys;u.chartComponentData.displayState[t].shownSplitBys=Math.min(e+20,a.length),e!=u.chartComponentData.displayState[t].shownSplitBys&&this.renderSplitBys(l)}})),y.exit().remove()})),"shown"==this.chartOptions.legend){l.node().clientHeight;g<f?(this.legendElement.classed("tsi-flexLegend",!0),d.each((function(t){var e=u.getHeightPerSplitBy(t),n=(m-25)/e;Object.keys(u.chartComponentData.displayState[String(Pe(this).data()[0])].splitBys).length>n&&Pe(this).style("flex-grow",1)}))):this.legendElement.classed("tsi-flexLegend",!1)}p.exit().remove()},e}($v),mM=(n(149),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),gM=function(t){function e(e){return t.call(this,e)||this}return mM(e,t),e.prototype.createIconPath=function(t,e){return-1!=["flag","grid","download"].indexOf(t)?t+"Icon":""},e.prototype.setMenuVisibility=function(t){this.menuIsVisible=t,this.containerElement.classed("tsi-ellipsisMenuShown",this.menuIsVisible)},e.prototype.focusOnMenuItem=function(t){void 0===t&&(t=0),t=(t+this.menuItems.length)%this.menuItems.length,this.menuElement.selectAll(".tsi-ellipsisMenuItem").filter((function(e,n){return t===n})).node().focus()},e.prototype.menuItemKeyHandler=function(t,e){switch(xe.keyCode){case 9:this.focusOnMenuItem(e+1),xe.preventDefault();break;case 27:this.setMenuVisibility(!1),this.buttonElement.node().focus(),xe.preventDefault();break;case 38:this.focusOnMenuItem(e-1),xe.preventDefault();break;case 40:this.focusOnMenuItem(e+1),xe.preventDefault()}},e.prototype.render=function(e,n){var i=this;void 0===n&&(n={}),this.menuIsVisible=!1,this.chartOptions.setOptions(n),this.containerElement=Pe(this.renderTarget).classed("tsi-ellipsisMenuContainer",!0),this.setMenuItems(e),Pe(this.renderTarget).selectAll("*").remove(),t.prototype.themify.call(this,this.containerElement,this.chartOptions.theme);var r=this;this.buttonElement=Pe(this.renderTarget).insert("button").attr("class","tsi-ellipsisButton").attr("aria-label",this.getString("Show ellipsis menu")).attr("role","menu").attr("title",this.getString("Show ellipsis menu")).attr("type","button").on("click",(function(){Pe(this).attr("aria-label",r.menuIsVisible?r.getString("Hide ellipsis menu"):r.getString("Show ellipsis menu")).attr("title",r.menuIsVisible?r.getString("Hide ellipsis menu"):r.getString("Show ellipsis menu")),r.setMenuVisibility(!r.menuIsVisible),r.menuIsVisible&&r.focusOnMenuItem(0)})),this.menuElement=Pe(this.renderTarget).insert("div").attr("class","tsi-ellipsisMenu"),this.menuElement.selectAll(".tsi-ellipsisMenuItem").data(this.menuItems).enter().append("button").classed("tsi-ellipsisMenuItem",!0).attr("aria-label",(function(t){return t.label})).attr("type","button").attr("role","menuitem").on("keydown",(function(t,e){i.menuItemKeyHandler(t,e)})).on("click",(function(t){t.action()})).each((function(){Pe(this).append("div").attr("class",(function(t){return"tsi-ellipsisMenuIcon "+r.createIconPath(t.iconClass,r.chartOptions.theme)})),Pe(this).append("div").classed("tsi-ellipsisMenuLabel",!0).text((function(t){return t.label})),Pe(this).append("div").classed("tsi-ellipsisMenuDescription",!0).style("display","none")}))},e.prototype.setMenuItems=function(t){this.menuItems=t.reduce((function(t,e){return t.push({iconClass:e.iconClass,label:e.label,action:e.action,description:e.description}),t}),[])},e}($v),yM=window,_M=yM.document,vM="horizontal",MM=function(){return!1},bM=yM.attachEvent&&!yM.addEventListener,xM=["","-webkit-","-moz-","-o-"].filter((function(t){var e=_M.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length})).shift()+"calc",wM=function(t){return"string"==typeof t||t instanceof String},AM=function(t){if(wM(t)){var e=_M.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},TM=function(t,e,n){var i=t[e];return void 0!==i?i:n},LM=function(t,e,n,i){if(e){if("end"===i)return 0;if("center"===i)return t/2}else if(n){if("start"===i)return 0;if("center"===i)return t/2}return t},SM=function(t,e){var n=_M.createElement("div");return n.className="gutter gutter-"+e,n},kM=function(t,e,n){var i={};return wM(e)?i[t]=e:i[t]=bM?e+"%":xM+"("+e+"% - "+n+"px)",i},OM=function(t,e){var n;return(n={})[t]=e+"px",n},zM=function(t,e){void 0===e&&(e={});var n,i,r,a,o,s,c=t;Array.from&&(c=Array.from(c));var l=AM(c[0]).parentNode,u=getComputedStyle?getComputedStyle(l):null,h=u?u.flexDirection:null,p=TM(e,"sizes")||c.map((function(){return 100/c.length})),d=TM(e,"minSize",100),f=Array.isArray(d)?d:c.map((function(){return d})),m=TM(e,"expandToMin",!1),g=TM(e,"gutterSize",10),y=TM(e,"gutterAlign","center"),_=TM(e,"snapOffset",30),v=TM(e,"dragInterval",1),M=TM(e,"direction",vM),b=TM(e,"cursor",M===vM?"col-resize":"row-resize"),x=TM(e,"gutter",SM),w=TM(e,"elementStyle",kM),A=TM(e,"gutterStyle",OM);function T(t,e,i,r){var a=w(n,e,i,r);Object.keys(a).forEach((function(e){t.style[e]=a[e]}))}function L(){return s.map((function(t){return t.size}))}function S(t){return"touches"in t?t.touches[0][i]:t[i]}function k(t){var e=s[this.a],n=s[this.b],i=e.size+n.size;e.size=t/this.size*i,n.size=i-t/this.size*i,T(e.element,e.size,this._b,e.i),T(n.element,n.size,this._c,n.i)}function O(t){var n,i=s[this.a],r=s[this.b];this.dragging&&(n=S(t)-this.start+(this._b-this.dragOffset),v>1&&(n=Math.round(n/v)*v),n<=i.minSize+_+this._b?n=i.minSize+this._b:n>=this.size-(r.minSize+_+this._c)&&(n=this.size-(r.minSize+this._c)),k.call(this,n),TM(e,"onDrag",MM)())}function z(){var t=s[this.a].element,e=s[this.b].element,i=t.getBoundingClientRect(),o=e.getBoundingClientRect();this.size=i[n]+o[n]+this._b+this._c,this.start=i[r],this.end=i[a]}function C(t){var e=function(t){if(!getComputedStyle)return null;var e=getComputedStyle(t);if(!e)return null;var n=t[o];return 0===n?null:n-=M===vM?parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)}(l);if(null===e)return t;if(f.reduce((function(t,e){return t+e}),0)>e)return t;var n=0,i=[],r=t.map((function(r,a){var o=e*r/100,s=LM(g,0===a,a===t.length-1,y),c=f[a]+s;return o<c?(n+=c-o,i.push(0),c):(i.push(o-c),o)}));return 0===n?t:r.map((function(t,r){var a=t;if(n>0&&i[r]-n>0){var o=Math.min(n,i[r]-n);n-=o,a=t-o}return a/e*100}))}function E(){var t=this,n=s[t.a].element,i=s[t.b].element;t.dragging&&TM(e,"onDragEnd",MM)(L()),t.dragging=!1,yM.removeEventListener("mouseup",t.stop),yM.removeEventListener("touchend",t.stop),yM.removeEventListener("touchcancel",t.stop),yM.removeEventListener("mousemove",t.move),yM.removeEventListener("touchmove",t.move),t.stop=null,t.move=null,n.removeEventListener("selectstart",MM),n.removeEventListener("dragstart",MM),i.removeEventListener("selectstart",MM),i.removeEventListener("dragstart",MM),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",i.style.userSelect="",i.style.webkitUserSelect="",i.style.MozUserSelect="",i.style.pointerEvents="",t.gutter.style.cursor="",t.parent.style.cursor="",_M.body.style.cursor=""}function D(t){if(!("button"in t)||0===t.button){var n=this,i=s[n.a].element,r=s[n.b].element;n.dragging||TM(e,"onDragStart",MM)(L()),t.preventDefault(),n.dragging=!0,n.move=O.bind(n),n.stop=E.bind(n),yM.addEventListener("mouseup",n.stop),yM.addEventListener("touchend",n.stop),yM.addEventListener("touchcancel",n.stop),yM.addEventListener("mousemove",n.move),yM.addEventListener("touchmove",n.move),i.addEventListener("selectstart",MM),i.addEventListener("dragstart",MM),r.addEventListener("selectstart",MM),r.addEventListener("dragstart",MM),i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",n.gutter.style.cursor=b,n.parent.style.cursor=b,_M.body.style.cursor=b,z.call(n),n.dragOffset=S(t)-n.end}}M===vM?(n="width",i="clientX",r="left",a="right",o="clientWidth"):"vertical"===M&&(n="height",i="clientY",r="top",a="bottom",o="clientHeight"),p=C(p);var N=[];function I(t){var e=t.i===N.length,n=e?N[t.i-1]:N[t.i];z.call(n);var i=e?n.size-t.minSize-n._c:t.minSize+n._b;k.call(n,i)}function P(t){var e=C(t);e.forEach((function(t,n){if(n>0){var i=N[n-1],r=s[i.a],a=s[i.b];r.size=e[n-1],a.size=t,T(r.element,r.size,i._b,r.i),T(a.element,a.size,i._c,a.i)}}))}function B(t,e){N.forEach((function(i){if(!0!==e?i.parent.removeChild(i.gutter):(i.gutter.removeEventListener("mousedown",i._a),i.gutter.removeEventListener("touchstart",i._a)),!0!==t){var r=w(n,i.a.size,i._b);Object.keys(r).forEach((function(t){s[i.a].element.style[t]="",s[i.b].element.style[t]=""}))}}))}return(s=c.map((function(t,e){var i,r={element:AM(t),size:p[e],minSize:f[e],i:e};if(e>0&&((i={a:e-1,b:e,dragging:!1,direction:M,parent:l})._b=LM(g,e-1==0,!1,y),i._c=LM(g,!1,e===c.length-1,y),"row-reverse"===h||"column-reverse"===h)){var a=i.a;i.a=i.b,i.b=a}if(!bM&&e>0){var o=x(e,M,r.element);!function(t,e,i){var r=A(n,e,i);Object.keys(r).forEach((function(e){t.style[e]=r[e]}))}(o,g,e),i._a=D.bind(i),o.addEventListener("mousedown",i._a),o.addEventListener("touchstart",i._a),l.insertBefore(o,r.element),i.gutter=o}return T(r.element,r.size,LM(g,0===e,e===c.length-1,y),e),e>0&&N.push(i),r}))).forEach((function(t){var e=t.element.getBoundingClientRect()[n];e<t.minSize&&(m?I(t):t.minSize=e)})),bM?{setSizes:P,destroy:B}:{setSizes:P,getSizes:L,collapse:function(t){I(s[t])},destroy:B,parent:l,pairs:N}},CM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),EM=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i},DM=function(t){function e(e){var n=t.call(this,e)||this;return n.MINWIDTH=350,n.MINHEIGHT=150,n.CONTROLSWIDTH=200,n.GUTTERWIDTH=6,n.chartControlsPanel=null,n.ellipsisContainer=null,n.ellipsisMenu=null,n.svgSelection=null,n.legendWidth=n.CONTROLSWIDTH,n.downloadAsCSV=function(t){void 0===t&&(t=!1),uM.downloadCSV(n.chartComponentData.generateCSVString(n.chartOptions.offset,n.chartOptions.dateLocale,t?n.chartOptions.spMeasures:null))},n.chartComponentData=new eM,n}return CM(e,t),e.prototype.showGrid=function(){uM.showGrid(this.renderTarget,this.chartOptions,this.aggregateExpressionOptions,this.chartComponentData)},e.prototype.gatedShowGrid=function(){this.isGridVisible()&&this.showGrid()},e.prototype.hideGrid=function(){uM.hideGrid(this.renderTarget)},e.prototype.isGridVisible=function(){return!Pe(this.renderTarget).selectAll(".tsi-gridContainer").empty()},e.prototype.drawEllipsisMenu=function(t){var e=this;if(void 0===t&&(t=[]),this.chartOptions.canDownload||this.chartOptions.grid||this.chartOptions.ellipsisItems&&this.chartOptions.ellipsisItems.length>0||t.length>0){null===this.ellipsisContainer&&(this.ellipsisContainer=this.chartControlsPanel.append("div").attr("class","tsi-ellipsisContainerDiv")),null===this.ellipsisMenu&&(this.ellipsisMenu=new gM(this.ellipsisContainer.node()));var n=[];this.chartOptions.grid&&n.push(uM.createGridEllipsisOption(this.renderTarget,this.chartOptions,this.aggregateExpressionOptions,this.chartComponentData,this.getString("Display Grid"))),this.chartOptions.canDownload&&n.push(uM.createDownloadEllipsisOption((function(){return e.chartComponentData.generateCSVString(e.chartOptions.offset,e.chartOptions.dateLocale)}),(function(){return uM.focusOnEllipsisButton(e.renderTarget)}),this.getString("Download as CSV"))),this.chartOptions.ellipsisItems&&(n=n.concat(this.chartOptions.ellipsisItems)),this.ellipsisMenu.render(n.concat(t),{theme:this.chartOptions.theme})}},e.prototype.removeControlPanel=function(){this.chartControlsPanel&&this.chartControlsPanel.remove(),this.chartControlsPanel=null,this.ellipsisContainer=null,this.ellipsisMenu=null},e.prototype.removeEllipsisMenu=function(){this.ellipsisContainer&&this.ellipsisContainer.remove(),this.ellipsisContainer=null,this.ellipsisMenu=null},e.prototype.getWidth=function(){return Math.max(Pe(this.renderTarget).node().clientWidth,this.MINWIDTH)},e.prototype.getVisibilityState=function(){return this.chartComponentData.getVisibilityState()},e.prototype.ellipsisItemsExist=function(){return this.chartOptions.canDownload||this.chartOptions.ellipsisItems.length>0||this.chartOptions.grid},e.prototype.getDataType=function(t){return this.chartComponentData.getDataType(t)},e.prototype.getCDOFromAggKey=function(t){var e=this.aggregateExpressionOptions.filter((function(e){return e.aggKey===t}));return 1===e.length?e[0]:{}},e.prototype.getFilteredMeasures=function(t,e,n,i){void 0===i&&(i=null);var r=[e];switch(n){case Yv.SingleValue:return r;case Yv.Scatter:return i;default:if(3!==t.length)return r;var a=!0;return t.forEach((function(t){"avg"!==t&&"min"!==t&&"max"!==t&&(a=!1)})),a?t.sort((function(t){return"min"===t?-1:"avg"===t?0:1})):r}},e.prototype.convertToTimeValueFormat=function(t){var e={};return e[t.measureType?t.measureType:this.chartComponentData.displayState[t.aggKey].splitBys[t.splitBy].visibleType]=t.val,{aggregateKey:t.aggKey,splitBy:t.splitBy,aggregateName:this.chartComponentData.displayState[t.aggKey].name,measures:e}},e.prototype.formatDate=function(t,e){return uM.timeFormat(this.chartComponentData.usesSeconds,this.chartComponentData.usesMillis,this.chartOptions.offset,this.chartOptions.is24HourTime,e,null,this.chartOptions.dateLocale)(t)},e.prototype.tooltipFormat=function(t,e,n,i){var r=this;void 0===i&&(i=null);var a=this.getDataType(t.aggregateKey),o=(t.aggregateName,this.getCDOFromAggKey(t.aggregateKey)),s=this.chartComponentData.getTemporalShiftMillis(t.aggregateKey),l=function(t){return r.formatDate(t,s)},u=e.append("div").attr("class","tsi-tooltipTitleGroup");this.createTooltipSeriesInfo(t,u,o),a===Rv.Categorical&&u.append("h4").attr("class","tsi-tooltipSubtitle tsi-tooltipTimeStamp").text(l(t.dateTime)+" - "+l(t.endDate)),a===Rv.Events&&u.append("h4").attr("class","tsi-tooltipSubtitle tsi-tooltipTimeStamp").text(l(t.dateTime));var h=o.tooltipAttributes;if(0!==s&&h){var p=this.chartComponentData.getTemporalShiftStringTuple(t.aggregateKey);if(null!==p){var d=this.getString(p[0]),f=d===c.startAt?this.formatDate(new Date(p[1]),0):p[1];h=EM(h,[[d,f]])}}if(h&&h.length>0){var m=e.append("div").attr("class","tsi-tooltipAttributeContainer tsi-tooltipFlexyBox");h.forEach((function(t,e){var n=m.append("div").attr("class","tsi-tooltipAttribute tsi-tooltipFlexyItem");n.append("div").attr("class","tsi-tooltipAttrTitle").text(t[0]),n.append("div").attr("class","tsi-tooltipAttrValue").text(t[1])}))}if(t.measures&&Object.keys(t.measures).length){var g=a===Rv.Events?function(t){return t}:uM.formatYAxisNumber;if(a!==Rv.Numeric){var y=e.append("table").attr("class","tsi-tooltipValues tsi-tooltipTable");Object.keys(t.measures).forEach((function(e,n){if(a!==Rv.Categorical||0!==t.measures[e]){y.append("tr").classed("tsi-tableSpacer",!0);var i=y.append("tr").classed("tsi-visibleValue",a===Rv.Numeric&&e===r.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)).style("border-left-color",uM.getColorForValue(o,e));i.append("td").attr("class","tsi-valueLabel").text(e),i.append("td").attr("class","tsi-valueCell").text(g(t.measures[e]))}}))}else{var _=e.append("div").attr("class","tsi-tooltipFlexyBox");this.getFilteredMeasures(Object.keys(t.measures),this.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy),n,i).forEach((function(e,i){var o=_.append("div").attr("class","tsi-tooltipFlexyItem").classed("tsi-visibleValue",a===Rv.Numeric&&e===r.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)&&n!==Yv.Scatter),s=o.append("div").attr("class","tsi-tooltipMeasureTitle");uM.appendFormattedElementsFromString(s,e),o.append("div").attr("class","tsi-tooltipMeasureValue").text(g(t.measures[e]))}))}}},e.prototype.getSVGWidth=function(){return this.chartWidth+this.chartMargins.left+this.chartMargins.right},e.prototype.getChartWidth=function(t){return void 0===t&&(t=this.CONTROLSWIDTH),t=this.legendWidth,Math.max(1,this.width-this.chartMargins.left-this.chartMargins.right-("shown"===this.chartOptions.legend?t:0))},e.prototype.calcSVGWidth=function(){return this.svgSelection.node().getBoundingClientRect().width},e.prototype.setControlsPanelWidth=function(){if(!this.chartOptions.hideChartControlPanel&&null!==this.chartControlsPanel){var t=this.svgSelection&&this.svgSelection.node()?this.calcSVGWidth():this.getWidth()-("shown"===this.chartOptions.legend?this.legendWidth+this.GUTTERWIDTH:0);this.chartControlsPanel.style("width",t+"px")}},e.prototype.legendPostRenderProcess=function(t,e,n,i){void 0===i&&(i=void 0),"shown"===t?(this.splitLegendAndSVG(e.node(),i),n&&this.setControlsPanelWidth()):Pe(this.renderTarget).select(".tsi-resizeGutter").remove()},e.prototype.splitLegendAndSVG=function(t,e){var n=this;void 0===e&&(e=function(){});var i=this.getSVGWidth(),r=this.width-i;Pe(this.renderTarget).select(".tsi-resizeGutter").remove();var a=this.legendObject.legendElement;zM([this.legendObject.legendElement.node(),t],{sizes:[r/this.width*100,i/this.width*100],gutterSize:2,minSize:[200,0],snapOffset:0,cursor:"e-resize",onDragEnd:function(t){var e=n.width*(t[0]/100);n.legendWidth=e,n.chartWidth=n.getChartWidth(),n.draw(!0),a.style("width",n.legendWidth+"px"),Pe(n.renderTarget).select(".tsi-resizeGutter").classed("tsi-isDragging",!1)},onDragStart:function(){Pe(n.renderTarget).select(".tsi-resizeGutter").classed("tsi-isDragging",!0)},onDrag:function(){if(!n.chartOptions.hideChartControlPanel&&null!==n.chartControlsPanel){var t=n.calcSVGWidth();n.chartControlsPanel.style("width",Math.max(t,n.chartMargins.left+8)+"px")}e()},gutter:function(t,e){var n=document.createElement("div");return n.className="gutter tsi-resizeGutter",n},direction:"horizontal"});var o=a.node().getBoundingClientRect().width;a.style("width",o+"px")},e}($v),NM=function(t){this.interpolationFunction=l.None,this.yExtent=null,this.includeEnvelope=!1,this.includeDots=!1,this.visibilityState=null,this.connectPoints=!1,this.pointConnectionMeasure="",this.searchSpan=uM.getValueOrDefault(t,"searchSpan"),this.measureTypes=uM.getValueOrDefault(t,"measureTypes"),this.color=uM.getValueOrDefault(t,"color"),this.alias=uM.getValueOrDefault(t,"alias"),this.contextMenu=uM.getValueOrDefault(t,"contextMenu",[]),this.interpolationFunction=uM.getValueOrDefault(t,"interpolationFunction",l.None),this.includeEnvelope=uM.getValueOrDefault(t,"includeEnvelope",!1),this.includeDots=uM.getValueOrDefault(t,"includeDots",!1),this.visibilityState=uM.getValueOrDefault(t,"visibilityState"),this.yExtent=uM.getValueOrDefault(t,"yExtent"),this.timeShift=uM.getValueOrDefault(t,"timeShift",""),this.dataType=uM.getValueOrDefault(t,"dataType",Rv.Numeric),this.valueMapping=uM.getValueOrDefault(t,"valueMapping",{}),this.height=uM.getValueOrDefault(t,"height",40),this.onElementClick=uM.getValueOrDefault(t,"onElementClick",null),this.eventElementType=uM.getValueOrDefault(t,"eventElementType",qv.Diamond),this.rollupCategoricalValues=uM.getValueOrDefault(t,"rollupCategoricalValues",!1),this.tooltipAttributes=uM.getValueOrDefault(t,"tooltipAttributes",[]),this.positionX=uM.getValueOrDefault(t,"positionX",0),this.positionY=uM.getValueOrDefault(t,"positionY",0),this.swimLane=uM.getValueOrDefault(t,"swimLane",null),this.variableAlias=uM.getValueOrDefault(t,"variableAlias",null),this.connectPoints=uM.getValueOrDefault(t,"connectPoints",!1),this.pointConnectionMeasure=uM.getValueOrDefault(t,"pointConnectionMeasure",""),this.positionXVariableName=uM.getValueOrDefault(t,"positionXVariableName",null),this.positionYVariableName=uM.getValueOrDefault(t,"positionYVariableName",null),this.image=uM.getValueOrDefault(t,"image",null),this.startAt=uM.getValueOrDefault(t,"startAt",null),this.isRawData=uM.getValueOrDefault(t,"isRawData",!1),this.isVariableAliasShownOnTooltip=uM.getValueOrDefault(t,"isVariableAliasShownOnTooltip",!0)},IM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PM=function(t){function e(e){return t.call(this,e)||this}return IM(e,t),e.prototype.render=function(t,e,n){this.data=uM.standardizeTSStrings(t),this.chartOptions.setOptions(e),this.aggregateExpressionOptions=t.map((function(t,e){return Object.assign(t,new NM(n&&e in n?n[e]:{}))}))},e}(DM),BM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),RM=function(t){function e(e){return t.call(this,e)||this}return BM(e,t),e.prototype.createOffsetXAxis=function(){var t=this.x.copy(),e=this.chartOptions.timeFrame?new Date(this.chartOptions.timeFrame[0]):t.domain()[0],n=this.chartOptions.timeFrame?new Date(this.chartOptions.timeFrame[1]):t.domain()[1];return t.domain([new Date(e),new Date(n)]),t},e.prototype.createXAxis=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=this.createOffsetXAxis(),r=i.ticks(this.getXTickNumber(t));return r.length<=2&&(r=this.x.domain()),e&&(r[0]=this.x.domain()[0]),n&&(r[r.length-1]=this.x.domain()[1]),this.smartTickFormat=this.createSmartTickFormat(r,i),dt(this.x).tickValues(r).tickFormat(uM.timeFormat(this.labelFormatUsesSeconds(r),this.labelFormatUsesMillis(r),this.chartOptions.offset,this.chartOptions.is24HourTime,null,null,this.chartOptions.dateLocale))},e.prototype.getXTickNumber=function(t){return Math.max(t?Math.floor(this.chartWidth/300):Math.floor(this.chartWidth/160),1)},e.prototype.labelFormatUsesSeconds=function(t){void 0===t&&(t=null);var e=!!t&&!this.isTickSpanGreaterThan(t,59e3);return!this.chartOptions.minutesForTimeLabels&&e},e.prototype.labelFormatUsesMillis=function(t){void 0===t&&(t=null);var e=!!t&&!this.isTickSpanGreaterThan(t,999);return!this.chartOptions.minutesForTimeLabels&&e},e.prototype.updateXAxis=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.xAxisEntered.call(this.createXAxis(this.chartOptions.singleLineXAxisLabel,t,e)),this.updateAxisText(t,e)},e.prototype.updateAxisText=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this.chartOptions.xAxisTimeFormat){var n=this.xAxisEntered.selectAll(".tick").size()-1,i=this;this.xAxisEntered.selectAll(".tick").each((function(t,e){Pe(this).select("text").text((function(t){var r=String(i.chartOptions.xAxisTimeFormat(t,e,0===e,e===n));return uM.timeFormat(i.labelFormatUsesSeconds(),i.labelFormatUsesMillis(),i.chartOptions.offset,i.chartOptions.is24HourTime,null,r,i.chartOptions.dateLocale)(t)}))}))}else{var r=this.xAxisEntered.selectAll(".tick").size()-1,a=this;this.xAxisEntered.selectAll(".tick").each((function(n,i){Pe(this).select("text").text((function(n){var o=String(a.smartTickFormat(n,i,0===i,i===r));return(0===i&&t||i===r&&e)&&(o="L "+uM.subDateTimeFormat(a.chartOptions.is24HourTime,!1,!1)),uM.timeFormat(a.labelFormatUsesSeconds(),a.labelFormatUsesMillis(),a.chartOptions.offset,a.chartOptions.is24HourTime,null,o,a.chartOptions.dateLocale)(n)}))}))}this.chartOptions.singleLineXAxisLabel||this.xAxisEntered.selectAll("text").call(uM.splitTimeLabel),this.xAxisEntered.select(".domain").style("display","none")},e.prototype.drawXAxis=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.xAxisEntered=this.xAxis.enter().append("g").attr("class","xAxis").merge(this.xAxis).attr("transform","translate(0,"+t+")").call(this.createXAxis(this.chartOptions.singleLineXAxisLabel,e,n)),this.updateAxisText(e,n)},e.prototype.isSameDate=function(t,e){return t.getYear()===e.getYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},e.prototype.isTickSpanGreaterThan=function(t,e){return t[1].valueOf()-t[0].valueOf()>=e},e.prototype.createSmartTickFormat=function(t,e){var n=this,i=!this.isSameDate(e.domain()[0],e.domain()[1]),r=this.isTickSpanGreaterThan(t,828e5),a=uM.subDateTimeFormat(this.chartOptions.is24HourTime,this.labelFormatUsesSeconds(t),this.labelFormatUsesMillis(t));return function(t,e,o,s){var c=n.chartOptions.singleLineXAxisLabel?"L "+a:a+" L";return r?"L":o||s||i?c:a}},e}(PM),qM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YM=function(t){function e(){var e=t.call(this)||this;return e.timeMap={},e._yExtents=[],e}return qM(e,t),Object.defineProperty(e.prototype,"yExtents",{get:function(){return this._yExtents},enumerable:!1,configurable:!0}),e.prototype.setYExtents=function(t,e){this._yExtents[t]=e},e.prototype.resetYExtents=function(){this._yExtents=[];for(var t=0;t<this.data.length;t++)this._yExtents.push(null)},e.prototype.setTimeMap=function(){this.timeMap=this.allValues.reduce((function(t,e){var n=e.dateTime.valueOf();return null!=e.bucketSize&&(n+=e.bucketSize/2),null!=e.measures&&(null==t[n]?t[n]=[e]:t[n].push(e)),t}),{})},e.prototype.mergeDataToDisplayStateAndTimeArrays=function(e,n){void 0===n&&(n=null),t.prototype.mergeDataToDisplayStateAndTimeArrays.call(this,e,n)},e}(eM),WM=(n(150),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),jM=function(t){function e(e,n){var i=t.call(this,n)||this;return i.contextMenuVisible=!1,i.drawChart=e,i.contextMenuElement=Pe(n).insert("div",":first-child").attr("class","tsi-contextMenu").style("left","0px").style("top","0px"),i}return WM(e,t),e.prototype.launchSubMenu=function(t,e,n,i){var r=this.contextMenuElement.selectAll(".tsi-actionElementContainer"+n).data([{subLevel:n}]),a=r.enter().append("div").attr("class",(function(t){return"tsi-actionElementContainer tsi-actionElementContainer"+t.subLevel})).merge(r).style("max-height","200px").style("display","block");this.createActionElements(a,e,n),this.positionAEC(a,e.length,i,n),r.exit().remove()},e.prototype.positionAEC=function(t,e,n,i){this.verticalPositionAEC(t,n,e,i),this.horizontalPositionAEC(t,i)},e.prototype.shouldHorizontalFlip=function(t){return t+this.left+200>Pe(this.renderTarget).node().getBoundingClientRect().width},e.prototype.shouldVerticalFlip=function(t,e){var n=t+this.top,i=Pe(this.renderTarget).node().getBoundingClientRect().height;return n+Math.min(28*e+8,200)>i},e.prototype.getRelativeHorizontalPosition=function(t,e){return void 0===e&&(e=!0),t.getBoundingClientRect().x+(e?0:t.getBoundingClientRect().width)-this.renderTarget.getBoundingClientRect().x},e.prototype.verticalPositionAEC=function(t,e,n,i){var r=this.contextMenuElement.node().getBoundingClientRect().height;this.shouldVerticalFlip(e,n)?t.style("bottom",r-e-(0===i?0:32)+"px").style("top",null):t.style("top",e-4+"px").style("bottom",null)},e.prototype.horizontalPositionAEC=function(t,e){var n=0,i=0;if(0!==e){var r=this.contextMenuElement.selectAll(".tsi-actionElementContainer"+(e-1));r.size()&&(i=this.getRelativeHorizontalPosition(r.nodes()[0],!1)-this.left,n=this.getRelativeHorizontalPosition(r.nodes()[0],!0)-this.left)}this.shouldHorizontalFlip(i)?t.style("left",null).style("right",0-n+"px"):t.style("left",i+"px").style("right",null)},e.prototype.getActionElementContainerTop=function(t){return void 0===t&&(t=null),null===t?0:t.getBoundingClientRect().top-this.contextMenuElement.node().getBoundingClientRect().top},e.prototype.removeSubMenusAboveLevel=function(t){Pe(this.renderTarget).selectAll(".tsi-actionElementContainer").filter((function(e){return e.subLevel>t})).remove()},e.prototype.createActionElements=function(t,e,n){void 0===n&&(n=0);var i=this,r=t.selectAll(".tsi-actionElement").data(e.map((function(t){return t.subLevel=n,t})));r.enter().append("div").attr("class","tsi-actionElement").classed("tsi-hasSubMenu",(function(t){return t.isNested})).merge(r).text((function(t){return t.name})).on("mouseenter",(function(t,e){if(t.isNested)return i.launchSubMenu(Pe(this),t.subActions,n+1,i.getActionElementContainerTop(this)),i.subMenuFromActionIndex=e,void(i.subMenuFromSubLevel=t.subLevel);(t.subLevel===i.subMenuFromSubLevel&&e!==i.subMenuFromActionIndex||t.subLevel<i.subMenuFromSubLevel)&&i.removeSubMenusAboveLevel(t.subLevel)})).on("click",(function(t,e){if(!t.isNested){if(i.endTime){var n=i.startTime?i.startTime.toISOString().slice(0,-5)+"Z":null,r=i.endTime?i.endTime.toISOString().slice(0,-5)+"Z":null;t.action(n,r)}else{var a=i.startTime?i.startTime.toISOString().slice(0,-5)+"Z":null;t.action(i.ae,i.splitBy,a,event)}i.hide(),i.onClick&&i.onClick()}}));r.exit().remove()},e.prototype.draw=function(e,n,i,r,a,o,s,c,l,u){var h=this;void 0===s&&(s=null),void 0===c&&(c=null),void 0===l&&(l=null),void 0===u&&(u=null),this.contextMenuVisible=!0,l?this.actions=i.brushContextMenuActions:(this.actions=e.displayState[a].contextMenuActions,this.ae=e.displayState[a].aggregateExpression),this.splitBy=o,this.startTime=c,this.endTime=l,this.onClick=s,t.prototype.themify.call(this,this.contextMenuElement,i.theme),this.left=r[0],this.top=r[1],this.contextMenuElement.style("left",this.left+"px").style("top",this.top+"px"),this.contextMenuElement.selectAll("*").remove(),this.contextMenuElement.style("display","block").on("mouseleave",(function(){h.removeSubMenusAboveLevel(0)}));var p=this.contextMenuElement.selectAll(".tsi-actionElementContainer0").data([{subLevel:0}]).enter().append("div").attr("class","tsi-actionElementContainer tsi-actionElementContainer0");this.createActionElements(p,this.actions),this.positionAEC(p,this.actions.length,0,0);var d=this;Pe(this.renderTarget).on("click",(function(){Pe(xe.srcElement).classed("tsi-actionElement")||(s&&s(),d.hide())}))},e.prototype.hide=function(){this.contextMenuElement.style("display","none"),this.contextMenuVisible=!1},e}($v),FM=(n(151),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),HM=function(t){function e(e){return t.call(this,e)||this}return FM(e,t),e.prototype.hide=function(){this.tooltipDiv&&this.tooltipDiv.style("display","none")},e.prototype.getSVGWidth=function(){return this.renderTarget.select(".tsi-chartSVG").empty()?0:this.renderTarget.select(".tsi-chartSVG").node().getBoundingClientRect().width},e.prototype.getSVGHeight=function(){return this.renderTarget.select(".tsi-chartSVG").empty()?0:this.renderTarget.select(".tsi-chartSVG").node().getBoundingClientRect().height},e.prototype.getLeftOffset=function(t){return this.renderTarget.node().getBoundingClientRect().width-this.getSVGWidth()+t.left},e.prototype.getTopOffset=function(t){return this.renderTarget.node().getBoundingClientRect().height-this.getSVGHeight()+t.top},e.prototype.isRightOffset=function(t,e,n){this.renderTarget.node().getBoundingClientRect().width;return this.getSVGWidth()>e+t+20+n},e.prototype.isTopOffset=function(t,e,n){return this.renderTarget.node().getBoundingClientRect().height>e+t+20+n.bottom+this.getTopOffset(n)},e.prototype.render=function(e){var n=this,i=this,r=this.renderTarget.selectAll(".tsi-tooltip").filter((function(){return this.parentNode===i.renderTarget.node()})).data([e]);this.tooltipDiv=r.enter().append("div").attr("class","tsi-tooltip").merge(r).each((function(t){Pe(this).selectAll("*").remove(),i.tooltipDivInner=Pe(this).append("div").attr("class","tsi-tooltipInner")})),r.exit().remove(),t.prototype.themify.call(this,this.tooltipDiv,e),this.draw=function(t,e,i,r,a,o,s,c,l,u,h){void 0===s&&(s=null),void 0===c&&(c=20),void 0===l&&(l=20),void 0===u&&(u=null),void 0===h&&(h=!1),n.tooltipDiv.style("display","block"),n.tooltipDivInner.text(null),n.borderColor=u;var p=h?0:n.getLeftOffset(a),d=n.getTopOffset(a);o(n.tooltipDivInner),n.tooltipDiv.style("left",Math.round(i+p)+"px").style("top",Math.round(r)+d+"px");var f=n.tooltipDiv.node().getBoundingClientRect().width,m=n.tooltipDiv.node().getBoundingClientRect().height,g=n.isRightOffset(f,i,a.left)?c:-Math.round(f)-c-(null!==s?s:0);g=Math.max(0-i,g);var y=0;y=n.isTopOffset(m,r,a)?l:!h&&Math.round(r)-l+d-Math.round(m)<=0?-(Math.round(r)+d):-Math.round(m)-l,n.tooltipDiv.style("transform","translate("+g+"px,"+y+"px)"),n.borderColor?n.tooltipDivInner.style("border-left-color",n.borderColor).style("border-left-width","5px"):n.tooltipDivInner.style("border-left-width","0")}},e}($v),UM=n(6),XM=(n(152),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),VM=function(t){function e(e){var n=t.call(this,e)||this;return n.backdropRect=null,n}return XM(e,t),e.prototype.getVisibleSeries=function(t){var e=this;return Object.keys(this.chartComponentData.timeArrays[t]).filter((function(n){return e.chartComponentData.isSplitByVisible(t,n)}))},e.prototype.createGradientKey=function(t,e,n){return t.aggregateKey.replace(/^[^a-z]+|[^\w:.-]+/gi,"")+"_"+e+"_"+n},e.prototype.addGradientStops=function(t,e){var n=this;e.selectAll("stop").remove();this.chartDataOptions.valueMap;if(t.measures){var i,r=Object.keys(t.measures).reduce((function(e,n){return"number"==typeof t.measures[n]&&e}),!0);if(!(r&&(i=Object.keys(t.measures).reduce((function(e,n){return e+t.measures[n]}),0))<=0)){var a=Object.keys(t.measures).length;Object.keys(t.measures).reduce((function(o,s,c){var l=r?t.measures[s]/i:c/a;e.append("stop").attr("offset",100*o+"%").attr("stop-color",n.getColorForValue(s)).attr("stop-opacity",1);var u=r?o+l:(c+1)/a;return e.append("stop").attr("offset",100*u+"%").attr("stop-color",n.getColorForValue(s)).attr("stop-opacity",1),u}),0)}}},e.prototype.createBackdropRect=function(t){this.backdropRect=this.aggregateGroup.selectAll(".tsi-backdropRect").data([t]),this.backdropRect.enter().append("rect").attr("class","tsi-backdropRect").attr("x",0).attr("y",0).merge(this.backdropRect).attr("visibility",(function(t){return t?"visible":"hidden"})).attr("width",this.x.range()[1]).attr("height",this.height),this.backdropRect.exit().remove()},e.prototype.getColorForValue=function(t){return uM.getColorForValue(this.chartDataOptions,t)},e.prototype.getVisibleMeasures=function(t){return Object.keys(t).filter((function(e){return 0!==t[e]}))},e.prototype.hasData=function(t){return t.measures&&0!==Object.keys(t.measures).length},e}($v),GM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),KM=function(){return(KM=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ZM=function(t){function e(e){var n=t.call(this,e)||this;return n.plotDataType=Rv.Numeric,n}return GM(e,t),e.prototype.getXPosition=function(t,e){var n=this.chartComponentData.displayState[t.aggregateKey].bucketSize;return n?(e(t.dateTime)+e(new Date(t.dateTime.valueOf()+n)))/2:e(t.dateTime)},e.prototype.createAreaPath=function(t){var e=this;this.areaPath=Jg().curve(this.chartOptions.interpolationFunction).defined((function(t){return null!==t.measures&&null!==t.measures[e.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)]})).x((function(t){return e.getXPosition(t,e.x)})).y0((function(n){return n.measures?t(n.measures[e.chartComponentData.getVisibleMeasure(n.aggregateKey,n.splitBy)]):0})).y1(this.chartHeight)},e.prototype.render=function(t,e,n,i,r,a,o,s,c,l,u,p,d,f,m,g,y,_,v,M,b,x,w,A){var T=this;this.previousIncludeDots=v,this.defs=y,this.chartOptions=t,this.chartHeight=s,this.visibleAggCount=c,this.chartComponentData=a,this.x=p,this.y=m;var L=n.aggKey;this.aggregateGroup=r;var S,k,O,z=A&&"function"==typeof A;e=o.positionInGroup,this.yTop=M[0],this.height=M[1],this.yAxisState=o;var C=this.yAxisState.yExtent;if((S=Up()).range([this.height,this.chartOptions.aggTopMargin]),this.chartComponentData.aggHasVisibleSplitBys(L)){var E=C[1]-C[0]>0?C[1]-C[0]:1,D=10/(this.chartHeight/(this.yAxisState.axisType===Bv.Overlap?1:this.visibleAggCount)),N=this.chartOptions.isArea?Math.max(C[0]-E*D,0):C[0]-E*D;S.domain([N,C[1]+E*(10/this.chartHeight)])}else S.domain([0,1]),C=[0,1];k=Zg().curve(this.chartComponentData.displayState[L].interpolationFunction?h[this.chartComponentData.displayState[L].interpolationFunction]:this.chartOptions.interpolationFunction).defined((function(t){return null!==t.measures&&null!==t.measures[T.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)]})).x((function(t){return T.getXPosition(t,T.x)})).y((function(t){return t.measures?S(t.measures[T.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)]):null})),O=Jg().curve(this.chartComponentData.displayState[L].interpolationFunction?h[this.chartComponentData.displayState[L].interpolationFunction]:this.chartOptions.interpolationFunction).defined((function(t){return null!==t.measures&&null!==t.measures.min&&null!==t.measures.max})).x((function(t){return T.getXPosition(t,T.x)})).y0((function(t){return t.measures?S(t.measures.max):0})).y1((function(t){return t.measures?S(t.measures.min):0}));var I=S.copy();I.range([this.yTop+this.height,this.yTop+this.chartOptions.aggTopMargin]),g[L]=I;var P=this.aggregateGroup.selectAll(".yAxis").data([L]),B=i&&(this.yAxisState.axisType!==Bv.Shared||0===e);if(P=P.enter().append("g").attr("class","yAxis "+(z?"tsi-clickableYAxis tsi-swimLaneAxis-"+this.chartComponentData.displayState[L].aggregateExpression.swimLane:"")).merge(P).style("visibility",B&&!this.chartOptions.yAxisHidden?"visible":"hidden"),this.yAxisState.axisType===Bv.Overlap?P.call(ft(S).tickFormat(uM.formatYAxisNumber).tickValues(C)).selectAll("text").attr("y",(function(t,n){return 0==n?16*-e:16*e})).style("fill",this.chartComponentData.displayState[L].color):P.call(ft(S).tickFormat(uM.formatYAxisNumber).ticks(Math.max(2,Math.ceil(this.height/(this.yAxisState.axisType===Bv.Stacked?this.visibleAggCount:1)/90)))).selectAll("text").classed("standardYAxisText",!0),z){P.on("click",(function(){A()}));var R=document.getElementsByClassName("tsi-swimLaneLabel-"+n.swimLane)[0];R&&(P.on("mouseover",(function(){R.classList.add("tsi-axisHover"),P.selectAll("text").classed("tsi-boldYAxisText",!0)})),P.on("mouseout",(function(){R.classList.remove("tsi-axisHover"),P.selectAll("text").classed("tsi-boldYAxisText",!1)})))}P.exit().remove();this.x;var q=uM.createSplitByColors(this.chartComponentData.displayState,L,this.chartOptions.keepSplitByColor),Y=this.chartOptions.includeDots||this.chartComponentData.displayState[L].includeDots,W=this,j=this.aggregateGroup.selectAll(".tsi-splitByGroup").data(Object.keys(this.chartComponentData.timeArrays[L]));j.enter().append("g").attr("class","tsi-splitByGroup "+n.aggKey).merge(j).each((function(t,e){var n=this;l[L+"_"+t]=q[e];for(var i=[],r=W.chartComponentData.timeArrays[L][t],a=W.chartComponentData.getVisibleMeasure(L,t),o=0;o<r.length-1;o++)if(null!==r[o].measures&&null!==r[o].measures[a]){for(var s=o+1;s<r.length&&(null==r[s].measures||null==r[s].measures[a]);)s++;s<r.length&&s!=o+1&&i.push([r[o],r[s]]),o=s-1}var c=function(t){var e=void 0===u.get(n);return W.chartOptions.noAnimate||e?0:W.TRANSDURATION},h=Pe(this).selectAll(".tsi-gapLine").data(i.map((function(t){return t.inTransition=!0,t})));h.enter().append("path").attr("class","tsi-valueElement tsi-gapLine").merge(h).style("visibility",(function(e){return W.chartComponentData.isSplitByVisible(L,t)?"visible":"hidden"})).transition().duration(c).ease(xi).attr("stroke-dasharray","5,5").attr("stroke",q[e]).attrTween("d",(function(t){var e=Pe(this).attr("d"),n=k(t);return Object(UM.interpolatePath)(e,n)})).on("end",(function(t){t.inTransition=!1}));var p=Pe(this).selectAll(".tsi-valueLine").data([W.chartComponentData.timeArrays[L][t]].map((function(t){return t.inTransition=!0,t})));if(p.enter().append("path").attr("class","tsi-valueElement tsi-valueLine").merge(p).style("visibility",(function(e){return W.chartComponentData.isSplitByVisible(L,t)?"visible":"hidden"})).transition().duration(c).ease(xi).attr("stroke",q[e]).attr("stroke-opacity",W.strokeOpacity).attrTween("d",(function(t){var e=Pe(this).attr("d"),n=k(t);return Object(UM.interpolatePath)(e,n)})).on("end",(function(t){t.inTransition=!1})),W.chartOptions.includeDots||W.chartComponentData.displayState[L].includeDots){var d=Pe(this).selectAll(".tsi-valueDot").data(W.chartComponentData.timeArrays[L][t].filter((function(t){return t&&t.measures&&null!==t.measures[W.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)]})),(function(t,e){return t.dateTime.toString()}));d.enter().append("circle").attr("class","tsi-valueElement tsi-valueDot").attr("r",3).merge(d).style("visibility",(function(e){return W.chartComponentData.isSplitByVisible(L,t)&&e.measures?"visible":"hidden"})).transition().duration((function(t,e){return!0===W.previousIncludeDots.get(this)?c():0})).ease(xi).attr("fill",q[e]).attr("cx",(function(t){return W.getXPosition(t,W.x)})).attr("cy",(function(t){return t.measures?S(t.measures[W.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)]):null})).each((function(){W.previousIncludeDots.set(this,Y)})),d.exit().remove()}else Pe(this).selectAll(".tsi-valueDot").remove();var f={};(W.chartComponentData.displayState[L].includeEnvelope||W.chartOptions.includeEnvelope)&&W.chartComponentData.isPossibleEnvelope(L,t)&&(f=W.chartComponentData.timeArrays[L][t].map((function(t){return KM(KM({},t),{isEnvelope:!0})})));var m=Pe(this).selectAll(".tsi-valueEnvelope").data([f]);if(m.enter().append("path").attr("class","tsi-valueElement tsi-valueEnvelope").merge(m).style("visibility",(function(e){return W.chartComponentData.isSplitByVisible(L,t)?"visible":"hidden"})).transition().duration(c).ease(xi).style("fill",q[e]).attr("fill-opacity",.2).attr("d",O),W.chartOptions.isArea){W.createAreaPath(S);var g=Pe(this).selectAll(".tsi-valueArea").data([W.chartComponentData.timeArrays[L][t]]),y=uM.guid(),_=W.defs.selectAll("linearGradient").data([W.chartComponentData.timeArrays[L][t]]),v=_.enter().append("linearGradient");v.merge(_).attr("id",y).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%"),v.append("stop").attr("offset","0%").attr("style",(function(){return"stop-color:"+q[e]+";stop-opacity:.2"})),v.append("stop").attr("offset","100%").attr("style",(function(){return"stop-color:"+q[e]+";stop-opacity:.03"})),_.exit().remove(),g.enter().append("path").attr("class","tsi-valueArea").merge(g).style("fill","url(#"+y+")").style("visibility",(function(e){return W.chartComponentData.isSplitByVisible(L,t)?"visible":"hidden"})).transition().duration(c).ease(xi).attr("d",W.areaPath),g.exit().remove()}h.exit().remove(),p.exit().remove(),u.set(this,t)})),j.exit().remove()},e}(VM),JM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),QM=function(t){function e(e){var n=t.call(this,e)||this;return n.plotDataType=Rv.Categorical,n}return JM(e,t),e.prototype.onMouseover=function(t,e){var n=this,i=this.getVisibleMeasures(t.measures);this.hoverRect.attr("visibility","visible").attr("x",(function(){return n.x(new Date(t.dateTime))})).attr("width",e).attr("height",Math.max(0,this.chartHeight+1-rM)).attr("fill",(function(){return 1===i.length?n.getColorForValue(i[0]):"none"}))},e.prototype.onMouseout=function(){this.hoverRect.attr("visibility","hidden"),this.categoricalMouseout()},e.prototype.createHoverRect=function(){this.hoverRect?this.hoverRect.raise():this.hoverRect=this.chartGroup.append("rect").attr("class","tsi-categoricalHoverRect").attr("y",rM).attr("height",this.chartHeight+1)},e.prototype.getSeriesEndDate=function(){return this.chartDataOptions.searchSpan?new Date(this.chartDataOptions.searchSpan.to):new Date(this.chartComponentData.toMillis)},e.prototype.getBucketEndDate=function(t,e){var n=this,i=this.chartComponentData.timeArrays[t.aggregateKey][t.splitBy];return e+1<i.length?i[e+1].dateTime:uM.safeNotNullOrUndefined((function(){return n.chartDataOptions.searchSpan}))&&uM.safeNotNullOrUndefined((function(){return n.chartDataOptions.searchSpan.bucketSize}))?uM.roundToMillis(this.getSeriesEndDate().valueOf(),uM.parseTimeInput(this.chartDataOptions.searchSpan.bucketSize)):this.getSeriesEndDate()},e.prototype.render=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g,y,_,v,M,b,x){var w=this;this.chartOptions=t,this.yTop=v[0],this.height=v[1],this.x=h,this.chartComponentData=a;var A=n.aggKey;this.chartDataOptions=y,this.chartHeight=s,this.chartGroup=M,this.categoricalMouseover=b,this.aggregateGroup=r,this.categoricalMouseout=x,this.createBackdropRect(!0),this.aggregateGroup.selectAll("defs").empty()&&(this.defs=this.aggregateGroup.append("defs")),this.aggregateGroup.selectAll(".tsi-splitBysGroup").empty()&&(this.splitBysGroup=this.aggregateGroup.append("g").classed("tsi-splitBysGroup",!0));var T=[],L=function(t){var e=void 0===u.get(w);return S.chartOptions.noAnimate||e?0:S.TRANSDURATION},S=this;this.createHoverRect();var k=this.getVisibleSeries(A),O=Math.max((S.chartDataOptions.height-4*k.length)/k.length,0),z=this.splitBysGroup.selectAll(".tsi-splitByGroup").data(k,(function(t){return t.splitBy}));z.enter().append("g").attr("class","tsi-splitByGroup "+n.aggKey).merge(z).attr("transform",(function(t,e){return"translate(0,"+(8+e*(w.chartDataOptions.height/k.length))+")"})).each((function(t,e){var n=S.chartComponentData.timeArrays[A][t],i=Pe(this).selectAll(".tsi-categoricalBucket").data(n),r=function(t,e){S.x.range()[1],S.x.range()[0];var n=Math.max(S.x(new Date(t.dateTime)),0),i=S.x(S.getBucketEndDate(t,e));return Math.max(i-n,1)};i.enter().append("rect").attr("class","tsi-valueElement tsi-categoricalBucket").merge(i).style("visibility",(function(e){return S.chartComponentData.isSplitByVisible(A,t)&&S.hasData(e)?"visible":"hidden"})).on("mouseover",(function(t,n){var i=S.yTop+e*(S.chartDataOptions.height/k.length),a=S.x(new Date(t.dateTime))+r(t,n);S.categoricalMouseover(t,a,i+8,S.getBucketEndDate(t,n),r(t,n))&&S.onMouseover(t,r(t,n))})).on("mouseout",(function(){S.onMouseout()})).attr("cursor",S.chartDataOptions.onElementClick?"pointer":"inherit").on("click",(function(t){S.chartDataOptions.onElementClick&&S.chartDataOptions.onElementClick(t.aggregateKey,t.splitBy,t.dateTime.toISOString(),t.measures)})).transition().duration(L).ease(xi).attr("height",O).attr("width",r).attr("x",(function(t){return S.x(new Date(t.dateTime))})).each((function(t,n){var i=S.createGradientKey(t,e,n);T.push([i,t]),Pe(this).attr("fill","url(#"+i+")")})),i.exit().remove()})),z.exit().remove();var C=this.defs.selectAll("linearGradient").data(T,(function(t){return t[1].splitBy}));C.enter().append("linearGradient").attr("x2","0%").attr("y2","100%").merge(C).attr("id",(function(t){return t[0]})).each((function(t){S.addGradientStops(t[1],Pe(this))})),C.exit().remove()},e}(VM),$M=(n(153),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),tb=function(t){function e(e){var n=t.call(this,e)||this;return n.gradientArray={},n.eventOnClick=function(t){n.chartDataOptions.onElementClick&&n.chartDataOptions.onElementClick(t.aggregateKey,t.splitBy,t.dateTime.toISOString(),t.measures)},n.colorFunction=function(t){return t.measures?1===Object.keys(t.measures).length?n.getColorForValue(Object.keys(t.measures)[0]):"grey":"none"},n.createDateStringFunction=function(t){return uM.timeFormat(n.chartComponentData.usesSeconds,n.chartComponentData.usesMillis,n.chartOptions.offset,n.chartOptions.is24HourTime,t,null,n.chartOptions.dateLocale)},n.createEventElements=function(t,e,i){var r,a=n.chartComponentData.timeArrays[n.aggKey][t],o=e.selectAll(".tsi-discreteEvent").data(a,(function(t){return t.dateTime})),s=n,c=n.chartComponentData.getTemporalShiftMillis(n.aggKey),l=n.createDateStringFunction(c);switch(n.chartDataOptions.eventElementType){case qv.Teardrop:o.size()&&o.classed("tsi-discreteEventDiamond")&&(e.selectAll(".tsi-discreteEvent").remove(),o=e.selectAll(".tsi-discreteEvent").data(a,(function(t){return t.dateTime}))),r=o.enter().append("path").attr("class","tsi-discreteEvent tsi-valueElement").merge(o).classed("tsi-discreteEventDiamond",!1).classed("tsi-discreteEventTeardrop",!0).attr("transform",(function(t){return"translate("+(n.x(new Date(t.dateTime))+n.eventHeight/2)+","+1.4*n.eventHeight+") rotate(180)"})).attr("d",n.teardropD(n.eventHeight,n.eventHeight)).attr("stroke-width",Math.min(n.eventHeight/2.25,8)).attr("stroke",n.colorFunction).attr("fill","none");break;case qv.Diamond:o.size()&&o.classed("tsi-discreteEventTeardrop")&&(e.selectAll(".tsi-discreteEvent").remove(),o=e.selectAll(".tsi-discreteEvent").data(a,(function(t){return t.dateTime}))),r=o.enter().append("rect").attr("class","tsi-discreteEvent tsi-valueElement").merge(o).classed("tsi-discreteEventTeardrop",!1).classed("tsi-discreteEventDiamond",!0).attr("d","none").attr("transform",(function(t){return"translate("+n.x(new Date(t.dateTime))+",0) rotate(45)"})).attr("fill",n.colorFunction).attr("stroke","none")}r.attr("y",0).attr("x",0).attr("width",n.eventHeight).attr("height",n.eventHeight).on("mouseover",(function(t){Pe(this).raise(),s.onMouseover(t,i)})).on("mouseout",(function(){n.onMouseout()})).on("click",(function(t){n.eventOnClick(t)})).on("touchstart",(function(t){n.eventOnClick(t)})).on("keydown",(function(t){9===xe.keyCode&&(r.sort((function(t,e){return t.dateTime<e.dateTime?-1:t.dateTime>e.dateTime?1:0})),Pe(this).node().focus()),32!==xe.keyCode&&13!==xe.keyCode||s.eventOnClick(t)})).attr("role",n.chartDataOptions.onElementClick?"button":null).attr("tabindex",n.chartDataOptions.onElementClick?"0":null).attr("cursor",n.chartDataOptions.onElementClick?"pointer":"inherit").attr("aria-label",(function(t){if(n.chartDataOptions.onElementClick){var e=l(t),i=n.getString("event in series")+" "+t.aggregateName+" "+n.getString("at time")+" "+e+".";return Object.keys(t.measures).forEach((function(e){i+=" "+n.getString("measure with key")+" "+e+" "+n.getString("and value")+" "+t.measures[e]+"."})),i}return null})).style("visibility",(function(e){return s.chartComponentData.isSplitByVisible(n.aggKey,t)&&s.hasData(e)?"visible":"hidden"})).each((function(t,e){if(Object.keys(t.measures).length>1){var n=s.createGradientKey(t,i,e);s.gradientData.push([n,t]),Pe(this).attr(s.chartDataOptions.eventElementType===qv.Teardrop?"stroke":"fill","url(#"+n+")")}})),o.exit().remove()},n.shouldDrawBackdrop=function(){var t=n.chartComponentData.getSwimlane(n.aggKey);return!(n.chartOptions.swimLaneOptions&&n.chartOptions.swimLaneOptions[t]&&n.chartOptions.swimLaneOptions[t].collapseEvents)||0===Object.keys(n.chartComponentData.displayState).filter((function(e){return n.chartComponentData.getSwimlane(e)===t})).indexOf(n.aggKey)},n.plotDataType=Rv.Events,n}return $M(e,t),e.prototype.onMouseover=function(t,e){var n=this,i=function(){return n.x(new Date(t.dateTime))},r=Math.ceil(this.eventHeight*Math.sqrt(2)),a=this.yTop+8+r*e+r/2;if(this.discreteEventsMouseover(t,i()+r/2,a,r)){var o=this.getVisibleMeasures(t.measures);this.hoverLine.attr("visibility","visible").attr("x1",i).attr("x2",i).attr("y1",rM).attr("y2",this.chartHeight+1).attr("stroke",(function(){return 1===o.length?n.getColorForValue(o[0]):"grey"}))}},e.prototype.onMouseout=function(){this.hoverLine.attr("visibility","hidden"),this.discreteEventsMouseout()},e.prototype.createHoverLine=function(){this.hoverLine?this.hoverLine.raise():this.hoverLine=this.chartGroup.append("line").attr("class","tsi-discreteEventHoverLine").attr("y1",rM).attr("y2",this.chartHeight+1).attr("pointer-events","none").attr("visibility","hidden")},e.prototype.setEventHeight=function(t){var e=this.height-8;this.eventHeight=Math.floor(e/t/Math.sqrt(2))},e.prototype.render=function(t,e,n,i,r,a,o,s,c,l,u,h,p,d,f,m,g,y,_,v,M,b,x){var w=this;this.chartOptions=t,this.yTop=v[0],this.height=v[1],this.x=h,this.chartComponentData=a,this.aggKey=n.aggKey,this.chartDataOptions=y,this.chartHeight=s,this.chartGroup=M,this.aggregateGroup=r,this.discreteEventsMouseover=b,this.discreteEventsMouseout=x,this.createBackdropRect(this.shouldDrawBackdrop()),this.aggregateGroup.selectAll("defs").empty()&&(this.defs=this.aggregateGroup.append("defs")),this.createHoverLine();var A=this.getVisibleSeries(n.aggKey);this.setEventHeight(A.length),this.aggregateGroup.selectAll(".tsi-splitBysGroup").empty()&&(this.splitBysGroup=this.aggregateGroup.append("g").classed("tsi-splitBysGroup",!0));var T=this,L=this.splitBysGroup.selectAll(".tsi-splitByGroup").data(A,(function(t){return t.splitBy}));this.gradientData=[];L.enter().append("g").attr("class","tsi-eventsGroup tsi-splitByGroup "+this.aggKey).merge(L).attr("transform",(function(t,e){return"translate(0,"+ +e*(w.chartDataOptions.height/A.length)+")"})).each((function(t,e){T.createEventElements(t,Pe(this),e)})).each((function(){T.themify(Pe(this),T.chartOptions.theme)}));L.exit().remove();var S=this.defs.selectAll("linearGradient").data(this.gradientData,(function(t){return t[1].splitBy}));S.enter().append("linearGradient").attr("x2","0%").attr("y2","100%").merge(S).attr("id",(function(t){return t[0]})).each((function(t){T.addGradientStops(t[1],Pe(this))})),S.exit().remove()},e}(VM),eb=function(t,e,n){this.axisType=t,this.yExtent=e,this.positionInGroup=n},nb=(n(154),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ib=function(t){function e(e){var n=t.call(this,e)||this;return n.tooltipMap={},n.labelText="",n.markerIsDragging=!1,n.isSeriesLabels=!1,n.ADDITIONALRIGHTSIDEOVERHANG=12,n.guid=uM.guid(),n}return nb(e,t),e.prototype.getGuid=function(){return this.guid},e.prototype.setMillis=function(t){this.timestampMillis=t},e.prototype.getMillis=function(){return this.timestampMillis},e.prototype.setLabelText=function(t){return t.length>250?(this.labelText=t.slice(0,250),!0):(this.labelText=t,!1)},e.prototype.getLabelText=function(){return this.labelText},e.prototype.setSeriesLabelText=function(t,e,n){e.classed("tsi-isExpanded",!1);var i=e.append("h4").attr("class","tsi-seriesLabelGroupName tsi-tooltipTitle");uM.appendFormattedElementsFromString(i,t.aggregateName);var r=this.chartComponentData.getTemporalShiftStringTuple(t.aggregateKey),a="";null!==r&&(a=r[0]===c.startAt?this.timeFormat(new Date(r[1])):r[1]);var o={splitBy:t.splitBy,variableAlias:this.chartComponentData.displayState[t.aggregateKey].aggregateExpression.variableAlias,timeShift:a},s=e.selectAll(".tsi-seriesLabelSeriesName").data([o]),l=s.enter().append("div").attr("class","tsi-seriesLabelSeriesName tsi-tooltipSubtitle");o.splitBy&&""!==o.splitBy&&l.append("span").classed("tsi-splitBy",!0),o.timeShift&&l.append("span").classed("tsi-timeShift",!0),o.variableAlias&&l.append("span").classed("tsi-variableAlias",!0),s.exit().remove(),uM.setSeriesLabelSubtitleText(l,!1)},e.prototype.tooltipFormat=function(t,e,n,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);this.isSeriesLabels?this.setSeriesLabelText(t,e,r):e.text(uM.formatYAxisNumber(this.getValueOfVisible(t))).style("height","20px").style("line-height","18px"),e.classed("tsi-markerValueTooltipInner",!0).style("border-color",this.colorMap[t.aggregateKey+"_"+t.splitBy])},e.prototype.getLeft=function(t){return Math.round(this.x(t.timestamp)+this.marginLeft)},e.prototype.isMarkerDragOccuring=function(){return this.markerIsDragging},e.prototype.bumpMarker=function(){var t=this;Pe(this.renderTarget).selectAll(".tsi-markerContainer").style("animation","none").sort((function(e,n){return e.timestamp===t.timestampMillis?1:n.timestamp===t.timestampMillis?-1:e.timestamp<n.timestamp?1:-1}))},e.prototype.renderMarker=function(){var t=this,e=this,n=Pe(this.renderTarget).selectAll(".tsi-markerContainer").filter((function(e){return e.guid===t.guid})).data([{guid:this.guid,timestamp:this.timestampMillis}]);this.markerContainer=n.enter().append("div").attr("class","tsi-markerContainer").classed("tsi-isSeriesLabels",this.isSeriesLabels).merge(n).style("top",this.chartMargins.top+this.chartOptions.aggTopMargin+"px").style("height",this.chartHeight-(this.chartMargins.top+this.chartMargins.bottom+this.chartOptions.aggTopMargin)+"px").style("left",(function(e){return t.getLeft(e)+"px"})).classed("tsi-isFlipped",(function(e){return!t.isSeriesLabels&&(t.chartOptions.labelSeriesWithMarker&&t.x(e.timestamp)>t.x.range()[1]-80)})).each((function(t){e.isSeriesLabels||(Pe(this).selectAll(".tsi-markerLine").empty()&&(Pe(this).append("div").attr("class","tsi-markerLine"),e.markerLabel=Pe(this).append("div").attr("class","tsi-markerLabel").on("mouseleave",(function(){Pe(this).classed("tsi-markerLabelHovered",!1)})),e.markerLabel.append("div").attr("class","tsi-markerGrabber").on("mouseenter",(function(){e.bumpMarker()})),e.markerLabel.append("div").attr("class","tsi-markerLabelText").attr("contenteditable","true").text(e.labelText).on("keydown",(function(){xe.keyCode!==i.Enter||xe.shiftKey||(xe.preventDefault(),e.closeButton.node().focus())})).on("input",(function(){e.setLabelText(Pe(this).text())&&Pe(this).text(e.labelText)})).on("focus",(function(){Pe(this.parentNode).classed("tsi-markerLabelTextFocused",!0)})).on("blur",(function(){Pe(this.parentNode).classed("tsi-markerLabelTextFocused",!1),e.onChange(!1,!1,!1)})).on("mousedown",(function(){xe.stopPropagation()})).on("mouseover",(function(){e.isMarkerDragOccuring()||(Pe(Pe(this).node().parentNode).classed("tsi-markerLabelHovered",!0),e.bumpMarker())})),e.closeButton=e.markerLabel.append("button").attr("aria-label",e.getString("Delete marker")).classed("tsi-closeButton",!0).on("click",(function(){e.onChange(!0,!1),Pe(Pe(this).node().parentNode.parentNode).remove()})),e.timeLabel=Pe(this).append("div").attr("class","tsi-markerTimeLabel")),Pe(this).selectAll(".tsi-markerTimeLabel,.tsi-markerLine,.tsi-markerLabel").call(on().on("start",(function(t){t.isDragging=!0,e.markerIsDragging=!0,e.bumpMarker()})).on("drag",(function(t){if(!Pe(xe.sourceEvent.target).classed("tsi-closeButton")){Pe(Pe(this).node().parentNode);var n=e.x(new Date(e.timestampMillis))+xe.x;e.timestampMillis=uM.findClosestTime(e.x.invert(n).valueOf(),e.chartComponentData.timeMap),e.setPositionsAndLabels(e.timestampMillis)}})).on("end",(function(t){Pe(xe.sourceEvent.target).classed("tsi-closeButton")||e.onChange(!1,!1),t.isDragging=!1,e.markerIsDragging=!1}))))})),n.exit().remove()},e.prototype.getValueOfVisible=function(t){return uM.getValueOfVisible(t,this.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy))},e.prototype.getTooltipKey=function(t){return t.aggregateKey+"_"+t.splitBy},e.prototype.findYatX=function(t,e){e.parentNode;for(var n=e.getTotalLength(),i=0,r=e.getPointAtLength((n+i)/2),a=0;(t<r.x-.01||t>r.x+.01)&&(t<(r=e.getPointAtLength((n+i)/2)).x?n=(i+n)/2:i=(i+n)/2,!(100<++a)););var o=e.parentNode.parentNode.transform.baseVal[0].matrix.f;return r.y+o},e.prototype.positionToValue=function(t,e){return this.yMap[e].invert(t)},e.prototype.bisectionInterpolateValue=function(t,e,n,i){if(null===i)return null;var r=this.findYatX(this.x(t),i),a=this.positionToValue(r,e),o=this.createNewDatum(e,n,a);return o.isInterpolated=!0,o},e.prototype.getPath=function(t,e){var n=Pe(this.renderTarget).selectAll(".tsi-valueLine").filter((function(n){return!!n.length&&(n[0].aggregateKey===t&&n[0].splitBy===e)}));return 0===n.size()?null:n.nodes()[0]},e.prototype.createNewDatum=function(t,e,n){var i={};return i.aggregateKey=t,i.splitBy=e,i.measures={},i.measures[this.chartComponentData.getVisibleMeasure(t,e)]=n,i},e.prototype.findGapPath=function(t,e,n){var i=Pe(this.renderTarget).selectAll(".tsi-gapLine").filter((function(i){return 2===i.length&&t===i[0].aggregateKey&&e===i[0].splitBy&&(n>i[0].dateTime.valueOf()&&n<i[1].dateTime.valueOf())}));return 0===i.size()?null:i.nodes()[0]},e.prototype.inBounds=function(t,e){var n=this,i=t.data()[0].filter((function(t){return t.measures&&null!==n.getValueOfVisible(t)}));if(i.length>0){var r=i[0].dateTime.valueOf(),a=i[i.length-1].dateTime.valueOf();return e>=r&&e<=a}return!1},e.prototype.getIntersectingPath=function(t,e,n){this.chartComponentData.displayState[t].bucketSize&&(n-=this.chartComponentData.displayState[t].bucketSize/2);var i=this.findGapPath(t,e,n);return i||(this.inBounds(Pe(this.getPath(t,e)),n)?this.getPath(t,e):null)},e.prototype.interpolateValue=function(t,e,n){var i=this.getIntersectingPath(e,n,t);return null===i?null:this.bisectionInterpolateValue(t,e,n,i)},e.prototype.getValuesAtTime=function(t){var e=this,n=[],i=null!=this.chartComponentData.timeMap[t]?this.chartComponentData.timeMap[t]:[];return Object.keys(this.chartComponentData.visibleTAs).forEach((function(r){Object.keys(e.chartComponentData.visibleTAs[r]).forEach((function(a){if(e.chartComponentData.displayState[r].dataType===Rv.Numeric){var o=i.filter((function(t){return t.aggregateKey===r&&t.splitBy===a&&null!==e.getValueOfVisible(t)}));if(1===o.length&&null!==e.getValueOfVisible(o[0]))n.push(o[0]);else{var s=e.interpolateValue(t,r,a);if(null===s&&e.isSeriesLabels){var c=e.chartComponentData.findLastTimestampWithValue(r,a);null!==c&&n.push(c)}else n.push(s)}}}))})),n},e.prototype.setValueLabels=function(t){var e=this,n=this.getValuesAtTime(t);n=n.filter((function(t){return t&&e.chartComponentData.getDataType(t.aggregateKey)===Rv.Numeric}));var i=this,r=this.markerContainer.selectAll(".tsi-markerValue").data(n,(function(t){return t.aggregateKey+"_"+t.splitBy}));r.enter().append("div").classed("tsi-markerValue",!0).classed("tsi-seriesLabelValue",this.isSeriesLabels).merge(r).classed("tsi-isInterpolated",(function(t){return t.isInterpolated})).style("top",(function(t){return e.calcTopOfValueLabel(t)+"px"})).each((function(t){var e,n=i.getTooltipKey(t);i.tooltipMap[n]?e=i.tooltipMap[n]:(e=new HM(Pe(this)),i.tooltipMap[n]=e),e.render(i.chartOptions.theme);e.draw(t,i.chartComponentData,0,10,{right:0,left:0,top:0,bottom:0},(function(e){i.tooltipFormat(t,e,null,null)}),null,0,0,i.colorMap[t.aggregateKey+"_"+t.splitBy],!0);var r=Pe(this).selectAll(".tsi-markerValueCaret").data([t]);r.enter().append("div").attr("class","tsi-markerValueCaret").merge(r).style("border-right-color",(function(){return i.colorMap[t.aggregateKey+"_"+t.splitBy]})),r.exit().remove()}));var a=r.exit();a.each((function(t){delete e.tooltipMap[e.getTooltipKey(t)]})),a.remove()},e.prototype.calcTopOfValueLabel=function(t){var e=this.yMap[t.aggregateKey];return Math.round(e(this.getValueOfVisible(t))-this.chartOptions.aggTopMargin)},e.prototype.getTimeFormat=function(){return uM.timeFormat(this.chartComponentData.usesSeconds,this.chartComponentData.usesMillis,this.chartOptions.offset,this.chartOptions.is24HourTime,0,null,this.chartOptions.dateLocale)},e.prototype.setTimeLabel=function(t){if(!this.isSeriesLabels){var e=this.chartComponentData.timeMap[t];if(null!=e&&0!=e.length){var n=e[0].dateTime,i=new Date(e[0].dateTime.valueOf()+(null!=e[0].bucketSize?e[0].bucketSize:0));this.timeLabel.text(""),this.timeLabel.append("div").attr("class","tsi-markerTimeLine").text(this.timeFormat(n)),null!==e[0].bucketSize&&this.timeLabel.append("div").attr("class","tsi-markerTimeLine").text(this.timeFormat(i));var r=Number(this.markerContainer.style("left").replace("px","")),a=Math.round(this.timeLabel.node().getBoundingClientRect().width),o=this.marginLeft+8,s=this.x.range()[1]-this.x.range()[0]+this.marginLeft+8+this.ADDITIONALRIGHTSIDEOVERHANG,c=r+a/2,l="translateX(calc(-50% + 1px))";r-a/2<o&&(l="translateX(-"+Math.max(0,r-o)+"px)"),c>s&&(l="translateX(calc(-50% + "+(s-c)+"px))"),this.timeLabel.style("-webkit-tranform",l).style("transform",l)}}},e.prototype.focusCloseButton=function(){this.closeButton&&this.closeButton.node().focus()},e.prototype.isMarkerInRange=function(t){void 0===t&&(t=this.timestampMillis);var e=this.x.domain();return!(t<e[0].valueOf()||t>e[1].valueOf())},e.prototype.destroyMarker=function(){this.markerContainer&&this.markerContainer.remove(),this.tooltipMap={},this.markerContainer=null},e.prototype.render=function(e,n,i,r){if(this.chartMargins=Object.assign({},r.chartMargins),this.chartHeight=r.chartHeight,this.timestampMillis=e,this.chartOptions=n,this.x=r.x,this.chartComponentData=i,this.marginLeft=r.marginLeft,this.colorMap=r.colorMap,this.timeFormat=this.getTimeFormat(),this.isSeriesLabels=r.isSeriesLabels,r.labelText&&(this.labelText=r.labelText),this.yMap=r.yMap,r.onChange&&(this.onChange=r.onChange),this.isMarkerInRange(this.timestampMillis)){this.renderMarker();var a=uM.findClosestTime(this.timestampMillis,this.chartComponentData.timeMap);this.setPositionsAndLabels(a),t.prototype.themify.call(this,this.markerContainer,this.chartOptions.theme)}else this.destroyMarker()},e.prototype.setPositionsAndLabels=function(t){this.isMarkerInRange(t)?(this.renderMarker(),this.setTimeLabel(t),this.setValueLabels(t)):this.destroyMarker()},e}($v),rb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ab=function(){return(ab=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ob=function(t){function e(e){var n=t.call(this,e)||this;return n.minBrushWidth=1,n.strokeOpacity=1,n.nonFocusStrokeOpactiy=.3,n.chartComponentData=new YM,n.surpressBrushTimeSet=!1,n.hasStackedButton=!1,n.stackedButton=null,n.horizontalLabelOffset=oM.left+Gv,n.markers={},n.seriesLabelsMarker=null,n.markerGuidMap={},n.isDroppingMarker=!1,n.brushStartPosition=null,n.brushEndPosition=null,n.hasBrush=!1,n.isClearingBrush=!1,n.previousAggregateData=qe(),n.previousIncludeDots=qe(),n.mx=null,n.my=null,n.focusedAggKey=null,n.focusedSplitby=null,n.plotComponents={},n.isFirstMarkerDrop=!0,n.xOffset=8,n.swimlaneYExtents={},n.swimLaneContents={},n.resetValueElementsFocus=function(){n.svgSelection.selectAll(".tsi-valueElement").attr("stroke-opacity",n.strokeOpacity).filter((function(){return!Pe(this).classed("tsi-valueEnvelope")})).attr("fill-opacity",1),n.svgSelection.selectAll(".tsi-valueEnvelope").attr("fill-opacity",.2),uM.revertAllSubtitleText(Pe(n.renderTarget).selectAll(".tsi-markerValue")),n.focusedAggKey=null,n.focusedSplitby=null},n.triggerLineFocus=function(t,e){n.focusedAggKey=null,n.focusedSplitby=null,n.focusOnlyHoveredSeries(t,e,!0)},n.focusOnlyHoveredSeries=function(t,e,i){if(t!==n.focusedAggKey||e!==n.focusedSplitby){var r=uM.createValueFilter(t,e);n.focusMarkerLabel(r,t,e),n.svgSelection.selectAll(".tsi-valueElement").attr("stroke-opacity",n.nonFocusStrokeOpactiy).attr("fill-opacity",.3),n.svgSelection.selectAll(".tsi-valueEnvelope").attr("fill-opacity",.1),n.svgSelection.selectAll(".tsi-valueElement").filter(r).attr("stroke-opacity",n.strokeOpacity).attr("fill-opacity",1),n.svgSelection.selectAll(".tsi-valueEnvelope").filter(r).attr("fill-opacity",.3),i&&(n.focusedAggKey=t,n.focusedSplitby=e)}},n.discreteEventsMouseover=function(t,e,i,r){if(n.isDroppingMarker)return!1;n.legendObject.triggerSplitByFocus(t.aggregateKey,t.splitBy),n.focusOnlyHoveredSeries(t.aggregateKey,t.splitBy,!0);var a=e;n.chartMargins.top,n.getValueOfVisible(t);return n.chartOptions.tooltip?(n.tooltip.render(n.chartOptions.theme),n.tooltip.draw(t,n.chartComponentData,a,i,n.chartMargins,(function(e){n.tooltipFormat(t,e,Yv.SingleValue)}),r,0,0)):n.tooltip.hide(),!0},n.discreteEventsMouseout=function(){n.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1),n.resetValueElementsFocus(),n.tooltip.hide()},n.categoricalMouseover=function(t,e,i,r,a){if(n.isDroppingMarker)return!1;n.legendObject.triggerSplitByFocus(t.aggregateKey,t.splitBy),n.focusOnlyHoveredSeries(t.aggregateKey,t.splitBy,!0);var o=e;n.chartMargins.top,n.getValueOfVisible(t);return n.chartOptions.tooltip?(n.tooltip.render(n.chartOptions.theme),n.tooltip.draw(t,n.chartComponentData,o,i,n.chartMargins,(function(e){t.endDate=r,n.tooltipFormat(t,e,Yv.SingleValue)}),a,0,0)):n.tooltip.hide(),!0},n.categoricalMouseout=function(){n.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1),n.resetValueElementsFocus(),n.tooltip.hide()},n.voronoiMouseover=function(t){if(!n.contextMenu||!n.contextMenu.contextMenuVisible){var e=n.chartComponentData.getTemporalShiftMillis(t.aggregateKey),i=n.yMap[t.aggregateKey],r=t.dateTime,a=n.getXPosition(t,n.x),o=n.getValueOfVisible(t),s=i(o);n.focus.style("display","block"),n.focus.attr("transform","translate("+a+","+s+")"),n.focus.select(".tsi-hLine").attr("transform","translate("+-a+",0)"),n.focus.select(".tsi-vLine").attr("transform","translate(0,"+-s+")"),n.setHorizontalValuePosAndText(t,a+n.getSVGLeftOffset()+n.chartMargins.left,r,e),n.setVerticalValueAndPosition(o,s+n.chartMargins.top);var c=n.chartComponentData.displayState[t.aggregateKey].bucketSize,l=c?new Date(r.valueOf()+c):null;if(l){var u=n.x(l)-n.x(r);n.horizontalValueBar.style("display","block").attr("x1",-u/2).attr("x2",u/2).attr("y1",n.chartHeight-s+2).attr("y2",n.chartHeight-s+2)}else n.horizontalValueBar.style("display","none");n.chartOptions.tooltip?(n.tooltip.render(n.chartOptions.theme),n.tooltip.draw(t,n.chartComponentData,a,s,n.chartMargins,(function(e){n.tooltipFormat(t,e,Yv.Enveloped)}),null,20,20,n.colorMap[t.aggregateKey+"_"+t.splitBy])):n.tooltip.hide(),n.focus.node().parentNode.appendChild(n.focus.node()),n.legendObject.triggerSplitByFocus(t.aggregateKey,t.splitBy),n.chartOptions.yAxisState===Bv.Overlap&&(n.svgSelection.selectAll(".yAxis").selectAll("text").style("fill-opacity",.5).classed("standardYAxisText",!0),n.svgSelection.selectAll(".yAxis").filter((function(e){return e==t.aggregateKey})).selectAll("text").style("fill-opacity",1).classed("standardYAxisText",!1).style("font-weight","bold")),n.chartOptions.yAxisHidden&&n.svgSelection.selectAll(".yAxis").style("display","hidden"),n.chartOptions.xAxisHidden&&n.svgSelection.selectAll(".xAxis").style("display","none"),n.chartOptions.onMouseover(t.aggregateKey,t.splitBy)}},n.stickyOrUnstickySeries=function(t,e){n.chartComponentData.stickiedKey&&n.chartComponentData.stickiedKey.aggregateKey===t&&n.chartComponentData.stickiedKey.splitBy===e?n.unstickySeries(t,e):n.stickySeries(t,e)},n.unstickySeries=function(t,e){void 0===e&&(e=null),n.getDataType(t)===Rv.Numeric&&n.chartOptions.shouldSticky&&(n.chartComponentData.stickiedKey=null,n.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("stickied",!1),n.voronoiDiagram=n.voronoi(n.getFilteredAndSticky(n.chartComponentData.allValues)),n.chartOptions.onUnsticky(t,e))},n.stickySeries=function(t,e){if(void 0===e&&(e=null),n.getDataType(t)===Rv.Numeric&&n.chartOptions.shouldSticky){var i=n.getFilteredAndSticky(n.chartComponentData.allValues);null!=i&&0!=i.length&&(n.focusedAggKey=null,n.focusedSplitby=null,n.chartComponentData.stickiedKey={aggregateKey:t,splitBy:null==e?null:e},n.legendObject.legendElement.selectAll(".tsi-splitByLabel").filter((function(n){return Pe(this.parentNode).datum()==t&&n==e})).classed("stickied",!0),n.voronoiDiagram=n.voronoi(n.getFilteredAndSticky(n.chartComponentData.allValues)),n.chartOptions.onSticky(t,e))}},n.filteredValueExist=function(){var t=n.getFilteredAndSticky(n.chartComponentData.allValues);return!(null==t||0==t.length)},n.addMarker=function(){if(n.isFirstMarkerDrop&&(n.isFirstMarkerDrop=!1,n.createMarkerInstructions()),n.isDroppingMarker=!n.isDroppingMarker,n.isDroppingMarker){uM.focusOnEllipsisButton(n.renderTarget);var t=new ib(n.renderTarget),e=uM.guid(),i=n.createOnMarkerChange(e,t);n.activeMarker=t,n.markerGuidMap[e]=t,n.renderMarker(t,1/0,i,n.getString("Marker")+" "+Object.keys(n.markerGuidMap).length)}else n.destroyMarkerInstructions()},n.labelMouseout=function(){n.svgSelection&&(uM.revertAllSubtitleText(Pe(n.renderTarget).selectAll(".tsi-markerValue")),n.svgSelection.selectAll(".tsi-valueElement").filter((function(){return!Pe(this).classed("tsi-valueEnvelope")})).attr("stroke-opacity",1).attr("fill-opacity",1),n.svgSelection.selectAll(".tsi-valueEnvelope").attr("fill-opacity",.3))},n.labelMouseover=function(t,e){void 0===e&&(e=null),n.focusOnlyHoveredSeries(t,e,!1)},n.nextStackedState=function(){return n.chartOptions.yAxisState===Bv.Stacked?"shared":n.chartOptions.yAxisState===Bv.Shared?"overlap":"stacked"},n.MINHEIGHT=26,n.chartMargins=Object.assign({},oM),n}return rb(e,t),e.prototype.LineChart=function(){},e.prototype.getBrushPositions=function(){var t=null,e=null;if(this.brushStartTime){var n=this.x(this.brushStartTime);n>=0&&n<=this.chartWidth&&(t=Math.round(n+this.chartMargins.left))}if(this.brushEndTime){var i=this.x(this.brushEndTime);i>=0&&i<=this.chartWidth&&(e=Math.round(i+this.chartMargins.left))}return{leftPos:t,rightPos:e}},e.prototype.hideFocusElements=function(){this.focus.style("display","none"),this.verticalValueBox.style("display","none"),this.horizontalValueBox.style("display","none")},e.prototype.voronoiMouseout=function(t){this.contextMenu&&this.contextMenu.contextMenuVisible||(this.hideFocusElements(),this.tooltip.hide(),this.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1),xe&&"end"!=xe.type&&xe.stopPropagation(),this.resetValueElementsFocus(),this.chartOptions.yAxisState==Bv.Overlap&&this.svgSelection.selectAll(".yAxis").selectAll("text").style("fill-opacity",1).classed("standardYAxisText",!1).style("font-weight","normal"))},e.prototype.createMarkerInstructions=function(){this.targetElement.selectAll(".tsi-markerInstructions").remove(),this.targetElement.append("div").classed("tsi-markerInstructions",!0).text(this.getString("Click to drop marker")+","+this.getString("drag to reposition")+".")},e.prototype.destroyMarkerInstructions=function(){this.targetElement.selectAll(".tsi-markerInstructions").remove()},e.prototype.getMouseoverFunction=function(t){switch(void 0===t&&(t=Rv.Numeric),t){case Rv.Categorical:return this.categoricalMouseover;case Rv.Events:return this.discreteEventsMouseover;default:return function(){}}},e.prototype.getMouseoutFunction=function(t){switch(void 0===t&&(t=Rv.Numeric),t){case Rv.Categorical:return this.categoricalMouseout;case Rv.Events:return this.discreteEventsMouseout;default:return function(){}}},e.prototype.mismatchingChartType=function(t){return!!this.plotComponents[t]&&this.plotComponents[t].plotDataType!==this.getDataType(t)},e.prototype.setHorizontalValuePosAndText=function(t,e,n,i){var r=this.chartComponentData.displayState[t.aggregateKey].bucketSize,a=r?new Date(n.valueOf()+r):null;this.horizontalValueBox.text("").style("left",e+"px").style("top",this.chartMargins.top+this.chartHeight+3+"px").style("display","block"),this.horizontalValueBox.append("div").attr("class","tsi-valueBoxText").text(uM.timeFormat(this.chartComponentData.usesSeconds,this.chartComponentData.usesMillis,this.chartOptions.offset,this.chartOptions.is24HourTime,i,null,this.chartOptions.dateLocale)(n)),null!==a&&this.horizontalValueBox.append("div").attr("class","tsi-valueBoxText").text(uM.timeFormat(this.chartComponentData.usesSeconds,this.chartComponentData.usesMillis,this.chartOptions.offset,this.chartOptions.is24HourTime,i,null,this.chartOptions.dateLocale)(a))},e.prototype.setVerticalValueAndPosition=function(t,e){this.verticalValueBox.style("top",e+"px").style("right",this.chartMargins.right+this.chartWidth+"px").style("display","block").text(uM.formatYAxisNumber(t))},e.prototype.getYExtent=function(t,e,n){var i,r=this;if(void 0===n&&(n=null),null!==n&&null!==this.chartComponentData.displayState[n].yExtent)return this.chartComponentData.displayState[n].yExtent;if(null!==this.chartOptions.yExtent)return this.chartOptions.yExtent;if(e){var a=this.getFilteredValues(t),o=[];a.forEach((function(t){if(r.chartComponentData.isPossibleEnvelope(t.aggregateKey,t.splitBy))null!=t.measures.min&&null!=t.measures.min&&o.push(t.measures.min),null!=t.measures.avg&&null!=t.measures.avg&&o.push(t.measures.avg),null!=t.measures.max&&null!=t.measures.max&&o.push(t.measures.max);else{var e=r.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy);null!=t.measures[e]&&null!=t.measures[e]&&o.push(t.measures[e])}})),i=L(o)}else i=L(this.getFilteredValues(t),(function(t){var e=r.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy);return null!=t.measures[e]&&null!=t.measures[e]?t.measures[e]:null}));return null==i[0]||null==i[1]?[0,1]:i},e.prototype.getFilteredValues=function(t){var e=this;return t.filter((function(t){return t.measures&&null!==e.getValueOfVisible(t)}))},e.prototype.getFilteredAndSticky=function(t){var e=this,n=this.getFilteredValues(t).filter((function(t){return e.getDataType(t.aggregateKey)===Rv.Numeric}));return null==this.chartComponentData.stickiedKey?n:n.filter((function(t){return t.aggregateKey==e.chartComponentData.stickiedKey.aggregateKey&&(null==e.chartComponentData.stickiedKey.splitBy||t.splitBy==e.chartComponentData.stickiedKey.splitBy)}))},e.prototype.getHandleHeight=function(){return Math.min(Math.max(this.chartHeight/2,24),this.chartHeight+8)},e.prototype.getXPosition=function(t,e){var n=this.chartComponentData.displayState[t.aggregateKey].bucketSize;return n?(e(t.dateTime)+e(new Date(t.dateTime.valueOf()+n)))/2:e(t.dateTime)},e.prototype.setBrushStartTime=function(t){this.brushStartTime=t},e.prototype.setBrushEndTime=function(t){this.brushEndTime=t},e.prototype.setBrush=function(){if(this.brushStartTime&&this.brushEndTime&&this.brushElem&&this.brush){var t=this.x(this.brushStartTime),e=this.x(this.brushEndTime);if(this.brushElem.call(this.brush.move,null),e<this.xOffset||t>this.chartWidth-2*this.xOffset)return this.isClearingBrush=!0,void this.brushElem.call(this.brush.move,null);var n=Math.min(this.chartWidth-2*this.xOffset,Math.max(this.xOffset,this.x(this.brushStartTime))),i=Math.min(this.chartWidth-2*this.xOffset,Math.max(this.xOffset,this.x(this.brushEndTime)));this.surpressBrushTimeSet=!0,this.brushStartPosition=n,this.brushEndPosition=i,i-n<1&&(i+1>this.chartWidth-2*this.xOffset?n+=-1:i+=1),this.brushElem.call(this.brush.move,[n,i])}},e.prototype.findClosestValidTime=function(t){var e=1/0;return Object.keys(this.chartComponentData.timeMap).reduce((function(n,i){var r=Math.abs(Number(i)-t);return r<e?(e=r,Number(i)):n}),1/0)},e.prototype.getMarkerMarginLeft=function(){var t=this.legendObject.legendElement.node().getBoundingClientRect().width;return this.chartMargins.left+("shown"===this.chartOptions.legend||"hidden"===this.chartOptions.legend?t:0)+("shown"===this.chartOptions.legend?this.GUTTERWIDTH:0)},e.prototype.exportMarkers=function(){var t=this;this.chartOptions.markers=Object.keys(this.markerGuidMap).filter((function(e){return!t.activeMarker||t.activeMarker.getGuid()!==e})).map((function(e){return[t.markerGuidMap[e].getMillis(),t.markerGuidMap[e].getLabelText()]})),this.chartOptions.onMarkersChange(this.chartOptions.markers)},e.prototype.createOnMarkerChange=function(t,e){var n=this;return function(i,r,a){if(void 0===a&&(a=!0),r)n.markerGuidMap[t]=e;else if(i){delete n.markerGuidMap[t];var o=Object.values(n.markerGuidMap).filter((function(t){return t.isMarkerInRange()}));0!==o.length?o[0].focusCloseButton():n.focusOnEllipsis()}n.exportMarkers(),a&&n.sortMarkers()}},e.prototype.renderMarker=function(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!1),t.render(e,this.chartOptions,this.chartComponentData,{chartMargins:this.chartMargins,x:this.x,marginLeft:this.getMarkerMarginLeft(),colorMap:this.colorMap,yMap:this.yMap,onChange:n,chartHeight:this.height,isDropping:!1,labelText:i,isSeriesLabels:r})},e.prototype.sortMarkers=function(){Pe(this.renderTarget).selectAll(".tsi-markerContainer").sort((function(t,e){return t.timestamp<e.timestamp?1:-1}))},e.prototype.getAllLinesTransitionsComplete=function(){var t=this;return new Promise((function(e,n){var i=function(r){void 0===r&&(r=0),r<5?setTimeout((function(){var n=!0;Pe(t.renderTarget).selectAll(".tsi-gapLine").data().forEach((function(t){n=n&&!t.inTransition})),Pe(t.renderTarget).selectAll(".tsi-valueLine").data().forEach((function(t){n=n&&!t.inTransition})),n?e():i(r+1)}),Math.max(t.TRANSDURATION,250)):n()};i(0)}))},e.prototype.importMarkers=function(){var t=this;this.chartOptions.markers&&this.chartOptions.markers.length>0&&(Object.keys(this.markerGuidMap).length&&Object.keys(this.markerGuidMap).forEach((function(e){t.markerGuidMap[e].destroyMarker(),delete t.markerGuidMap[e]})),this.markerGuidMap={},this.chartOptions.markers.forEach((function(e,n){if(null!=e){var i,r=new ib(t.renderTarget),a=uM.guid();"number"==typeof e?(i=e,r.setLabelText(t.getString("Marker")+" "+(n+1))):(r.setLabelText(e[1]),i=e[0]),r.setMillis(i),t.markerGuidMap[a]=r}})),this.renderAllMarkers(),this.sortMarkers())},e.prototype.createSeriesLabelsMarker=function(){this.seriesLabelsMarker=new ib(this.renderTarget)},e.prototype.renderSeriesLabelsMarker=function(){this.chartOptions.labelSeriesWithMarker&&this.renderMarker(this.seriesLabelsMarker,this.x.domain()[1],(function(){}),null,!0)},e.prototype.renderAllMarkers=function(){var t=this;this.getAllLinesTransitionsComplete().then((function(){Object.keys(t.markerGuidMap).forEach((function(e){var n=t.markerGuidMap[e],i=t.createOnMarkerChange(e,n);t.renderMarker(n,n.getMillis(),i)})),t.seriesLabelsMarker&&t.renderSeriesLabelsMarker()}))},e.prototype.focusOnEllipsis=function(){null!==this.ellipsisContainer&&this.ellipsisContainer.select(".tsi-ellipsisButton").node().focus()},e.prototype.voronoiExists=function(){return 0!==this.getVisibleNumerics()},e.prototype.voronoiMousemove=function(t){if(this.filteredValueExist()&&this.voronoiExists()){this.mx=t[0],this.my=t[1];var e=t[0],n=(t[1],this.voronoiDiagram.find(this.mx,this.my));if(this.isDroppingMarker){var i=this.x.invert(e),r=uM.findClosestTime(i.valueOf(),this.chartComponentData.timeMap);this.renderMarker(this.activeMarker,r)}else if(this.voronoiMouseover(n.data),n.data.aggregateKey!==this.focusedAggKey||n.data.splitBy!==this.focusedSplitby){var a=uM.createValueFilter(n.data.aggregateKey,n.data.splitBy);this.focusMarkerLabel(a,n.data.aggregateKey,n.data.splitBy),this.focusOnlyHoveredSeries(n.data.aggregateKey,n.data.splitBy,!0)}}},e.prototype.voronoiContextMenu=function(t){if(this.filteredValueExist()&&this.voronoiExists()){var e=Fe(t),n=e[0],i=e[1],r=this.voronoiDiagram.find(n,i);if(this.chartComponentData.displayState[r.data.aggregateKey].contextMenuActions&&this.chartComponentData.displayState[r.data.aggregateKey].contextMenuActions.length){var a=Fe(this.targetElement.node()),o=void 0,s={pageX:(o=this.hasBrush?this.brushElem.node().getBoundingClientRect():this.voronoiRegion.node().getBoundingClientRect()).left+r[0],pageY:o.top+r[1]-12};xe.preventDefault(),this.contextMenu.draw(this.chartComponentData,this.renderTarget,this.chartOptions,a,r.data.aggregateKey,r.data.splitBy,null,r.data.dateTime,null,s),this.brushContextMenu&&this.brushContextMenu.hide(),this.voronoiMouseover(r.data)}}},e.prototype.voronoiClick=function(t){var e=this;if((!this.contextMenu||!this.contextMenu.contextMenuVisible)&&this.filteredValueExist()&&this.voronoiExists()&&(!this.brushElem||this.isDroppingMarker)){var n=Fe(t),i=n[0],r=n[1],a=this.voronoiDiagram.find(i,r),o=this.getCDOFromAggKey(a.data.aggregateKey);if(this.isDroppingMarker)this.hasBrush||(this.isDroppingMarker=!1);else if(a.data&&null!==o.onElementClick)o.onElementClick(a.data.aggregateKey,a.data.splitBy,a.data.dateTime.toISOString(),a.data.measures);else{if(null!==this.chartComponentData.stickiedKey)return a=this.voronoiDiagram.find(i,r),this.voronoiMousemove(a.data),void this.unstickySeries(a.data.aggregateKey,a.data.splitBy);this.stickySeries(a.data.aggregateKey,a.data.splitBy)}this.destroyMarkerInstructions(),uM.safeNotNullOrUndefined((function(){return e.activeMarker}))&&(this.activeMarker.onChange(!1,!0),this.exportMarkers(),this.activeMarker=null)}},e.prototype.getValueOfVisible=function(t){return uM.getValueOfVisible(t,this.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy))},e.prototype.brushBrush=function(){var t=this.getHandleHeight();if(this.brushElem.selectAll(".handle").attr("height",t).attr("y",(this.chartHeight-t)/2),xe.sourceEvent){if(xe.sourceEvent&&"mousemove"===xe.sourceEvent.type){if(this.brushElem.select(".selection").attr("visibility","visible"),xe.selection[1]-xe.selection[0]<this.minBrushWidth)return;this.brushElem.selectAll(".handle").attr("visibility","visible")}if(1!=this.surpressBrushTimeSet){if(xe.selection){this.contextMenu&&this.contextMenu.hide(),this.brushContextMenu&&this.brushContextMenu.hide();var e=xe.selection[0],n=xe.selection[1];e!=this.brushStartPosition&&(this.brushStartTime=this.x.invert(xe.selection[0]),this.brushStartPosition=e),n!=this.brushEndPosition&&(this.brushEndTime=this.x.invert(xe.selection[1]),this.brushEndPosition=n),this.chartOptions.brushMoveAction&&this.chartOptions.brushMoveAction(this.brushStartTime,this.brushEndTime)}}else this.surpressBrushTimeSet=!1}},e.prototype.brushEnd=function(t){var e=this;if(this.isClearingBrush)return this.isClearingBrush=!1,void(this.brushContextMenu&&this.brushContextMenu.hide());if(xe&&null==xe.selection&&xe.sourceEvent&&"mouseup"==xe.sourceEvent.type&&0==this.chartOptions.minBrushWidth){this.brushContextMenu&&this.brushContextMenu.hide();var n=Fe(t),i=n[0],r=n[1],a=this.voronoiDiagram.find(i,r),o=null!==this.brushStartPosition&&null!==this.brushEndPosition;return null===this.chartComponentData.stickiedKey||this.isDroppingMarker||o?(this.brushStartTime=null,this.brushEndTime=null,this.brushStartPosition=null,this.brushEndPosition=null,void(this.isDroppingMarker||o||this.contextMenu&&this.contextMenu.contextMenuVisible?this.isDroppingMarker=!1:this.stickySeries(a.data.aggregateKey,a.data.splitBy))):(this.chartComponentData.stickiedKey=null,this.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("stickied",!1),this.voronoiDiagram=this.voronoi(this.getFilteredAndSticky(this.chartComponentData.allValues)),a=this.voronoiDiagram.find(i,r),this.voronoiMousemove(a.data),void this.chartOptions.onUnsticky(a.data.aggregateKey,a.data.splitBy))}if(null!=xe.selection){var s=null,c=!1;if(this.chartOptions.snapBrush&&this.possibleTimesArray.length>0){var l=function(t){var n=null;return e.possibleTimesArray.reduce((function(i,r){return Math.abs(t-e.x(r))<Math.abs(t-i)?(n=r,e.x(r)):i}),1/0),n},u=l(xe.selection[0]),h=l(xe.selection[1]);u==this.brushStartTime&&h==this.brushEndTime||(this.brushStartTime=u,this.brushEndTime=h,this.brushStartPosition=this.x(this.brushStartTime),this.brushEndPosition=this.x(this.brushEndTime),s=function(){return Pe(t).transition().call(xe.target.move,[e.x(e.brushStartTime),e.x(e.brushEndTime)])},c=this.x(this.brushStartTime)==this.x(this.brushEndTime))}if(xe.selection[1]-xe.selection[0]<this.minBrushWidth){var p=Math.min(xe.selection[0]+this.minBrushWidth,this.x.range()[1]);s=function(){return Pe(t).transition().call(xe.target.move,[p-e.minBrushWidth,p])},c=p-this.minBrushWidth==p}if(this.chartOptions.brushMoveEndAction&&xe.sourceEvent&&"mouseup"==xe.sourceEvent.type&&this.chartOptions.brushMoveEndAction(this.brushStartTime,this.brushEndTime),this.chartOptions.brushContextMenuActions&&this.chartOptions.autoTriggerBrushContextMenu&&xe.sourceEvent&&"mouseup"==xe.sourceEvent.type){if(!this.chartOptions.brushContextMenuActions||0==this.chartOptions.brushContextMenuActions.length)return;var d=Fe(this.targetElement.node()),f=this.targetElement.node().getBoundingClientRect(),m=[Math.min(f.width,Math.max(d[0],0)),Math.min(f.height,Math.max(d[1],0))];this.brushContextMenu.draw(this.chartComponentData,this.renderTarget,this.chartOptions,m,null,null,null,this.brushStartTime,this.brushEndTime)}s&&(s(),this.brushContextMenu&&c&&this.brushContextMenu.hide())}else this.chartOptions.brushClearable||Pe(t).transition().call(xe.target.move,[this.x(this.brushStartTime),this.x(this.brushEndTime)])},e.prototype.focusMarkerLabel=function(t,e,n){uM.revertAllSubtitleText(Pe(this.renderTarget).selectAll(".tsi-markerValue"),.2),Pe(this.renderTarget).selectAll(".tsi-markerValue").filter(t).style("opacity",1).classed("tsi-isExpanded",!0).each((function(){uM.setSeriesLabelSubtitleText(Pe(this).selectAll(".tsi-tooltipSubtitle"),!0)})),Pe(this.renderTarget).selectAll(".tsi-markerContainer").each((function(){Pe(this).selectAll(".tsi-markerValue").sort((function(t,i){return t.aggregateKey!=e||null!=n&&n!=t.splitBy?-1:1}))}))},e.prototype.drawBrushRange=function(){if(this.chartOptions.brushRangeVisible){if(this.targetElement.select(".tsi-rangeTextContainer").empty()&&(this.brushStartTime||this.brushEndTime))this.targetElement.append("div").attr("class","tsi-rangeTextContainer");this.updateBrushRange()}},e.prototype.getSVGLeftOffset=function(){return"shown"===this.chartOptions.legend?this.width-this.svgSelection.node().getBoundingClientRect().width:0},e.prototype.updateBrushRange=function(){var t=this.getSVGLeftOffset();if(this.brushStartTime||this.brushEndTime){var e=uM.rangeTimeFormat(this.brushEndTime.valueOf()-this.brushStartTime.valueOf()),n=this.targetElement.select(".tsi-rangeTextContainer"),i=this.chartMargins.left+Math.min(Math.max(0,this.x(this.brushStartTime)),this.x.range()[1])+t,r=this.chartMargins.left+Math.min(Math.max(0,this.x(this.brushEndTime)),this.x.range()[1])+t;n.text(e).style("left",Math.max(8,Math.round((i+r)/2))+"px").style("top",this.chartMargins.top+this.chartOptions.aggTopMargin+"px"),this.chartOptions.color&&n.style("background-color",this.chartOptions.color).style("color","white");var a=n.node().getBoundingClientRect().width;this.chartOptions.isCompact&&r-i<a?n.style("visibility","hidden"):n.style("visibility","visible")}else this.deleteBrushRange()},e.prototype.deleteBrushRange=function(){this.targetElement.select(".tsi-rangeTextContainer").remove()},e.prototype.getYExtents=function(){return this.chartComponentData.yExtents},e.prototype.clearBrush=function(){this.svgSelection.select(".svgGroup").select(".brushElem").call(this.brush.move,null),this.deleteBrushRange(),this.brushContextMenu&&this.brushContextMenu.hide()},e.prototype.getVisibleNumerics=function(){var t=this,e=this.data.filter((function(e){return t.chartComponentData.displayState[e.aggKey].visible})),n=this.aggregateExpressionOptions.filter((function(e){return t.chartComponentData.displayState[e.aggKey].visible}));return e.filter((function(t,e){return n[e].dataType===Rv.Numeric})).length},e.prototype.getSwimlaneOffsets=function(t,e,n,i,r){var a=this,o=rM,s=e.map((function(){return null}));return Object.keys(r).sort((function(t,e){return Number(t)<=Number(e)?-1:1})).forEach((function(t){var e=Number(t),r=!1;n.forEach((function(t,n){t.swimLane===e&&t.dataType===Rv.Numeric&&(r=!0,s[n]=[o,i])}));var c=r?i:0;a.chartOptions.swimLaneOptions&&a.chartOptions.swimLaneOptions[e]&&a.chartOptions.swimLaneOptions[e].collapseEvents?(c+=a.getEventsCollapsedSwimlaneHeight(n,e),n.forEach((function(t,i){t.swimLane===e&&(s[i]=[o,a.getEventsCollapsedSwimlaneHeight(n,e)])}))):n.forEach((function(t,n){if(t.swimLane===e&&t.dataType!==Rv.Numeric){var i=uM.getNonNumericHeight(t.height);s[n]=[c+o,i],c+=i}})),o+=c})),s},e.prototype.setSwimLaneYExtents=function(t,e,n){var i=this,r={};n.forEach((function(n){var a=[];t.forEach((function(t,o){var s=e[o];if(s.dataType===Rv.Numeric){var c=[];if(s.swimLane===n){var l=s.aggKey;Object.keys(i.chartComponentData.visibleTAs[l]).forEach((function(t){c=c.concat(i.chartComponentData.visibleTAs[l][t])}));var u=i.getYExtent(c,i.chartComponentData.displayState[l].includeEnvelope?i.chartComponentData.displayState[l].includeEnvelope:i.chartOptions.includeEnvelope,l);a=L(u.concat(a)),r[n]=a}}}))})),this.swimlaneYExtents=r},e.prototype.getEventsCollapsedSwimlaneHeight=function(t,e){var n=t.reduce((function(t,n){return n.dataType===Rv.Events&&n.swimLane===e?Math.max(t,n.height):t}),0);return 0!==n?uM.getNonNumericHeight(n):0},e.prototype.createYOffsets=function(){var t=this,e=this.data.filter((function(e){return t.chartComponentData.displayState[e.aggKey].visible})),n=this.aggregateExpressionOptions.filter((function(e){return t.chartComponentData.displayState[e.aggKey].visible})),i={};n.forEach((function(t,e){null===t.swimLane&&(t.swimLane=e+1)})),n.forEach((function(t){i[t.swimLane]=i[t.swimLane]||t.dataType===Rv.Numeric}));var r=Object.keys(i).reduce((function(t,e){return t+(i[e]?1:0)}),0),a=this.chartOptions.isArea?0:rM,o=this.chartHeight-a,s=0;this.chartOptions.swimLaneOptions&&Object.keys(this.chartOptions.swimLaneOptions).forEach((function(e){var i=Number(e);if(t.chartOptions.swimLaneOptions[i].collapseEvents){var r=t.getEventsCollapsedSwimlaneHeight(n,i);s+=r}}));var c=n.reduce((function(e,n,i){return n.dataType===Rv.Events&&t.chartOptions.swimLaneOptions&&t.chartOptions.swimLaneOptions[n.swimLane]&&t.chartOptions.swimLaneOptions[n.swimLane].collapseEvents?e:e+(n.dataType!==Rv.Numeric?uM.getNonNumericHeight(n.height):0)}),0),l=(o-(c+=s))/r;return this.setSwimLaneYExtents(e,n,Object.keys(i).filter((function(t){return i[t]})).map((function(t){return Number(t)}))),this.getSwimlaneOffsets(a,e,n,l,i)},e.prototype.heightNonNumeric=function(){var t=this;return this.aggregateExpressionOptions.filter((function(e){return t.chartComponentData.displayState[e.aggKey].visible})).reduce((function(t,e){return t+(e.dataType!==Rv.Numeric?uM.getNonNumericHeight(e.height):0)}),0)},e.prototype.getGroupYExtent=function(t,e,n,i){return this.chartOptions.yAxisState===Bv.Shared||Object.keys(this.chartComponentData.timeArrays).length<2||!e?this.getYExtent(this.chartComponentData.allNumericValues,this.chartComponentData.displayState[t].includeEnvelope?this.chartComponentData.displayState[t].includeEnvelope:this.chartOptions.includeEnvelope,null):this.chartComponentData.aggHasVisibleSplitBys(t)?this.getYExtent(n,this.chartComponentData.displayState[t].includeEnvelope?this.chartComponentData.displayState[t].includeEnvelope:this.chartOptions.includeEnvelope,t):[0,1]},e.prototype.getAggAxisType=function(t){return this.chartOptions.yAxisState===Bv.Stacked?this.chartOptions.swimLaneOptions&&this.chartOptions.swimLaneOptions[t.swimLane]&&this.chartOptions.swimLaneOptions[t.swimLane].yAxisType?this.chartOptions.swimLaneOptions[t.swimLane].yAxisType:Bv.Shared:this.chartOptions.yAxisState},e.prototype.adjustSwimLanes=function(){if(this.chartOptions.yAxisState===Bv.Shared||this.chartOptions.yAxisState===Bv.Overlap)this.aggregateExpressionOptions.forEach((function(t){t.swimLane=0})),this.chartOptions.swimLaneOptions={0:{yAxisType:this.chartOptions.yAxisState}};else{var t=this.aggregateExpressionOptions.reduce((function(t,e){return Math.max(e.swimLane,t)}),0);this.aggregateExpressionOptions.forEach((function(e){null===e.swimLane&&(e.swimLane=++t)}))}},e.prototype.overwriteSwimLanes=function(){var t=this;this.aggregateExpressionOptions.forEach((function(e,n){t.aggregateExpressionOptions[n].swimLane=t.originalSwimLanes[n]})),this.chartOptions.swimLaneOptions=this.originalSwimLaneOptions},e.prototype.createSwimlaneLabels=function(t,e){var n=this,i={},r=function(r){var a,o,s,c,l,u,h=r.swimLane,p=e.findIndex((function(t){return t.aggKey===r.aggKey})),d=null;"function"==typeof(null===(s=null===(o=null===(a=n.chartOptions)||void 0===a?void 0:a.swimLaneOptions)||void 0===o?void 0:o[h])||void 0===s?void 0:s.onClick)&&(d=function(){var t,e,i,r;return null===(r=null===(i=null===(e=null===(t=n.chartOptions)||void 0===t?void 0:t.swimLaneOptions)||void 0===e?void 0:e[h])||void 0===i?void 0:i.onClick)||void 0===r?void 0:r.call(i,h)}),i[h]={offset:t[p][0],height:t[p][1],label:null===(u=null===(l=null===(c=n.chartOptions)||void 0===c?void 0:c.swimLaneOptions)||void 0===l?void 0:l[h])||void 0===u?void 0:u.label,onClick:d}};e.filter((function(t){return t.dataType===Rv.Numeric})).forEach((function(t){t.swimLane in i||r(t)})),e.filter((function(t){return t.dataType!==Rv.Numeric})).forEach((function(a){var o,s,c,l=e.findIndex((function(t){return t.aggKey===a.aggKey}));a.swimLane in i?(null===(c=null===(s=null===(o=n.chartOptions)||void 0===o?void 0:o.swimLaneOptions)||void 0===s?void 0:s[a.swimLane])||void 0===c?void 0:c.collapseEvents)||(i[a.swimLane].height+=t[l][1]):r(a)})),this.swimLaneLabelGroup.selectAll("*").remove();var a=function(t,e){n.svgSelection.select(".svgGroup").selectAll(".tsi-swimLaneAxis-"+e).selectAll("text").classed("tsi-boldYAxisText",t)},o=function(t){return t.onClick&&"function"==typeof t.onClick};Object.keys(i).forEach((function(t){var e=[i[t]],r=n.swimLaneLabelGroup.selectAll("tsi-swimLaneLabel-"+t).data(e);r.enter().append("text").attr("class",(function(e){return"tsi-swimLaneLabel-"+t+" tsi-swimLaneLabel "+(o(e)?"tsi-boldOnHover":"")})).merge(r).style("text-anchor","middle").attr("transform",(function(t){return"translate("+(-n.horizontalLabelOffset+Zv)+","+(t.offset+t.height/2)+") rotate(-90)"})).text((function(t){return t.label})).each((function(t){!function(t,e){var n=e.height-Kv;if(e.label)for(var i=t.getBoundingClientRect(),r=t.textContent;i.height>n&&r.length>0;)r=r.slice(0,-1),t.textContent=r+"...",i=t.getBoundingClientRect()}(this,t)})).on("click",(function(t){o(t)&&t.onClick()})).on("mouseover",(function(e){o(e)&&a(!0,t)})).on("mouseout",(function(){a(!1,t)})).append("svg:title").text((function(t){return t.label})),r.exit().remove()}))},e.prototype.render=function(e,n,i){var r=this;if(t.prototype.render.call(this,e,n,i),this.originalSwimLanes=this.aggregateExpressionOptions.map((function(t){return t.swimLane})),this.originalSwimLaneOptions=n.swimLaneOptions,this.hasBrush=n&&(n.brushMoveAction||n.brushMoveEndAction||n.brushContextMenuActions),this.chartOptions.setOptions(n),this.chartMargins.right=this.chartOptions.labelSeriesWithMarker?100:oM.right,this.width=this.getWidth(),this.height=Math.max(Pe(this.renderTarget).node().clientHeight,this.MINHEIGHT),"compact"==this.chartOptions.legend?this.chartMargins.top=72:this.chartMargins.top=40,this.chartOptions.hideChartControlPanel&&(this.chartMargins.top+=-28),!this.chartOptions.brushRangeVisible&&this.targetElement&&this.deleteBrushRange(),this.seriesLabelsMarker&&!this.chartOptions.labelSeriesWithMarker&&(this.seriesLabelsMarker.destroyMarker(),this.seriesLabelsMarker=null),this.strokeOpacity=this.chartOptions.isArea?.55:1,this.nonFocusStrokeOpactiy=this.chartOptions.isArea?.55:.3,this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.aggregateExpressionOptions),this.chartComponentData.data.forEach((function(t,e){r.aggregateExpressionOptions[e].aggKey=t.aggKey})),this.chartOptions.xAxisHidden&&this.chartOptions.focusHidden&&(this.chartMargins.bottom=5),this.chartHeight=Math.max(1,this.height-this.chartMargins.bottom-this.chartMargins.top),this.chartWidth=this.getChartWidth(),this.brush&&this.svgSelection.select(".svgGroup").select(".brushElem")&&!this.chartOptions.keepBrush&&(this.brushStartTime=null,this.brushEndTime=null,this.brushStartPosition=null,this.brushEndPosition=null,this.clearBrush()),this.chartOptions.hideChartControlPanel||null!==this.chartControlsPanel)this.chartOptions.hideChartControlPanel&&null!==this.chartControlsPanel&&(this.hasStackedButton=!1,this.removeControlPanel());else{this.chartControlsPanel=uM.createControlPanel(this.renderTarget,this.legendWidth+this.GUTTERWIDTH/2,Math.max(this.chartMargins.top+12,0),this.chartOptions);var a=this;this.hasStackedButton=!0,this.stackedButton=this.chartControlsPanel.append("button").style("left","60px").attr("class","tsi-stackedButton").attr("aria-label",(function(){return r.getString("set axis state to")+" "+r.nextStackedState()})).attr("title",(function(){return r.getString("Change y-axis type")})).attr("type","button").on("click",(function(){var t=this;a.overwriteSwimLanes(),a.render(a.data,ab(ab({},a.chartOptions),{yAxisState:a.nextStackedState()}),a.aggregateExpressionOptions),Pe(this).attr("aria-label",(function(){return a.getString("set axis state to")+" "+a.nextStackedState()})),setTimeout((function(){return Pe(t).node().focus()}),200)}))}if(null!==this.chartControlsPanel&&(this.drawEllipsisMenu([{iconClass:"flag",label:this.getString("Drop a Marker"),action:this.addMarker,description:""}]),this.chartControlsPanel.style("top",Math.max(this.chartMargins.top-24,0)+"px")),this.adjustSwimLanes(),null==this.svgSelection){this.targetElement=Pe(this.renderTarget).classed("tsi-lineChart",!0),this.svgSelection=this.targetElement.append("svg").attr("class","tsi-lineChartSVG tsi-chartSVG").attr("title",this.getString("Line chart")).attr("height",this.height);var o=this.svgSelection.append("g").classed("svgGroup",!0).attr("transform","translate("+this.chartMargins.left+","+this.chartMargins.top+")"),s=this.svgSelection.append("defs");this.brushElem=null,this.hasBrush?(this.brushElem=o.append("g").attr("class","brushElem"),this.brushElem.classed("hideBrushHandles",!this.chartOptions.brushHandlesVisible)):this.voronoiRegion=o.append("rect").classed("voronoiRect",!0),this.focus=o.append("g").attr("transform","translate(-200,-100)").attr("class","tsi-focus"),this.focus.append("line").attr("class","tsi-focusLine tsi-vLine").attr("x1",0).attr("x2",0).attr("y1",this.chartOptions.aggTopMargin).attr("y2",this.chartHeight),this.focus.append("line").attr("class","tsi-focusLine tsi-hLine").attr("x1",0).attr("x2",this.chartWidth).attr("y1",0).attr("y2",0),this.focus.append("circle").attr("r",4),this.horizontalValueBox=Pe(this.renderTarget).append("div").attr("class","tsi-horizontalValueBox tsi-chartValueTextBox").style("display","none").attr("pointer-events","none"),this.verticalValueBox=Pe(this.renderTarget).append("div").attr("class","tsi-verticalValueBox").style("display","none"),this.horizontalValueBar=this.focus.append("line").attr("y1",0).attr("y2",0).attr("class","tsi-horizontalValueBar").style("display","none"),this.swimLaneLabelGroup=o.append("g").attr("class","tsi-swimLaneLabels"),this.tooltip||(this.tooltip=new HM(Pe(this.renderTarget))),this.draw=function(e){void 0===e&&(e=!1),r.minBrushWidth=r.chartOptions.minBrushWidth?r.chartOptions.minBrushWidth:r.minBrushWidth,r.focus.attr("visibility",r.chartOptions.focusHidden?"hidden":"visible"),r.verticalValueBox.style("visibility",r.chartOptions.focusHidden?"hidden":"visible"),r.horizontalValueBox.style("visibility",r.chartOptions.focusHidden?"hidden":"visible"),r.chartOptions.xAxisHidden&&r.chartOptions.focusHidden&&(r.chartMargins.bottom=5);var n=!1;r.aggregateExpressionOptions.filter((function(t){return r.chartComponentData.displayState[t.aggKey].visible})).forEach((function(t){var e,i;(null===(i=null===(e=r.originalSwimLaneOptions)||void 0===e?void 0:e[t.swimLane])||void 0===i?void 0:i.label)&&(n=!0)})),n?r.chartMargins.left=r.horizontalLabelOffset:r.chartMargins.left===r.horizontalLabelOffset&&(r.chartMargins.left=oM.left),r.width=Math.max(Pe(r.renderTarget).node().clientWidth,r.MINWIDTH),e||(r.chartWidth=r.getChartWidth()),r.height=Math.max(Pe(r.renderTarget).node().clientHeight,r.MINHEIGHT),r.chartHeight=Math.max(1,r.height-r.chartMargins.bottom-r.chartMargins.top),o.attr("transform","translate("+r.chartMargins.left+","+r.chartMargins.top+")"),r.brushElem&&r.brushElem.classed("hideBrushHandles",!r.chartOptions.brushHandlesVisible),r.focus.select(".tsi-hLine").attr("x2",r.chartWidth),r.focus.select(".tsi-vLine").attr("y2",r.chartHeight),r.svgSelection.style("width",r.getSVGWidth()+"px").style("height",r.height+"px"),t.prototype.themify.call(r,r.targetElement,r.chartOptions.theme),e||r.legendObject.draw(r.chartOptions.legend,r.chartComponentData,(function(t,e){r.labelMouseover(t,e)}),r.svgSelection,r.chartOptions,(function(){uM.revertAllSubtitleText(Pe(r.renderTarget).selectAll(".tsi-markerValue"))}),r.stickySeries),r.svgSelection.selectAll(".yAxis").style("visibility","hidden"),r.x=og().rangeRound([r.xOffset,Math.max(r.xOffset,r.chartWidth-2*r.xOffset)]),r.y=Up().range([Math.max(r.chartHeight-r.heightNonNumeric(),r.chartOptions.aggTopMargin)-rM,r.chartOptions.aggTopMargin]);var i=r.chartComponentData.setAllValuesAndVisibleTAs(),a=0!=r.chartComponentData.allValues.length?L(r.chartComponentData.allValues,(function(t){return t.dateTime})):[0,1],c=Zr(r.chartComponentData.allValues,(function(t){return t.dateTime})),l=(0!=r.chartComponentData.allValues.length&&Math.max(2,a[1].valueOf()-a[0].valueOf()),r.xOffset/r.chartWidth);r.chartOptions.timeFrame&&(i=[new Date(r.chartOptions.timeFrame[0]),new Date(r.chartOptions.timeFrame[1])]),r.x.domain(i),r.xLowerBound=r.x(i[0]),r.xUpperBound=r.x(i[1]),r.chartComponentData.setTimeMap();var u=r.chartComponentData.allValues.map((function(t){return t.dateTime})),h=r.chartComponentData.allValues.filter((function(t){return null!=t.bucketSize})).map((function(t){return new Date(t.dateTime.valueOf()+t.bucketSize)})),p=u.concat(h);c=Zr(p);if(r.possibleTimesArray=c.values().sort().map((function(t){return new Date(t)})),r.voronoiRegion&&r.voronoiRegion.attr("x",l*r.chartWidth).attr("y",r.chartOptions.aggTopMargin).attr("width",r.chartWidth-l*r.chartWidth*2).attr("height",r.chartHeight),r.brushElem){var d=r;r.brush=hr().extent([[r.xLowerBound,Math.min(r.chartHeight,r.chartOptions.aggTopMargin)],[r.xUpperBound,r.chartHeight]]).on("start",(function(){null!==d.activeMarker&&d.isDroppingMarker&&d.voronoiClick(this);var t=d.getHandleHeight();d.brushElem.selectAll(".handle").attr("height",t).attr("y",(d.chartHeight-t)/2).attr("rx","4px").attr("ry","4px")})).on("brush",(function(){d.brushBrush(),d.drawBrushRange()})).on("end",(function(){d.brushEnd(this),d.drawBrushRange()})),r.brushElem.call(r.brush),r.setBrush()}var f=r.getYExtent(r.chartComponentData.allValues,!1,null),m=f[1]-f[0]>0?f[1]-f[0]:1,g=r.chartOptions.isArea?1.5/r.chartHeight:10/r.chartHeight;if(r.y.domain([f[0]-m*g,f[1]+m*(10/r.chartHeight)]),r.chartOptions.isArea&&(r.areaPath=Jg().curve(r.chartOptions.interpolationFunction).defined((function(t){return null!==t.measures&&null!==t.measures[r.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)]})).x((function(t){return r.getXPosition(t,r.x)})).y0((function(t){return t.measures?r.y(t.measures[r.chartComponentData.getVisibleMeasure(t.aggregateKey,t.splitBy)]):0})).y1(r.chartHeight)),!r.chartOptions.xAxisHidden){r.xAxis=o.selectAll(".xAxis").data([r.x]),r.drawXAxis(r.chartHeight),r.xAxis.exit().remove();var y=o.selectAll(".xAxisBaseline").data([r.x]);y.enter().append("line").attr("class","xAxisBaseline").attr("x1",.5).merge(y).attr("y2",r.chartHeight+.5).attr("y1",r.chartHeight+.5).attr("x2",r.chartWidth-r.xOffset);y.exit().remove()}0!==o.selectAll(".xAxis").size()&&o.selectAll(".xAxis").style("visibility",r.chartOptions.xAxisHidden?"hidden":"visible"),r.visibleAggCount=Object.keys(r.chartComponentData.timeArrays).reduce((function(t,e){return t+(r.chartComponentData.displayState[e].visible?1:0)}),0),r.yMap={},r.colorMap={},r.svgSelection.selectAll(".yAxis").remove();r.chartComponentData.data.filter((function(t){return r.chartComponentData.displayState[t.aggKey].visible}));var _=r.aggregateExpressionOptions.filter((function(t){return r.chartComponentData.displayState[t.aggKey].visible})),v=r.createYOffsets();r.createSwimlaneLabels(v,_);var M={};r.chartComponentData.resetYExtents();var b=r.svgSelection.select(".svgGroup").selectAll(".tsi-aggGroup").data(_,(function(t){return t.aggKey})),x=(d=r,0);if(b.enter().append("g").classed("tsi-aggGroup",!0).merge(b).transition().duration(r.chartOptions.noAnimate?0:d.TRANSDURATION).ease(xi).attr("transform",(function(t,e){return d.chartOptions.isArea?null:"translate(0,"+v[e][0]+")"})).each((function(t,e){var n,i,r,a,c=[],l=t.aggKey;if(Object.keys(d.chartComponentData.visibleTAs[l]).forEach((function(t){c=c.concat(d.chartComponentData.visibleTAs[l][t])})),a=d.getGroupYExtent(l,!0,c,a),void 0===d.plotComponents[l]||d.mismatchingChartType(l)){var u=Pe(this);delete d.plotComponents[l],u.selectAll("*").remove(),d.plotComponents[l]=d.createPlot(u,e,_)}var h=d.getMouseoverFunction(_[e].dataType),p=d.getMouseoutFunction(_[e].dataType),f=x;if(d.getAggAxisType(t)===Bv.Shared&&(a=d.swimlaneYExtents[t.swimLane]),"numeric"===t.dataType){var m=d.aggregateExpressionOptions.findIndex((function(t){return t.aggKey===l}));d.chartComponentData.setYExtents(m,a)}var g=t.swimLane,y=t.dataType===Rv.Numeric?1:0;M[g]?(f=M[g],M[g]+=y):(f=0,M[g]=y);var b=new eb(d.getAggAxisType(t),a,f),w=null;"function"==typeof(null===(r=null===(i=null===(n=d.chartOptions)||void 0===n?void 0:n.swimLaneOptions)||void 0===i?void 0:i[g])||void 0===r?void 0:r.onClick)&&(w=function(){var t,e;return null===(e=(t=d.chartOptions.swimLaneOptions[g]).onClick)||void 0===e?void 0:e.call(t,g)}),d.plotComponents[l].render(d.chartOptions,x,t,!0,Pe(this),d.chartComponentData,b,d.chartHeight,d.visibleAggCount,d.colorMap,d.previousAggregateData,d.x,d.areaPath,d.strokeOpacity,d.y,d.yMap,s,_[e],d.previousIncludeDots,v[e],o,h,p,w),x+=_[e].dataType===Rv.Numeric?1:0})),b.exit().remove(),r.voronoi=xv().x((function(t){return null!=t.bucketSize?d.x(new Date(t.dateTime.valueOf()+t.bucketSize/2)):d.x(t.dateTime)})).y((function(t){return t.measures&&d.yMap[t.aggregateKey]?d.yMap[t.aggregateKey](d.getValueOfVisible(t)):null})).extent([[0,0],[r.chartWidth,r.chartHeight]]),(r.brushElem?r.brushElem.select(".overlay"):r.voronoiRegion).on("mousemove",(function(){var t=Fe(this);d.voronoiMousemove(t)})).on("mouseout",(function(t){if(d.filteredValueExist()&&d.voronoiExists()){var e=Fe(this),n=e[0],i=e[1],r=d.voronoiDiagram.find(n,i);d.voronoiMouseout(r.data),d.chartOptions.onMouseout(),d.tooltip&&d.tooltip.hide()}})).on("contextmenu",(function(t){d.voronoiContextMenu(this)})).on("click",(function(t){d.voronoiClick(this)})),r.brushElem){r.brushElem.selectAll(".selection, .handle").on("contextmenu",(function(t){if(d.chartOptions.brushContextMenuActions&&0!=d.chartOptions.brushContextMenuActions.length&&!d.chartOptions.autoTriggerBrushContextMenu){var e=Fe(d.targetElement.node());xe.preventDefault(),d.brushContextMenu.draw(d.chartComponentData,d.renderTarget,d.chartOptions,e,null,null,null,d.brushStartTime,d.brushEndTime)}})),r.brushElem.selectAll(".selection").attr("stroke",r.chartOptions.color?r.chartOptions.color:"none").attr("fill",r.chartOptions.color?r.chartOptions.color:"grey");var w=d.getHandleHeight();r.brushElem.selectAll(".handle").attr("fill",r.chartOptions.color?r.chartOptions.color:"grey").attr("height",w).attr("y",(r.chartHeight-w)/2)}r.hasStackedButton&&r.stackedButton.style("opacity",(function(){return r.chartOptions.yAxisState===Bv.Stacked?1:r.chartOptions.yAxisState===Bv.Shared?.6:.3})).style("display",r.visibleAggCount<2?"none":"block").classed("tsi-lightTheme","light"==r.chartOptions.theme).classed("tsi-darkTheme","dark"==r.chartOptions.theme);r.chartOptions.timeFrame?r.chartOptions.timeFrame:r.x.domain();r.chartOptions.hideChartControlPanel||null===r.chartControlsPanel||r.chartControlsPanel.style("width",r.calcSVGWidth()+"px"),r.renderAllMarkers(),r.voronoiDiagram=r.voronoi(r.getFilteredAndSticky(r.chartComponentData.allValues))},this.legendObject=new fM(this.draw,this.renderTarget,this.legendWidth),this.contextMenu=new jM(this.draw,this.renderTarget),this.brushContextMenu=new jM(this.draw,this.renderTarget),window.addEventListener("resize",(function(){r.chartOptions.suppressResizeListener||(r.draw(),r.renderAllMarkers())}))}this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.aggregateExpressionOptions),this.draw(),this.gatedShowGrid(),this.chartOptions.noAnimate=!1,this.chartOptions.labelSeriesWithMarker&&null===this.seriesLabelsMarker&&this.createSeriesLabelsMarker(),this.renderSeriesLabelsMarker(),this.chartOptions.markers&&this.chartOptions.markers.length>0&&this.importMarkers(),Pe("html").on("click."+uM.guid(),(function(){r.ellipsisContainer&&xe.target!=r.ellipsisContainer.select(".tsi-ellipsisButton").node()&&r.ellipsisMenu.setMenuVisibility(!1)})),this.legendPostRenderProcess(this.chartOptions.legend,this.svgSelection,!0,(function(){r.updateBrushRange()}))},e.prototype.createPlot=function(t,e,n){var i=n[e].dataType;return i===Rv.Numeric?new ZM(t):i===Rv.Categorical?new QM(t):i===Rv.Events?new tb(t):null},e}(RM),sb=(n(155),n(5)),cb=n.n(sb),lb=(n(140),n(0)),ub=n.n(lb),hb=(n(156),n(157),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),pb=function(t){function e(e){var n=t.call(this,e)||this;return n.timeZones=["Local","UTC","Africa/Algiers","Africa/Cairo","Africa/Casablanca","Africa/Harare","Africa/Johannesburg","Africa/Lagos","Africa/Nairobi","Africa/Windhoek","America/Anchorage","America/Bogota","America/Buenos Aires","America/Caracas","America/Chicago","America/Chihuahua","America/Denver","America/Edmonton","America/Godthab","America/Guatemala","America/Halifax","America/Indiana/Indianapolis","America/Los Angeles","America/Manaus","America/Mexico City","America/Montevideo","America/New York","America/Phoenix","America/Santiago","America/Sao Paulo","America/St Johns","America/Tijuana","America/Toronto","America/Vancouver","America/Winnipeg","Asia/Amman","Asia/Beirut","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Calcutta","Asia/Colombo","Asia/Dhaka","Asia/Dubai","Asia/Ho Chi Minh","Asia/Hong Kong","Asia/Irkutsk","Asia/Istanbul","Asia/Jakarta","Asia/Jerusalem","Asia/Kabul","Asia/Karachi","Asia/Kathmandu","Asia/Krasnoyarsk","Asia/Kuala Lumpur","Asia/Kuwait","Asia/Magadan","Asia/Muscat","Asia/Novosibirsk","Asia/Qatar","Asia/Rangoon","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Tbilisi","Asia/Tehran","Asia/Tokyo","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Cape Verde","Atlantic/South Georgia","Australia/Adelaide","Australia/Brisbane","Australia/Canberra","Australia/Darwin","Australia/Hobart","Australia/Melbourne","Australia/Perth","Australia/Queensland","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Athens","Europe/Belfast","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Budapest","Europe/Dublin","Europe/Helsinki","Europe/Kiev","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Rome","Europe/Stockholm","Europe/Vienna","Europe/Warsaw","Europe/Zurich","Pacific/Auckland","Pacific/Fiji","Pacific/Guam","Pacific/Honolulu","Pacific/Midway","Pacific/Tongatapu"],n}return hb(e,t),e.prototype.sortTimezones=function(){var t=this.timeZones.filter((function(t){return!("local"==t.toLowerCase()||"UTC"==t)}));t.sort((function(t,e){var n=Hv.a.tz(new Date,t.split(" ").join("_")).utcOffset(),i=Hv.a.tz(new Date,e.split(" ").join("_")).utcOffset();return n<i?-1:n>i?1:0})),this.timeZones=["Local","UTC"].concat(t)},e.prototype.render=function(t,e){var n=this;void 0===e&&(e=null),this.targetElement=Pe(this.renderTarget).classed("tsi-timezonePicker",!0);new Date;var i=this.targetElement.append("select").attr("class","tsi-timezonePicker tsi-select");this.sortTimezones();var r=i.selectAll("option").data(this.timeZones).enter().append("option").attr("value",(function(t){return t})).text((function(t){return uM.convertTimezoneToLabel(t,n.getString("Local"))}));i.on("change",(function(e){var n=Pe(this).node().value.replace(/\s/g,"_");t(n)})),null!=(e=e.replace(/_/g," "))&&r.filter((function(t){return t==e})).attr("selected",!0)},e}(DM),db=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fb=function(t){function e(e){var n=t.call(this,e)||this;return n.isValid=!0,n.isSettingStartTime=!0,n.quickTimeArray=[["Last 15 mins",9e5],["Last 30 mins",18e5],["Last Hour",36e5],["Last 2 Hours",72e5],["Last 4 Hours",144e5],["Last 12 Hours",432e5],["Last 24 Hours",864e5],["Last 7 Days",6048e5],["Last 30 Days",2592e6],["Last 90 Days",7776e6]],n.onSaveOrCancel=function(){n.isSettingStartTime=!0},n}return db(e,t),e.prototype.getCurrentQuickTime=function(){var t=this,e=this.quickTimeArray.filter((function(e){return t.toMillis-t.fromMillis===e[1]}));return 1!==e.length||this.toMillis!==this.maxMillis?-1:e[0][1]},e.prototype.getQuickTimeText=function(t){var e=this.quickTimeArray.filter((function(e){return t===e[1]}));return 1!==e.length?null:e[0][0]},e.prototype.convertToCalendarDate=function(t){return this.roundDay(uM.adjustDateFromTimezoneOffset(uM.offsetFromUTC(new Date(t),this.chartOptions.offset)))},e.prototype.setNewOffset=function(t){var e=this;["fromMillis","toMillis"].forEach((function(n){var i=uM.getMinutesToUTC(t,e[n]),r=e[n]-60*i*1e3;e[n]=r-60*uM.getOffsetMinutes(e.chartOptions.offset,r)*1e3})),this.setFromMillis(this.fromMillis),this.setToMillis(this.toMillis),this.updateDisplayedFromDateTime(),this.updateDisplayedToDateTime(),this.startRange=new Date(this.fromMillis),this.endRange=new Date(this.toMillis),this.calendarPicker.config({minDate:this.convertToCalendarDate(this.minMillis)}),this.calendarPicker.config({maxDate:this.convertToCalendarDate(this.maxMillis)}),this.calendarPicker.draw();var n=this.rangeIsValid(this.fromMillis,this.toMillis);this.setIsSaveable(n.isSaveable),this.displayRangeErrors(n.errors)},e.prototype.render=function(e,n,i,r,a,o,s){var c=this;void 0===e&&(e={}),void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o=null),void 0===s&&(s=null),this.isSettingStartTime=!0,this.minMillis=n,this.maxMillis=i,e.offset&&"string"==typeof e.offset&&(this.offsetName=e.offset),null==a&&(a=this.maxMillis),null==r&&(r=Math.max(a-864e5,n)),this.chartOptions.setOptions(e),ub.a.locale(this.chartOptions.dateLocale),this.fromMillis=r,this.toMillis=a,this.onSet=o,this.onCancel=s,this.targetElement=Pe(this.renderTarget).classed("tsi-dateTimePicker",!0),this.targetElement.html(""),t.prototype.themify.call(this,this.targetElement,this.chartOptions.theme);var l=this.targetElement.append("div").classed("tsi-dateTimeGroup",!0).on("keydown",(function(t){xe.keyCode<=40&&xe.keyCode>=37&&xe.stopPropagation(),27===xe.keyCode&&c.chartOptions.dTPIsModal&&(c.onCancel(),c.onSaveOrCancel())}));this.quickTimesPanel=l.append("div").classed("tsi-quickTimesPanel",!0),this.buildQuickTimesPanel(),this.dateTimeSelectionPanel=l.append("div").classed("tsi-dateTimeSelectionPanel",!0),this.timeControls=this.dateTimeSelectionPanel.append("div").classed("tsi-timeControlsContainer",!0),this.calendar=this.dateTimeSelectionPanel.append("div").classed("tsi-calendarPicker",!0),this.createTimezonePicker();var u=this.dateTimeSelectionPanel.append("div").classed("tsi-saveButtonContainer",!0),h=this;u.append("button").classed("tsi-saveButton",!0).text(this.getString("Save")).on("click",(function(){h.onSet(h.fromMillis,h.toMillis,h.chartOptions.offset,h.maxMillis===h.toMillis,h.getCurrentQuickTime()),h.onSaveOrCancel()})),u.append("button").attr("class","tsi-cancelButton").text(this.getString("Cancel")).on("click",(function(){c.onCancel(),c.onSaveOrCancel()})).on("keydown",(function(){9===xe.keyCode&&!xe.shiftKey&&c.chartOptions.dTPIsModal&&(c.quickTimesPanel.selectAll(".tsi-quickTime").filter((function(t,e){return 0===e})).node().focus(),xe.preventDefault())}));this.toMillis=this.maxMillis,this.setFromMillis(r),this.setToMillis(a),this.targetElement.append("div").classed("tsi-errorMessageContainer",!0),this.createTimePicker(),this.createCalendar(),this.calendarPicker.draw(),this.updateDisplayedFromDateTime(),this.updateDisplayedToDateTime(),this.startRange=new Date(this.fromMillis),this.endRange=new Date(this.toMillis),this.calendarPicker.draw()},e.prototype.updateDisplayedDateTimes=function(){var t=this;["from","to"].forEach((function(e){var n=new Date(t[e+"Millis"]);t.calendarPicker.setDate(t.roundDay(uM.offsetFromUTC(n))),t[e+"Input"].node().value=t.createTimeString(uM.offsetFromUTC(n))}))},e.prototype.setFromQuickTimes=function(t){this.isSettingStartTime=!0,this.setToMillis(this.maxMillis),this.setFromMillis(this.maxMillis-t),this.updateDisplayedFromDateTime(),this.updateDisplayedToDateTime(),this.calendarPicker.draw()},e.prototype.buildQuickTimesPanel=function(){var t=this,e=this.quickTimesPanel.selectAll(".tsi-quickTime").data(this.quickTimeArray).enter().append("button").attr("class","tsi-quickTime").on("click",(function(e){t.setFromQuickTimes(e[1])})).text((function(t){return t[0]})).attr("aria-label",(function(e){return t.getString("select quick time of")+" "+e[0]})).filter((function(t,e){return 0===e})).on("keydown",(function(){9===xe.keyCode&&xe.shiftKey&&t.chartOptions.dTPIsModal&&(t.dateTimeSelectionPanel.select(".tsi-saveButtonContainer").select(".tsi-cancelButton").node().focus(),xe.preventDefault())}));this.chartOptions.dTPIsModal&&e.node().focus()},e.prototype.createTimeString=function(t){return this.getTimeFormat()(t)},e.prototype.getTimeFormat=function(){return uM.timeFormat(!0,!0,this.chartOptions.offset,!0,0,null,this.chartOptions.dateLocale)},e.prototype.updateFromAndTo=function(t,e){this.setFromMillis(t),this.setToMillis(e),this.updateDisplayedFromDateTime(),this.updateDisplayedToDateTime(),this.startRange=new Date(this.fromMillis),this.endRange=new Date(this.toMillis),this.calendarPicker.draw()},e.prototype.createTimezonePicker=function(){var t=this,e=this.chartOptions.offset;if(this.chartOptions.includeTimezones&&("string"==typeof e||0==e)){var n=this.dateTimeSelectionPanel.append("div").attr("class","tsi-timezoneContainer"),i=uM.guid(),r=i+"Tz";n.append("label").classed("tsi-timeLabel",!0).attr("aria-label",this.getString("timezone selection")).attr("id",i).attr("for",r).text(this.getString("timezone"));var a=n.append("div").classed("tsi-timezonePickerContainer",!0),o=new pb(a.node());o.render((function(e){var n=t.getCurrentQuickTime(),i=t.chartOptions.offset;t.chartOptions.offset=e,t.setNewOffset(i),-1!==n&&t.setFromQuickTimes(n)}),"string"==typeof e?e:"UTC"),Pe(o.renderTarget).select("select").attr("aria-labelledBy",i).attr("id",r)}},e.prototype.roundDay=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.prototype.setTimeRange=function(t,e){this.isSettingStartTime?(this.calendarPicker.setStartRange(t),this.calendarPicker.setEndRange(null),this.startRange=t,this.anchorDate=t):(t.valueOf()>this.anchorDate.valueOf()?(e&&(this.setFromDate(this.anchorDate),this.setToDate(t)),this.calendarPicker.setEndRange(t),this.calendarPicker.setStartRange(this.anchorDate),this.startRange=this.anchorDate,this.endRange=t):(e&&(this.setFromDate(t),this.setToDate(this.anchorDate)),this.calendarPicker.setStartRange(t),this.calendarPicker.setEndRange(this.anchorDate),this.endRange=this.anchorDate,this.startRange=t),this.setTimeInputBox(this.fromMillis,!0),this.setTimeInputBox(this.toMillis,!1))},e.prototype.createCalendar=function(){var t=this,e={previousMonth:this.getString("Previous Month"),nextMonth:this.getString("Next Month"),months:ub.a.localeData().months(),weekdays:ub.a.localeData().weekdays(),weekdaysShort:ub.a.localeData().weekdaysMin()};this.calendarPicker=new cb.a({bound:!1,container:this.calendar.node(),field:this.calendar.node(),i18n:e,numberOfMonths:2,onSelect:function(e){t.setTimeRange(e,!0),t.isSettingStartTime=!t.isSettingStartTime,t.calendarPicker.draw()},onDraw:function(e){if(!t.isSettingStartTime){var n=t;t.calendar.select(".pika-single").selectAll(".pika-day").on("mouseover",(function(t){var e=new Date(Number(Pe(this).attr("data-pika-year")),Number(Pe(this).attr("data-pika-month")),Number(Pe(this).attr("data-pika-day")));if(!n.isSettingStartTime){if(e.valueOf()<n.anchorDate.valueOf()&&n.startRange.valueOf()!=e.valueOf())return n.setTimeRange(e,!1),void n.calendarPicker.draw();if(e.valueOf()>=n.anchorDate.valueOf()&&(null==n.endRange||n.endRange.valueOf()!=e.valueOf()))return n.setTimeRange(e,!1),void n.calendarPicker.draw()}}))}},minDate:this.convertToCalendarDate(this.minMillis),maxDate:this.convertToCalendarDate(this.maxMillis),defaultDate:uM.adjustDateFromTimezoneOffset(new Date(this.fromMillis))})},e.prototype.setSelectedQuickTimes=function(){var t=this,e=function(e){return t.toMillis===t.maxMillis&&t.toMillis-t.fromMillis===e[1]};this.quickTimesPanel.selectAll(".tsi-quickTime").classed("tsi-isSelected",e).attr("aria-pressed",e)},e.prototype.setFromDate=function(t){var e=new Date(uM.offsetFromUTC(new Date(this.fromMillis),this.chartOptions.offset));e.setUTCFullYear(t.getFullYear()),e.setUTCMonth(t.getMonth()),e.setUTCDate(t.getDate()),this.setFromMillis(uM.offsetToUTC(e,this.chartOptions.offset).valueOf())},e.prototype.setToDate=function(t){var e=new Date(uM.offsetFromUTC(new Date(this.toMillis),this.chartOptions.offset));e.setUTCFullYear(t.getFullYear()),e.setUTCMonth(t.getMonth()),e.setUTCDate(t.getDate()),this.setToMillis(uM.offsetToUTC(e,this.chartOptions.offset).valueOf())},e.prototype.setIsSaveable=function(t){this.dateTimeSelectionPanel.select(".tsi-saveButtonContainer").select(".tsi-saveButton").attr("disabled",!t||null).classed("tsi-buttonDisabled",!t),this.isValid=t},e.prototype.adjustSecondsAndMillis=function(t){var e=new Date(t),n=new Date(this.maxMillis);return e.setUTCSeconds(n.getUTCSeconds()),e.setUTCMilliseconds(n.getUTCMilliseconds()),e.valueOf()},e.prototype.setFromMillis=function(t){var e=this.rangeIsValid(t,this.toMillis);this.fromMillis=t,this.setIsSaveable(e.isSaveable),this.displayRangeErrors(e.errors),this.setSelectedQuickTimes()},e.prototype.setToMillis=function(t){var e=this.rangeIsValid(this.fromMillis,t);this.toMillis=t,this.setIsSaveable(e.isSaveable),this.displayRangeErrors(e.errors),this.setSelectedQuickTimes()},e.prototype.displayRangeErrors=function(t){this.targetElement.select(".tsi-errorMessageContainer").selectAll(".tsi-errorMessage").remove(),0!=t.length&&this.targetElement.select(".tsi-errorMessageContainer").selectAll(".tsi-errorMessages").data(t).enter().append("div").classed("tsi-errorMessage",!0).text((function(t){return t}))},e.prototype.rangeIsValid=function(t,e){var n=[],i=!0,r=!isNaN(t)&&!isNaN(e);return isNaN(t)&&(n.push("*Invalid start date/time"),i=!1),isNaN(e)&&(n.push("*Invalid end date/time"),i=!1),r&&(t>e&&(n.push("*Start time must be before end time"),i=!1),t<this.minMillis&&n.push("*Start time is before first possible time ("+this.getTimeFormat()(this.minMillis)+")"),t>this.maxMillis&&n.push("*Start time is after last possible time ("+this.getTimeFormat()(this.maxMillis)+")"),e>this.maxMillis&&n.push("*End time is after last possible time ("+this.getTimeFormat()(this.maxMillis)+")"),e<this.minMillis&&n.push("*End time is before first possible time ("+this.getTimeFormat()(this.minMillis)+")")),{rangeIsValid:0==n.length,errors:n,isSaveable:i}},e.prototype.updateDisplayedFromDateTime=function(t){void 0===t&&(t=!1),this.calendarPicker.setStartRange(this.convertToCalendarDate(this.fromMillis)),t||this.setTimeInputBox(new Date(this.fromMillis),!0)},e.prototype.updateDisplayedToDateTime=function(t){void 0===t&&(t=!1),this.calendarPicker.setEndRange(this.convertToCalendarDate(this.toMillis)),t||this.setTimeInputBox(new Date(this.toMillis),!1)},e.prototype.offsetUTC=function(t){var e=new Date(t.valueOf());return e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e},e.prototype.offsetFromUTC=function(t){var e=new Date(t.valueOf());return e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3),e},e.prototype.checkDateTimeValidity=function(){var t=uM.parseUserInputDateTime(this.fromInput.node().value,this.chartOptions.offset),e=uM.parseUserInputDateTime(this.toInput.node().value,this.chartOptions.offset),n=this.rangeIsValid(t,e);this.setIsSaveable(n.isSaveable),this.displayRangeErrors(n.errors)},e.prototype.setTimeInputBox=function(t,e){e?this.fromInput.node().value=this.createTimeString(t):this.toInput.node().value=this.createTimeString(t)},e.prototype.createTimePicker=function(){var t=this,e=this.timeControls.append("div").attr("class","tsi-timeInputContainer"),n=function(n){var i=e.append("div").classed("tsi-"+n+"Container",!0),r=uM.guid(),a=r+"Input";i.append("label").classed("tsi-timeLabel",!0).attr("id",r).attr("for",a).attr("aria-label",""+("start"===n?t.getString("Start time input"):t.getString("End time input"))).text(t.getString(n));t["start"===n?"fromInput":"toInput"]=i.append("input").attr("class","tsi-dateTimeInput",!0).attr("aria-labelledby",r).attr("id",a).on("input",(function(){t.checkDateTimeValidity();if(t.isSettingStartTime=!0,t.isValid)if("start"===n){var e=uM.parseUserInputDateTime(t.fromInput.node().value,t.chartOptions.offset);t.setFromMillis(e),t.updateDisplayedFromDateTime(!0),t.calendarPicker.draw()}else{var i=uM.parseUserInputDateTime(t.toInput.node().value,t.chartOptions.offset);t.setToMillis(i),t.updateDisplayedToDateTime(!0),t.calendarPicker.draw()}})),"end"==n&&i.append("button").attr("class","tsi-snapToEndRangeButton").text(t.getString("Latest")).attr("aria-label",t.getString("snap end time to latest")).on("click",(function(){t.isSettingStartTime||t.setFromDate(t.startRange),t.setToMillis(t.maxMillis),t.updateDisplayedFromDateTime(),t.updateDisplayedToDateTime(),t.isSettingStartTime=!0,t.calendarPicker.draw()}))};n("start"),n("end")},e}(DM),mb=(n(158),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),gb=function(t){function e(e){var n=t.call(this,e)||this;return n.pickerIsVisible=!1,n}return mb(e,t),e.prototype.buttonDateTimeFormat=function(t){return uM.timeFormat(!this.chartOptions.minutesForTimeLabels,!this.chartOptions.minutesForTimeLabels,this.chartOptions.offset,this.chartOptions.is24HourTime,0,null,this.chartOptions.dateLocale)(t)},e.prototype.render=function(e,n,i,r){void 0===r&&(r=null);this.chartOptions.setOptions(e),this.minMillis=n,this.maxMillis=i,this.onSet=r||function(){};var a=Pe(this.renderTarget);this.dateTimeButton||(this.dateTimeButton=a.append("button").classed("tsi-dateTimeButton",!0)),this.dateTimePickerContainer||(this.dateTimePickerContainer=a.append("div").classed("tsi-dateTimePickerContainer",!0).attr("role","dialog").attr("aria-label",this.getString("a time selection control dialog")),this.dateTimePickerContainer.style("display","none")),t.prototype.themify.call(this,Pe(this.renderTarget),this.chartOptions.theme)},e}(DM),yb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_b=function(t){function e(e){return t.call(this,e)||this}return yb(e,t),e.prototype.setButtonText=function(t,e,n,i){var r=this.buttonDateTimeFormat(t),a=uM.createTimezoneAbbreviation(this.chartOptions.offset),o=this.buttonDateTimeFormat(e)+" ("+a+")";if(n){var s=this.dateTimePicker.getQuickTimeText(i),c=null!==s?s+" ("+r+" - "+o+")":r+" - "+this.getString("Latest")+" ("+o+")";this.dateTimeButton.text(c),this.dateTimeButton.attr("aria-label",this.getString("a button to launch a time selection dialog current selected time is ")+" "+c)}else this.dateTimeButton.text(r+" - "+o),this.dateTimeButton.attr("aria-label",this.getString("a button to launch a time selection dialog current selected time is ")+" "+r+" - "+o)},e.prototype.onClose=function(){this.dateTimePickerContainer.style("display","none"),this.dateTimeButton.node().focus()},e.prototype.render=function(e,n,i,r,a,o,s){var c=this;void 0===e&&(e={}),void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o=null),void 0===s&&(s=null),t.prototype.render.call(this,e,n,i,o),Pe(this.renderTarget).classed("tsi-dateTimeContainerRange",!0),this.fromMillis=r,this.toMillis=a,this.onCancel=s||function(){},this.dateTimePicker||(this.dateTimePicker=new fb(this.dateTimePickerContainer.node())),this.setButtonText(r,a,a===i,this.toMillis-this.fromMillis);var l=Pe(this.renderTarget),u=l.select(".tsi-dateTimeContainer").selectAll("*");Pe("html").on("click."+uM.guid(),(function(){var t=c.dateTimePickerContainer.selectAll("*"),e=u.filter(uM.equalToEventTarget).empty()&&l.selectAll(".tsi-dateTimeContainer").filter(uM.equalToEventTarget).empty()&&l.selectAll(".tsi-dateTimeButton").filter(uM.equalToEventTarget).empty(),n=t.filter(uM.equalToEventTarget).empty();e&&n&&"none"!==c.dateTimePickerContainer.style("display")&&c.onClose()})),this.dateTimeButton.on("click",(function(){"none"!==c.dateTimePickerContainer.style("display")?c.onClose():(c.chartOptions.dTPIsModal=!0,c.dateTimePickerContainer.style("display","block"),c.dateTimePicker.render(c.chartOptions,n,i,c.fromMillis,c.toMillis,(function(t,e,n,i,r){c.chartOptions.offset=n,c.fromMillis=t,c.toMillis=e,c.setButtonText(t,e,i,r),c.onSet(t,e,n),c.onClose()}),(function(){c.onClose(),c.onCancel()})))}))},e}(gb),vb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mb=function(){return(Mb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},bb=function(t){function e(e){var n=t.call(this,e)||this;return n.minBrushWidth=5,n.minGhostWidth=2,n.margins={left:10,right:10},n.uxClient=new Bx,n}return vb(e,t),e.prototype.getMinZoomedRange=function(){var t=(this.sparkLineChart.x.range()[1]-this.sparkLineChart.x.range()[0])/this.minBrushWidth;return(this.toMillis-this.fromMillis)/t},e.prototype.zoom=function(t,e){if(!this.chartOptions.isCompact){var n=Math.max(this.getMinZoomedRange(),this.zoomedToMillis-this.zoomedFromMillis),i=(e-this.sparkLineChart.x.range()[0])/(this.sparkLineChart.x.range()[1]-this.sparkLineChart.x.range()[0]),r=.2*i*n,a=.2*(1-i)*n;if("out"==t)this.zoomedFromMillis=Math.max(this.zoomedFromMillis-r,this.fromMillis),this.zoomedToMillis=Math.min(this.zoomedToMillis+a,this.toMillis);else{var o=Math.max(this.zoomedFromMillis+r,this.fromMillis),s=Math.min(this.zoomedToMillis-a,this.toMillis);if(s-o>=this.getMinZoomedRange())this.zoomedFromMillis=o,this.zoomedToMillis=s;else{var c=this.getMinZoomedRange()-(s-o);this.zoomedFromMillis=o-i*c,this.zoomedToMillis=s+(1-i)*c}}this.setAvailabilityRange(this.zoomedFromMillis,this.zoomedToMillis),this.sparkLineChart.setBrushEndTime(new Date(this.zoomedToMillis)),this.sparkLineChart.setBrushStartTime(new Date(this.zoomedFromMillis)),this.sparkLineChart.setBrush(),this.timePickerLineChart.drawBrushRange(),xe.preventDefault&&xe.preventDefault()}},e.prototype.setChartOptions=function(t){this.chartOptions.setOptions(Mb(Mb({},t),{keepBrush:!0,isArea:!0,noAnimate:!0,minutesForTimeLabels:!0,aggTopMargin:0,yAxisHidden:!0,focusHidden:!0,singleLineXAxisLabel:!1}))},e.prototype.dateTimePickerAction=function(t,e){this.setBrush(t,e,!0),this.chartOptions.brushMoveEndAction(new Date(t),new Date(e),this.chartOptions.offset),this.setTicks(),this.dateTimePickerContainer.style("display","none")},e.prototype.createDisplayBuckets=function(t,e){for(var n=this,i=Object.keys(this.transformedAvailability[0].availabilityCount[""]).reduce((function(i,r,a,o){var s=new Date(r).valueOf(),c=s+n.bucketSize;return s>=t&&s<=e?(i[new Date(s).toISOString()]=n.transformedAvailability[0].availabilityCount[""][r],i):s<t&&c>t?(i[new Date(t).toISOString()]=n.transformedAvailability[0].availabilityCount[""][r],i):i}),{}),r=Math.ceil((e-t)/this.bucketSize),a=Math.ceil(r/this.maxBuckets),o=this.bucketSize*a,s=function(t){return Math.round(Math.floor(t/o)*o)},c=s(t),l=s(e),u=[],h=c;h<=l;h+=o)u[new Date(h).toISOString()]={count:0};return Object.keys(i).sort().forEach((function(t,e){var n=new Date(t).valueOf(),r=s(n);u[new Date(r).toISOString()].count+=i[t].count/a})),null!==t&&null!==c&&(u[new Date(t).toISOString()]=u[new Date(c).toISOString()]),null!==e&&null!==l&&(u[new Date(e).toISOString()]=u[new Date(l).toISOString()]),c<t&&delete u[new Date(c).toISOString()],[{availabilityCount:{"":u}}]},e.prototype.setRangeVariables=function(t){uM.safeNotNullOrUndefined((function(){return t.range.from||t.range.to||t.intervalSize}))?(this.fromMillis=new Date(t.range.from).valueOf(),this.toMillis=new Date(t.range.to).valueOf(),this.bucketSize=uM.parseTimeInput(t.intervalSize)):(this.fromMillis=null,this.toMillis=null,this.bucketSize=null)},e.prototype.render=function(e,n,i){var r=this;void 0===i&&(i={}),this.setChartOptions(n),this.rawAvailability=i,this.transformedAvailability=e,this.color=this.chartOptions.color?this.chartOptions.color:"teal",this.maxBuckets=this.chartOptions.maxBuckets?this.chartOptions.maxBuckets:500,this.setRangeVariables(i);var a=null!==this.fromMillis&&null!==this.bucketSize?Math.round(Math.floor(this.fromMillis/this.bucketSize)*this.bucketSize):null,o=null!==this.toMillis&&null!==this.bucketSize?Math.round(Math.floor(this.toMillis/this.bucketSize)*this.bucketSize):null;null!==a&&a===o&&(this.fromMillis=Math.floor(this.fromMillis/this.bucketSize)*this.bucketSize,this.toMillis=this.fromMillis+this.bucketSize,this.bucketSize=this.bucketSize/60),this.ae=[new this.uxClient.AggregateExpression({predicateString:""},{property:"Count",type:"Double"},["count"],{from:new Date(this.fromMillis),to:new Date(this.toMillis)},null,"grey","Availability")],this.targetElement=Pe(this.renderTarget).classed("tsi-availabilityChart",!0).classed("tsi-compact",this.chartOptions.isCompact).classed("tsi-withButton",this.chartOptions.persistDateTimeButtonRange),this.chartOptions.yAxisHidden=!0,this.chartOptions.focusHidden=!0,this.chartOptions.singleLineXAxisLabel=!0,this.chartOptions.suppressResizeListener=!0,this.chartOptions.brushClearable=!1,this.chartOptions.minBrushWidth=1,this.chartOptions.brushHandlesVisible=!0,this.chartOptions.hideChartControlPanel=!0;var s=this.chartOptions.brushMoveAction;if(this.chartOptions.brushMoveAction=function(t,e){r.setFromAndToTimes(t.valueOf(),e.valueOf()),r.drawGhost(),r.chartOptions.isCompact&&r.buildCompactFromAndTo(),null!=s&&s(t,e)},t.prototype.themify.call(this,this.targetElement,n.theme),null==this.timePickerContainer){this.targetElement.html(""),this.timePickerContainer=this.targetElement.append("div").classed("tsi-timePickerContainer",!0),this.timePickerChart=this.timePickerContainer.append("div").classed("tsi-timePickerChart",!0);var c=this.targetElement.append("div").classed("tsi-sparklineContainer",!0);this.timePickerTextContainer=this.targetElement.append("div").classed("tsi-timePickerTextContainer",!0).style("margin-left",this.chartOptions.availabilityLeftMargin+this.margins.left),this.timePickerLineChart=new ob(this.timePickerChart.node()),this.timePickerLineChart.chartMargins.left=this.chartOptions.availabilityLeftMargin-this.margins.left,this.buildFromAndToContainer(),this.sparkLineChart=new ob(c.node()),this.sparkLineChart.chartMargins.left=this.chartOptions.availabilityLeftMargin-this.margins.left,this.dateTimePickerContainer=this.targetElement.append("div").classed("tsi-dateTimePickerContainer",!0),this.dateTimePicker=new fb(this.dateTimePickerContainer.node()),window.addEventListener("resize",(function(){r.timePickerLineChart.draw(),r.setTicks(),r.drawWarmRange(),r.chartOptions.isCompact&&r.buildCompactFromAndTo(),setTimeout((function(){r.drawGhost()}),100)}));this.targetElement.selectAll(".tsi-dateTimePickerContainer, .tsi-dateTimePickerContainer *")}this.dateTimePickerContainer.style("display","none"),this.timePickerContainer.selectAll(".tsi-compactFromTo").remove(),this.chartOptions.isCompact?(this.targetElement.select(".tsi-sparklineContainer").style("display","none"),this.chartOptions.persistDateTimeButtonRange||this.targetElement.select(".tsi-timePickerTextContainer").style("display","none"),this.targetElement.select(".tsi-zoomButtonContainer").style("display","none"),this.targetElement.select(".tsi-timePickerContainer").style("max-height","68px").style("top",this.chartOptions.persistDateTimeButtonRange?"6px":"20px")):(this.targetElement.select(".tsi-sparklineContainer").style("display","flex"),this.targetElement.select(".tsi-timePickerTextContainer").style("display","inherit"),this.targetElement.select(".tsi-zoomButtonContainer").style("display","flex"),this.targetElement.select(".tsi-timePickerContainer").style("max-height","none").style("top","0px"));var l=this.createSparkLineOptions(n),u=this.createDisplayBuckets(this.fromMillis,this.toMillis);this.sparkLineChart.render(u,l,this.ae),this.timePickerLineChart.render(u,this.chartOptions,this.ae),this.setTicks(),this.drawWarmRange(),this.chartOptions.preserveAvailabilityState?(null==this.zoomedFromMillis&&(this.zoomedFromMillis=this.chartOptions.defaultAvailabilityZoomRangeMillis?Math.max(this.fromMillis,this.toMillis-this.chartOptions.defaultAvailabilityZoomRangeMillis):this.fromMillis),null==this.zoomedToMillis&&(this.zoomedToMillis=this.toMillis),null==this.sparkLineChart.brushStartTime&&this.sparkLineChart.setBrushStartTime(new Date(this.zoomedFromMillis)),null==this.sparkLineChart.brushEndTime&&this.sparkLineChart.setBrushEndTime(new Date(this.zoomedToMillis)),null!=this.selectedFromMillis&&null!=this.selectedToMillis||this.setFromAndToTimes(this.toMillis-864e5,this.toMillis),this.drawGhost(),this.setBrush(this.selectedFromMillis,this.selectedToMillis)):(this.zoomedToMillis=this.toMillis,this.zoomedFromMillis=this.chartOptions.defaultAvailabilityZoomRangeMillis?Math.max(this.fromMillis,this.toMillis-this.chartOptions.defaultAvailabilityZoomRangeMillis):this.fromMillis,this.sparkLineChart.setBrushStartTime(new Date(this.zoomedFromMillis)),this.sparkLineChart.setBrushEndTime(new Date(this.zoomedToMillis)),this.setFromAndToTimes(Math.max(this.fromMillis,this.toMillis-864e5),this.toMillis),this.setBrush(Math.max(this.fromMillis,this.toMillis-864e5),this.toMillis)),this.sparkLineChart.setBrush();var h=this;this.timePickerChart.select(".brushElem").on("wheel.zoom",(function(t){var e=xe.deltaY>0?"out":"in",n=Fe(this)[0];h.zoom(e,n)})),this.chartOptions.isCompact?this.timePickerChart.select(".brushElem").select(".selection"):this.buildZoomButtons(),this.setAvailabilityRange(this.zoomedFromMillis,this.zoomedToMillis),this.chartOptions.isCompact&&this.buildCompactFromAndTo(),this.timePickerLineChart.drawBrushRange()},e.prototype.buildZoomButtons=function(){var t=this;this.targetElement.selectAll(".tsi-zoomButtonContainer").remove();var e=(this.sparkLineChart.x.range()[1]-this.sparkLineChart.x.range()[0])/2,n=this.targetElement.append("div").classed("tsi-zoomButtonContainer",!0);n.append("button").attr("class","tsi-zoomButton tsi-zoomButtonIn").attr("aria-label",this.getString("zoom in")).attr("title",this.getString("zoom in")).on("click",(function(){t.zoom("in",e)})),n.append("button").attr("class","tsi-zoomButton tsi-zoomButtonOut").attr("aria-label",this.getString("zoom out")).attr("title",this.getString("zoom out")).on("click",(function(){t.zoom("out",e)}))},e.prototype.setSelectedMillis=function(t,e){this.selectedFromMillis=t,this.selectedToMillis=e,this.timePickerLineChart.drawBrushRange()},e.prototype.renderDateTimeButton=function(){var t=this;this.fromMillis,uM.getOffsetMinutes(this.chartOptions.offset,this.fromMillis),this.toMillis,uM.getOffsetMinutes(this.chartOptions.offset,this.toMillis),this.selectedFromMillis,uM.getOffsetMinutes(this.chartOptions.offset,this.selectedFromMillis),this.selectedToMillis,uM.getOffsetMinutes(this.chartOptions.offset,this.selectedFromMillis);this.dateTimeButton.render(this.chartOptions,this.fromMillis,this.toMillis,this.selectedFromMillis,this.selectedToMillis,(function(e,n,i){t.chartOptions.offset=i,t.timePickerLineChart.chartOptions.offset=i,t.sparkLineChart.chartOptions.offset=i,t.dateTimePickerAction(e,n),Pe(t.renderTarget).select(".tsi-dateTimeContainer").node().focus()}),(function(){t.dateTimePickerContainer.style("display","none"),Pe(t.renderTarget).select(".tsi-dateTimeContainer").node().focus()}))},e.prototype.setFromAndToTimes=function(t,e,n){void 0===n&&(n=!1);var i=uM.parseTimezoneName(this.chartOptions.offset);uM.timezoneAbbreviation(i);this.setSelectedMillis(t,e),n||this.renderDateTimeButton()},e.prototype.drawGhost=function(){var t=this.targetElement.select(".tsi-sparklineContainer").select(".tsi-lineChartSVG").select(".svgGroup");t.selectAll(".ghostRect").remove(),t.append("rect").classed("ghostRect",!0).attr("x",Math.max(this.sparkLineChart.x.range()[0],this.sparkLineChart.x(new Date(this.selectedFromMillis)))).attr("y",0).attr("width",Math.min(Math.max(this.minGhostWidth,this.sparkLineChart.x(new Date(this.selectedToMillis))-this.sparkLineChart.x(new Date(this.selectedFromMillis))),this.sparkLineChart.x.range()[1]-this.sparkLineChart.x.range()[0])).attr("height",8).attr("fill",this.chartOptions.color?this.chartOptions.color:"dark-grey").attr("fill-opacity",.3).attr("pointer-events","none")},e.prototype.drawWarmRange=function(){var t=this.targetElement.select(".tsi-timePickerContainer").select(".tsi-lineChartSVG").select(".svgGroup");t.select(".tsi-warmRect").empty()&&(t.append("rect").classed("tsi-warmRect",!0),t.select(".brushElem").raise());var e=t.select(".tsi-warmRect"),n=!0;if(this.chartOptions.warmStoreRange){var i=new Date(this.chartOptions.warmStoreRange[0]),r=new Date(Math.max(i.valueOf(),this.zoomedFromMillis)),a=new Date(2===this.chartOptions.warmStoreRange.length?this.chartOptions.warmStoreRange[1]:this.toMillis),o=new Date(Math.min(a.valueOf(),this.zoomedToMillis));r<o&&(n=!1,e.attr("x",Math.max(this.timePickerLineChart.x(r))).attr("y",this.chartOptions.isCompact?12:-8).attr("width",this.timePickerLineChart.x(o)-this.timePickerLineChart.x(r)).attr("height",this.chartOptions.isCompact?4:Math.max(this.targetElement.select(".tsi-timePickerContainer").select(".tsi-lineChartSVG").node().getBoundingClientRect().height-44,0)).attr("fill-opacity",this.chartOptions.isCompact?.8:.08).attr("stroke-opacity",this.chartOptions.isCompact?0:.5).attr("pointer-events","none"))}n||null===this.chartOptions.warmStoreRange?e.style("display","none"):e.style("display","block")},e.prototype.buildCompactFromAndTo=function(){if(this.timePickerContainer.selectAll(".tsi-compactFromTo").remove(),!this.chartOptions.persistDateTimeButtonRange){var t=this.timePickerLineChart.getBrushPositions(),e=null,n=null;if(null!=this.selectedFromMillis&&null!=this.selectedToMillis){e=this.timePickerContainer.append("div").classed("tsi-compactFromTo",!0).style("left",(null!=t.leftPos?Math.max(t.leftPos,5):5)+"px").text(uM.timeFormat(!1,!1,this.chartOptions.offset,this.chartOptions.is24HourTime,null,null,this.chartOptions.dateLocale)(new Date(this.selectedFromMillis)));var i=" ("+uM.createTimezoneAbbreviation(this.chartOptions.offset)+")";n=this.timePickerContainer.append("div").attr("class","tsi-compactFromTo").style("right",null!=t.rightPos?"calc(100% - "+t.rightPos+"px)":"5px").style("left","auto").text(uM.timeFormat(!1,!1,this.chartOptions.offset,this.chartOptions.is24HourTime,null,null,this.chartOptions.dateLocale)(new Date(this.selectedToMillis))+i)}if(e&&n){var r=e.node().getBoundingClientRect().left+e.node().getBoundingClientRect().width,a=n.node().getBoundingClientRect().left,o=this.timePickerContainer.node().getBoundingClientRect().width;if(a-r<40){var s=(r-a+40)/2,c=1,l=1;t.leftPos-s<32&&(l=2-(c=1-(32-(t.leftPos-s))/s)),t.rightPos+s>o-32&&(c=2-(l=1-(32-(o-t.rightPos-s))/s)),n.style("right","calc(100% - "+Math.round(t.rightPos+l*s)+"px)").style("left","auto"),e.style("left",t.leftPos-c*s+"px")}}}},e.prototype.offsetUTC=function(t){return t.setTime(t.getTime()+60*t.getTimezoneOffset()*1e3),t},e.prototype.buildFromAndToContainer=function(){var t=this.timePickerTextContainer.append("div").classed("tsi-dateTimeContainer",!0),e=(t.append("label").text(this.getString("Timeframe")),t.append("div").classed("tsi-dateTimeButtonContainer",!0));this.dateTimeButton=new _b(e.node())},e.prototype.setTicks=function(){this.timePickerLineChart.updateXAxis();var t=this.timePickerLineChart.zoomedFromMillis==this.timePickerLineChart.fromMillis&&this.zoomedFromMillis==this.fromMillis,e=this.timePickerLineChart.zoomedToMillis==this.timePickerLineChart.toMillis&&this.zoomedToMillis==this.toMillis;this.timePickerLineChart.updateXAxis(t,e);var n=this.timePickerContainer.select(".tsi-timePickerChart").select(".xAxis").selectAll(".tick");n.each((function(i,r){Pe(this).classed(0===r&&t?"tsi-fromTick":r===n.size()-1&&e?"tsi-toTick":"",!0)}))},e.prototype.setAvailabilityRange=function(t,e){this.zoomedFromMillis=t,this.zoomedToMillis=e;var n=this.createDisplayBuckets(t,e);this.chartOptions.keepBrush=!0;var i=Mb(Mb({},this.ae[0]),{searchSpan:{from:new Date(t),to:new Date(e)}});this.timePickerLineChart.render(n,this.chartOptions,[i]),this.setTicks(),this.drawWarmRange(),this.timePickerLineChart.setBrush()},e.prototype.setBrush=function(t,e,n){void 0===n&&(n=!1),this.timePickerLineChart.setBrushEndTime(new Date(e)),this.timePickerLineChart.setBrushStartTime(new Date(t)),this.timePickerLineChart.setBrush(),this.setFromAndToTimes(t,e,n),this.drawGhost(),this.chartOptions.isCompact&&this.buildCompactFromAndTo()},e.prototype.createSparkLineOptions=function(t){var e=this;return{aggTopMargin:0,theme:t.theme,grid:!1,tooltip:!1,legend:"hidden",brushContextMenuActions:[],snapBrush:!1,keepBrush:!1,xAxisHidden:!0,yAxisHidden:!0,focusHidden:!0,minBrushWidth:5,color:null,brushHandlesVisible:!0,brushMoveAction:function(t,n){e.setAvailabilityRange(t.valueOf(),n.valueOf())},brushClearable:!1,hideChartControlPanel:!0,brushRangeVisible:!1,isArea:!0}},e}(DM),xb=(n(159),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),wb=function(t){function e(){var e=t.call(this)||this;return e.valuesOfVisibleType=[],e.globalMax=-Number.MAX_VALUE,e.globalMin=Number.MAX_VALUE,e.stackMin=function(t){return Number(G(t,(function(t){return t[0][0]})))},e.stackMax=function(t){return Number(H(t,(function(t){return t[0][1]})))},e}return xb(e,t),e.prototype.mergeDataToDisplayStateAndTimeArrays=function(e,n,i){void 0===i&&(i=null),t.prototype.mergeDataToDisplayStateAndTimeArrays.call(this,e,i),this.timestamp=n,this.setValuesAtTimestamp(),this.setFilteredAggregates()},e.prototype.setEntireRangeData=function(t){var e=this;this.globalMax=-Number.MAX_VALUE,this.globalMin=Number.MAX_VALUE,this.aggsSeries={},this.valuesOfVisibleType=[],Object.keys(this.displayState).forEach((function(n,i){var r;e.allTimestampsArray.forEach((function(a){if(e.displayState[n].visible){var o=[],s=Object.keys(e.displayState[n].splitBys).reverse().reduce((function(r,s){var c,l=e.displayState[n].splitBys[s];return o.push(s),c=e.data[i][e.displayState[n].name][s][a]?e.data[i][e.displayState[n].name][s][a][l.visibleType]:Number.MIN_VALUE,l.visible||(c=c>0?Number.MIN_VALUE:-Number.MIN_VALUE),r[s]=c,t&&a!=e.timestamp||!l.visible||e.valuesOfVisibleType.push(c),r}),{}),c=k_().keys(o).offset(z_)([s]);c.reverse(),a==e.timestamp&&(r=c),a!=e.timestamp&&t||null==c||(e.globalMax=Math.max(e.stackMax(c),e.globalMax),e.globalMin=Math.min(e.stackMin(c),e.globalMin))}})),e.aggsSeries[n]=r}))},e.prototype.setValuesAtTimestamp=function(){var t=this,e={};this.valuesAtTimestamp={},this.data.forEach((function(n,i){var r,a=Object.keys(n)[0];e[a]?(r=uM.createEntityKey(a,e[a]),e[a]+=1):(r=uM.createEntityKey(a,0),e[a]=1),t.valuesAtTimestamp[r]={},t.valuesAtTimestamp[r].splitBys=Object.keys(n[a]).reduce((function(e,i,r){return e[i]={},e[i].measurements=n[a][i][t.timestamp],e}),{})}))},e.prototype.getValueContainerData=function(t){var e=this;return Object.keys(this.displayState[t].splitBys).map((function(n){var i,r=e.displayState[t].splitBys[n].visibleType;return i=e.valuesAtTimestamp[t].splitBys[n].measurements&&e.valuesAtTimestamp[t].splitBys[n].measurements[r]?e.valuesAtTimestamp[t].splitBys[n].measurements[r]:null,{measureType:r,aggKey:t,splitBy:n,val:i}}))},e}(eM),Ab=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tb=function(t){function e(){var e=t.call(this)||this;return e.visibleValuesSum=0,e}return Ab(e,t),e.prototype.mergeDataToDisplayStateAndTimeArrays=function(e,n,i){void 0===i&&(i=null),eM.prototype.mergeDataToDisplayStateAndTimeArrays.call(this,e,i),this.timestamp=uM.getValueOrDefault({"":n},"",this.allTimestampsArray[0]),t.prototype.setValuesAtTimestamp.call(this),this.setAllTimestampsArray()},e.prototype.updateFlatValueArray=function(t){var e=this;this.visibleValuesSum=0;var n=[];Object.keys(this.valuesAtTimestamp).forEach((function(t){Object.keys(e.valuesAtTimestamp[t].splitBys).forEach((function(i,r){var a=0;e.getSplitByVisible(t,i)&&null!=e.valuesAtTimestamp[t].splitBys[i].measurements&&(a=e.valuesAtTimestamp[t].splitBys[i].measurements[e.getVisibleMeasure(t,i)]),n.push({aggKey:t,splitBy:i,val:a,splitByI:r}),e.visibleValuesSum+=Math.abs(a)}))})),this.flatValueArray=n},e}(wb),Lb=(n(160),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Sb=function(t){function e(e){var n=t.call(this,e)||this;return n.sliderSVG=null,n.sliderTextDiv=null,n.margins={left:60,right:60},n.height=55,n.setSelectedLabelAndGetLabelAction=function(t,e){void 0===e&&(e=!1);var i=e?n.data[0]:{label:n.selectedLabel,action:function(){}},r=n.data.reduce((function(e,i){return Math.abs(n.getXPositionOfLabel(i.label)-t)<Math.abs(n.getXPositionOfLabel(e.label)-t)?i:e}),i);return n.selectedLabel=null!=r?r.label:n.selectedLabel,r},n.setSliderTextDivLabel=function(){n.sliderTextDiv.attr("aria-label",(function(){return n.getString("Currently displayed time is")+" "+n.selectedLabel+". "+n.getString("Left arrow to go back in time")+", "+n.getString("right arrow to go forward")}))},n}return Lb(e,t),e.prototype.Slider=function(){},e.prototype.getXPositionOfLabel=function(t){if(-1!=this.data.map((function(t){return t.label})).indexOf(t))return this.xScale(t);if(uM.parseTimeInput(t)>-1&&this.isAscendingTimePeriods&&this.data.length>1){for(var e=uM.parseTimeInput(t),n=0;n<this.data.length;n++)if(uM.parseTimeInput(this.data[n].label)>e)return(this.xScale(this.data[n].label)+this.xScale(this.data[Math.max(n-1,0)].label))/2;return this.xScale(this.data[this.data.length-1].label)}return 0},e.prototype.determineIfAscendingTimePeriods=function(){for(var t=this.data.length>0?uM.parseTimeInput(this.data[0].label):-1,e=-1!==t,n=0;e&&n<this.data.length-1;n++)e=t<(t=uM.parseTimeInput(this.data[n+1].label));return e},e.prototype.render=function(t,e,n,i){var r=this;void 0===i&&(i=null),this.chartOptions.setOptions(e),this.data=t,this.isAscendingTimePeriods=this.determineIfAscendingTimePeriods(),this.width=n;var a=this.margins.left+this.margins.right;this.sliderWidth=n-a;var o=Pe(this.renderTarget);"static"==o.style("position")&&o.style("position","relative"),i&&(this.selectedLabel=i),this.xScale=Ip().domain(t.map((function(t){return t.label}))).range([0,this.sliderWidth]),n=Math.max(n,a);var s,c=this;null==this.sliderSVG&&(this.sliderSVG=o.append("svg").attr("class","tsi-sliderComponent"),(s=this.sliderSVG.append("g").attr("class","slider tsi-sliderG")).append("line").attr("class","slider-track tsi-sliderTrack").select((function(){return this.parentNode.appendChild(this.cloneNode(!0))})).attr("class","track-overlay tsi-sliderTrackOverlay").call(on().on("start.interrupt",(function(){s.interrupt()})).on("start drag",(function(t){c.onDrag(xe.x)})).on("end",(function(t){c.onDragEnd(xe.x)}))),s.insert("circle",".track-overlay").attr("class","handle tsi-sliderHandle").attr("r",6),this.sliderTextDiv=o.append("div").attr("class","tsi-sliderLabel").attr("tabindex",0).attr("aria-label",i).on("keydown",(function(){37==xe.keyCode&&r.moveLeft(),39==xe.keyCode&&r.moveRight()})));this.themify(this.sliderSVG,this.chartOptions.theme),this.sliderSVG.attr("width",n+"px"),(s=this.sliderSVG.select(".tsi-sliderG").attr("transform","translate("+this.margins.left+","+this.height/2+")")).select(".tsi-sliderTrack").attr("x1",0).attr("x2",this.sliderWidth).attr("y1",0).attr("y2",0),s.select(".tsi-sliderTrackOverlay").attr("x1",-20).attr("x2",this.sliderWidth+20).attr("y1",0).attr("y2",0),this.setStateFromLabel()},e.prototype.remove=function(){this.sliderSVG&&this.sliderSVG.remove(),this.sliderSVG=null,this.sliderTextDiv&&this.sliderTextDiv.remove()},e.prototype.onDrag=function(t){var e=this.setSelectedLabelAndGetLabelAction(t);this.chartOptions.throttleSlider||e.action(e.label),this.setStateFromLabel()},e.prototype.onDragEnd=function(t){if(this.chartOptions.throttleSlider){var e=this.setSelectedLabelAndGetLabelAction(t,!0);e.action(e.label)}},e.prototype.setStateFromLabel=function(){this.sliderSVG.select(".handle").attr("cx",this.getXPositionOfLabel(this.selectedLabel)),this.sliderTextDiv.text(this.selectedLabel),this.setSliderTextDivLabel();var t=this.sliderTextDiv.node().getBoundingClientRect().width/2;this.sliderTextDiv.style("right",this.width-(this.margins.right+this.getXPositionOfLabel(this.selectedLabel))-t+"px")},e.prototype.moveLeft=function(){for(var t=0;t<this.data.length;t++)if(this.data[t].label==this.selectedLabel){var e=Math.max(0,t-1);return this.selectedLabel=this.data[e].label,this.data[e].action(this.selectedLabel),void this.setStateFromLabel()}},e.prototype.moveRight=function(){for(var t=0;t<this.data.length;t++)if(this.data[t].label==this.selectedLabel){var e=Math.min(this.data.length-1,t+1);return this.selectedLabel=this.data[e].label,this.data[e].action(this.selectedLabel),void this.setStateFromLabel()}},e}($v),kb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ob=function(){return(Ob=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},zb=function(t){function e(e){var n=t.call(this,e)||this;return n.chartComponentData=new Tb,n.chartMargins={top:20,bottom:28,left:0,right:0},n}return kb(e,t),e.prototype.PieChart=function(){},e.prototype.render=function(e,n,i){var r=this;t.prototype.render.call(this,e,n,i),this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.chartOptions.timestamp,this.aggregateExpressionOptions);n&&null!=n.timestamp?n.timestamp:this.chartComponentData.allTimestampsArray[0];var a=Pe(this.renderTarget).classed("tsi-pieChart",!0);if(null==this.svgSelection){this.svgSelection=a.append("svg").attr("class","tsi-pieChartSVG tsi-chartSVG").attr("title",this.getString("Pie chart"));var o=this.svgSelection.append("g"),s=new HM(Pe(this.renderTarget));Pe(this.renderTarget).append("div").classed("tsi-sliderWrapper",!0),this.draw=function(e){void 0===e&&(e=!1),r.chartComponentData.allTimestampsArray.length>1&&(r.chartMargins.bottom=68),"compact"==r.chartOptions.legend?r.chartMargins.top=68:r.chartMargins.top=20,r.width=r.getWidth();var n=+a.node().getBoundingClientRect().height;e||(r.chartWidth=r.getChartWidth());var i=n,l=n-r.chartMargins.bottom-r.chartMargins.top,u=(Math.min(l,r.chartWidth)-10)/2,h=r.chartOptions.arcWidthRatio&&r.chartOptions.arcWidthRatio<1&&r.chartOptions.arcWidthRatio>0?u-u*r.chartOptions.arcWidthRatio:0;r.svgSelection.attr("width",r.chartWidth).attr("height",i),r.svgSelection.select("g").attr("transform","translate("+r.chartWidth/2+","+i/2+")");var p=null!=r.chartOptions.timestamp?r.chartOptions.timestamp:r.chartComponentData.allTimestampsArray[0];r.chartComponentData.updateFlatValueArray(p),t.prototype.themify.call(r,a,r.chartOptions.theme),r.chartOptions.hideChartControlPanel||null!==r.chartControlsPanel?r.chartOptions.hideChartControlPanel&&null!==r.chartControlsPanel&&r.removeControlPanel():r.chartControlsPanel=uM.createControlPanel(r.renderTarget,r.CONTROLSWIDTH,r.chartMargins.top,r.chartOptions),r.ellipsisItemsExist()&&!r.chartOptions.hideChartControlPanel?(r.drawEllipsisMenu(),r.chartControlsPanel.style("top",Math.max(r.chartMargins.top-24,0)+"px")):r.removeControlPanel();var d=function(t,e){void 0===e&&(e=null);r.svgSelection.selectAll(".tsi-pie-path").filter((function(n,i){return!(n.data.aggKey==t&&(null==e||n.data.splitBy==e))})).attr("stroke-opacity",.3).attr("fill-opacity",.3)},f=function(t,e){r.svgSelection.selectAll(".tsi-pie-path").attr("stroke-opacity",1).attr("fill-opacity",1)};r.legendObject.draw(r.chartOptions.legend,r.chartComponentData,d,r.svgSelection,r.chartOptions,f);var m=ty().sort(null).value((function(t){return Math.abs(t.val)})),g=(Ug().outerRadius(u).innerRadius(h),o.selectAll(".tsi-pie-arc").data(m(r.chartComponentData.flatValueArray))),y=g.enter().append("g").merge(g).attr("class","tsi-pie-arc"),_=r,v=Ug().innerRadius(h).outerRadius(u);function M(t){var e=sn.interpolate(this._current,t);return this._current=e(0),function(t){return v(e(t))}}_=r;function b(t){_.contextMenu&&_.contextMenu.contextMenuVisible||(s.hide(),f(t.data.aggKey,t.data.splitBy),_.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1))}function x(t){this.contextMenu&&this.contextMenu.contextMenuVisible||(b(t),d(t.data.aggKey,t.data.splitBy),_.legendObject.legendElement.selectAll(".tsi-splitByLabel").filter((function(e){return Pe(this.parentNode).datum()==t.data.aggKey&&e==t.data.splitBy})).classed("inFocus",!0),function(t,e){var n=e[0],i=e[1];s.render(_.chartOptions.theme);var r=uM.colorSplitBy(_.chartComponentData.displayState,t.data.splitByI,t.data.aggKey,_.chartOptions.keepSplitByColor);s.draw(t,_.chartComponentData,n,i,Ob(Ob({},_.chartMargins),{top:0,bottom:0}),(function(e){_.tooltipFormat(_.convertToTimeValueFormat(t.data),e,Yv.SingleValue)}),null,20,20,r)}(t,Fe(_.svgSelection.node())))}var w=function(){y.selectAll("path").each(b)};y.each((function(){var t=Pe(this).selectAll(".tsi-pie-path").data((function(t){return[t]}));t.enter().append("path").attr("class","tsi-pie-path").attr("d",v).on("mouseover",x).on("mousemove",x).on("mouseout",b).on("contextmenu",(function(t,e){if(_.chartComponentData.displayState[t.data.aggKey].contextMenuActions&&_.chartComponentData.displayState[t.data.aggKey].contextMenuActions.length){var n=Fe(a.node());xe.preventDefault(),_.contextMenu.draw(_.chartComponentData,_.renderTarget,_.chartOptions,n,t.data.aggKey,t.data.splitBy,w,new Date(_.chartComponentData.timestamp))}})).each((function(t){this._current=t})).merge(t).transition().duration(_.TRANSDURATION).ease(xi).attrTween("d",M).attr("fill",(function(t){return uM.colorSplitBy(_.chartComponentData.displayState,t.data.splitByI,t.data.aggKey,_.chartOptions.keepSplitByColor)})).attr("class","tsi-pie-path")})),g.exit().remove(),r.chartComponentData.allTimestampsArray.length>1?(Pe(r.renderTarget).select(".tsi-sliderWrapper").classed("tsi-hidden",!1),c.render(r.chartComponentData.allTimestampsArray.map((function(t){return{label:uM.timeFormat(r.chartComponentData.usesSeconds,r.chartComponentData.usesMillis,r.chartOptions.offset,r.chartOptions.is24HourTime,null,null,r.chartOptions.dateLocale)(new Date(t)),action:function(){r.chartOptions.timestamp=t,r.render(r.chartComponentData.data,r.chartOptions,r.aggregateExpressionOptions)}}})),r.chartOptions,r.chartWidth,uM.timeFormat(r.chartComponentData.usesSeconds,r.chartComponentData.usesMillis,r.chartOptions.offset,r.chartOptions.is24HourTime,null,null,r.chartOptions.dateLocale)(new Date(r.chartComponentData.timestamp)))):(c.remove(),Pe(r.renderTarget).select(".tsi-sliderWrapper").classed("tsi-hidden",!0))},this.legendObject=new fM(this.draw,this.renderTarget,this.CONTROLSWIDTH),this.contextMenu=new jM(this.draw,this.renderTarget);var c=new Sb(Pe(this.renderTarget).select(".tsi-sliderWrapper").node());window.addEventListener("resize",(function(){r.chartOptions.suppressResizeListener||r.draw()}))}this.draw(),this.gatedShowGrid(),Pe("html").on("click."+uM.guid(),(function(){r.ellipsisContainer&&xe.target!=r.ellipsisContainer.select(".tsi-ellipsisButton").node()&&r.ellipsisMenu.setMenuVisibility(!1)})),this.legendPostRenderProcess(this.chartOptions.legend,this.svgSelection,!0)},e}(PM),Cb=(n(161),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Eb=function(t){function e(){var e=t.call(this)||this;return e.extents={},e.extentsSet=!1,e}return Cb(e,t),e.prototype.setExtents=function(t,e){var n=this;void 0===e&&(e=!1),this.extentsSet&&!e||(this.extents={},t.forEach((function(t){n.extents[t]=L(n.allValues,(function(e){return e.measures&&t in e.measures?e.measures[t]:null}))})),this.extentsSet=!0)},e.prototype.updateExtents=function(t){var e=this,n=[];this.data.forEach((function(t){var i=Object.keys(t)[0],r=t.aggKey;1==e.displayState[r].visible&&Object.keys(t[i]).forEach((function(a){1==e.displayState[r].splitBys[a].visible&&n.push(Object.values(t[i][a]))}))})),n=[].concat.apply([],n),t.forEach((function(t){e.extents[t]=L(n,(function(e){return t in e?e[t]:null}))}))},e.prototype.mergeDataToDisplayStateAndTimeArrays=function(t,e,n){void 0===n&&(n=null),eM.prototype.mergeDataToDisplayStateAndTimeArrays.call(this,t,n),this.timestamp=null!=e&&-1!==this.allTimestampsArray.indexOf(e)?e:this.allTimestampsArray[0],this.setValuesAtTimestamp(),this.setAllTimestampsArray()},e.prototype.updateTemporalDataArray=function(t){var e=this;this.temporalDataArray=[],t?this.updateTemporal():this.allTimestampsArray.forEach((function(t){e.timestamp=t,e.setValuesAtTimestamp(),e.updateTemporal()}))},e.prototype.updateTemporal=function(){var t=this;Object.keys(this.valuesAtTimestamp).forEach((function(e){Object.keys(t.valuesAtTimestamp[e].splitBys).forEach((function(n,i){var r=null,a=null;t.getSplitByVisible(e,n)&&null!=t.valuesAtTimestamp[e].splitBys[n].measurements&&(r=t.valuesAtTimestamp[e].splitBys[n].measurements,a=t.valuesAtTimestamp[e].splitBys[n].timestamp),t.temporalDataArray.push({aggregateKey:e,aggregateKeyI:t.data.findIndex((function(t){return t.aggKey===e})),splitBy:n,measures:r,timestamp:a,splitByI:i})}))}))},e.prototype.setValuesAtTimestamp=function(){var t=this,e={};this.valuesAtTimestamp={},this.data.forEach((function(n,i){var r,a=Object.keys(n)[0];e[a]?(r=uM.createEntityKey(a,e[a]),e[a]+=1):(r=uM.createEntityKey(a,0),e[a]=1),t.valuesAtTimestamp[r]={},t.valuesAtTimestamp[r].splitBys=Object.keys(n[a]).reduce((function(e,i,r){return e[i]={},e[i].measurements=n[a][i][t.timestamp],e[i].timestamp=t.timestamp,e}),{})}))},e}(wb),Db=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nb=function(t){function e(e){var n=t.call(this,e)||this;return n.activeDot=null,n.focusedSite=null,n.lowOpacity=.15,n.standardOpacity=.6,n.focusOpacity=.8,n.standardStroke=1,n.lowStroke=.3,n.chartComponentData=new Eb,n.draw=function(e){void 0===e&&(e=!1),n.activeDot=null,n.chartComponentData.updateTemporalDataArray(n.chartOptions.isTemporal),n.chartComponentData.updateExtents(n.chartOptions.spMeasures),n.focus.attr("visibility",n.chartOptions.focusHidden?"hidden":"visible");var i=0;Object.keys(n.chartComponentData.displayState).forEach((function(t){n.chartComponentData.displayState[t].visible&&Object.keys(n.chartComponentData.displayState[t].splitBys).forEach((function(e){n.chartComponentData.displayState[t].splitBys[e].visible&&i++}))})),1==i&&(n.focusOpacity=n.standardOpacity),n.chartComponentData.allTimestampsArray.length>1&&n.chartOptions.isTemporal?n.chartMargins.bottom=88:n.chartMargins.bottom=48,n.setWidthAndHeight(e),n.svgSelection.attr("height",n.height).style("width",n.getSVGWidth()+"px"),n.g.attr("transform","translate("+n.chartMargins.left+","+n.chartMargins.top+")"),n.voronoiGroup.attr("width",n.chartWidth).attr("height",n.chartHeight),t.prototype.themify.call(n,n.targetElement,n.chartOptions.theme),n.chartOptions.hideChartControlPanel||null!==n.chartControlsPanel?n.chartOptions.hideChartControlPanel&&null!==n.chartControlsPanel&&n.removeControlPanel():n.chartControlsPanel=uM.createControlPanel(n.renderTarget,n.CONTROLSWIDTH,n.chartMargins.top,n.chartOptions),null!==n.chartControlsPanel&&n.ellipsisItemsExist()?(n.drawEllipsisMenu(),n.chartControlsPanel.style("top",Math.max(n.chartMargins.top-44,0)+"px")):n.removeEllipsisMenu(),n.focus.select(".tsi-hLine").attr("x2",n.chartWidth),n.focus.select(".tsi-vLine").attr("y2",n.chartHeight),n.measures=n.chartOptions.spMeasures,n.xMeasure=n.measures[0],n.yMeasure=n.measures[1],n.rMeasure=void 0!==n.measures[2]?n.measures[2]:null;var r=n.chartComponentData.extents[n.xMeasure][1]-n.chartComponentData.extents[n.xMeasure][0],a=n.chartComponentData.extents[n.yMeasure][1]-n.chartComponentData.extents[n.yMeasure][0],o=20/n.chartWidth*(0==r?1:r),s=20/n.chartHeight*(0==a?1:a),c=null;if(n.rMeasure){var l=n.chartComponentData.extents[n.rMeasure][1]-n.chartComponentData.extents[n.rMeasure][0];c=20/n.chartHeight*(0==l?1:l)}if(n.checkExtentValidity()){n.yScale=Up().range([n.chartHeight,0]).domain([n.chartComponentData.extents[n.yMeasure][0]-s,n.chartComponentData.extents[n.yMeasure][1]+s]),n.xScale=Up().range([0,n.chartWidth]).domain([n.chartComponentData.extents[n.xMeasure][0]-o,n.chartComponentData.extents[n.xMeasure][1]+o]),n.rScale=Up().range(n.chartOptions.scatterPlotRadius.slice(0,2)).domain(null===n.rMeasure?[0,0]:[n.chartComponentData.extents[n.rMeasure][0]-c,n.chartComponentData.extents[n.rMeasure][1]+c]),n.drawAxis(),n.drawAxisLabels(),n.drawConnectingLines();var u=n.pointWrapper.selectAll(".tsi-dot").data(n.cleanData(n.chartComponentData.temporalDataArray),(function(t){return n.chartOptions.isTemporal?t.aggregateKey+t.splitBy+t.splitByI:t.aggregateKey+t.splitBy+t.timestamp}));u.enter().append("circle").attr("class","tsi-dot").attr("r",(function(t){return n.rScale(t.measures[n.rMeasure])})).attr("cx",(function(t){return n.xScale(t.measures[n.xMeasure])})).attr("cy",(function(t){return n.yScale(t.measures[n.yMeasure])})).merge(u).attr("id",(function(t){return n.getClassHash(t.aggregateKey,t.splitBy,t.splitByI,t.timestamp)})).transition().duration(n.chartOptions.noAnimate?0:n.TRANSDURATION).ease(xi).attr("r",(function(t){return n.rScale(t.measures[n.rMeasure])})).attr("cx",(function(t){return n.xScale(t.measures[n.xMeasure])})).attr("cy",(function(t){return n.yScale(t.measures[n.yMeasure])})).attr("fill",(function(t){return uM.colorSplitBy(n.chartComponentData.displayState,t.splitByI,t.aggregateKey,n.chartOptions.keepSplitByColor)})).attr("stroke",(function(t){return uM.colorSplitBy(n.chartComponentData.displayState,t.splitByI,t.aggregateKey,n.chartOptions.keepSplitByColor)})).attr("stroke-opacity",n.standardStroke).attr("fill-opacity",n.standardOpacity).attr("stroke-width","1px"),u.exit().remove(),n.drawVoronoi(),n.setControlsPanelWidth(),n.chartComponentData.allTimestampsArray.length>1&&n.chartOptions.isTemporal?(Pe(n.renderTarget).select(".tsi-sliderWrapper").classed("tsi-hidden",!1),n.slider.render(n.chartComponentData.allTimestampsArray.map((function(t){return{label:uM.timeFormat(n.chartComponentData.usesSeconds,n.chartComponentData.usesMillis,n.chartOptions.offset,n.chartOptions.is24HourTime,null,null,n.chartOptions.dateLocale)(new Date(t)),action:function(){n.chartOptions.timestamp=t,n.render(n.chartComponentData.data,n.chartOptions,n.aggregateExpressionOptions,!0)}}})),n.chartOptions,n.getSliderWidth(),uM.timeFormat(n.chartComponentData.usesSeconds,n.chartComponentData.usesMillis,n.chartOptions.offset,n.chartOptions.is24HourTime,null,null,n.chartOptions.dateLocale)(new Date(n.chartComponentData.timestamp)))):(n.slider&&n.slider.remove(),Pe(n.renderTarget).select(".tsi-sliderWrapper").classed("tsi-hidden",!0)),n.legendObject.draw(n.chartOptions.legend,n.chartComponentData,n.labelMouseOver.bind(n),n.svgSelection,n.chartOptions,n.labelMouseOut.bind(n),n.stickySeries),n.sliderWrapper.style("width",n.svgSelection.node().getBoundingClientRect().width+10+"px")}},n.stickySeries=function(t,e){void 0===e&&(e=null);var i=n.getVoronoiData(n.chartComponentData.temporalDataArray);null!=i&&0!=i.length&&(n.chartComponentData.stickiedKey={aggregateKey:t,splitBy:null==e?null:e},n.legendObject.legendElement.selectAll(".tsi-splitByLabel").filter((function(n){return Pe(this.parentNode).datum()==t&&n==e})).classed("stickied",!0),n.voronoiDiagram=n.voronoi(n.getVoronoiData(n.chartComponentData.temporalDataArray)))},n.chartMargins={top:40,bottom:48,left:70,right:60},n}return Db(e,t),e.prototype.ScatterPlot=function(){},e.prototype.render=function(e,n,i,r){var a=this;if(void 0===r&&(r=!1),t.prototype.render.call(this,e,n,i),null==this.chartOptions.spMeasures||null!=this.chartOptions.spMeasures&&this.chartOptions.spMeasures.length<2){var o="spMeasures not correctly specified or has length < 2: "+this.chartOptions.spMeasures+"\n\nPlease add the following chartOption: {spMeasures: ['example_x_axis_measure', 'example_y_axis_measure', 'example_radius_measure']} where the measures correspond to the data key names.";console.log(o)}else if(this.chartMargins.top="compact"===this.chartOptions.legend?84:40,this.chartOptions.hideChartControlPanel||(this.chartMargins.top+=20),this.chartMargins.left=null!=this.chartOptions.spAxisLabels&&this.chartOptions.spAxisLabels.length>=2?120:70,this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.chartOptions.timestamp,this.aggregateExpressionOptions),this.chartComponentData.setExtents(this.chartOptions.spMeasures,!r),this.checkExtentValidity()){if(this.controlsOffset="shown"==this.chartOptions.legend?this.CONTROLSWIDTH:0,this.setWidthAndHeight(),null==this.svgSelection){this.targetElement=Pe(this.renderTarget).classed("tsi-scatterPlot",!0),this.svgSelection=this.targetElement.append("svg").attr("class","tsi-scatterPlotSVG tsi-chartSVG").attr("title",this.getString("Scatter plot")).attr("height",this.height),this.g=this.svgSelection.append("g").classed("tsi-svgGroup",!0),this.lineWrapper=this.g.append("g").classed("tsi-lineWrapper",!0),this.pointWrapper=this.g.append("g").classed("tsi-pointWrapper",!0),this.sliderWrapper=Pe(this.renderTarget).append("div").classed("tsi-sliderWrapper",!0),this.tooltip=new HM(Pe(this.renderTarget)),this.voronoiGroup=this.g.append("rect").attr("class","tsi-voronoiWrap").attr("fill","transparent"),this.focus=this.pointWrapper.append("g").attr("transform","translate(-100,-100)").attr("class","tsi-focus").style("display","none"),this.focus.append("line").attr("class","tsi-focusLine tsi-vLine").attr("x1",0).attr("x2",0).attr("y1",this.chartOptions.aggTopMargin).attr("y2",this.chartHeight),this.focus.append("line").attr("class","tsi-focusLine tsi-hLine").attr("x1",0).attr("x2",this.chartWidth).attr("y1",0).attr("y2",0);var s=this.focus.append("g").attr("class","hHoverG").style("pointer-events","none").attr("transform","translate(0,"+(this.chartHeight+this.chartOptions.aggTopMargin)+")");s.append("rect").style("pointer-events","none").attr("class","hHoverBox").attr("x",0).attr("y",4).attr("width",0).attr("height",0),s.append("text").style("pointer-events","none").attr("class","hHoverText").attr("dy",".71em").attr("transform","translate(0,9)").text((function(t){return t}));var c=this.focus.append("g").attr("class","vHoverG").attr("transform","translate(0,"+(this.chartHeight+this.chartOptions.aggTopMargin)+")");c.append("rect").attr("class","vHoverBox").attr("x",-5).attr("y",0).attr("width",0).attr("height",0),c.append("text").attr("class","vHoverText").attr("dy",".32em").attr("x",-10).text((function(t){return t})),window.addEventListener("resize",(function(){a.chartOptions.suppressResizeListener||a.draw()})),this.slider=new Sb(Pe(this.renderTarget).select(".tsi-sliderWrapper").node()),this.legendObject=new fM(this.draw.bind(this),this.renderTarget,this.CONTROLSWIDTH)}this.draw(),this.gatedShowGrid(),Pe("html").on("click."+uM.guid(),(function(){a.ellipsisContainer&&xe.target!=a.ellipsisContainer.select(".tsi-ellipsisButton").node()&&a.ellipsisMenu.setMenuVisibility(!1)})),this.legendPostRenderProcess(this.chartOptions.legend,this.svgSelection,!1)}},e.prototype.getSliderWidth=function(){return this.chartWidth+this.chartMargins.left+this.chartMargins.right-16},e.prototype.tooltipFormat=function(e,n,i,r){if(t.prototype.tooltipFormat.call(this,e,n,i,r),!this.chartOptions.isTemporal){var a=n.select(".tsi-tooltipTitleGroup");e.timestamp&&a.append("h4").attr("class","tsi-tooltipSubtitle tsi-tooltipTimeStamp").text(this.formatDate(e.timestamp,this.chartComponentData.getTemporalShiftMillis(e.aggregateKey)))}},e.prototype.drawConnectingLines=function(){var t=this;if(this.chartOptions.isTemporal)this.lineWrapper.selectAll("*").remove();else{var e=this.cleanData(this.chartComponentData.temporalDataArray),n={},i=function(e){var n,i=null===(n=t.aggregateExpressionOptions[e.aggregateKeyI])||void 0===n?void 0:n.pointConnectionMeasure;return i&&i in e.measures?i:null};e.forEach((function(e){if(null!==e.aggregateKeyI&&e.aggregateKeyI<t.aggregateExpressionOptions.length&&t.aggregateExpressionOptions[e.aggregateKeyI].connectPoints){var r=e.aggregateKey+"_"+e.splitBy;r in n?n[r].data.push(e):n[r]={data:[e],pointConnectionMeasure:i(e)}}}));for(var r=function(t){var e=n[t].pointConnectionMeasure;e&&n[t].data.sort((function(t,n){return t.measures[e]<n.measures[e]?-1:t.measures[e]>n.measures[e]?1:0}))},a=0,o=Object.keys(n);a<o.length;a++){r(o[a])}var s=Zg().x((function(e){return t.xScale(e.measures[t.xMeasure])})).y((function(e){return t.yScale(e.measures[t.yMeasure])})).curve(this.chartOptions.interpolationFunction),c=this.lineWrapper.selectAll(".tsi-lineSeries").data(Object.keys(n)),l=this;c.enter().append("g").attr("class","tsi-lineSeries").merge(c).each((function(t){var e=Pe(this).selectAll(".tsi-line").data([n[t].data],(function(t){return t[0].aggregateKeyI+t[0].splitBy}));e.exit().remove(),e.enter().append("path").attr("class","tsi-line").merge(e).attr("fill","none").transition().duration(l.chartOptions.noAnimate?0:l.TRANSDURATION).ease(xi).attr("stroke",(function(t){return uM.colorSplitBy(l.chartComponentData.displayState,t[0].splitByI,t[0].aggregateKey,l.chartOptions.keepSplitByColor)})).attr("stroke-width",2.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",s)})),c.exit().remove()}},e.prototype.checkExtentValidity=function(){var t=this;if(0==this.chartComponentData.allValues)return!0;var e={};return this.chartOptions.spMeasures.forEach((function(n){e[n]=L(t.chartComponentData.allValues,(function(t){return t.measures&&n in t.measures?t.measures[n]:null}))})),Object.keys(e).forEach((function(t){e[t].forEach((function(e){if(null==e)return console.log("Undefined Measure: ",t),!1}))})),!0},e.prototype.drawVoronoi=function(){var t=this,e=this.getVoronoiData(this.chartComponentData.temporalDataArray),n=this,i=function(){return(Math.random()<.5?-1:1)*(t=0,e=.01,Math.random()*(e-t)+t);var t,e};this.voronoi=xv().x((function(e){return t.xScale(e.measures[t.xMeasure])+i()})).y((function(e){return t.yScale(e.measures[t.yMeasure])+i()})).extent([[0,0],[this.chartWidth,this.chartHeight]]),this.voronoiDiagram=this.voronoi(e),this.voronoiGroup.on("mousemove",(function(){var t=Fe(this);n.voronoiMouseMove(t)})).on("mouseover",(function(){var t=Fe(this);n.voronoiMouseMove(t);var e=n.voronoiDiagram.find(t[0],t[1]);null!=e&&n.labelMouseOver(e.data.aggregateKey,e.data.splitBy)})).on("mouseout",(function(){n.voronoiMouseOut()})).on("click",(function(){var t=Fe(this);n.voronoiClick(t)}))},e.prototype.voronoiClick=function(t){var e=this.voronoiDiagram.find(t[0],t[1]);if(null!=e){if(this.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("stickied",!1),null!=this.chartComponentData.stickiedKey)return this.chartComponentData.stickiedKey=null,this.voronoiDiagram=this.voronoi(this.getVoronoiData(this.chartComponentData.temporalDataArray)),e=this.voronoiDiagram.find(t[0],t[1]),this.voronoiMouseMove(t),void this.chartOptions.onUnsticky(e.data.aggregateKey,e.data.splitBy);this.stickySeries(e.data.aggregateKey,e.data.splitBy),this.chartOptions.onSticky(e.data.aggregateKey,e.data.splitBy)}},e.prototype.highlightDot=function(t){this.unhighlightDot();var e="light"==this.chartOptions.theme?"black":"white",n="#"+this.getClassHash(t.data.aggregateKey,t.data.splitBy,t.data.splitByI,t.data.timestamp);this.activeDot=this.svgSelection.select(n),this.activeDot.attr("stroke",e).attr("stroke-width","2px").raise().classed("active",!0)},e.prototype.getClassHash=function(t,e,n,i){return String("dot"+uM.hash(t+e+n.toString()+i))},e.prototype.unhighlightDot=function(){var t=this;this.activeDot&&this.activeDot.attr("stroke",(function(e){return uM.colorSplitBy(t.chartComponentData.displayState,e.splitByI,e.aggregateKey,t.chartOptions.keepSplitByColor)})).attr("stroke-width","1px"),this.activeDot=null},e.prototype.labelMouseMove=function(t,e){if(t!==this.focusedAggKey||e!==this.focusedSplitBy){var n=uM.createValueFilter(t,e),i=uM.createValueFilter(this.focusedAggKey,this.focusedSplitBy);this.svgSelection.selectAll(".tsi-dot").filter(n).attr("stroke-opacity",this.standardStroke).attr("fill-opacity",this.focusOpacity),this.svgSelection.selectAll(".tsi-dot").filter(i).attr("stroke-opacity",this.lowStroke).attr("fill-opacity",this.lowOpacity);var r=function(n){return n[0].aggregateKey===t&&n[0].splitBy===e};this.svgSelection.selectAll(".tsi-line").filter((function(t){return r(t)})).attr("stroke-opacity",this.standardStroke),this.svgSelection.selectAll(".tsi-line").filter((function(t){return!r(t)})).attr("stroke-opacity",this.lowStroke),this.focusedAggKey=t,this.focusedSplitBy=e}this.focus.raise().classed("active",!0),null!=this.activeDot&&this.activeDot.raise().classed("active",!0),this.legendObject.legendElement.selectAll(".tsi-splitByLabel").filter((function(n){return Pe(this.parentNode).datum()==t&&n==e})).classed("inFocus",!0)},e.prototype.voronoiMouseMove=function(t){var e=t[0],n=t[1],i=this.voronoiDiagram.find(e,n);if(null!=i){if(null==this.focusedSite)this.focusedSite=i;else if(this.focusedSite==i)return;this.focusedSite=i,this.drawTooltip(i.data,[i[0],i[1]]),this.labelMouseMove(i.data.aggregateKey,i.data.splitBy),this.highlightDot(i),this.focus.style("display","block"),this.focus.attr("transform","translate("+i[0]+","+i[1]+")"),this.focus.select(".tsi-hLine").attr("transform","translate("+-i[0]+",0)"),this.focus.select(".tsi-vLine").attr("transform","translate(0,"+-i[1]+")"),this.focus.select(".hHoverG").attr("transform","translate(0,"+(this.chartHeight-i[1])+")").select("text").text(uM.formatYAxisNumber(i.data.measures[this.xMeasure]));var r=this.focus.select(".hHoverG").select("text").node().getBoundingClientRect();this.focus.select(".hHoverG").select("rect").attr("x",-r.width/2-3).attr("width",r.width+6).attr("height",r.height+5),this.focus.select(".vHoverG").attr("transform","translate("+-i[0]+",0)").select("text").text(uM.formatYAxisNumber(i.data.measures[this.yMeasure])),r=this.focus.select(".vHoverG").select("text").node().getBoundingClientRect(),this.focus.select(".vHoverG").select("rect").attr("x",-r.width-13).attr("y",-r.height/2-3).attr("width",r.width+6).attr("height",r.height+4),this.legendObject.triggerSplitByFocus(i.data.aggregateKey,i.data.splitBy)}},e.prototype.voronoiMouseOut=function(){this.focusedSite=null,this.focus.style("display","none"),this.tooltip.hide(),this.labelMouseOut(),this.unhighlightDot()},e.prototype.getVoronoiData=function(t){var e=this,n=this.cleanData(t).filter((function(t){return e.chartComponentData.displayState[t.aggregateKey].visible&&e.chartComponentData.displayState[t.aggregateKey].splitBys[t.splitBy].visible}));return null==this.chartComponentData.stickiedKey?n:n.filter((function(t){return t.aggregateKey==e.chartComponentData.stickiedKey.aggregateKey&&(null==e.chartComponentData.stickiedKey.splitBy||t.splitBy==e.chartComponentData.stickiedKey.splitBy)}))},e.prototype.labelMouseOver=function(t,e){void 0===e&&(e=null),this.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1);var n=function(n){var i=null,r=null;return null!=n.aggregateKey&&(i=n.aggregateKey),null!=n.splitBy&&(r=n.splitBy),null==e?i==t:i!=t||r!=e};this.svgSelection.selectAll(".tsi-dot").filter((function(t){return!n(t)})).attr("stroke-opacity",this.standardStroke).attr("fill-opacity",this.focusOpacity),this.svgSelection.selectAll(".tsi-dot").filter(n).attr("stroke-opacity",this.lowStroke).attr("fill-opacity",this.lowOpacity),this.svgSelection.selectAll(".tsi-line").filter((function(n){return!(n[0].aggregateKey===t&&n[0].splitBy===e)})).attr("stroke-opacity",this.lowStroke)},e.prototype.labelMouseOut=function(){var t=this;this.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1),this.g.selectAll(".tsi-dot").attr("stroke-opacity",this.standardStroke).attr("fill-opacity",this.standardOpacity).attr("stroke",(function(e){return uM.colorSplitBy(t.chartComponentData.displayState,e.splitByI,e.aggregateKey,t.chartOptions.keepSplitByColor)})).attr("fill",(function(e){return uM.colorSplitBy(t.chartComponentData.displayState,e.splitByI,e.aggregateKey,t.chartOptions.keepSplitByColor)})).attr("stroke-width","1px"),this.g.selectAll(".tsi-line").attr("stroke-opacity",this.standardStroke)},e.prototype.cleanData=function(t){var e=this;return t.filter((function(t){var n=!0;return e.chartOptions.spMeasures.forEach((function(e){null==t.measures?n=!1:e in t.measures||(n=!1)})),n}))},e.prototype.setWidthAndHeight=function(t){void 0===t&&(t=!1),this.height=Math.max(Pe(this.renderTarget).node().clientHeight,this.MINHEIGHT),this.chartHeight=this.height-this.chartMargins.top-this.chartMargins.bottom,this.width=this.getWidth(),t||(this.chartWidth=this.getChartWidth())},e.prototype.drawAxis=function(){this.xAxis=this.pointWrapper.selectAll(".xAxis").data([this.xScale]),this.xAxis.enter().append("g").attr("class","xAxis").merge(this.xAxis).attr("transform","translate(0,"+this.chartHeight+")").call(dt(this.xScale).ticks(Math.max(2,Math.floor(this.chartWidth/150)))),this.xAxis.exit().remove(),this.yAxis=this.pointWrapper.selectAll(".yAxis").data([this.yScale]),this.yAxis.enter().append("g").attr("class","yAxis").merge(this.yAxis).call(ft(this.yScale).ticks(Math.max(2,Math.floor(this.chartHeight/90)))),this.yAxis.exit().remove()},e.prototype.drawAxisLabels=function(){var t,e,n=this,i=function(t,e){if(t.node()&&t.node().getComputedTextLength)for(var n=t.node().getComputedTextLength(),i=t.text();n>e&&i.length>0;)i=i.slice(0,-1),t.text(i+"..."),n=t.node().getComputedTextLength()};t=null!=this.chartOptions.spAxisLabels&&this.chartOptions.spAxisLabels.length>=1?[this.chartOptions.spAxisLabels[0]]:[],e=null!=this.chartOptions.spAxisLabels&&this.chartOptions.spAxisLabels.length>=2?[this.chartOptions.spAxisLabels[1]]:[],this.xAxisLabel=this.pointWrapper.selectAll(".tsi-xAxisLabel").data(t);var r=this.xAxisLabel.enter().append("text").attr("class","tsi-xAxisLabel tsi-AxisLabel").merge(this.xAxisLabel).style("text-anchor","middle").attr("transform","translate("+this.chartWidth/2+" ,"+(this.chartHeight+42)+")").text(null);r.each((function(t){var e=Pe(this);uM.appendFormattedElementsFromString(e,t,{inSvg:!0})})),0==r.selectAll("tspan").size()?i(r,this.chartWidth):r.selectAll("tspan").each((function(){var t=Pe(this);i(t,n.chartWidth/r.selectAll("tspan").size())})),this.xAxisLabel.exit().remove(),this.yAxisLabel=this.pointWrapper.selectAll(".tsi-yAxisLabel").data(e);var a=this.yAxisLabel.enter().append("text").attr("class","tsi-yAxisLabel tsi-AxisLabel").merge(this.yAxisLabel).style("text-anchor","middle").attr("transform","translate(-70 ,"+this.chartHeight/2+") rotate(-90)").text(null);a.each((function(t){var e=Pe(this);uM.appendFormattedElementsFromString(e,t,{inSvg:!0})})),0==a.selectAll("tspan").size()?i(a,this.chartHeight):a.selectAll("tspan").each((function(){var t=Pe(this);i(t,n.chartHeight/a.selectAll("tspan").size())})),this.yAxisLabel.exit().remove()},e.prototype.drawTooltip=function(t,e){var n=this;if(this.chartOptions.tooltip){var i=e[0],r=e[1],a=[this.xMeasure,this.yMeasure];null!==this.rMeasure&&a.push(this.rMeasure),this.tooltip.render(this.chartOptions.theme),this.tooltip.draw(t,this.chartComponentData,i,r,this.chartMargins,(function(e){t.aggregateName=n.chartComponentData.displayState[t.aggregateKey].name,n.tooltipFormat(t,e,Yv.Scatter,a)}),null,20,20,uM.colorSplitBy(this.chartComponentData.displayState,t.splitByI,t.aggregateKey,this.chartOptions.keepSplitByColor))}},e.prototype.labelFormatUsesSeconds=function(){return!this.chartOptions.minutesForTimeLabels&&this.chartComponentData.usesSeconds},e.prototype.labelFormatUsesMillis=function(){return!this.chartOptions.minutesForTimeLabels&&this.chartComponentData.usesMillis},e}(PM),Ib=(n(162),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Pb=function(t){function e(e){var n=t.call(this,e)||this;return n.isStacked=null,n.stackedButton=null,n.chartComponentData=new wb,n.chartMargins={top:52,bottom:48,left:70,right:60},n}return Ib(e,t),e.prototype.GroupedBarChart=function(){},e.prototype.render=function(e,n,i){var r=this;t.prototype.render.call(this,e,n,i),(n&&n.stacked||null==this.isStacked)&&(this.isStacked=this.chartOptions.stacked),this.chartMargins.top="compact"===this.chartOptions.legend?84:52,this.width=Math.max(Pe(this.renderTarget).node().clientWidth,this.MINWIDTH);var a=Math.max(Pe(this.renderTarget).node().clientHeight,this.MINHEIGHT);this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.timestamp,this.aggregateExpressionOptions),this.timestamp=n&&null!=n.timestamp?n.timestamp:this.chartComponentData.allTimestampsArray[0];var o=a-this.chartMargins.bottom-this.chartMargins.top;if(this.chartWidth=this.getChartWidth(),null==this.svgSelection){var s=Pe(this.renderTarget).classed("tsi-barChart",!0),c=s.append("svg").attr("class","tsi-barChartSVG tsi-chartSVG").attr("title",this.getString("Bar chart")).style("height",a).style("width",this.getSVGWidth()+"px");this.svgSelection=c;var l=c.append("g").attr("transform","translate("+this.chartMargins.left+","+this.chartMargins.top+")"),u=l.append("line").classed("tsi-baseLine",!0).attr("stroke-width",1),h=l.append("g").attr("transform","translate(-100,-100)").attr("class","tsi-focus");h.append("line").attr("class","tsi-focusLine").attr("x1",0).attr("x2",this.chartWidth).attr("y1",0).attr("y2",0);var p=h.append("g").attr("class","vHoverG");p.append("rect").attr("class","vHoverBox").attr("x",-5).attr("y",0).attr("width",0).attr("height",0),p.append("text").attr("class","vHoverText hoverText").attr("dy",".32em").attr("x",-10).text((function(t){return t}));Pe(this.renderTarget).append("div").classed("tsi-sliderWrapper",!0);var d=new HM(Pe(this.renderTarget)),f=(this.chartComponentData.data.map((function(t,e){Object.keys(t)[0],uM.createEntityKey(Object.keys(t)[0],e),Object.keys(t)})),function(t,e){void 0===e&&(e=null);var n=r;c.selectAll(".tsi-valueElement").attr("stroke-opacity",1).attr("fill-opacity",1);c.selectAll(".tsi-valueElement").filter((function(n,i){var r,a;if(n.aggKey)r=n.aggKey,a=n.splitBy;else{if(!n||!n.length)return!0;r=n[0].aggKey,a=n[0].splitBy}return!(t==r&&(null==e||e==a))})).attr("stroke-opacity",.3).attr("fill-opacity",.3);var i=c.selectAll(".barGroup").filter((function(e){return e==t})).select(".labelGroup").select("text").text(null),a=parseFloat(i.attr("dy")),o=i.append("tspan").attr("class","tsi-labelGroupLine");uM.appendFormattedElementsFromString(o,n.chartComponentData.displayState[t].name,{inSvg:!0,additionalClassName:"tsi-aggregateLabelGroupText"});var s=i.append("tspan").attr("class","tsi-labelGroupLine");uM.appendFormattedElementsFromString(s,e,{inSvg:!0,additionalClassName:"tsi-splitByLabelGroupText"}),s.selectAll(".tsi-splitByLabelGroupText").each((function(t,e){0==e&&Pe(this).attr("y",i.attr("y")).attr("x",i.attr("x")).attr("dy",a+2*a+"em").attr("text-anchor","middle")})),y(c,t)}),m=function(t,e){var n=r;t.selectAll(".barGroup").selectAll(".labelGroup").selectAll("text").text(null).each((function(t){var e=Pe(this);null!=n.chartComponentData.displayState[t]&&uM.appendFormattedElementsFromString(e,n.chartComponentData.displayState[t].name,{inSvg:!0,additionalClassName:"tsi-aggregateLabelGroupText"})})),y(t)},g=function(){var t=Math.max(Object.keys(r.chartComponentData.filteredAggregates).length,1);return Math.max(r.chartWidth/2/t,0)},y=function(t,e){void 0===e&&(e=null),t.selectAll(".barGroup").filter((function(t,n){return null==e||t==e})).each((function(){if(null!=Pe(this).select(".labelGroup").select("text").node()){var t=Pe(this).select(".labelGroup").select("text").node().getBoundingClientRect(),e=g(),n=(Pe(this).attr("width"),Pe(this).select(".labelGroup").select("text")),i=function(t,n){if(void 0===n&&(n=1),t.node().getComputedTextLength)for(var i=t.node().getComputedTextLength(),r=t.text();i>(e-6)/n&&r.length>0;)r=r.slice(0,-1),t.text(r+"..."),i=t.node().getComputedTextLength()};0===n.selectAll("tspan").filter((function(){return!Pe(this).classed("tsi-labelGroupLine")})).size()?i(n):n.selectAll("tspan").filter((function(){return!Pe(this).classed("tsi-labelGroupLine")})).each((function(){var t=Pe(this),e=t.classed("tsi-splitByLabelGroupText")?n.selectAll(".tsi-splitByLabelGroupText").size():n.selectAll(".tsi-aggregateLabelGroupText").size();i(t,e)})),Pe(this).select(".labelGroup").select("rect").attr("height",t.height+4).attr("y",o+6).attr("x",0).attr("width",e)}}))},_=function(e){void 0===e&&(e=!1);var n=r;r.width=r.getWidth(),a=Math.max(Pe(r.renderTarget).node().clientHeight,r.MINHEIGHT),r.chartComponentData.timestamp=null!=r.chartOptions.timestamp?r.chartOptions.timestamp:r.chartComponentData.allTimestampsArray[0],r.chartComponentData.setFilteredAggregates(),e||(r.chartWidth=r.getChartWidth()),t.prototype.themify.call(r,s,r.chartOptions.theme),r.chartOptions.hideChartControlPanel||null!==r.chartControlsPanel?r.chartOptions.hideChartControlPanel&&null!==r.chartControlsPanel&&r.removeControlPanel():(r.chartControlsPanel=uM.createControlPanel(r.renderTarget,r.CONTROLSWIDTH,r.chartMargins.top,r.chartOptions),r.stackedButton=r.chartControlsPanel.append("button").style("left","60px").attr("class","tsi-stackedButton").on("click",(function(){n.chartOptions.stacked=!n.chartOptions.stacked,n.draw()})).attr("type","button").attr("title",r.getString("Stack/Unstack Bars"))),r.chartControlsPanel&&r.stackedButton.attr("aria-label",r.chartOptions.stacked?r.getString("Unstack bars"):r.getString("Stack bars")),null!==r.chartControlsPanel&&r.ellipsisItemsExist()?(r.drawEllipsisMenu(),r.chartControlsPanel.style("top",Math.max(r.chartMargins.top-24,0)+"px")):r.removeEllipsisMenu(),r.chartComponentData.allTimestampsArray.length>1&&(r.chartMargins.bottom=88),o=a-r.chartMargins.bottom-r.chartMargins.top,h.select("line").attr("x2",r.chartWidth),c.style("width",r.getSVGWidth()+"px"),".000Z"==r.timestamp.substring(r.timestamp.length-5,r.timestamp.length)&&(r.timestamp=r.timestamp.substring(0,r.timestamp.length-5)+"Z");var i=Math.max(Object.keys(r.chartComponentData.filteredAggregates).length,1);c.select("g").attr("transform","translate("+r.chartMargins.left+","+r.chartMargins.top+")").selectAll(".barGroup").attr("visibility","hidden");var p=l.selectAll(".barGroup").data(Object.keys(r.chartComponentData.displayState)),_=g(),M=r.chartComponentData.filteredAggregates.reduce((function(t,e,n){return t[e]=1/(i+1)*(n+1)*r.chartWidth-_/2,t}),{});r.legendObject.draw(r.chartOptions.legend,r.chartComponentData,f,c,r.chartOptions,m),p=p.enter().append("g").attr("class","barGroup").merge(p).attr("display",(function(t,e){return r.chartComponentData.displayState[t].visible?"inherit":"none"})).attr("visibility","visible").attr("transform",(function(t,e){return M[t]?"translate("+M[t]+",0)":""})),r.chartComponentData.setEntireRangeData(r.chartOptions.scaledToCurrentTime);var b=r.chartComponentData.valuesOfVisibleType,x=r.chartComponentData.aggsSeries,w=Up().range([o,0]),A=L(b);if(r.chartOptions.stacked)w.domain([Math.min(r.chartComponentData.globalMin,r.chartComponentData.globalMax),Math.max(r.chartComponentData.globalMin,r.chartComponentData.globalMax)]);else if(b.length>0)if(r.chartOptions.zeroYAxis)A[0]>0?w.domain([0,L(b)[1]]):w.domain([L(b)[0],Math.max(L(b)[1],0)]);else{var T=.05*Math.abs(L(b)[1]);w.domain([L(b)[0]-T,L(b)[1]+T])}else w.domain([0,0]);var S=w.domain()[0]>0?w(w.domain()[0]):w(0),k=r.legendObject;p.each((function(t,e){var i=Object.keys(n.chartComponentData.displayState[t].splitBys).filter((function(e){return n.chartComponentData.displayState[t].splitBys[e].visible})),r=i.length,a=_/r,u=Pe(this).selectAll(".tsi-valueElement").data(n.chartComponentData.getValueContainerData(t)),p=Pe(this).selectAll(".labelGroup").data([t]),g=p.enter().append("g").attr("class","labelGroup");g.append("rect");var v=g.append("text").attr("dy",".71em");uM.appendFormattedElementsFromString(v,n.chartComponentData.displayState[t].name,{inSvg:!0,additionalClassName:"tsi-aggregateLabelGroupText"});g.merge(p).select("rect").attr("class","aggregateLabelBox").attr("x",0).attr("y",1).attr("width",0).attr("height",0);Pe(this).select(".labelGroup").select("text").transition().duration(n.TRANSDURATION).ease(xi).attr("x",(function(t){return _/2})).attr("y",o+12).style("fill",(function(e){return n.chartComponentData.displayState[t].color})).attr("text-anchor","middle"),p.exit().remove(),y(c,t);var M=Up().domain([0,r]).range([0,_]),b=(i.reduce((function(e,i){var r=n.chartComponentData.displayState[t].splitBys[i].visibleType;return e+(n.chartComponentData.valuesAtTimestamp[t].splitBys[i].measurements?w(n.chartComponentData.valuesAtTimestamp[t].splitBys[i].measurements[r]):0)}),0),function(t,e){return n.chartOptions.stacked?null!=x[t.aggKey]&&0!=x[t.aggKey].length?w(x[t.aggKey][e][0][1]):0:t.val>0?w(t.val):w(0)}),A=function(t,e,i){return void 0===i&&(i=null),n.chartOptions.stacked?Math.max(Math.abs(w(t.val)-w(0)),0):w.domain()[0]>=0?o-b(t,e):(i=null!=i?i:t.val)>0?Math.abs(b(t,e)-w(0)):w(i)-w(0)},T=i.reduce((function(t,e,n){return t[e]=M(n),t}),{}),L=u.enter().append("g").attr("class","tsi-valueElement");L.append("rect"),L.append("line");var O=function(t,e){n.contextMenu&&n.contextMenu.contextMenuVisible||(h.style("display","none"),k.legendElement.selectAll(".tsi-splitByLabel").filter((function(e){return Pe(this.parentNode).datum()==t.aggKey&&e==t.splitBy})).classed("inFocus",!1),xe.stopPropagation(),c.selectAll(".tsi-valueElement").attr("stroke-opacity",1).attr("fill-opacity",1),m(c,t.aggKey),d.hide())},z=function(){L.selectAll("path").each(O)},C=uM.createSplitByColors(n.chartComponentData.displayState,t,n.chartOptions.keepSplitByColor);L.merge(u).select("rect").attr("fill",(function(t,e){return C[e]})).on("mouseover",(function(t,e){if(!n.contextMenu||!n.contextMenu.contextMenuVisible){k.legendElement.selectAll(".tsi-splitByLabel").filter((function(e){return Pe(this.parentNode).datum()==t.aggKey&&e==t.splitBy})).classed("inFocus",!0),f(t.aggKey,t.splitBy);var i=b(t,e);t.val<0&&(i+=A(t,e)),h.style("display","block").attr("transform","translate(0,"+i+")"),h.select(".vHoverG").select("text").text((function(){if(!n.chartOptions.stacked)return uM.formatYAxisNumber(t.val);var i=w.invert(b(t,e));return t.val<0&&(i+=t.val),uM.formatYAxisNumber(i)}));var r=h.select(".vHoverG").select("text").node().getBoundingClientRect();h.select(".vHoverG").select("rect").attr("x",-r.width-13).attr("y",-r.height/2-3).attr("width",r.width+6).attr("height",r.height+4),h.node().parentNode.appendChild(h.node())}})).on("mousemove",(function(t,e){if(n.chartOptions.tooltip){var i=Fe(l.node());d.render(n.chartOptions.theme),d.draw(t,n.chartComponentData,i[0],i[1],n.chartMargins,(function(e){n.tooltipFormat(n.convertToTimeValueFormat(t),e,Yv.SingleValue)}),null,20,20,C[e])}else d.hide()})).on("mouseout",O).on("contextmenu",(function(t,e){if(n.chartComponentData.displayState[t.aggKey].contextMenuActions&&n.chartComponentData.displayState[t.aggKey].contextMenuActions.length){var i=Fe(s.node());xe.preventDefault(),n.contextMenu.draw(n.chartComponentData,n.renderTarget,n.chartOptions,i,t.aggKey,t.splitBy,z,new Date(n.chartComponentData.timestamp))}})).transition().duration(n.TRANSDURATION).ease(xi).attr("y",(function(t,e){return b(t,e)})).attr("height",(function(t,e){return n.chartOptions.stacked&&null==T[t.splitBy]?0:Math.max(A(t,e),0)})).attr("x",(function(e,i){if(n.chartOptions.stacked)return 0;if(null!=T[e.splitBy])return T[e.splitBy];for(var r=Object.keys(n.chartComponentData.displayState[t].splitBys),o=r[0],s=0;r[s]!=e.splitBy;s++)null!=T[r[s]]&&(o=r[s]);return null!=T[o]?T[o]+a:0})).attr("width",(function(t,e){return n.chartOptions.stacked?_:null!=T[t.splitBy]?a:0})),L.merge(u).select("line").classed("tsi-baseLine",!0).attr("stroke-width",2).transition().duration(n.TRANSDURATION).ease(xi).attr("x1",(function(t,e){return n.chartOptions.stacked?0:null!=T[t.splitBy]?T[t.splitBy]:0})).attr("x2",(function(t,e){return n.chartOptions.stacked?_:null!=T[t.splitBy]?T[t.splitBy]+a:0})).attr("y1",(function(t,e){if(!n.chartOptions.stacked)return S;t.val;return n.chartOptions.stacked&&null==T[t.splitBy]?b(t,e):b(t,e)+A(t,e)})).attr("y2",(function(t,e){if(!n.chartOptions.stacked)return S;t.val;return n.chartOptions.stacked&&null==T[t.splitBy]?b(t,e):b(t,e)+A(t,e)})),u.exit().remove()})),p.exit().remove();var O=l.selectAll(".yAxis").data([w]);O.enter().append("g").attr("class","yAxis").merge(O).call(ft(w).tickFormat(uM.formatYAxisNumber).ticks(4)),O.exit().remove(),u.attr("x1",0).attr("x2",r.chartWidth).attr("y1",S+1).attr("y2",S+1),r.stackedButton.style("opacity",r.chartOptions.stacked?1:.5).classed("tsi-lightTheme","light"==r.chartOptions.theme).classed("tsi-darkTheme","dark"==r.chartOptions.theme),r.chartComponentData.allTimestampsArray.length>1?(Pe(r.renderTarget).select(".tsi-sliderWrapper").classed("tsi-hidden",!1),v.render(r.chartComponentData.allTimestampsArray.map((function(t){return{label:uM.timeFormat(r.chartComponentData.usesSeconds,r.chartComponentData.usesMillis,r.chartOptions.offset,r.chartOptions.is24HourTime,null,null,r.chartOptions.dateLocale)(new Date(t)),action:function(){r.chartOptions.timestamp=t,r.render(r.chartComponentData.data,r.chartOptions,r.aggregateExpressionOptions)}}})),r.chartOptions,r.getSVGWidth(),uM.timeFormat(r.chartComponentData.usesSeconds,r.chartComponentData.usesMillis,r.chartOptions.offset,r.chartOptions.is24HourTime,null,null,r.chartOptions.dateLocale)(new Date(r.chartComponentData.timestamp)))):(v.remove(),Pe(r.renderTarget).select(".tsi-sliderWrapper").classed("tsi-hidden",!0)),r.setControlsPanelWidth()};this.legendObject=new fM(_,this.renderTarget,this.CONTROLSWIDTH),this.contextMenu=new jM(this.draw,this.renderTarget);var v=new Sb(Pe(this.renderTarget).select(".tsi-sliderWrapper").node());this.draw=_,window.addEventListener("resize",(function(){r.chartOptions.suppressResizeListener||r.draw()}))}Pe("html").on("click."+uM.guid(),(function(){r.ellipsisContainer&&xe.target!=r.ellipsisContainer.select(".tsi-ellipsisButton").node()&&r.ellipsisMenu.setMenuVisibility(!1)})),this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.timestamp,this.aggregateExpressionOptions),this.draw(),this.gatedShowGrid(),this.legendPostRenderProcess(this.chartOptions.legend,this.svgSelection,!0)},e}(PM),Bb=(n(163),function(){function t(t,e){this.children=[],this.isExpanded=!1,this.isSelected=!1,this.isLeaf=!1,this.childrenInFilter=!1,this.selfInFilter=!1,this.color=function(){return null},this.click=function(t){},this.isLeafParent=!1,this.name=t,this.level=e,this.markedName=t}return t.prototype.filter=function(t){var e=new RegExp(t,"i"),n=function(i){var r=i.children.reduce((function(t,e){return t=n(e)||t}),!1),a=e.test(i.name);return i.markedName=a?uM.mark(t,i.name):i.name,null!=i.parent&&(i.parent.childrenInFilter=(a||r)&&t.length>0),i.selfInFilter=a&&t.length>0,i.childrenInFilter=r&&t.length>0,r||a};n(this)},t.prototype.traverse=function(t){var e=[];return t(this)&&e.push(this),this.children.forEach((function(n){e=e.concat(n.traverse(t))})),e},t.prototype.colorify=function(t){this.isLeaf&&this.isSelected&&this.color(this)&&t.style("background-color",this.color(this)),!this.isSelected&&this.isLeaf&&t.style("background-color",null)},t}()),Rb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qb=function(t){function e(e){var n=t.call(this,e)||this;return n.filterText="",n.withContextMenu=!1,n.expandCollapseList=function(t,e,i){if(void 0===i&&(i=!1),n.closeContextMenu(),!e.classed("tsi-expanded")||n.withContextMenu&&t.isLeafParent)if(n.withContextMenu&&t.isLeafParent)if(n.clickedNode!=e.node()){n.clickedNode=e.node(),n.contextMenu=n.hierarchyList.append("div"),t.children.filter((function(t){return"~"!==t.name[0]})).forEach((function(t){n.contextMenu.append("div").text(""+t.name).on("click",(function(){return t.click(t)}))})),n.contextMenu.append("div").classed("tsi-break",!0),t.children.filter((function(t){return"~"===t.name[0]})).forEach((function(t){var e=t.name.slice(1);n.contextMenu.append("div").text(""+e).on("click",(function(){return t.click(t)}))})),n.contextMenu.classed("tsi-hierarchyContextMenu",!0);var r=Fe(n.hierarchyList.node()),a=Fe(e.node());n.contextMenu.attr("style",(function(){return"top: "+(r[1]-a[1])+"px"})),e.classed("tsi-resultSelected",!0),n.hierarchyList.selectAll(".tsi-noPad").on("scroll",(function(){n.closeContextMenu()}))}else n.clickedNode=null;else{var o=e.append("ul");t.children.forEach((function(e){if(i||e.selfInFilter||e.childrenInFilter||t.isExpanded&&0==n.filterText.length){var r=n,a=o.append("li").classed("tsi-leaf",e.isLeaf).classed("tsi-leafParent",e.isLeafParent&&n.withContextMenu).classed("tsi-selected",e.isSelected).on("click",(function(){if(e.isLeaf){for(var t=e.parent;t!=this.root;)t.isExpanded=!0,t=t.parent;e.isSelected=!e.isSelected,e.click(e);var n=Pe(this);e.colorify(n),n.classed("tsi-selected",e.isSelected)}else r.expandCollapseList(e,Pe(this),!0);xe.stopPropagation()}));a.append("span").classed("tsi-caret",!0).attr("style","left: "+18*(e.level-1)+"px"),a.append("span").classed("tsi-markedName",!0).html(e.markedName).attr("style","padding-left: "+(40+18*(e.level-1)-(e.isLeafParent&&n.withContextMenu?16:0))+"px").attr("title",e.isLeafParent&&n.withContextMenu?e.name:""),e.colorify(a),!e.isExpanded&&!e.childrenInFilter||e.isLeaf||n.expandCollapseList(e,a)}})),t.isExpanded=t.isExpanded||i||t==n.root,e.classed("tsi-expanded",!0)}else e.selectAll("ul").remove(),e.classed("tsi-expanded",!1),t.isExpanded=!1},n}return Rb(e,t),e.prototype.render=function(e,n){var i,r=this,a=this,o=Pe(this.renderTarget).classed("tsi-hierarchy",!0);o.html(""),this.chartOptions.setOptions(n),t.prototype.themify.call(this,o,this.chartOptions.theme),this.withContextMenu=this.chartOptions.withContextMenu,this.root=this.buildTree(e),this.root.isExpanded=!0,Pe("html").on("click."+uM.guid(),(function(){r.clickedNode&&xe.target!=r.clickedNode&&r.contextMenu&&(r.closeContextMenu(),r.clickedNode=null)}));var s=o.append("div").classed("tsi-filterWrapper",!0).append("input").attr("placeholder","Search...").on("input",(function(){var t=this;clearTimeout(i),i=setTimeout((function(){if(a.filterText=t.value.trim(),1!=a.filterText.length){var e=a.filterText.split("/");if(a.root.filter(e[0]),e.length>1)for(var n=1;n<e.length;n++)if(e[n].length){var i=a.root.traverse((function(t){return t.selfInFilter}));i.forEach((function(t){var i=t.markedName;t.filter(e[n],!1),t.markedName=i})),i.forEach((function(t){t.childrenInFilter||(t.selfInFilter=!1)}))}h.selectAll("ul").remove(),h.classed("tsi-expanded",!1),a.root.childrenInFilter=a.root.childrenInFilter||0==a.filterText.length,0==a.root.childrenInFilter?h.append("ul").append("div").text(a.getString("No filter results")):a.expandCollapseList(a.root,h,!1),h.select("ul").classed("tsi-noPad",!0)}}),250)})),c=o.append("div").classed("tsi-navTabWrapper",!0),l=c.append("div").classed("tsi-navTab tsi-selected",!0).text(this.getString("All hierarchies")),u=c.append("div").classed("tsi-navTab",!0).text(this.getString("Selected")),h=o.append("div").classed("tsi-hierarchyList",!0);this.hierarchyList=h,l.on("click",(function(){l.classed("tsi-selected")||(l.classed("tsi-selected",!0),u.classed("tsi-selected",!1),h.html("").classed("tsi-expanded",!1),r.expandCollapseList(r.root,h,!0),h.select("ul").classed("tsi-noPad",!0),s.attr("disabled",null))})),u.on("click",(function(){if(!u.classed("tsi-selected")){l.classed("tsi-selected",!1),u.classed("tsi-selected",!0),h.html("");var t=h.append("ul").classed("tsi-noPad",!0);r.root.traverse((function(t){return t.isSelected})).forEach((function(e){var n=t.append("li").classed("tsi-leaf",e.isLeaf).classed("tsi-selected",e.isSelected).on("click",(function(){e.isSelected=!e.isSelected,Pe(this).classed("tsi-selected",e.isSelected),e.click(e),e.colorify(Pe(this))}));n.append("span").text(e.name).classed("tsi-markedName",!0),e.colorify(n)})),s.attr("disabled",!0)}})),this.expandCollapseList(this.root,h,!1),h.select("ul").classed("tsi-noPad",!0)},e.prototype.buildTree=function(t){var e=function(t,n,i,r){void 0===r&&(r=null);var a=new Bb(n,i);return a.parent=r,t.hasOwnProperty("$leaf")?(a.isLeaf=!0,t.hasOwnProperty("click")&&(a.click=t.click),t.hasOwnProperty("color")&&(a.color=t.color),a.parent.isLeafParent=!0):Object.keys(t).sort().forEach((function(n){a.children.push(e(t[n],n,i+1,a))})),a};return e(t,"",0)},e.prototype.closeContextMenu=function(){this.contextMenu&&this.contextMenu.remove(),He(".tsi-resultSelected").classed("tsi-resultSelected",!1)},e}($v),Yb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wb=function(){return(Wb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},jb=function(t){function e(e,n,i,r,a,o,s,c){void 0===a&&(a=null);var l=t.call(this,"object"==typeof o&&o?Wb(Wb({},o),{searchSpan:r,measureTypes:i}):{color:o,searchSpan:r,measureTypes:i,alias:s,contextMenu:c})||this;return l.visibleSplitByCap=10,l.predicate=e,l.splitByObject=a,l.measureObject=1==i.length&&"count"==i[0]||"Events Count"==n.property?{count:{}}:{input:n},l}return Yb(e,t),e.prototype.toTsx=function(t){var e=this;void 0===t&&(t=!1);var n={},i=uM.parseShift(this.timeShift,this.startAt,this.searchSpan),r=this.searchSpan.from.valueOf()+i,a=this.searchSpan.to.valueOf()+i,o=uM.parseTimeInput(this.searchSpan.bucketSize),s=Math.floor((r+621355968e5)/o)*o-621355968e5,c=Math.ceil((a+621355968e5)/o)*o-621355968e5;t&&(r=s,a=c),n.searchSpan={from:new Date(r).toISOString(),to:new Date(a).toISOString()};var l=this.measureObject.hasOwnProperty("count")?[{count:{}}]:this.measureTypes.reduce((function(t,n){var i={};return"count"==n?i={count:{}}:i[n]=e.measureObject,t.push(i),t}),[]),u={},h={dateHistogram:{input:{builtInProperty:"$ts"},breaks:{size:this.searchSpan.bucketSize}}};if(null!=this.splitByObject){var p=Math.ceil((c-s)/o);u.dimension={uniqueValues:{input:this.splitByObject,take:Math.floor(15e4/p)}},u.aggregate={dimension:h,measures:l}}else u.dimension=h,u.measures=l;var d,f=[u];return n.aggregates=f,d=this.measureObject.hasOwnProperty("count")?this.predicate:{and:[this.predicate,{not:{eq:{left:this.measureObject.input,right:{double:null}}}}]},n.predicate=d,n},e}(NM),Fb=(n(164),n(165),function(){function t(t,e){var n=this;this.visibleSBs=[],this.timeStamps=[],this.numRows=0,this.numCols=0,this.aggKey=e,this.chartComponentData=t,this.chartComponentData.isFromHeatmap=!0,this.visibleSBs=Object.keys(this.chartComponentData.displayState[e].splitBys).filter((function(t){return n.chartComponentData.getSplitByVisible(e,t)})),this.numRows=this.visibleSBs.length,this.from=new Date(t.displayState[e].aggregateExpression.searchSpan.from),this.to=new Date(t.displayState[e].aggregateExpression.searchSpan.to),this.bucketSize=uM.parseTimeInput(t.displayState[e].aggregateExpression.searchSpan.bucketSize),this.createTimeValues()}return t.prototype.adjustStartTime=function(){return new Date(uM.adjustStartMillisToAbsoluteZero(new Date(this.from).valueOf(),this.bucketSize))},t.prototype.createTimeValues=function(){var t=this;this.timeValues={},this.allValues=[];for(var e=0,n=this.adjustStartTime();n.valueOf()<this.to.valueOf();n=new Date(n.valueOf()+this.bucketSize))this.timeValues[n.toISOString()]=this.visibleSBs.reduce((function(t,n,i){return t[n]={colI:e,rowI:i,value:null},t}),{}),e+=1;this.numCols=Object.keys(this.timeValues).length,this.visibleSBs.forEach((function(e,n){t.chartComponentData.timeArrays[t.aggKey][e].forEach((function(n,i){var r=new Date(n.dateTime.valueOf()).toISOString(),a=t.chartComponentData.getVisibleMeasure(t.aggKey,e);t.timeValues[r]&&(t.timeValues[r][e].value=n.measures?n.measures[a]:null,uM.safeNotNullOrUndefined((function(){return n.measures[a]}))&&t.allValues.push(n.measures[a]))}))}))},t}()),Hb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ub=function(t){function e(e){var n=t.call(this,e)||this;return n.gradientWidth=8,n.focusedXIndex=-1,n.focusedYIndex=-1,n.legendWidth=80,n}return Hb(e,t),e.prototype.renderScale=function(){var t=this;if(this.colorLegend.selectAll("*").remove(),null!==this.colorScale.domain()&&!isNaN(this.colorScale.domain()[0])&&!isNaN(this.colorScale.domain()[1])){for(var e=uM.guid(),n=this.colorLegend.append("defs").append("linearGradient").attr("id","gradient"+this.aggI+e).attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%"),i=function(e){return e*(t.colorScale.domain()[1]-t.colorScale.domain()[0])+t.colorScale.domain()[0]},r=0;r<=20;r++){var a=this.colorScale(i(r/20));n.append("stop").attr("offset",5*r+"%").attr("stop-color",a).attr("stop-opacity",1)}var o=this.colorLegend.append("rect").attr("x",this.legendWidth-this.gradientWidth).attr("y",6).attr("width",this.gradientWidth).attr("height",Math.max(0,this.height-12)).style("fill","url(#gradient"+String(this.aggI)+e+")"),s=null,c=this.colorScale.domain()[1]-this.colorScale.domain()[0],l=this.colorLegend.append("text").attr("class","highlightedValueText"),u=this.colorLegend.append("line").attr("class","highlightedValueLine"),h=this.colorLegend.append("text"),p=this.colorLegend.append("text"),d=function(e,n){var i;i=0==c?.5:null!=t.highlightedValue?(t.highlightedValue-t.colorScale.domain()[0])/c:0,s=t.height-6+(12-t.height)*i,n.attr("x",t.legendWidth-t.gradientWidth-10).attr("y",s).style("stroke-width",2).text(uM.formatYAxisNumber(t.highlightedValue)),e.attr("x1",t.legendWidth-t.gradientWidth-5).attr("x2",t.legendWidth).attr("y1",s).attr("y2",s).style("stroke-width",2),h.attr("fill-opacity",null==s||s<t.height-18?1:0),p.attr("fill-opacity",null==s||s>18?1:0)};h.attr("x",this.legendWidth-this.gradientWidth-5).attr("y",this.height-6).text(uM.formatYAxisNumber(this.colorScale.domain()[0])).attr("fill-width",null==s||s<this.height-18?1:0),p.attr("x",this.legendWidth-this.gradientWidth-5).attr("y",6).text(uM.formatYAxisNumber(this.colorScale.domain()[1])).attr("fill-opacity",null==s||s>18?1:0),this.highlightedTime&&null!=this.highlightedSplitBy&&null!=this.highlightedValue&&(d(u,l),h.attr("fill-opacity",null==s||s<this.height-18?1:0),p.attr("fill-opacity",null==s||s>18?1:0));var f=this;o.on("mousemove",(function(){var t=1-(Fe(this)[1]-6)/(f.height-12);f.highlightedValue=f.colorScale.domain()[0]+c*t,d(u,l)})).on("mouseleave",(function(){t.render(t.data,t.chartOptions,t.aggKey,null,null,t.onCellFocus,null,t.isOnlyAgg)}))}},e.prototype.getExtent=function(){var t=L(this.heatmapData.allValues),e=t;return t[0]===t[1]&&(e=[t[0]-.05,t[1]+.05]),e},e.prototype.render=function(e,n,i,r,a,o,s,c){var l=this;void 0===r&&(r=null),void 0===a&&(a=null),this.chartOptions.setOptions(n),this.aggKey=i,this.data=e,this.isOnlyAgg=c,null!=s&&(this.aggI=s),this.heatmapData=new Fb(e,i);var u=Pe(this.renderTarget).classed("tsi-heatmapCanvasWrapper",!0);t.prototype.themify.call(this,u,this.chartOptions.theme),null!=r&&(this.highlightedSplitBy=r),this.highlightedTime=a,null!=this.highlightedSplitBy&&this.highlightedTime&&null!=this.heatmapData.timeValues[this.highlightedTime.toISOString()][this.highlightedSplitBy]&&(this.highlightedValue=this.heatmapData.timeValues[this.highlightedTime.toISOString()][this.highlightedSplitBy].value),o&&(this.onCellFocus=o),u.select("canvas").empty()?this.canvas=u.append("canvas").attr("class","tsi-heatmapCanvas"):this.canvas=u.select("canvas"),this.width=Math.floor(u.node().getBoundingClientRect().width-this.legendWidth-10),this.height=Math.floor(u.node().getBoundingClientRect().height),this.canvas.attr("width",this.width),this.canvas.attr("height",this.height),this.ctx=this.canvas.node().getContext("2d"),this.ctx.clearRect(0,0,this.width,this.height),u.selectAll("svg").remove();var h=this;this.canvas.on("mousemove",(function(){var t=Fe(this),e=!1,n=h.calcCellXIndex(t[0]),r=h.calcCellYIndex(t[1]),a=Object.keys(h.data.displayState[i].splitBys).filter((function(t){return h.data.isSplitByVisible(h.aggKey,t)}));n!=h.focusedXIndex&&(h.focusedXIndex=n,e=!0),r!=h.focusedYIndex&&(h.focusedYIndex=r,e=!0);var o=a[h.focusedYIndex];if(e&&h.focusedXIndex>=0&&h.focusedYIndex>=0){var s=h.calcCellX(h.focusedXIndex),c=Object.keys(h.heatmapData.timeValues).sort((function(t,e){return new Date(t).valueOf()<new Date(e).valueOf()?-1:1})),l=new Date(c[h.focusedXIndex]);this.highlightedTime=l,h.onCellFocus(l,new Date(l.valueOf()+h.heatmapData.bucketSize),Math.max(0,s),s+h.calcCellWidth(h.focusedXIndex),h.calcCellY(h.focusedYIndex),o)}h.render(h.data,h.chartOptions,h.aggKey,o,this.highlightedTime,h.onCellFocus,null,h.isOnlyAgg)})).on("mouseout",(function(){h.focusedXIndex=-1,h.focusedYIndex=-1,h.render(h.data,h.chartOptions,h.aggKey,null,null,h.onCellFocus,null,h.isOnlyAgg)})),this.aggKey=i,this.rawCellHeight=Math.floor(this.height/this.heatmapData.numRows),this.cellHeightMod=this.height%this.heatmapData.numRows,this.rawCellWidth=this.width/this.heatmapData.numCols,this.cellWidthMod=this.width%this.heatmapData.numCols,this.colorLegend=u.append("svg").attr("class","tsi-heatmapColorLegend"),this.colorLegend.attr("width",this.legendWidth).attr("height",this.height).style("left",this.width+"px");var p=e.displayState[i].color;this.colorScale=c?wg(vg).domain(this.getExtent()):Up().domain(this.getExtent()).range([Pn.c(p).brighter(),Pn.c(p).darker()]),this.renderScale(),Object.keys(this.heatmapData.timeValues).sort((function(t,e){return new Date(t).valueOf()<new Date(e).valueOf()?-1:1})).forEach((function(t,e){Object.keys(l.heatmapData.timeValues[t]).forEach((function(e,n){var i=l.heatmapData.timeValues[t][e];null!=i&&(r&&r!=e?l.drawCell(i.rowI,i.colI,i.value,!0):l.drawCell(i.rowI,i.colI,i.value))}))}))},e.prototype.calcCellXIndex=function(t){for(var e=0;Math.round(e*this.rawCellWidth)<t;)e++;return Math.max(e-1,0)},e.prototype.calcCellYIndex=function(t){if(t<this.cellHeightMod*(this.rawCellHeight+1))return Math.floor(t/(this.rawCellHeight+1));var e=this.cellHeightMod*(this.rawCellHeight+1);return Math.floor((t-e)/this.rawCellHeight)+this.cellHeightMod},e.prototype.calcCellHeight=function(t){return this.rawCellHeight+(t<this.cellHeightMod?1:0)-(this.rawCellWidth>10?1:0)},e.prototype.calcCellX=function(t){return Math.round(this.rawCellWidth*t)},e.prototype.calcCellWidth=function(t){return Math.round(this.rawCellWidth*(t+1))-Math.round(this.rawCellWidth*t)-(this.rawCellWidth>10?1:0)},e.prototype.calcCellY=function(t){return Math.min(t,this.cellHeightMod)+this.rawCellHeight*t},e.prototype.drawCell=function(t,e,n,i){void 0===i&&(i=!1);this.calcCellX(e),this.calcCellY(t);this.ctx.fillStyle=null!==n?this.colorScale(n):"transparent",this.ctx.globalAlpha=i?.3:1,this.ctx.fillRect(this.calcCellX(e),this.calcCellY(t),this.calcCellWidth(e),this.calcCellHeight(t))},e}(DM),Xb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vb=function(){return(Vb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Gb=function(t){function e(e){var n=t.call(this,e)||this;return n.lineHeight=12,n.splitByLabelWidth=140,n.timeLabels=null,n.timeLabelsHeight=52,n.visibleAggs=null,n.mouseover=function(t,e){var i=n.heatmapCanvasMap[t];i&&i.render(n.chartComponentData,n.chartOptions,t,e,null,null,null,1===n.visibleAggs.length)},n.mouseout=function(t,e){var i=n.heatmapCanvasMap[e];i&&i.render(n.chartComponentData,n.chartOptions,e,null,null,null,null,1===n.visibleAggs.length)},n.renderTimeLabels=function(t,e,i,r,a,o,s){n.timeLabels.selectAll(".tsi-heatmapTimeLabels").remove(),n.timeLabels.node().parentNode.appendChild(n.timeLabels.node()),n.timeLabels.append("line").attr("class","tsi-heatmapFocusLine tsi-heatmapTimeLabels").attr("x1",i).attr("x2",i).attr("y1",a+o).attr("y2",n.chartHeight-n.timeLabelsHeight),n.timeLabels.append("line").attr("class","tsi-heatmapFocusLine tsi-heatmapTimeLabels").attr("x1",r).attr("x2",r).attr("y1",a+o).attr("y2",n.chartHeight-n.timeLabelsHeight);var c=n.timeLabels.append("g").attr("class","tsi-heatmapTimeLabelTextBox tsi-heatmapTimeLabels"),l=c.append("text");l.append("tspan").text(uM.timeFormat(n.chartComponentData.usesSeconds,n.chartComponentData.usesMillis,n.chartOptions.offset,n.chartOptions.is24HourTime,s,null,n.chartOptions.dateLocale)(t)).attr("x",0).attr("y",16),l.append("tspan").text(uM.timeFormat(n.chartComponentData.usesSeconds,n.chartComponentData.usesMillis,n.chartOptions.offset,n.chartOptions.is24HourTime,s,null,n.chartOptions.dateLocale)(e)).attr("x",0).attr("y",30);var u=l.node().getBoundingClientRect();c.append("rect").attr("x",-u.width/2-5).attr("y",0).attr("height",u.height+12).attr("width",u.width+10),l.node().parentNode.appendChild(l.node());var h=(i+r)/2,p=Math.floor(h-(u.width/2+6)>0?h:u.width/2+6);c.attr("transform","translate("+p+","+(n.chartHeight-n.timeLabelsHeight-n.chartMargins.bottom)+")")},n.chartMargins={top:0,bottom:8,left:40,right:20},n}return Xb(e,t),e.prototype.focusOnEllipsis=function(){null!==this.ellipsisContainer&&this.ellipsisContainer.select(".tsi-ellipsisButton").node().focus()},e.prototype.createControlsPanel=function(){this.chartControlsPanel=uM.createControlPanel(this.renderTarget,this.CONTROLSWIDTH,52,this.chartOptions),this.ellipsisContainer=this.chartControlsPanel.append("div").attr("class","tsi-ellipsisContainerDiv"),this.ellipsisMenu=new gM(this.ellipsisContainer.node())},e.prototype.chartControlsExist=function(){return this.ellipsisItemsExist()&&!this.chartOptions.hideChartControlPanel},e.prototype.addTimeLabels=function(){if(null!==this.timeLabels&&null!==this.svgSelection||(this.svgSelection=this.heatmapWrapper.append("svg").attr("class","tsi-heatmapSVG").attr("title",this.getString("Heatmap")),this.timeLabels=this.svgSelection.append("g").attr("class","tsi-heatmapTimeLabels").attr("transform","translate("+this.chartMargins.left+",0)")),!this.chartOptions.xAxisHidden){this.xAxis=this.timeLabels.selectAll(".xAxis").data([this.x]),this.drawXAxis(this.chartHeight-60),this.xAxis.exit().remove();var t=this.timeLabels.selectAll(".xAxisBaseline").data([this.x]);t.enter().append("line").attr("class","xAxisBaseline").attr("x1",.5).merge(t).attr("y2",this.chartHeight-(this.chartMargins.bottom+this.timeLabelsHeight)).attr("y1",this.chartHeight-(this.chartMargins.bottom+this.timeLabelsHeight)).attr("x2",this.chartWidth-90);t.exit().remove()}0!==this.timeLabels.selectAll(".xAxis").size()&&this.timeLabels.selectAll(".xAxis").style("visibility",this.chartOptions.xAxisHidden?"hidden":"visible")},e.prototype.render=function(e,n,i){var r=this;t.prototype.render.call(this,e,n,i),this.aggregateExpressionOptions=this.aggregateExpressionOptions.map((function(t){return Vb(Vb({},t),{visibleSplitByCap:1e4})})),this.chartOptions.setOptions(n);var a=Pe(this.renderTarget).classed("tsi-heatmapComponent",!0);"static"==a.style("position")&&a.style("position","relative"),this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.aggregateExpressionOptions),this.chartControlsExist()&&null===this.chartControlsPanel?this.createControlsPanel():!this.chartOptions.hideChartControlPanel&&this.ellipsisItemsExist()||null===this.chartControlsPanel||(this.chartControlsPanel.remove(),this.chartControlsPanel=null),this.chartControlsExist()&&(this.chartControlsPanel.style("top",16+("compact"===this.chartOptions.legend?32:0)+"px"),this.drawEllipsisMenu()),null==this.heatmapWrapper&&(this.heatmapWrapper=a.append("div").attr("class","tsi-heatmapWrapper"),this.draw=function(e){void 0===e&&(e=!1),r.height=Math.floor(Math.max(Pe(r.renderTarget).node().clientHeight,r.MINHEIGHT)),r.chartHeight=r.height-(12+(r.chartControlsExist()?28:0)+("compact"===r.chartOptions.legend?48:0)),t.prototype.themify.call(r,a,r.chartOptions.theme),r.width=r.getWidth(),e||(r.chartWidth=r.getChartWidth()),r.x=og().rangeRound([0,r.chartWidth-90]);var n=r.chartComponentData.setAllValuesAndVisibleTAs();r.x.domain(n),r.heatmapWrapper.style("width",r.chartWidth+(r.chartMargins.left+r.chartMargins.right)+"px").style("height",r.chartHeight+"px").style("top",20+(r.chartControlsExist()?36:0)+("compact"===r.chartOptions.legend?40:0)+"px"),r.chartControlsExist()&&r.setControlsPanelWidth();var i=r.chartHeight-r.timeLabelsHeight-r.chartMargins.bottom;r.heatmapCanvasMap={},r.visibleAggs=Object.keys(r.chartComponentData.displayState).filter((function(t){return r.chartComponentData.getAggVisible(t)}));var o=r,s=r.heatmapWrapper.selectAll(".tsi-heatmapCanvasWrapper").data(r.visibleAggs);s.enter().append("div").merge(s).attr("class","tsi-heatmapCanvasWrapper").style("width",r.chartWidth+"px").style("left",r.chartMargins.left+"px").style("height",(function(t,e){return i*(1/r.visibleAggs.length)+"px"})).style("top",(function(t,e){return i*(1/r.visibleAggs.length)*e+"px"})).each((function(t,e){var n=new Ub(this);o.heatmapCanvasMap[t]=n;n.render(o.chartComponentData,o.chartOptions,t,null,null,(function(n,r,a,s,c,l){var u=o.chartComponentData.getTemporalShiftMillis(t);o.renderTimeLabels(n,r,a,s,c,e*i/o.visibleAggs.length,u),o.legendObject.triggerSplitByFocus(t,l),o.chartOptions.onMouseover(t,l)}),e,1===o.visibleAggs.length)})).on("mouseleave",(function(){o.timeLabels.selectAll(".tsi-heatmapTimeLabels").remove(),o.legendObject.legendElement.selectAll(".tsi-splitByLabel").classed("inFocus",!1),o.chartOptions.onMouseout()}));s.exit().remove(),r.legendObject.draw(r.chartOptions.legend,r.chartComponentData,r.mouseover,r.heatmapWrapper,r.chartOptions,r.mouseout),r.legendObject.legendElement.selectAll(".seriesLabel").selectAll(".tsi-splitByLabel").selectAll(".colorKey").style("display","none"),e&&r.addTimeLabels()},this.legendObject=new fM(this.draw,this.renderTarget,this.CONTROLSWIDTH)),this.chartComponentData.mergeDataToDisplayStateAndTimeArrays(this.data,this.aggregateExpressionOptions),this.draw(),this.gatedShowGrid(),this.addTimeLabels(),window.addEventListener("resize",(function(){r.chartOptions.suppressResizeListener||(r.draw(),r.addTimeLabels())})),this.legendPostRenderProcess(this.chartOptions.legend,this.heatmapWrapper,!0)},e}(RM),Kb=(n(166),function(t,e,n){void 0===n&&(n=null),this.key=t+"_"+n,this.name=t,this.type=n,this.value=e}),Zb=function(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i="en"),this.cells={},null!==e){var r="DateTime",a=uM.offsetUTC(new Date(Date.parse(t["timestamp ($ts)"].split("Z").join(""))));t[n+"_"+r]={name:n,value:function(){return uM.timeFormat(!0,!0,e,!0,null,null,i)(a)},type:r}}this.cells=Object.keys(t).reduce((function(e,n){var i;return e[(i="timestamp ($ts)"==n?new Kb("timestamp ($ts)",t[n],"DateTime"):new Kb(t[n].name,t[n].value,t[n].type)).key]=i,e}),{})},Jb=function(){function t(){this.columns={},this.rows=[],this.events=[],this.timestampColumnKey="timestamp ($ts)_DateTime",this.offsetName=null,this.maxVisibleToStart=10,this.offsetNameCache={},this.timeSeriesIdProperties=[]}return t.prototype.createOffsetName=function(t){if(t in this.offsetNameCache)return this.offsetNameCache[t];var e="timestamp "+("string"==typeof t?uM.convertTimezoneToLabel(t):uM.formatOffsetMinutes(t));return this.offsetNameCache[t]=e,e},t.prototype.sortColumnKeys=function(){var t=this,e=Object.keys(this.columns),n=Object.values(this.columns).filter((function(t){return t.isTsid})).map((function(t){return t.key}));e=n.concat(e.filter((function(t){return!n.includes(t)})));var i=this.offsetName+"_DateTime",r=e.filter((function(e){return e!==t.timestampColumnKey&&e!==i})),a=[];return-1!==e.indexOf(this.timestampColumnKey)&&a.push(this.timestampColumnKey),-1!==e.indexOf(i)&&a.push(i),a.concat(r)},t.prototype.setEvents=function(t,e,n,i){var r=this;void 0===i&&(i=null),this.timeSeriesIdProperties=n,this.events=[],t.forEach((function(t){e||(t=Object.keys(t).reduce((function(e,n){return e[n]={name:n,value:t[n]},e}),{})),null!==i&&(r.offsetName=r.createOffsetName(i));var n=new Zb(t,i,null!==i?r.offsetName:null);r.events.push(n)})),this.constructColumns()},t.prototype.sortEvents=function(t,e){var n=this.columns[t].type,i=1,r=-1;e||(i=-1,r=1),this.events.sort((function(e,a){if(e.cells&&e.cells[t]||a.cells&&a.cells[t]){var o=e.cells&&e.cells[t]?e.cells[t].value:null,s=a.cells&&a.cells[t]?a.cells[t].value:null;return null==o?r:null==s?i:("Double"==n?(o=Number(o),s=Number(s)):"DateTime"==n&&(o=new Date(o).valueOf(),s=new Date(s).valueOf()),o>s?i:o<s?r:0)}return 0}))},t.prototype.constructColumns=function(){var t=this,e=this.timeSeriesIdProperties.map((function(t){return t.name+"_"+t.type})),n={};this.events.forEach((function(i){Object.keys(i.cells).forEach((function(r){var a=i.cells[r];null==t.columns[a.key]?n[a.key]={key:a.key,name:a.name,visible:!0,type:a.type,isTsid:e.includes(a.key)}:n[a.key]=t.columns[a.key]}))}));var i=Object.values(n).filter((function(t){return t.isTsid})).length;Object.keys(n).forEach((function(e){n[e].isTsid?n[e].visible=!0:(n[e].visible=i<t.maxVisibleToStart,i++)})),this.columns=n},t.prototype.generateCSVString=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=0);var n=function(t){return t.slice(0,t.length-1)+"\n"},i=this.sortColumnKeys(),r=n(i.reduce((function(t,e){return t+uM.sanitizeString(e,Wv.String)+","}),""));return this.events.forEach((function(t){r+=n(i.reduce((function(e,n){var i=t.cells[n]?"function"==typeof t.cells[n].value?t.cells[n].value():t.cells[n].value:null;return e+(null!=t.cells[n]&&null!==uM.sanitizeString(i,t.cells[n].type)?uM.sanitizeString(i,t.cells[n].type):"")+","}),""))})),r},t}(),Qb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$b=function(t){function e(e){var n=t.call(this,e)||this;return n.maxVisibleIndex=100,n.isAscending=!0,n.timestampColumnName="timestamp ($ts)",n.sortColumn="timestamp ($ts)",n.allSelectedState="all",n.eventsTableData=new Jb,n.margins={left:10,right:10},n}return Qb(e,t),e.prototype.EventsTable=function(){},e.prototype.renderFromEventsTsx=function(t,e){this.render(t,e,!0)},e.prototype.render=function(e,n,i){void 0===i&&(i=!1),this.chartOptions.setOptions(n),this.maxVisibleIndex=100,this.eventsTableData.setEvents(e,i,this.chartOptions.timeSeriesIdProperties,n.offset);var r,a=Pe(this.renderTarget).classed("tsi-tableComponent",!0);(t.prototype.themify.call(this,a,this.chartOptions.theme),null==this.eventsTable)?(r=a.append("div").classed("tsi-tableLeftPanel",!0),this.eventsLegend=r.append("div").classed("tsi-tableLegend",!0),this.eventsLegend.append("ul"),this.eventsTable=a.append("div").classed("tsi-eventsTable",!0),this.eventsTable.append("div").classed("tsi-columnHeaders",!0),this.eventsTable.append("div").classed("tsi-eventRowsContainer",!0).append("table").classed("tsi-eventRows",!0).append("tr")):r=a.select("tsi-tableLeftPanel");this.renderLegend(),this.buildTable(),r.selectAll(".tsi-eventsDownload").remove();var o=r.append("button").attr("class","tsi-eventsDownload tsi-primaryButton").attr("aria-label",this.getString("Download as CSV")).on("click",(function(){var t=this;this.classList.add("tsi-downloading"),setTimeout((function(){uM.downloadCSV(s.eventsTableData.generateCSVString(!0,0),"Events"),t.classList.remove("tsi-downloading")}),100)}));o.append("div").attr("class","tsi-downloadEventsIcon"),o.append("div").attr("class","tsi-downloadEventsText").text(this.getString("Download as CSV"));var s=this;this.eventsTable.select(".tsi-eventRowsContainer").node().scrollLeft=0,this.eventsTable.select(".tsi-eventRowsContainer").node().scrollTop=0,this.eventsTable.select(".tsi-eventRowsContainer").node().addEventListener("scroll",(function(t){if(s.eventsTable.select(".tsi-columnHeaders").node().scrollLeft=this.scrollLeft,this.scrollTop+this.clientHeight>this.scrollHeight-100){var e=s.maxVisibleIndex;s.maxVisibleIndex+=Math.min(100,s.eventsTableData.events.length-s.maxVisibleIndex),s.maxVisibleIndex!=e&&s.buildTable()}}),!1)},e.prototype.renderLegend=function(){var t=this;this.eventsLegend.html(""),this.eventsLegend.append("ul");var e=this.eventsTableData.sortColumnKeys().map((function(e){return t.eventsTableData.columns[e]}));if(this.setSelectAllState(),e.length>2){var n=this.eventsLegend.select("ul").append("li").attr("class","tsi-selectAllColumns");n.append("button").attr("class","tsi-columnToggleButton").attr("aria-label",(function(){t.getSelectAllState();return t.getString("Toggle all columns")})).on("click",(function(){var e=!1;"all"!=t.getSelectAllState()&&(e=!0),Object.keys(t.eventsTableData.columns).forEach((function(n){e?t.eventsTableData.columns[n].visible=!0:n!=t.timestampColumnName&&(t.eventsTableData.columns[n].visible=!1)})),t.setLegendColumnStates(),t.buildTable()})),n.append("span").attr("class","tsi-columnToggleCheckbox"),n.append("span").attr("class","tsi-selectAllSomeState"),n.append("span").attr("class","tsi-columnToggleName").text(this.getString("All Columns"))}var i=this.eventsLegend.select("ul").selectAll(".tsi-columnToggle").data(e),r=i.enter().append("li").classed("tsi-columnToggle",!0).merge(i),a=this;r.each((function(t){if(Pe(this).append("button").attr("class","tsi-columnToggleButton").attr("aria-label",(function(t){return"toggle column "+t.key})).on("click",(function(t){t.visible=!t.visible,a.setLegendColumnStates(),a.buildTable()})),Pe(this).append("div").attr("class","tsi-columnToggleCheckbox"),t.isTsid){var n=Pe(this).append("div").attr("class","tsi-columnTypeIcons");n.append("span").attr("class","tsi-columnTypeIcon").classed("tsid",!0).attr("title",a.getString("Time Series ID")),n.append("span").attr("class","tsi-columnTypeIcon").classed(t.type,!0)}else Pe(this).append("div").attr("class","tsi-columnTypeIcon").classed(t.type,!0);Pe(this).select("button").append("div").attr("class","tsi-onlyLabel").text(a.getString("only")).attr("tabindex","0").attr("role","button").on("click",(function(t){xe.stopPropagation(),e.forEach((function(e){e.key==t.key?e.visible=!0:e.visible=!1})),a.setLegendColumnStates(),a.buildTable()})),Pe(this).append("div").attr("class","tsi-columnToggleName").classed("tsidPropertyName",(function(t){return t.isTsid})).text((function(t){return e.filter((function(e){return e.name===t.name})).length>1?t.name+" ("+t.type+")":t.name}))})),this.setLegendColumnStates(),i.exit().remove()},e.prototype.setLegendColumnStates=function(){this.eventsLegend.select("ul")&&this.eventsLegend.select("ul").selectAll(".tsi-columnToggle").each((function(){Pe(this).select(".tsi-columnToggleCheckbox").classed("tsi-notSelected",(function(t){return!t.visible}))})),this.setSelectAllState()},e.prototype.getSelectAllState=function(){var t=this,e=Object.keys(this.eventsTableData.columns).reduce((function(e,n){return n==t.timestampColumnName?e:null==e?t.eventsTableData.columns[n].visible?"all":"none":"some"==e?"some":e==(t.eventsTableData.columns[n].visible?"all":"none")?e:"some"}),null);return null==e&&(e="none"),e},e.prototype.setSelectAllState=function(){var t=this.getSelectAllState(),e=this.eventsLegend.select("ul").select(".tsi-selectAllColumns");e.select(".tsi-columnToggleCheckbox").classed("tsi-notSelected",(function(){return"all"!==t})),e.select(".tsi-columnToggleButton").attr("aria-label","all"!==t?this.getString("Toggle all columns on"):this.getString("Toggle all columns off")),this.eventsLegend.select("ul").select(".tsi-selectAllColumns").select(".tsi-selectAllSomeState").style("visibility",(function(){return"some"==t?"visible":"hidden"}))},e.prototype.getFilteredColumnKeys=function(){var t=this;return this.eventsTableData.sortColumnKeys().filter((function(e){return t.eventsTableData.columns[e].visible}))},e.prototype.buildHeaders=function(t,e){var n=this;void 0===e&&(e=null);this.eventsTable.select(".tsi-columnHeaders").html("");var i=this,r=this.eventsTable.select(".tsi-columnHeaders").selectAll(".tsi-columnHeader").data(t),a=function(t){return!(!t.includes("timestamp")||!t.includes("")&&!t.includes("-")||t.includes("$ts"))||null},o=r.enter().append("div").classed("tsi-columnHeader",!0).classed("tsi-columnHeaderDisabled",a).each((function(t){var e,r;if(Pe(this).append("span").classed("tsi-columnHeaderName",!0).classed("moreMarginRight",(function(t){return i.eventsTableData.columns[t].isTsid})).text((e=t,r=n.eventsTableData.columns[e].name,n.eventsTableData.columns.hasOwnProperty(r+"_Long")&&n.eventsTableData.columns.hasOwnProperty(r+"_Double")?i.eventsTableData.columns[t].name+" ("+i.eventsTableData.columns[t].type+")":i.eventsTableData.columns[t].name)),Pe(this).append("span").attr("class","tsi-columnSortIcon").classed("moreRight",i.eventsTableData.columns[t].isTsid).classed("up",i.sortColumn==t&&i.isAscending).classed("down",i.sortColumn==t&&!i.isAscending),i.eventsTableData.columns[t].isTsid){var o=Pe(this).append("div").attr("class","tsi-columnTypeIcons");o.append("span").attr("class","tsi-columnTypeIcon").classed("tsid",!0).attr("title",i.getString("Time Series ID")),o.append("span").attr("class","tsi-columnTypeIcon").classed(i.eventsTableData.columns[t].type,!0)}else Pe(this).append("span").attr("class","tsi-columnTypeIcon").classed(i.eventsTableData.columns[t].type,!0);JSON.parse(JSON.stringify(t));Pe(this).append("button").attr("class","tsi-sortColumnButton").attr("aria-label",(function(t){return"Sort by column "+t})).on("click",(function(e,n){i.sortColumn==t?i.isAscending=!i.isAscending:i.isAscending=!1,i.sortColumn=t,i.eventsTableData.sortEvents(t,i.isAscending),i.buildTable(e),i.eventsTable.select(".tsi-columnHeaders").node().scrollLeft=i.eventsTable.select(".tsi-eventRowsContainer").node().scrollLeft})).attr("disabled",a)})),s={};if(o.each((function(t){s[t]=Pe(this).node().getBoundingClientRect().width})),r.exit().remove(),null!==e){var c=Pe(o.filter((function(t){return t===e})).nodes()[0]);c&&c.select("button").node().focus()}return s},e.prototype.adjustHeaderWidth=function(t){var e=this.eventsTable.select(".tsi-eventRowsContainer").node(),n=e.getBoundingClientRect().width-e.clientWidth;this.eventsTable.select(".tsi-columnHeaders").style("width","calc(100% - "+n+"px)"),this.eventsTable.select(".tsi-columnHeaders").selectAll(".tsi-columnHeader").style("width",(function(e){return t[e]?t[e]-17+"px":Pe(this).style("width")}))},e.prototype.buildTable=function(t){var e=this;void 0===t&&(t=null);var n=this.getFilteredColumnKeys(),i=this.buildHeaders(n,t);this.eventsTable.select("table").html("");var r=this,a=this.eventsTableData.events.slice(0,this.maxVisibleIndex);this.eventsTable.select("table").append("tr").classed("tsi-eventRow",!0).selectAll("td").data(n).enter().append("td").classed("tsi-eventCell",!0).text((function(t){return e.eventsTableData.columns[t].name}));var o=this.eventsTable.select("table").selectAll("tsi-eventRow").data(a),s=o.enter().append("tr").classed("tsi-eventRow",!0).merge(o).each((function(t){var e=n.map((function(e){return t.cells[e]?t.cells[e]:{key:e,value:null}})),a=Pe(this).selectAll("td").data(e);a.enter().append("td").classed("tsi-eventCell",!0).style("min-width",(function(t){return null!=i[t.key]?Math.ceil(i[t.key])+"px":"none"})).text((function(t){return r.formatValue(t.value,t.type)}));a.exit().remove()}));s.size()>0&&s.filter((function(t,e){return 0===e})).selectAll("td").each((function(t){var e=Pe(this).node().getBoundingClientRect().width;i[t.key]=e>i[t.key]?e:i[t.key]}));o.exit().remove(),this.adjustHeaderWidth(i)},e.prototype.formatValue=function(t,e){if("Dynamic"===e)return JSON.stringify(t);if("DateTime"!==e||null==t)return t;if("function"==typeof t)return t();var n=uM.timeFormat(!0,!0,0,this.chartOptions.is24HourTime,null,null,this.chartOptions.dateLocale),i=new Date(t.split("Z").join(""));return n(uM.offsetUTC(i))},e}(DM),tx=(n(167),n(141),n(168),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ex=function(t){function e(e){var n=t.call(this,e)||this;return n.chartOptions=new Qv,n.server=new pM,n}return tx(e,t),e.prototype.render=function(e,n,i){var r=this;this.chartOptions.setOptions(i);var a=Pe(this.renderTarget);a.html("");var o=a.append("div").attr("class","tsi-modelAutocompleteWrapper");t.prototype.themify.call(this,o,this.chartOptions.theme);var s=o.append("div").attr("class","tsi-search");s.append("i").classed("tsi-search-icon",!0);var c=s.append("input").attr("class","tsi-searchInput").attr("aria-label",this.getString("Search Time Series Instances")).attr("aria-describedby","tsi-search-desc").attr("role","combobox").attr("aria-owns","tsi-search-results").attr("aria-expanded","false").attr("aria-haspopup","listbox").attr("placeholder",this.getString("Search Time Series Instances")+"..."),l=s.append("div").attr("class","tsi-clear").attr("tabindex","0").attr("role","button").attr("aria-label","Clear Search").on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||(c.node().value="",p=!0,c.dispatch("input"),f.ap.close(),Pe(this).classed("tsi-shown",!1))}));s.append("span").attr("id","tsi-search-desc").style("display","none").text(this.getString("Search suggestion instruction")),s.append("div").attr("class","tsi-search-results-info").attr("aria-live","assertive");var u=window.Awesomplete;this.ap=new u(c.node(),{minChars:1});var h,p=!1,d=!1;c.node().addEventListener("awesomplete-selectcomplete",(function(t){p=!0,c.dispatch("input"),r.ap.close(),d=!0})),c.on("keydown",(function(){r.chartOptions.onKeydown(xe,r.ap)})),c.node().addEventListener("keyup",(function(t){d?d=!1:13===(t.which||t.keyCode)&&(p=!0,c.dispatch("input"))}));var f=this;c.on("input",(function(){(h=this.value).replace(/ /g,"")&&!p?n().then((function(t){f.server.getTimeseriesInstancesSuggestions(t,e,h).then((function(t){f.ap.list=t.suggestions.map((function(t){return t.searchString})),f.ap.ul.setAttribute("role","listbox"),f.ap.ul.setAttribute("tabindex","0"),f.ap.ul.setAttribute("id","tsi-search-results"),f.ap.ul.querySelectorAll("li").forEach((function(t){t.setAttribute("role","option"),t.setAttribute("tabindex","-1")}));var e=document.getElementsByClassName("tsi-search-results-info")[0];e.innerText=f.ap.suggestions&&f.ap.suggestions.length?f.ap.suggestions.length+f.getString("Search suggestions available"):f.getString("No results"),setTimeout((function(){e.innerText=""}),1e3)}))})):f.ap.close(),f.chartOptions.onInput(h,p?{which:13}:xe),p=!1,l.classed("tsi-shown",h.length)}))},e}($v),nx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ix=function(){return(ix=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},rx=function(t){function e(e){var n=t.call(this,e)||this;return n.usedContinuationTokens={},n.currentResultIndex=-1,n.stripHits=function(t){return t.split("<hit>").map((function(t){return t.split("</hit>").map((function(t){return uM.strip(t)})).join("</hit>")})).join("<hit>")},n.server=new pM,Pe("html").on("click."+uM.guid(),(function(){n.clickedInstance&&xe.target!=n.clickedInstance&&n.contextMenu&&(n.closeContextMenu(),n.clickedInstance=null)})),n}return nx(e,t),e.prototype.ModelSearch=function(){},e.prototype.render=function(e,n,i,r){var a=this;this.chartOptions.setOptions(r);var o,s,c=this,l=Pe(this.renderTarget);l.html(""),this.wrapper=l.append("div").attr("class","tsi-modelSearchWrapper"),t.prototype.themify.call(this,this.wrapper,this.chartOptions.theme);var u=this.wrapper.append("div").attr("class","tsi-modelSearchInputWrapper"),h=new ex(u.node());h.render(e,n,ix({onInput:function(t,e){c.usedContinuationTokens={},0===t.length?(s=t,c.instanceResults.html(""),c.currentResultIndex=-1,y.node().style.display="block",g.node().style.display="none",f.style("display","none")):13!==e.which&&13!==e.keyCode||(y.node().style.display="none",c.instanceResults.html(""),c.currentResultIndex=-1,f.style("display","none"),_(t),s=t)},onKeydown:function(t,e){a.handleKeydown(t,e)}},r));var p=h.ap,d=this.wrapper.append("div").attr("class","tsi-modelSearchResults").on("scroll",(function(){c.closeContextMenu();this.scrollTop+this.clientHeight+150>c.instanceResults.node().clientHeight&&0!==s.length&&_(s,o)})),f=d.append("div").text(this.getString("No results")).classed("tsi-noResults",!0).style("display","none"),m=d.append("div").attr("class","tsi-modelSearchInstancesWrapper");this.instanceResults=m.append("div").attr("class","tsi-modelSearchInstances");var g=m.append("div").attr("class","tsi-showMore").text(this.getString("Show more")+"...").on("click",(function(){return _(s,o)})).style("display","none"),y=this.wrapper.append("div").attr("class","tsi-hierarchyWrapper");new qb(y.node()).render(i,ix(ix({},this.chartOptions),{withContextMenu:!0}));var _=function(t,i){void 0===i&&(i=null);var r=a;"END"!==i&&(null!==i&&r.usedContinuationTokens[i]||(r.usedContinuationTokens[i]=!0,n().then((function(n){r.server.getTimeseriesInstancesSearch(n,e,t,i).then((function(t){var e;Array.isArray(t.instances)?(o=t.instancesContinuationToken,e=t.instances):t.instances.hasOwnProperty("hits")&&(e=t.instances.hits,o=t.instances.hits.continuationToken),o||(o="END"),g.node().style.display="END"!==o?"block":"none",0==e.length?f.style("display","block"):f.style("display","none"),e.forEach((function(t){var e=function(e,n,i,a){if(void 0===a&&(a=!1),r.closeContextMenu(),r.clickedInstance!=e){r.clickedInstance=e,t.type=r.types.filter((function(e){return e.name.replace(/\s/g,"")===(t.highlights.type?t.highlights.type.split("<hit>").join("").split("</hit>").join("").replace(/\s/g,""):t.highlights.typeName.split("<hit>").join("").split("</hit>").join("").replace(/\s/g,""))}))[0];var o=r.chartOptions.onInstanceClick(t);r.contextMenu=r.wrapper.append("div"),Array.isArray(o)||(o=[o]);var s=o.map((function(t){return Object.keys(t).length})).reduce((function(t,e){return t+e}),0),c=0;o.forEach((function(t,e){Object.keys(t).forEach((function(n,i,a){var o=c;r.contextMenu.append("div").text(n).on("click",t[n]).on("keydown",(function(){var t=xe;(13===t.keyCode&&this.click(),13===t.keyCode||37===t.keyCode)&&(r.closeContextMenu(),r.instanceResults.selectAll(".tsi-modelResultWrapper").nodes()[r.currentResultIndex].focus());40===t.keyCode&&o+1<s&&r.contextMenu.node().children[o+1+e+(i===a.length-1?1:0)].focus(),38===t.keyCode&&o>0&&r.contextMenu.node().children[o-1+e-(0===i?1:0)].focus()})).attr("tabindex","0"),c++})),r.contextMenu.append("div").classed("tsi-break",!0)})),r.contextMenu.attr("style",(function(){return"top: "+(n-i)+"px"})),r.contextMenu.classed("tsi-modelSearchContextMenu",!0),Pe(e).classed("tsi-resultSelected",!0),r.contextMenu.node().children.length>0&&a&&r.contextMenu.node().children[0].focus()}else r.clickedInstance=null};a.instanceResults.append("div").html(r.getInstanceHtml(t)).on("click",(function(){var t=Fe(r.wrapper.node()),n=Fe(this);e(this,t[1],n[1])})).on("keydown",(function(){var t=xe;if(13===t.keyCode){for(var n=a.instanceResults.selectAll(".tsi-modelResultWrapper").nodes(),i=0,o=0;o<a.currentResultIndex;o++)i+=n[0].clientHeight;e(a.instanceResults.select(".tsi-modelResultWrapper:focus").node(),i-d.node().scrollTop+48,0,!0)}r.handleKeydown(t,p)})).attr("tabindex","0").classed("tsi-modelResultWrapper",!0)}))}))}))))};n().then((function(t){a.server.getTimeseriesHierarchies(t,e).then((function(t){a.hierarchies=t.hierarchies}))})),n().then((function(t){a.server.getTimeseriesTypes(t,e).then((function(t){a.types=t.types}))}))},e.prototype.handleKeydown=function(t,e){if(!e.isOpened){var n=this.instanceResults.selectAll(".tsi-modelResultWrapper");n.size()&&(40===t.keyCode&&this.currentResultIndex<n.nodes().length-1?(this.currentResultIndex++,n.nodes()[this.currentResultIndex].focus()):38===t.keyCode&&(this.currentResultIndex--,this.currentResultIndex<=-1?(this.currentResultIndex=-1,e.input.focus()):n.nodes()[this.currentResultIndex].focus()))}},e.prototype.closeContextMenu=function(){this.contextMenu&&this.contextMenu.remove(),He(".tsi-resultSelected").classed("tsi-resultSelected",!1)},e.prototype.getInstanceHtml=function(t){var e=this;return'<div class="tsi-modelResult">\n                    <div class="tsi-modelPK">\n                        '+(t.highlights.name?this.stripHits(t.highlights.name):this.stripHits(t.highlights.timeSeriesIds?t.highlights.timeSeriesIds.join(" "):t.highlights.timeSeriesId.join(" ")))+'\n                    </div>\n                    <div class="tsi-modelHighlights">\n                        '+this.stripHits(t.highlights.description&&t.highlights.description.length?t.highlights.description:this.getString("No description"))+"\n                        <br/><table>\n                        "+(t.highlights.name?"<tr><td>"+this.getString("Time Series ID")+"</td><td>"+this.stripHits(t.highlights.timeSeriesIds?t.highlights.timeSeriesIds.join(" "):t.highlights.timeSeriesId.join(" "))+"</td></tr>":"")+"                        \n                        "+t.highlights.instanceFieldNames.map((function(n,i){var r=t.highlights.instanceFieldValues[i];if(-1!==n.indexOf("<hit>")||-1!==r.indexOf("<hit>"))return 0===r.length?"":"<tr><td>"+e.stripHits(n)+"</td><td>"+e.stripHits(r)+"</tr>"})).join("")+"\n                        </table>\n                    </div>\n                </div>"},e}($v),ax=(n(169),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ox=function(){return(ox=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},sx=function(t){function e(e,n,i,r,a,o){var s=this,c="object"==typeof r&&r?ox(ox({},r),{searchSpan:i,measureTypes:Object.keys(n)}):{color:r,searchSpan:i,measureTypes:Object.keys(n),alias:a,contextMenu:o};return(s=t.call(this,c)||this).instanceObject=e,s.variableObject=n,s}return ax(e,t),e.prototype.toTsq=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!1);var i={},r=uM.parseShift(this.timeShift,this.startAt,this.searchSpan),a=this.searchSpan.from.valueOf()+r,o=this.searchSpan.to.valueOf()+r;if(t){var s=uM.parseTimeInput(this.searchSpan.bucketSize);a=Math.floor((a+621355968e5)/s)*s-621355968e5,o=Math.ceil((o+621355968e5)/s)*s-621355968e5}return i.searchSpan={from:new Date(a).toISOString(),to:new Date(o).toISOString()},i.timeSeriesId=this.instanceObject.timeSeriesId,e?{getEvents:i}:n?(i.inlineVariables=ox({},this.variableObject),i.projectedVariables=Object.keys(this.variableObject),{getSeries:i}):(i.interval=uM.bucketSizeToTsqInterval(this.searchSpan.bucketSize),i.inlineVariables=ox({},this.variableObject),i.projectedVariables=Object.keys(this.variableObject),{aggregateSeries:i})},e.prototype.toStatsTsq=function(t,e){var n=this.toTsq(),i=uM.parseShift(this.timeShift);if(t+=i,e+=i,n.aggregateSeries.searchSpan={from:new Date(t).toISOString(),to:new Date(e).toISOString()},n.aggregateSeries.interval="P1000Y","numeric"===this.dataType){var r={min:{},max:{},avg:{},stDev:{}},a=n.aggregateSeries.inlineVariables[Object.keys(n.aggregateSeries.inlineVariables)[0]];Object.keys(r).forEach((function(t){r[t]=JSON.parse(JSON.stringify(a)),r[t].aggregation.tsx=t+"($value)",delete r[t].interpolation})),n.aggregateSeries.inlineVariables=r,n.aggregateSeries.projectedVariables=Object.keys(r)}return n},e}(NM),cx=(n(170),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),lx=function(){return(lx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ux=function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}c((i=i.apply(t,e||[])).next())}))},hx=function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},px=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i},dx=function(t){function e(e){var n=t.call(this,e)||this;function r(){return xe.target===this||this.contains(xe.target)}return n.usedInstanceSearchContinuationTokens={},n.envHierarchies={},n.envTypes={},n.selectedHierarchyName=sM.All,n.viewType=cM.Hierarchy,n.mode=lM.Navigate,n.searchString="",n.path=[],n.renderHierarchySelection=function(){var t=px([sM.All],Object.keys(n.envHierarchies),[sM.Unparented]);n.hierarchyListElem.text("");var e=n;t.forEach((function(t){var r=t===sM.All?n.getString("All hierarchies"):t===sM.Unparented?n.getString("Unassigned Time Series Instances"):t;n.hierarchyListElem.append("li").classed("selected",t===n.selectedHierarchyName).attr("hName",t).attr("tabindex",0).attr("role","option").attr("aria-selected",t===n.selectedHierarchyName).attr("title",r).text(r).on("click keydown",(function(){if(xe&&xe.type&&"keydown"===xe.type){xe.preventDefault();var n=xe.which||xe.keyCode;n===i.Down?this.nextElementSibling?this.nextElementSibling.focus():e.hierarchyListElem.selectAll("li").nodes()[0].focus():n===i.Up?this.previousElementSibling?this.previousElementSibling.focus():e.hierarchyListElem.selectAll("li").nodes()[e.hierarchyListElem.selectAll("li").nodes().length-1].focus():n===i.Enter?(e.selectHierarchy(t),e.searchGloballyElem.node().style.display="none",e.hierarchySelectorElem.node().focus()):n===i.Esc&&(e.isHierarchySelectionActive=!1,e.hierarchyListWrapperElem.style("display","none"),e.hierarchySelectorElem.node().focus())}else e.selectHierarchy(t),e.hierarchySelectorElem.node().focus(),t===sM.All&&(e.searchGloballyElem.node().style.display="none")}))})),n.hierarchyListWrapperElem.style("display","inline-flex"),n.hierarchyListElem.select("li.selected").node().focus()},n.switchToSearchView=function(t,e){return void 0===e&&(e=!0),ux(n,void 0,void 0,(function(){return hx(this,(function(n){switch(n.label){case 0:return this.closeContextMenu(),this.viewType=t,this.viewTypesElem.selectAll(".tsi-view-type").classed("selected",!1).attr("aria-selected",!1),this.viewType!==cM.Hierarchy?[3,3]:(Pe(this.viewTypesElem.selectAll(".tsi-view-type").nodes()[0]).classed("selected",!0).attr("aria-selected",!0),this.searchString?this.setModeAndRequestParamsForFilter():this.setModeAndRequestParamsForNavigate(),0===He(".tsi-hierarchy ul").size()&&e?(this.hierarchyElem.text(""),[4,this.pathSearchAndRenderResult({search:{payload:this.requestPayload()},render:{target:this.hierarchyElem}})]):[3,2]);case 1:n.sent(),n.label=2;case 2:return this.hierarchyElem.node().style.display="block",this.instanceListWrapperElem.node().style.display="none",[3,6];case 3:return Pe(this.viewTypesElem.selectAll(".tsi-view-type").nodes()[1]).classed("selected",!0).attr("aria-selected",!0),this.setModeAndRequestParamsForSearch(),this.selectedHierarchyName===sM.Unparented&&(this.chartOptions.hierarchyOptions.isInstancesRecursive=!1),0===He(".tsi-modelResultWrapper").size()&&e?(this.instanceListElem.text(""),this.lastInstanceContinuationToken=null,this.usedInstanceSearchContinuationTokens={},[4,this.pathSearchAndRenderResult({search:{payload:this.requestPayload()},render:{target:this.instanceListElem}})]):[3,5];case 4:n.sent(),n.label=5;case 5:this.hierarchyElem.node().style.display="none",this.instanceListWrapperElem.node().style.display="block",n.label=6;case 6:return[2]}}))}))},n.doExactSearchWithPossiblePaths=function(t,e){n.setModeAndRequestParamsForFilter();var i=uM.escapedTsidForExactSearch(null==t?void 0:t.join(" "));return n.searchString='"'+i+'"',Promise.all(e.map((function(t){var e=t?n.requestPayload([t]):n.requestPayload(null);return n.getToken().then((function(t){return n.server.getTimeseriesInstancesPathSearch(t,n.environmentFqdn,e,null,null).catch((function(t){throw t}))})).catch((function(t){throw t}))}))).catch((function(t){return n.chartOptions.onError("Error in hierarchy navigation","Failed to complete search",t instanceof XMLHttpRequest?t:null)}))},n.prepareComponentForLookup=function(t){n.instanceListElem.text(""),n.hierarchyElem.text(""),n.hierarchyElem.style("display","none"),n.noResultsElem.style("display","none"),n.instanceLookupLoadingElem.select(".tsi-lookup-instance").text(n.getString("Looking for")+" "+t.join(" ")),n.instanceLookupLoadingElem.style("display","flex"),n.clearAndHideFilterPath(),n.viewTypesElem.style("display","none"),n.searchWrapperElem.select("input").node().value="",n.searchGloballyElem.style("display","none"),n.path=n.selectedHierarchyName!==sM.All&&n.selectedHierarchyName!==sM.Unparented?[n.selectedHierarchyName]:[]},n.getInstance=function(t){return n.getToken().then((function(e){return n.server.getTimeseriesInstances(e,n.environmentFqdn,1,[t]).catch((function(t){return n.chartOptions.onError("Error in hierarchy navigation","Failed to get instance details",t instanceof XMLHttpRequest?t:null)}))})).catch((function(t){return n.chartOptions.onError("Error in hierarchy navigation","Failed to get token",t instanceof XMLHttpRequest?t:null)}))},n.simulateExpand=function(t,e,i){return ux(n,void 0,void 0,(function(){var n,r,a,o,s,c,l,u,h,p,d,f,m,g=this;return hx(this,(function(y){switch(y.label){case 0:n=this.instanceNodeIdentifier(i),r=this.selectedHierarchyName!==sM.All&&this.selectedHierarchyName!==sM.Unparented,a=document.getElementsByClassName("tsi-hierarchy")[0],c=function(n){var i,c,u,h,p,d,f;return hx(this,(function(m){switch(m.label){case 0:return i=t[n],r&&0===n?[2,"continue"]:(void 0,u=l.hierarchyNodeIdentifier(i),o=a.getElementsByTagName("ul")[0],(s=Array.from(o.getElementsByClassName("tsi-name")).find((function(t){return t.innerText===u})))||((h=new fx(u,t.slice(0,n),r||e?n-1:n,"")).expand=function(){return g.pathSearchAndRenderResult({search:{payload:g.requestPayload(h.path),bubbleUpReject:!0},render:{target:h.node}}).then((function(t){return ux(g,void 0,void 0,(function(){var t;return hx(this,(function(e){switch(e.label){case 0:return(t=this.requestPayload(h.path)).instances.recursive=!0,[4,this.pathSearch(t,null,null).then((function(t){h.node.select(".tsi-instanceCount").text(t.instances.hitCount)})).catch((function(t){}))];case 1:return e.sent(),h.isExpanded=!0,h.node.classed("tsi-expanded",!0),[2]}}))}))})).catch((function(t){}))},p=Be("li").attr("role","none"),o.insertBefore(p.node(),o.firstChild),d=l.createHierarchyItemElem(h,l.hierarchyNodeIdentifier(h.name)),p.node().appendChild(d.node()),h.node=p,s=d.select(".tsi-name").node(),f=parseInt(a.getElementsByClassName("tsi-hitCount")[0].innerText),o.getElementsByClassName("tsi-hierarchyItem").length===f+1&&o.removeChild(o.lastChild)),c=s.parentNode,a=c.parentNode,[4,Pe(c).on("click").apply(c)]);case 1:return m.sent(),[2]}}))},l=this,u=0,y.label=1;case 1:return u<t.length?[5,c(u)]:[3,4];case 2:y.sent(),y.label=3;case 3:return u++,[3,1];case 4:return o=a.getElementsByTagName("ul")[0],(s=Array.from(o.getElementsByClassName("tsi-name")).find((function(t){return t.innerText===g.instanceNodeString(i)})))?o.insertBefore(s.parentNode.parentNode,o.getElementsByClassName("tsi-leaf")[0]):(h=new mx(i.timeSeriesId,i.name,this.envTypes[i.typeId],i.hierarchyIds,i.highlights,r||e?t.length-1:t.length),p=Be("li").classed("tsi-leaf",!0).attr("role","none"),d=this.createHierarchyItemElem(h,n),p.node().appendChild(d.node()),o.insertBefore(p.node(),o.getElementsByClassName("tsi-leaf")[0]),h.node=p,f=parseInt(a.getElementsByClassName("tsi-instanceCount")[0].innerText),o.getElementsByClassName("tsi-hierarchyItem").length===f+1&&o.removeChild(o.lastChild),s=d.select(".tsi-name").node()),m=document.createElement("hit"),uM.appendFormattedElementsFromString(Pe(m),s.innerText),s.innerText="",s.appendChild(m),[2]}}))}))},n.prepareComponentForAfterLookup=function(){n.searchString="",n.setModeAndRequestParamsForNavigate(),n.viewType=cM.Hierarchy},n.renderInstances=function(t,e){var i=n;if(0===Object.keys(t).length)return n.noResultsElem.style("display","block"),n.viewTypesElem.node().style.display="none",void((n.selectedHierarchyName!==sM.All||n.filterPathElem.classed("visible"))&&(n.searchGloballyElem.node().style.display="inline-flex"));n.noResultsElem.style("display","none"),n.viewTypesElem.node().style.display="inline-flex",(n.selectedHierarchyName!==sM.All||n.filterPathElem.classed("visible"))&&(n.searchGloballyElem.node().style.display="inline-flex"),e.select(".tsi-show-more.tsi-show-more-instance").remove(),Object.keys(t).forEach((function(r){var a;if(t[r].name===n.getString("Show More Instances"))(a=e.append("div").classed("tsi-show-more tsi-show-more-instance",!0)).append("span").classed("tsi-markedName",!0).attr("tabindex",0).text(r).on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||t[r].onClick()}));else{a=e.append("div").classed("tsi-modelResultWrapper",!0).attr("tabindex",0);var o=n.createInstanceElem(t[r]);a.node().appendChild(o.node()),a.on("click keydown",(function(){var e=this,n=function(){xe.stopPropagation(),i.closeContextMenu();var n=i.instanceListElem.select((function(){return this.parentNode.parentNode})),a=Fe(n.node()),o=Fe(e);i.prepareForContextMenu(t[r],n,a[1],o[1]),i.chartOptions.onInstanceClick(t[r])};if(xe&&xe.type&&"keydown"===xe.type){var a=xe.which||xe.keyCode;40===a?this.nextElementSibling&&this.nextElementSibling.focus():38===a?this.previousElementSibling&&this.previousElementSibling.focus():13===a&&n()}else n()}))}t[r].node=a}))},n.pathSearchAndRenderResult=function(t){var e=t.search,i=e.payload,r=e.instancesContinuationToken,a=void 0===r?null:r,o=e.hierarchiesContinuationToken,s=void 0===o?null:o,c=e.bubbleUpReject,l=void 0!==c&&c,u=t.render,h=u.target,p=u.locInTarget,d=void 0===p?null:p,f=u.skipLevels,m=void 0===f?null:f;return n.pathSearch(i,a,s).then((function(t){try{if(t.error)throw t.error;n.renderSearchResult(t,i,h,d,m)}catch(t){throw t}})).catch((function(t){if(n.chartOptions.onError("Error in hierarchy navigation","Failed to complete search",t instanceof XMLHttpRequest?t:null),l)throw t}))},n.pathSearch=function(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=null),n.getToken().then((function(r){return n.server.getTimeseriesInstancesPathSearch(r,n.environmentFqdn,t,e,i)})).catch((function(t){throw t}))},n.renderSearchResult=function(t,e,i,r,a){var o,s,c,l,u;void 0===r&&(r=null),void 0===a&&(a=null);var h=n,p={},d={};if(null===(s=null===(o=t.hierarchyNodes)||void 0===o?void 0:o.hits)||void 0===s?void 0:s.length){var f=i.select(".tsi-hitCount");0==f.size()&&(f=i.append("span").classed("tsi-hitCount",!0).text("")),f.text(t.hierarchyNodes.hitCount),p=h.fillDataRecursively(t.hierarchyNodes,n.getToken,n.environmentFqdn,e,e)}if((null===(l=null===(c=t.instances)||void 0===c?void 0:c.hits)||void 0===l?void 0:l.length)&&t.instances.hits.forEach((function(t){d[n.instanceNodeIdentifier(t)]=new mx(t.timeSeriesId,t.name,h.envTypes[t.typeId],t.hierarchyIds,t.highlights,e.path.length-h.path.length)})),(null===(u=t.instances)||void 0===u?void 0:u.continuationToken)&&"END"!==t.instances.continuationToken){var m=new mx(null,n.getString("Show More Instances"),null,null,null,e.path.length-h.path.length);m.onClick=function(){return ux(n,void 0,void 0,(function(){return hx(this,(function(n){return this.pathSearchAndRenderResult({search:{payload:e,hierarchiesContinuationToken:null,instancesContinuationToken:t.instances.continuationToken},render:{target:m.node.select((function(){return this.parentNode})),locInTarget:".tsi-show-more.tsi-show-more-instance"}}),[2]}))}))},d[m.name]=m,h.usedInstanceSearchContinuationTokens[t.instances.continuationToken]||(h.lastInstanceContinuationToken=t.instances.continuationToken)}else h.lastInstanceContinuationToken="END";h.mode===lM.Navigate?h.selectedHierarchyName!==sM.Unparented?h.renderTree(lx(lx({},p),d),i,r):h.renderTree(d,i,r):h.mode===lM.Filter?h.renderTree(lx(lx({},p),d),i,r,a):h.renderInstances(d,i)},n.closeContextMenu=function(){n.clickedInstance&&n.contextMenu&&(n.contextMenu.remove(),He("li.tsi-selected").classed("tsi-selected",!1)),He(".tsi-modelResultWrapper").classed("tsi-selected",!1),n.clickedInstance=null},n.prepareForContextMenu=function(t,e,i,r){var a={};a.target=e,a.wrapperMousePos=i,a.eltMousePos=r,n.contextMenuProps=a,n.clickedInstance=t,t.node.classed("tsi-selected",!0)},n.drawContextMenu=function(t,e){var i,r=[],a="";n.contextMenu=n.contextMenuProps.target.append("div").classed("tsi-hierarchyNavigationContextMenu",!0).attr("style",(function(){return"top: "+(n.contextMenuProps.wrapperMousePos-n.contextMenuProps.eltMousePos)+"px"}));var o=function(t){n.contextMenu.select("ul").empty()?i=n.contextMenu.append("ul"):n.contextMenu.select("ul").text(""),t.forEach((function(t){var o=t.name,s=i.append("li");if(e.isSelectionEnabled){s.attr("tabindex",0).on("click keydown",(function(){if(!uM.isKeyDownAndNotEnter(xe)){var e=Pe(xe.currentTarget).select(".tsi-hierarchyCheckbox");if(e.classed("tsi-notSelected"))r.push(t),e.classed("tsi-notSelected",!1),e.attr("aria-checked",!0);else{var i=r.map((function(t){return t.name})).indexOf(t.name);r.splice(i,1),e.classed("tsi-notSelected",!0),e.attr("aria-checked",!1)}0===r.length?n.contextMenu.select("button").classed("disabled",!0):n.contextMenu.select("button").classed("disabled",!1)}})),(l=s.append("div").classed("tsi-selectionItemWrapper",!0)).append("span").classed("tsi-hierarchyCheckbox tsi-notSelected",!0).attr("role","checkbox").attr("aria-checked",!1);var c=l.append("span").classed("tsi-selectionItem",!0).attr("title",o);uM.appendFormattedElementsFromString(c,uM.mark(a,o),{splitByTag:"mark"}),l.append("span").classed("tsi-selectionItemKind",!0).classed(t.kind,!0).attr("title",t.kind.charAt(0).toUpperCase()+t.kind.slice(1))}else{s.attr("tabindex",0).attr("arialabel",o).attr("title",o).on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||(t.action(),n.closeContextMenu())}));var l=s.append("div").classed("tsi-selectionItemWrapper",!0);uM.appendFormattedElementsFromString(l,uM.mark(a,o),{splitByTag:"mark"})}}))};if(e.isFilterEnabled){var s=n.contextMenu.append("div").classed("tsi-search",!0);s.append("i").classed("tsi-search-icon",!0),s.append("input").classed("tsi-searchInput",!0).attr("placeholder",n.getString("Search")).on("input",(function(){var e=new RegExp(xe.currentTarget.value,"gi");a=xe.currentTarget.value,o(t.filter((function(t){return t.name.match(e)}))),r=[],n.contextMenu.select("button").classed("disabled",!0)}))}o(t),e.isSelectionEnabled&&n.contextMenu.append("button").classed("tsi-primaryButton",!0).classed("disabled",!0).text(n.getString("Add")).on("click",(function(){r.forEach((function(t){return t.action()})),n.closeContextMenu()}));var c=n.contextMenuProps.target.node().getBoundingClientRect().height-parseFloat(n.contextMenu.node().style.top),l=n.contextMenu.node().getBoundingClientRect().height-c;l>0&&n.contextMenu.style("top",parseFloat(n.contextMenu.node().style.top)-l+"px");var u=Pe(".tsi-hierarchyNavigationContextMenu li").node();u&&u.focus()},n.hasHits=function(t){return t&&-1!==t.indexOf("<hit>")},n.hierarchyNodeIdentifier=function(t){return t||"("+n.getString("Empty")+")"},n.instanceNodeIdentifier=function(t){return"instance-"+uM.getInstanceKey(t)},n.instanceNodeStringToDisplay=function(t){var e;return(null===(e=t.highlights)||void 0===e?void 0:e.name)||uM.getHighlightedTimeSeriesIdToDisplay(t)||t.name||uM.getTimeSeriesIdToDisplay(t,n.getString("Empty"))},n.instanceNodeString=function(t){return t.name||uM.getTimeSeriesIdString(t)},n.clearAndHideFilterPath=function(){Pe(".tsi-path-list").text(""),Pe(".tsi-filter-clear").style("display","none"),n.filterPathElem.classed("visible",!1)},n.selectHierarchy=function(t,e){void 0===e&&(e=!0),n.path=t===sM.All||t===sM.Unparented?[]:[t],n.selectedHierarchyName=t;var i=t===sM.All||t===sM.Unparented?t:n.envHierarchies[n.selectedHierarchyName].id;n.chartOptions.onSelect(i);var r=t===sM.All?n.getString("All hierarchies"):t===sM.Unparented?n.getString("Unassigned Time Series Instances"):t;Pe(".tsi-hierarchy-name").text(r).attr("title",r),n.clearAndGetResults(e),n.clearAndHideFilterPath(),n.isHierarchySelectionActive=!1,n.hierarchyListWrapperElem.style("display","none")},n.resettingVariablesForEnvChange=function(){n.path=[],n.selectedHierarchyName=sM.All,n.searchString="",n.lastInstanceContinuationToken=null,n.usedInstanceSearchContinuationTokens={},n.envHierarchies={},n.envTypes={},n.setModeAndRequestParamsForNavigate(),n.viewType=cM.Hierarchy,n.clickedInstance=null,n.isHierarchySelectionActive=!1},n.server=new pM,Pe("html").on("click. keydown."+uM.guid(),(function(){if(n.clickedInstance&&n.contextMenu)if(xe.type&&"keydown"===xe.type){if(!n.contextMenu.filter(r).empty())return void((xe.which||xe.keyCode)===i.Esc&&n.closeContextMenu())}else n.contextMenu.filter(r).empty()&&n.closeContextMenu();if(n.isHierarchySelectionActive)if(xe&&xe.type&&"keydown"===xe.type){if(!Pe(n.hierarchyListWrapperElem.node().parentNode).filter(r).empty())return void((xe.which||xe.keyCode)===i.Esc&&(n.isHierarchySelectionActive=!1,n.hierarchyListWrapperElem.style("display","none")))}else Pe(n.hierarchyListWrapperElem.node().parentNode).filter(r).empty()&&(n.isHierarchySelectionActive=!1,n.hierarchyListWrapperElem.style("display","none"))})),n}return cx(e,t),e.prototype.HierarchyNavigation=function(){},e.prototype.render=function(e,n,i){return void 0===i&&(i={}),ux(this,void 0,void 0,(function(){var r,s,c,l,u,h,p,d=this;return hx(this,(function(f){switch(f.label){case 0:return r=this,this.chartOptions.setOptions(i),this.getToken=n,this.environmentFqdn=e,this.resettingVariablesForEnvChange(),(s=Pe(this.renderTarget)).text(""),c=s.append("div").attr("class","tsi-hierarchy-nav-wrapper"),t.prototype.themify.call(this,c,this.chartOptions.theme),[4,n().then((function(t){return d.server.getTimeseriesTypes(t,e).then((function(t){try{if(t.error)throw t.error;t.types.forEach((function(t){d.envTypes[t.id]=t}))}catch(t){throw t}})).catch((function(t){return d.chartOptions.onError("Error in hierarchy navigation","Failed to load types for navigation",t instanceof XMLHttpRequest?t:null)}))})).catch((function(t){return d.chartOptions.onError("Error in hierarchy navigation","Failed to get token",t instanceof XMLHttpRequest?t:null)}))];case 1:return f.sent(),[4,n().then((function(t){return d.server.getTimeseriesHierarchies(t,e).then((function(t){try{if(t.error)throw t.error;t.hierarchies.forEach((function(t){d.envHierarchies[t.name]=t}))}catch(t){throw t}})).catch((function(t){return d.chartOptions.onError("Error in hierarchy navigation","Failed to load hierarchies for navigation",t instanceof XMLHttpRequest?t:null)}))})).catch((function(t){return d.chartOptions.onError("Error in hierarchy navigation","Failed to get token",t instanceof XMLHttpRequest?t:null)}))];case 2:return f.sent(),(l=i.selectedHierarchyId)&&(l===sM.All||l===sM.Unparented?(this.selectedHierarchyName=l,this.path=[]):(u=Object.values(this.envHierarchies).find((function(t){return t.id===l})))&&(this.selectedHierarchyName=u.name,this.path=[this.selectedHierarchyName])),n().then((function(t){r.server.getTimeseriesInstancesPathSearch(t,e,{searchString:"",path:d.path,hierarchies:{sort:{by:o.CumulativeInstanceCount},expand:{kind:a.OneLevel},pageSize:100}}).then((function(t){try{if(t.error)throw t.error;var a=c.append("div").classed("tsi-hierarchy-selection-wrapper",!0);d.hierarchySelectorElem=a.append("button").classed("tsi-hierarchy-select",!0).attr("aria-haspopup","listbox").on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||(d.isHierarchySelectionActive?(d.hierarchyListWrapperElem.style("display","none"),d.isHierarchySelectionActive=!1):(d.renderHierarchySelection(),d.isHierarchySelectionActive=!0))})),d.hierarchySelectorElem.append("span").classed("tsi-hierarchy-name",!0).text(d.selectedHierarchyName===sM.All?d.getString("All hierarchies"):d.selectedHierarchyName===sM.Unparented?d.getString("Unassigned Time Series Instances"):d.selectedHierarchyName),d.hierarchySelectorElem.append("i").classed("tsi-down-caret-icon",!0),d.hierarchyListWrapperElem=a.append("div").classed("tsi-hierarchy-list-wrapper",!0),d.hierarchyListElem=d.hierarchyListWrapperElem.append("ul").classed("tsi-hierarchy-list",!0).attr("role","listbox").attr("id","tsi-hierarchy-listbox"),d.searchWrapperElem=c.append("div").classed("tsi-hierarchy-search",!0),new ex(d.searchWrapperElem.node()).render(e,n,{onInput:h,onKeydown:function(t,e){p(t,e)},theme:i.theme,strings:d.chartOptions.strings}),d.viewTypesElem=d.searchWrapperElem.append("div").classed("tsi-view-types",!0).attr("role","tablist"),d.viewTypesElem.append("div").classed("tsi-view-type",!0).attr("title","Hierarchy View").attr("tabindex",0).attr("arialabel","Hierarchy View").attr("role","tab").on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||r.switchToSearchView(cM.Hierarchy)})).append("i").classed("tsi-tree-icon",!0),d.viewTypesElem.append("div").classed("tsi-view-type selected",!0).attr("title","List View").attr("tabindex",0).attr("arialabel","List View").attr("role","tab").attr("aria-selected",!0).on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||r.switchToSearchView(cM.List)})).append("i").classed("tsi-list-icon",!0),d.filterPathElem=c.append("div").classed("tsi-filter-path-wrapper",!0);var o=d.filterPathElem.append("div").classed("tsi-filter-path",!0);o.append("span").classed("tsi-path-list",!0),o.append("i").classed("tsi-close-icon tsi-filter-clear",!0).attr("tabindex",0).attr("arialabel","Clear Path Filter").attr("title","Clear Path Filter").on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||(r.path=r.selectedHierarchyName===sM.All||r.selectedHierarchyName===sM.Unparented?[]:[r.selectedHierarchyName],r.selectedHierarchyName===sM.All&&(r.searchGloballyElem.node().style.display="none"),r.clearAndGetResults(),r.clearAndHideFilterPath())})),d.searchGloballyElem=c.append("div").classed("tsi-search-global",!0),d.searchGloballyElem.append("a").text(d.getString("Search Globally")).attr("title",d.getString("Search Globally")).attr("tabindex",0).attr("arialabel",d.getString("Search Globally")).on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||(r.selectHierarchy(sM.All,!1),r.switchToSearchView(cM.List),this.parentNode.style.display="none")})),d.instanceLookupLoadingElem=c.append("div").classed("tsi-instance-lookup-loading",!0),d.instanceLookupLoadingElem.append("i").classed("tsi-spinner-icon",!0),d.instanceLookupLoadingElem.append("span").classed("tsi-lookup-instance",!0);var s=c.append("div").classed("tsi-hierarchy-or-list-wrapper",!0);d.noResultsElem=s.append("div").text(d.getString("No results")).classed("tsi-noResults",!0).attr("role","alert").style("display","none"),d.hierarchyElem=s.append("div").classed("tsi-hierarchy",!0).attr("role","navigation").on("scroll",(function(){r.closeContextMenu()})),d.instanceListWrapperElem=s.append("div").classed("tsi-list",!0).on("scroll",(function(){if(r.viewType===cM.List&&(r.closeContextMenu(),r.lastInstanceContinuationToken&&"END"!==r.lastInstanceContinuationToken)){this.scrollTop+this.clientHeight+50>r.instanceListElem.node().clientHeight&&(null!==r.lastInstanceContinuationToken&&r.usedInstanceSearchContinuationTokens[r.lastInstanceContinuationToken]||(r.usedInstanceSearchContinuationTokens[r.lastInstanceContinuationToken]=!0,r.pathSearchAndRenderResult({search:{payload:r.requestPayload(),instancesContinuationToken:r.lastInstanceContinuationToken},render:{target:r.instanceListElem}})))}})),d.instanceListElem=d.instanceListWrapperElem.append("div").classed("tsi-search-results",!0),d.pathSearchAndRenderResult({search:{payload:r.requestPayload()},render:{target:d.hierarchyElem}})}catch(t){throw t}})).catch((function(t){return d.chartOptions.onError("Error in hierarchy navigation","Failed to complete search",t instanceof XMLHttpRequest?t:null)}))})).catch((function(t){return d.chartOptions.onError("Error in hierarchy navigation","Failed to get token",t instanceof XMLHttpRequest?t:null)})),h=function(t,e){0===t.length?(d.searchString=t,d.viewTypesElem.node().style.display="none",d.searchGloballyElem.node().style.display="none",d.switchToSearchView(cM.Hierarchy,!1),d.clearAndGetResults()):13!==e.which&&13!==e.keyCode||(d.searchString=t,d.switchToSearchView(cM.List,!1),d.clearAndGetResults())},p=function(t,e){e.isOpened},[2]}}))}))},e.prototype.setModeAndRequestParamsForSearch=function(){this.mode=lM.Search;var t=this.chartOptions.hierarchyOptions;t.isInstancesRecursive=!0,t.isInstancesHighlighted=!0,t.instancesSort=r.Rank,t.hierarchiesExpand=a.UntilChildren,t.hierarchiesSort=o.CumulativeInstanceCount},e.prototype.setModeAndRequestParamsForNavigate=function(){this.mode=lM.Navigate;var t=this.chartOptions.hierarchyOptions;t.isInstancesRecursive=!1,t.isInstancesHighlighted=!0,t.instancesSort=r.DisplayName,t.hierarchiesExpand=a.OneLevel,t.hierarchiesSort=o.Name},e.prototype.setModeAndRequestParamsForFilter=function(){this.mode=lM.Filter;var t=this.chartOptions.hierarchyOptions;t.isInstancesRecursive=!1,t.isInstancesHighlighted=!0,t.instancesSort=r.DisplayName,t.hierarchiesExpand=a.UntilChildren,t.hierarchiesSort=o.CumulativeInstanceCount},e.prototype.requestPayload=function(t){void 0===t&&(t=null);var e={};return e.searchString=this.searchString,e.path=t||this.path,e.instances={recursive:this.chartOptions.hierarchyOptions.isInstancesRecursive,sort:{by:this.chartOptions.hierarchyOptions.instancesSort},highlights:this.chartOptions.hierarchyOptions.isInstancesHighlighted,pageSize:this.chartOptions.hierarchyOptions.instancesPageSize},this.selectedHierarchyName!==sM.Unparented&&this.mode!==lM.Search&&(e.hierarchies={expand:{kind:this.chartOptions.hierarchyOptions.hierarchiesExpand},sort:{by:this.chartOptions.hierarchyOptions.hierarchiesSort},pageSize:this.chartOptions.hierarchyOptions.hierarchiesPageSize}),e},e.prototype.clearAndGetResults=function(t){if(void 0===t&&(t=!0),this.instanceListElem.text(""),this.hierarchyElem.text(""),this.lastInstanceContinuationToken=null,this.usedInstanceSearchContinuationTokens={},this.mode===lM.Search&&(this.chartOptions.hierarchyOptions.isInstancesRecursive=this.selectedHierarchyName!==sM.Unparented),t)return this.viewType===cM.Hierarchy?this.pathSearchAndRenderResult({search:{payload:this.requestPayload()},render:{target:this.hierarchyElem}}):this.pathSearchAndRenderResult({search:{payload:this.requestPayload()},render:{target:this.instanceListElem}})},e.prototype.showInstance=function(t,e){return void 0===e&&(e=null),ux(this,void 0,void 0,(function(){var n,i,r,a,o,s,c,l=this;return hx(this,(function(u){switch(u.label){case 0:n=this.selectedHierarchyName!==sM.All&&this.selectedHierarchyName!==sM.Unparented,i=e?e.map((function(t){return Object.keys(l.envHierarchies).find((function(e){return l.envHierarchies[e].id===t}))})):null,r=i||(n?[null,this.selectedHierarchyName]:px([null],Object.keys(this.envHierarchies))),o=[],u.label=1;case 1:return u.trys.push([1,13,,14]),this.prepareComponentForLookup(t),s=void 0,[4,this.getInstance(t)];case 2:if(s=u.sent(),a=s.get[0].instance,c=a.instanceFields?Object.values(a.instanceFields):[],!a)return[3,11];u.label=3;case 3:return u.trys.push([3,9,,10]),[4,this.doExactSearchWithPossiblePaths(t,r)];case 4:return(s=u.sent()).forEach((function(t,e){var n,i,a,s;if(t.error)throw t.error;if(0===e)(null===(n=t.instances)||void 0===n?void 0:n.hitCount)&&o.push([]);else if(null===(a=null===(i=t.hierarchyNodes)||void 0===i?void 0:i.hits)||void 0===a?void 0:a.length)t.hierarchyNodes.hits.forEach((function(t){var n=t;if(-1!==c.indexOf(n.name)){var i=[r[e]];for(i.push(n.name);n.hierarchyNodes;)n=n.hierarchyNodes.hits[0],-1!==(null==c?void 0:c.indexOf(n.name))&&i.push(n.name);o.push(i)}}));else if(null===(s=t.instances)||void 0===s?void 0:s.hitCount){var l=[r[e]];o.push(l)}})),this.prepareComponentForAfterLookup(),o.length?[4,this.clearAndGetResults()]:[3,7];case 5:return u.sent(),[4,Promise.all(o.map((function(t){return l.simulateExpand(t,i,a)})))];case 6:return u.sent(),[3,8];case 7:this.noResultsElem.style("display","block"),u.label=8;case 8:return this.hierarchyElem.style("display","block"),this.instanceLookupLoadingElem.style("display","none"),[3,10];case 9:throw u.sent();case 10:return[3,12];case 11:this.prepareComponentForAfterLookup(),this.instanceLookupLoadingElem.style("display","none"),this.noResultsElem.style("display","block"),this.hierarchyElem.style("display","block"),u.label=12;case 12:return[3,14];case 13:return u.sent(),this.prepareComponentForAfterLookup(),this.hierarchyElem.style("display","block"),this.noResultsElem.style("display","block"),this.instanceLookupLoadingElem.style("display","none"),[3,14];case 14:return[2]}}))}))},e.prototype.renderTree=function(t,e,n,i){var r,a,o=this;if(void 0===n&&(n=null),void 0===i&&(i=null),0===Object.keys(t).length)return this.noResultsElem.style("display","block"),void(this.mode===lM.Filter&&(this.viewTypesElem.node().style.display="none",(this.selectedHierarchyName!==sM.All||this.filterPathElem.classed("visible"))&&(this.searchGloballyElem.node().style.display="inline-flex")));if(this.noResultsElem.style("display","none"),this.mode===lM.Filter&&(this.viewTypesElem.node().style.display="inline-flex",(this.selectedHierarchyName!==sM.All||this.filterPathElem.classed("visible"))&&(this.searchGloballyElem.node().style.display="inline-flex")),n?((a=".tsi-show-more.tsi-show-more-hierarchy"===n?e.selectAll(".tsi-show-more.tsi-show-more-hierarchy").filter((function(t,e,n){return e===n.length-1})):e.selectAll(".tsi-show-more.tsi-show-more-instance").filter((function(t,e,n){return e===n.length-1}))).node().style.display="none",a.classed("tsi-target-loc",!0)):r=e.append("ul").attr("role",e===this.hierarchyElem?"tree":"group"),n&&i)for(;i;)t=t[Object.keys(t)[0]].children,i--;Object.keys(t).forEach((function(i){var a,s,c=t[i]instanceof mx&&t[i].name!==o.getString("Show More Instances")?o.instanceNodeString(t[i]):i;if(n){if(e.selectAll(".tsi-name").nodes().find((function(t){return t.innerText===c})))return;a=e.insert("li",".tsi-target-loc").classed("tsi-leaf",t[i].isLeaf)}else{if(r.selectAll(".tsi-name").nodes().find((function(t){return t.innerText===c})))return;a=r.append("li").classed("tsi-leaf",t[i].isLeaf)}a.attr("role","none"),i===o.getString("Show More Hierarchies")?a.classed("tsi-show-more tsi-show-more-hierarchy",!0).append("span").classed("tsi-hierarchyItem",!0).attr("tabindex",0).attr("role","treeitem").attr("aria-expanded",!1).attr("style","padding-left: "+(18*t[i].level+20)+"px").text(o.getString("Show more")).on("click keydown",(function(){if(!uM.isKeyDownAndNotEnter(xe))return t[i].onClick()})):i===o.getString("Show More Instances")?a.classed("tsi-show-more tsi-show-more-instance",!0).append("span").classed("tsi-hierarchyItem",!0).attr("tabindex",0).attr("role","treeitem").attr("aria-expanded",!1).attr("style","padding-left: "+(18*t[i].level+20)+"px").text(o.getString("Show more")).on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||t[i].onClick()})):(s=o.createHierarchyItemElem(t[i],i),a.node().appendChild(s.node())),t[i].node=a,t[i].children&&(t[i].isExpanded=!0,t[i].node.classed("tsi-expanded",!0),o.renderTree(t[i].children,t[i].node)),t[i]instanceof fx&&i!==o.getString("Show More Hierarchies")&&o.mode===lM.Filter&&1==t[i].cumulativeInstanceCount&&!t[i].isExpanded&&s.node().click()})),n&&a.remove()},e.prototype.fillDataRecursively=function(t,e,n,i,r){var a=this;void 0===r&&(r=null);var o={};if(t.hits.forEach((function(t){var s=new fx(t.name,i.path,i.path.length-a.path.length,t.cumulativeInstanceCount);s.expand=function(){var t=function(){s.isExpanded=!0,s.node.classed("tsi-expanded",!0)};return a.mode===lM.Search?a.pathSearchAndRenderResult({search:{payload:a.requestPayload(s.path),bubbleUpReject:!0},render:{target:a.instanceListElem}}).then((function(e){return t()})).catch((function(t){})):a.pathSearchAndRenderResult({search:{payload:a.requestPayload(s.path),bubbleUpReject:!0},render:{target:s.node}}).then((function(e){return t()})).catch((function(t){}))},o[a.hierarchyNodeIdentifier(t.name)]=s,t.hierarchyNodes&&t.hierarchyNodes.hits.length&&(s.children=a.fillDataRecursively(t.hierarchyNodes,e,n,a.requestPayload(s.path),r))})),t.continuationToken&&"END"!==t.continuationToken){var s=new fx(this.getString("Show More Hierarchies"),i.path,i.path.length-this.path.length);s.onClick=function(){return a.pathSearchAndRenderResult({search:{payload:r||i,hierarchiesContinuationToken:t.continuationToken},render:{target:s.node.select((function(){return this.parentNode})),locInTarget:".tsi-show-more.tsi-show-more-hierarchy",skipLevels:r?i.path.length-r.path.length:null}})},o[s.name]=s}return o},e.prototype.createHierarchyItemElem=function(t,e){var n=this,i=this,r=t instanceof fx,a=Be("div").classed("tsi-hierarchyItem",!0).attr("style","padding-left: "+(t.isLeaf?18*t.level+20:18*(t.level+1)+20)+"px").attr("tabindex",0).attr("arialabel",r?e:uM.getTimeSeriesIdString(t)).attr("title",r?e:uM.getTimeSeriesIdString(t)).attr("role","treeitem").attr("aria-expanded",t.isExpanded).on("click keydown",(function(){return ux(this,void 0,void 0,(function(){var e,n,a;return hx(this,(function(o){switch(o.label){case 0:return uM.isKeyDownAndNotEnter(xe)?[2]:r?[3,1]:(xe.stopPropagation(),i.closeContextMenu(),e=Fe(this),n=i.hierarchyElem.select((function(){return this.parentNode})),a=Fe(n.node()),i.prepareForContextMenu(t,n,a[1],e[1]),i.chartOptions.onInstanceClick(t),[3,4]);case 1:return t.isExpanded?(t.collapse(),[3,4]):[3,2];case 2:return[4,t.expand()];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))})).on("mouseover focus",(function(){r&&xe.relatedTarget!=Pe(this.parentNode).select(".tsi-filter-icon").node()&&(Pe(this.parentNode).select(".tsi-filter-icon").node().style.visibility="visible")})).on("mouseleave blur",(function(){r&&xe.relatedTarget!=Pe(this.parentNode).select(".tsi-filter-icon").node()&&(Pe(this.parentNode).select(".tsi-filter-icon").node().style.visibility="hidden")}));if(r)a.append("span").classed("tsi-caret-icon",!0).attr("style","left: "+(18*t.level+20)+"px"),a.append("span").classed("tsi-name",!0).text(e),a.append("span").classed("tsi-instanceCount",!0).text(t.cumulativeInstanceCount),a.append("span").classed("tsi-hitCount",!0).text(""),a.append("div").classed("tsi-filter-icon",!0).attr("title",this.getString("Add to Filter Path")).attr("tabindex",0).attr("arialabel",this.getString("Add to Filter Path")).attr("role","button").on("click keydown",(function(){if(!uM.isKeyDownAndNotEnter(xe)){i.path=t.path;var e=Pe(".tsi-path-list");e.text(""),(i.selectedHierarchyName!==sM.All?t.path.slice(1):t.path).forEach((function(t,n){n>0&&e.append("span").text(" / ");var r=i.hierarchyNodeIdentifier(t);e.append("span").classed("tsi-path",!0).text(r).attr("title",r).attr("tabindex",0).attr("arialabel",r).on("click keydown",(function(){uM.isKeyDownAndNotEnter(xe)||(i.path=i.path.slice(0,n+(i.selectedHierarchyName===sM.All?1:2)),He(e.selectAll("span").nodes().splice(2*n+1,e.selectAll("span").nodes().length)).remove(),i.clearAndGetResults())}))})),Pe(".tsi-filter-clear").style("display","inline-block"),i.filterPathElem.classed("visible",!0),i.clearAndGetResults()}})).on("mouseleave blur",(function(){xe.relatedTarget!=Pe(this.parentNode)&&(this.style.visibility="hidden")}));else{var o=a.append("span").classed("tsi-name",!0);if(uM.appendFormattedElementsFromString(o,this.instanceNodeStringToDisplay(t)),t.highlights){var s=!1,c=a.append("div").classed("tsi-highlights-detail",!0);t.highlights.description&&this.hasHits(t.highlights.description)&&(s=!0,uM.appendFormattedElementsFromString(c,t.highlights.description));var l=[];t.highlights.name&&this.hasHits(uM.getHighlightedTimeSeriesIdToDisplay(t))&&(s=!0,l.push([this.getString("Time Series ID"),uM.getHighlightedTimeSeriesIdToDisplay(t)])),t.highlights.instanceFieldNames.forEach((function(e,i){var r=t.highlights.instanceFieldValues[i];(n.hasHits(e)||n.hasHits(r))&&(s=!0,l.push([e,t.highlights.instanceFieldValues[i]]))}));var u=c.append("table").selectAll("tr").data(l).enter().append("tr"),h=u.selectAll("td").data((function(t){return t}));h.enter().append("td").each((function(t){uM.appendFormattedElementsFromString(Pe(this),t)})).merge(h),h.exit().remove(),u.exit().remove(),s&&c.style("display","block")}}return a},e.prototype.createInstanceElem=function(t){var e=this,n=Be("div").classed("tsi-modelResult",!0),i=n.append("div").classed("tsi-modelPK",!0);t.highlights.name?uM.appendFormattedElementsFromString(i,t.highlights.name):uM.appendFormattedElementsFromString(i,uM.getHighlightedTimeSeriesIdToDisplay(t));var r=n.append("div").classed("tsi-modelHighlights",!0);uM.appendFormattedElementsFromString(r,t.highlights.description&&t.highlights.description.length?t.highlights.description:"No description"),r.append("br");var a=[];t.highlights.name&&a.push([this.getString("Time Series ID"),uM.getHighlightedTimeSeriesIdToDisplay(t)]),t.highlights.instanceFieldNames.forEach((function(n,i){var r=t.highlights.instanceFieldValues[i];e.searchString?(e.hasHits(n)||e.hasHits(r))&&a.push([n,t.highlights.instanceFieldValues[i]]):0!==r.length&&a.push([n,t.highlights.instanceFieldValues[i]])}));var o=r.append("table").selectAll("tr").data(a).enter().append("tr"),s=o.selectAll("td").data((function(t){return t}));return s.enter().append("td").each((function(t){uM.appendFormattedElementsFromString(Pe(this),t)})).merge(s),s.exit().remove(),o.exit().remove(),n},e}($v);function fx(t,e,n,i){var r=this;void 0===i&&(i=null),this.name=t,this.path=e.concat([t]),this.expand=function(){},this.level=n,this.cumulativeInstanceCount=i,this.node=null,this.children=null,this.isExpanded=!1,this.collapse=function(){r.isExpanded=!1,r.node.classed("tsi-expanded",!1),r.node.selectAll("ul").remove()}}function mx(t,e,n,i,r,a){void 0===e&&(e=null),this.timeSeriesId=t,this.name=e,this.type=n,this.hierarchyIds=i,this.highlights=r,this.suppressDrawContextMenu=!1,this.isLeaf=!0,this.level=a,this.node=null}!function(t){t.All="0",t.Unparented="-1"}(sM||(sM={})),function(t){t[t.Hierarchy=0]="Hierarchy",t[t.List=1]="List"}(cM||(cM={})),function(t){t[t.Navigate=0]="Navigate",t[t.Search=1]="Search",t[t.Filter=2]="Filter"}(lM||(lM={}));var gx=dx,yx=(n(171),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),_x=function(t){function e(e){var n=t.call(this,e)||this;return n.isValid=!0,n}return yx(e,t),e.prototype.getMillis=function(){return this.millis},e.prototype.render=function(e,n,i,r,a){var o=this;void 0===e&&(e={}),void 0===r&&(r=null),void 0===a&&(a=null),this.minMillis=n,this.maxMillis=i,e.offset&&"string"==typeof e.offset&&(this.offsetName=e.offset),null===r&&(r=this.maxMillis),this.chartOptions.setOptions(e),ub.a.locale(this.chartOptions.dateLocale),this.millis=r,this.onSet=a,this.targetElement=Pe(this.renderTarget).classed("tsi-singleDateTimePicker",!0),this.targetElement.html(""),t.prototype.themify.call(this,this.targetElement,this.chartOptions.theme),this.targetElement.on("keydown",(function(t){xe.keyCode<=40&&xe.keyCode>=37&&xe.stopPropagation(),27===xe.keyCode&&o.chartOptions.dTPIsModal&&o.onSet()})),this.timeControls=this.targetElement.append("div").classed("tsi-timeControlsContainer",!0),this.calendar=this.targetElement.append("div").classed("tsi-calendarPicker",!0);var s=this.targetElement.append("div").classed("tsi-saveButtonContainer",!0),c=this;this.saveButton=s.append("button").classed("tsi-saveButton",!0).text(this.getString("Save")).on("click",(function(){o.isValid&&c.onSet(o.millis)})).on("keydown",(function(){9===xe.keyCode&&!xe.shiftKey&&o.chartOptions.dTPIsModal&&(o.timeInput.node().focus(),xe.preventDefault())})),this.targetElement.append("div").classed("tsi-errorMessageContainer",!0),this.createCalendar(),this.calendarPicker.draw(),this.createTimePicker(),this.updateDisplayedDateTime(),this.date=new Date(this.millis),this.calendarPicker.draw(),this.chartOptions.dTPIsModal&&this.timeInput.node().focus()},e.prototype.roundDay=function(t){var e=uM.offsetFromUTC(t,this.chartOptions.offset);return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},e.prototype.setSelectedDate=function(t){this.calendarPicker.setDate(t,!0),this.setDate(t),this.timeInput.node().value=this.createTimeString(uM.offsetFromUTC(new Date(this.millis)))},e.prototype.createCalendar=function(){var t=this,e={previousMonth:this.getString("Previous Month"),nextMonth:this.getString("Next Month"),months:ub.a.localeData().months(),weekdays:ub.a.localeData().weekdays(),weekdaysShort:ub.a.localeData().weekdaysMin()};this.calendarPicker=new cb.a({bound:!1,container:this.calendar.node(),field:this.calendar.node(),i18n:e,numberOfMonths:1,onSelect:function(e){t.setSelectedDate(e),t.calendarPicker.draw(),t.checkDateTimeValidity()},onDraw:function(e){t.calendar.select(".pika-single").selectAll("button").attr("tabindex",-1)},minDate:this.convertToLocal(uM.offsetFromUTC(new Date(this.minMillis),this.chartOptions.offset)),maxDate:this.convertToLocal(uM.offsetFromUTC(new Date(this.maxMillis),this.chartOptions.offset)),defaultDate:this.convertToLocal(uM.offsetFromUTC(new Date(this.millis),this.chartOptions.offset))})},e.prototype.setDate=function(t){var e=uM.offsetFromUTC(new Date(this.millis),this.chartOptions.offset);e.setUTCFullYear(t.getFullYear()),e.setUTCMonth(t.getMonth()),e.setUTCDate(t.getDate()),this.setMillis(e.valueOf(),!0)},e.prototype.setIsValid=function(t){this.isValid=t},e.prototype.setMillis=function(t,e){void 0===e&&(e=!0);var n=t-(e?60*uM.getOffsetMinutes(this.chartOptions.offset,t)*1e3:0);this.millis=n},e.prototype.displayErrors=function(t){this.targetElement.select(".tsi-errorMessageContainer").selectAll(".tsi-errorMessage").remove(),0!=t.length&&this.targetElement.select(".tsi-errorMessageContainer").selectAll(".tsi-errorMessages").data(t).enter().append("div").classed("tsi-errorMessage",!0).text((function(t){return t}))},e.prototype.checkDateTimeValidity=function(){var t=this.parseUserInputDateTime(),e=this.dateTimeIsValid(t);this.displayErrors(e.errors),this.setIsValid(e.rangeIsValid)},e.prototype.dateTimeIsValid=function(t){var e=[];if(isNaN(t))e.push("*time is invalid");else{var n=uM.offsetFromUTC(new Date(this.minMillis),this.chartOptions.offset),i=uM.offsetFromUTC(new Date(this.maxMillis),this.chartOptions.offset);t<this.minMillis&&e.push("*date/time is before first possible date and time ("+this.getTimeFormat()(n)+")"),t>this.maxMillis&&e.push("*date/time is after last possible date and time ("+this.getTimeFormat()(i)+")")}return{rangeIsValid:0==e.length,errors:e}},e.prototype.getTimeFormat=function(){return uM.timeFormat(!0,!0,this.chartOptions.offset,!0,0,null,this.chartOptions.dateLocale)},e.prototype.parseUserInputDateTime=function(){return uM.parseUserInputDateTime(this.timeInput.node().value,this.chartOptions.offset)},e.prototype.convertToCalendarDate=function(t){return this.roundDay(uM.adjustDateFromTimezoneOffset(uM.offsetFromUTC(new Date(t),this.chartOptions.offset)))},e.prototype.updateDisplayedDateTime=function(t){void 0===t&&(t=!1);var e=new Date(this.millis);this.calendarPicker.setDate(this.convertToCalendarDate(this.millis),t),t||(this.timeInput.node().value=this.createTimeString(uM.offsetFromUTC(e)))},e.prototype.createTimeString=function(t){uM.offsetFromUTC(t,this.chartOptions.offset);return this.getTimeFormat()(t)},e.prototype.convertToLocal=function(t){return new Date(t.valueOf()+60*t.getTimezoneOffset()*1e3)},e.prototype.createTimePicker=function(){var t=this;this.timeControls.append("h4").classed("tsi-timeLabel",!0).text(this.getString("Date/Time"));this.timeInput=this.timeControls.append("input").attr("class","tsi-dateTimeInput tsi-input").on("input",(function(){if(t.checkDateTimeValidity(),t.isValid){var e=t.parseUserInputDateTime();t.setMillis(e,!1),t.updateDisplayedDateTime(!0)}})).on("keydown",(function(){9===xe.keyCode&&xe.shiftKey&&t.chartOptions.dTPIsModal&&(t.saveButton.node().focus(),xe.preventDefault())}))},e}(DM),vx=(n(172),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Mx=function(t){function e(e){var n=t.call(this,e)||this;return n.sDTPOnSet=function(t){void 0===t&&(t=null),null!==t&&(n.dateTimeButton.text(n.buttonDateTimeFormat(t)),n.selectedMillis=t,n.onSet(t)),n.closeSDTP()},n}return vx(e,t),e.prototype.closeSDTP=function(){this.dateTimePickerContainer.style("display","none"),this.dateTimeButton.node().focus()},e.prototype.render=function(e,n,i,r,a){var o=this;void 0===e&&(e={}),void 0===r&&(r=null),void 0===a&&(a=null),t.prototype.render.call(this,e,n,i,a),this.selectedMillis=r,Pe(this.renderTarget).classed("tsi-dateTimeContainerSingle",!0),this.dateTimeButton.text(this.buttonDateTimeFormat(r)),this.dateTimePicker||(this.dateTimePicker=new _x(this.dateTimePickerContainer.node()));var s=Pe(this.renderTarget),c=s.select(".tsi-dateTimePickerContainer").selectAll("*");Pe("html").on("click."+uM.guid(),(function(){var t=o.dateTimePickerContainer.selectAll("*"),e=c.filter(uM.equalToEventTarget).empty()&&s.selectAll(".tsi-dateTimePickerContainer").filter(uM.equalToEventTarget).empty()&&s.selectAll(".tsi-dateTimeButton").filter(uM.equalToEventTarget).empty()&&s.selectAll(".tsi-saveButton").filter(uM.equalToEventTarget).empty(),n=t.filter(uM.equalToEventTarget).empty();e&&n&&"none"!==o.dateTimePickerContainer.style("display")&&o.closeSDTP()})),this.dateTimeButton.on("click",(function(){o.chartOptions.dTPIsModal=!0,o.dateTimePickerContainer.style("display","block"),o.dateTimePicker.render(o.chartOptions,o.minMillis,o.maxMillis,o.selectedMillis,o.sDTPOnSet)}))},e}(gb),bx=(n(173),n(174),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),xx=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e)||this;return i.handleRadius=7,i.minimumPlaybackInterval=1e3,i.playbackInterval=null,i.selectedTimeStamp=n,i}return bx(e,t),Object.defineProperty(e.prototype,"currentTimeStamp",{get:function(){return this.selectedTimeStamp},enumerable:!1,configurable:!0}),e.prototype.render=function(e,n,i,r,a){var o=this;this.end=n,this.selectTimeStampCallback=i,this.chartOptions.setOptions(r),this.playbackSettings=a,this.timeFormatter=uM.timeFormat(!0,!1,this.chartOptions.offset,this.chartOptions.is24HourTime,null,null,this.chartOptions.dateLocale);var s=Pe(this.renderTarget);t.prototype.themify.call(this,s,this.chartOptions.theme),s.html("");var c=s.append("div").classed("tsi-playback-timeline",!0),l=c.node().clientWidth,u=c.node().clientHeight;this.trackXOffset=this.handleRadius+8,this.trackYOffset=Math.floor(u/2),this.trackWidth=l-2*this.trackXOffset,this.timeStampToPosition=og().domain([e,n]).range([0,this.trackWidth]);var h=c.append("div").classed("tsi-playback-axis",!0).style("top",this.trackYOffset+6+"px").style("left",this.trackXOffset+"px").style("width",this.trackWidth+"px");new wx(h.node()).render(this.chartOptions,this.timeStampToPosition);var p=c.append("svg").append("g");c.append("div").classed("tsi-playback-input",!0).style("left",this.trackXOffset+"px").style("width",this.trackWidth+"px"),this.track=p.append("g").classed("tsi-playback-track",!0),p.call(on().container(c.select(".tsi-playback-input").node()).on("start.interrupt",(function(){p.interrupt()})).on("start drag",(function(){o.onDrag(xe.x)})).on("end",(function(){o.onDragEnd()}))),this.track.append("line").classed("tsi-left-of-handle",!0).attr("y1",this.trackYOffset).attr("y2",this.trackYOffset),this.track.append("line").classed("tsi-right-of-handle",!0).attr("y1",this.trackYOffset).attr("y2",this.trackYOffset),this.handleElement=p.append("circle").classed("tsi-playback-handle",!0).attr("r",this.handleRadius).attr("cy",this.trackYOffset),this.controlsContainer=s.append("div").classed("tsi-playback-buttons",!0),this.playButton=this.controlsContainer.append("button").classed("tsi-play-button",null===this.playbackInterval).classed("tsi-pause-button",null!==this.playbackInterval).on("click",(function(){null===o.playbackInterval?o.play():o.pause()})),this.controlsContainer.append("span").classed("tsi-playback-timestamp",!0).style("margin","0 "+this.trackXOffset+"px"),this.selectedTimeStamp=this.selectedTimeStamp||e;var d=this.timeStampToPosition(this.selectedTimeStamp);this.updateSelection(d,this.selectedTimeStamp)},e.prototype.play=function(){if(null===this.playbackInterval){var t=Math.max(this.playbackSettings.intervalMillis||this.minimumPlaybackInterval,this.minimumPlaybackInterval);this.next(),this.playbackInterval=window.setInterval(this.next.bind(this),t),this.playButton.classed("tsi-play-button",!1).classed("tsi-pause-button",!0)}},e.prototype.pause=function(){null!==this.playbackInterval&&(window.clearInterval(this.playbackInterval),this.playbackInterval=null,this.playButton.classed("tsi-play-button",!0).classed("tsi-pause-button",!1))},e.prototype.next=function(){if(this.selectedTimeStamp.valueOf()!==this.end.valueOf()){var t=this.selectedTimeStamp.valueOf()+this.playbackSettings.stepSizeMillis;t=Math.min(t,this.end.valueOf()),this.selectedTimeStamp=new Date(t);var e=this.timeStampToPosition(this.selectedTimeStamp);this.updateSelection(e,this.selectedTimeStamp),this.selectTimeStampCallback(this.selectedTimeStamp)}},e.prototype.clamp=function(t,e,n){var i=Math.max(t,e);return Math.min(i,n)},e.prototype.onDrag=function(t){this.wasPlayingWhenDragStarted=this.wasPlayingWhenDragStarted||null!==this.playbackInterval,this.pause();var e=this.clamp(t,0,this.trackWidth);this.selectedTimeStamp=this.timeStampToPosition.invert(e),this.updateSelection(e,this.selectedTimeStamp)},e.prototype.onDragEnd=function(){this.selectTimeStampCallback(this.selectedTimeStamp),this.wasPlayingWhenDragStarted&&(this.play(),this.wasPlayingWhenDragStarted=!1)},e.prototype.updateSelection=function(t,e){this.track.select(".tsi-left-of-handle").attr("x1",this.trackXOffset).attr("x2",this.trackXOffset+t),this.track.select(".tsi-right-of-handle").attr("x1",this.trackXOffset+t).attr("x2",this.trackXOffset+this.trackWidth),this.handleElement.attr("cx",this.trackXOffset+t),this.controlsContainer.select(".tsi-playback-timestamp").text(this.timeFormatter(e))},e}($v),wx=function(t){function e(e){return t.call(this,e)||this}return bx(e,t),e.prototype.render=function(t,e){if(this.chartOptions.setOptions(t),this.x=e,!this.chartOptions.xAxisHidden){var n=Pe(this.renderTarget);n.html(""),this.chartWidth=n.node().clientWidth,this.xAxis=n.append("svg").classed("xAxis",!0).data([this.x]),this.drawXAxis(0,!0,!0)}},e}(RM),Ax=xx,Tx=function(){function t(t,e){this.from=t,this.to=e}return t.prototype.setNeatBucketSizeByNumerOfBuckets=function(t){var e=Math.max(this.to.valueOf()-this.from.valueOf(),1),n=Math.ceil(e/t);this.setNeatBucketSizeByRoughBucketSize(n)},t.prototype.setNeatBucketSizeByRoughBucketSize=function(e){for(var n=1;n<t.NeatIntervalsMs.length&&!(t.NeatIntervalsMs[n]>e);n++);this.bucketSizeMs=t.NeatIntervalsMs[n-1]},t.prototype.alignWithServerEpoch=function(){var t=uM.adjustStartMillisToAbsoluteZero(this.from.valueOf(),this.bucketSizeMs),e=uM.roundToMillis(this.to.valueOf(),this.bucketSizeMs);this.from=new Date(t),this.to=new Date(e)},Object.defineProperty(t.prototype,"fromMillis",{get:function(){return this.from.valueOf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toMillis",{get:function(){return this.to.valueOf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucketSizeMillis",{get:function(){return this.bucketSizeMs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucketSizeStr",{get:function(){var e=t.millisToLargestUnit(this.bucketSizeMs);return""+e.value+e.unit},enumerable:!1,configurable:!0}),t.millisToLargestUnit=function(t){var e,n;return t<1e3?(e=t,n="ms"):t<6e4?(e=Math.ceil(t/1e3),n="s"):t<36e5?(e=Math.ceil(t/6e4),n="m"):t<864e5?(e=Math.ceil(t/36e5),n="h"):(e=Math.ceil(t/864e5),n="d"),{value:e,unit:n}},t.NeatIntervals=["1ms","2ms","4ms","5ms","8ms","10ms","20ms","25ms","40ms","50ms","100ms","125ms","200ms","250ms","500ms","1s","2s","3s","4s","5s","6s","10s","12s","15s","20s","30s","1m","2m","3m","4m","5m","6m","10m","12m","15m","20m","30m","1h","2h","3h","4h","6h","8h","12h","1d","2d","3d","4d","5d","6d","7d"],t.NeatIntervalsMs=[1,2,4,5,8,10,20,25,40,50,100,125,200,250,500,1e3,2e3,3e3,4e3,5e3,6e3,1e4,12e3,15e3,2e4,3e4,6e4,12e4,18e4,24e4,3e5,36e4,6e5,72e4,9e5,12e5,18e5,36e5,72e5,108e5,144e5,216e5,288e5,432e5,864e5,1728e5,2592e5,3456e5,432e6,5184e5,6048e5],t}(),Lx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sx=function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}c((i=i.apply(t,e||[])).next())}))},kx=function(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Ox=function(t){function e(e){var n=t.call(this,e)||this;return n.numberOfBuckets=1e3,n.defaultPlaybackRate=3e3,n.fetchAvailabilityFrequency=3e4,n.playbackSliderHeight=88,n.previewApiFlag="?api-version=2018-11-01-preview",n.serverClient=new pM,n.currentCancelTrigger=null,n}return Lx(e,t),e.prototype.onGraphicLoaded=function(){},e.prototype.renderBase=function(e,n,i,r){var a=this;this.environmentFqdn=e,this.getAuthToken=n,this.tsqExpressions=i,this.chartOptions.setOptions(r),this.playbackRate=this.chartOptions.updateInterval||this.defaultPlaybackRate,this.getAuthToken().then((function(e){a.serverClient.getAvailability(e,a.environmentFqdn,a.previewApiFlag).then((function(e){a.availabilityInterval||(a.availabilityInterval=window.setInterval(a.pollAvailability.bind(a),a.fetchAvailabilityFrequency));var n=a.parseAvailabilityResponse(e),i=n.from,r=n.to;a.updateAvailability(i,r),a.targetElement=Pe(a.renderTarget),a.targetElement.html(""),a.targetElement.classed("tsi-process-graphic-target",!0),t.prototype.themify.call(a,a.targetElement,a.chartOptions.theme),a.componentContainer=a.targetElement.append("div").classed("tsi-process-graphic-container",!0),a.component=a.componentContainer.append("div").classed("tsi-process-graphic",!0),a.playbackControlsContainer=a.targetElement.append("div").classed("tsi-playback-controls-container",!0),a.loadResources().then((function(){var t=a.chartOptions.initialValue instanceof Date?a.chartOptions.initialValue:i;a.playbackControls=new Ax(a.playbackControlsContainer.node(),t),a.onSelecTimestamp(t),a.draw(),t&&a.playbackControls.play(),window.addEventListener("resize",(function(){a.draw()}))}))})).catch((function(t){console.error("Failed while fetching data availability: "+t)}))})).catch((function(t){console.error("Failed to acquire authentication token: "+t)}))},e.prototype.pauseAvailabilityUpdates=function(){this.availabilityInterval&&window.clearInterval(this.availabilityInterval)},e.prototype.pollAvailability=function(){return Sx(this,void 0,void 0,(function(){var t=this;return kx(this,(function(e){return[2,this.getAuthToken().then((function(e){return t.serverClient.getAvailability(e,t.environmentFqdn,t.previewApiFlag).then((function(e){var n=t.parseAvailabilityResponse(e),i=n.from,r=n.to;return(i.valueOf()!==t.availability.fromMillis||r.valueOf()!==t.availability.toMillis)&&(t.updateAvailability(i,r),t.playbackControls.render(t.availability.from,t.availability.to,t.onSelecTimestamp.bind(t),t.chartOptions,{intervalMillis:t.playbackRate,stepSizeMillis:t.availability.bucketSizeMillis}),!0)})).catch((function(t){return console.error("Failed to update data availability: "+t),null}))}))]}))}))},e.prototype.onSelecTimestamp=function(t){var e=this,n=this.calcQueryWindow(t),i=this.tsqExpressions.map((function(t){return t.searchSpan={from:n.fromMillis,to:n.toMillis,bucketSize:n.bucketSize},t.toTsq()}));this.getAuthToken().then((function(t){var n=e.serverClient.getCancellableTsqResults(t,e.environmentFqdn,i),r=n[0],a=n[1];e.currentCancelTrigger&&e.currentCancelTrigger(),e.currentCancelTrigger=a,r.then((function(t){e.getDataPoints(t)}))}))},e.prototype.calcQueryWindow=function(t){var e=this.availability.fromMillis,n=Math.ceil((t.valueOf()-e)/this.availability.bucketSizeMillis)*this.availability.bucketSizeMillis+e;return{fromMillis:n-this.availability.bucketSizeMillis,toMillis:n,bucketSize:this.availability.bucketSizeStr}},e.prototype.drawBase=function(){this.playbackControlsContainer.style("width",this.renderTarget.clientWidth+"px").style("height",this.playbackSliderHeight+"px"),this.playbackControls.render(this.availability.from,this.availability.to,this.onSelecTimestamp.bind(this),this.chartOptions,{intervalMillis:this.playbackRate,stepSizeMillis:this.availability.bucketSizeMillis})},e.prototype.updateAvailability=function(t,e){this.availability=new Tx(t,e),this.chartOptions.bucketSizeMillis&&this.chartOptions.bucketSizeMillis>0?this.availability.setNeatBucketSizeByRoughBucketSize(this.chartOptions.bucketSizeMillis):this.availability.setNeatBucketSizeByNumerOfBuckets(this.numberOfBuckets),this.availability.alignWithServerEpoch()},e.prototype.parseAvailabilityResponse=function(t){var e=t&&t.availability&&t.availability.range,n=e&&e.from&&new Date(e.from)||null,i=e&&e.to&&new Date(e.to)||null;if(null===n||null===i)throw"Query to get availability returned a response with an unexpected structure";return{from:n,to:i}},e}($v),zx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cx=function(t){function e(e){var n=t.call(this,e)||this;return n.serverClient=new pM,n.currentCancelTrigger=null,n}return zx(e,t),e.prototype.render=function(t,e,n,i,r){this.graphicSrc=n,this.renderBase(t,e,i,r)},e.prototype.loadResources=function(){var t=this;return new Promise((function(e,n){var i=new Image;i.onload=function(){t.graphic=i,t.graphicOriginalWidth=i.width,t.graphicOriginalHeight=i.height,t.component.node().appendChild(t.graphic),e()},i.onerror=function(t){console.log(t),n(t)},i.src=t.graphicSrc}))},e.prototype.draw=function(){var t=this.renderTarget.clientWidth,e=this.renderTarget.clientHeight-this.playbackSliderHeight;this.componentContainer.style("width",t+"px").style("height",e+"px");var n=this.getResizedImageDimensions(t,e,this.graphicOriginalWidth,this.graphicOriginalHeight);this.component.style("width",n.width+"px").style("height",n.height+"px"),this.drawBase()},e.prototype.getResizedImageDimensions=function(t,e,n,i){if(t>=n&&e>=i)return{width:n,height:i};var r=t/n,a=e/i,o=Math.min(r,a);return{width:n*o,height:i*o}},e.prototype.getDataPoints=function(t){var e=this;if(Array.isArray(t)){var n=t.map((function(t,n){var i=e.parseTsqResponse(t),r="function"==typeof e.tsqExpressions[n].color?e.tsqExpressions[n].color(i):e.tsqExpressions[n].color;return{value:i,alias:e.tsqExpressions[n].alias,x:e.tsqExpressions[n].positionX,y:e.tsqExpressions[n].positionY,color:e.sanitizeAttribute(r),onClick:e.tsqExpressions[n].onElementClick}}));this.updateDataMarkers(n)}},e.prototype.updateDataMarkers=function(t){var e=this,n=this.component.selectAll("div").data(t),i=n.enter().append("div").classed("tsi-process-graphic-label",!0);i.append("div").classed("title",!0),i.append("div").classed("value",!0),i.merge(n).classed("tsi-dark",!1).classed("tsi-light",!1).classed(uM.getTheme(this.chartOptions.theme),!0).style("left",(function(t){return t.x+"%"})).style("top",(function(t){return t.y+"%"}));var r="tsi-label-highlight";this.component.selectAll(".tsi-process-graphic-label").data(t).classed(r,!0).classed("clickable",(function(t){return null!==t.onClick})).on("animationend",(function(){Pe(this).classed(r,!1)})).on("click",(function(t){"function"==typeof t.onClick&&t.onClick({timeStamp:e.playbackControls.currentTimeStamp,value:t.value,color:t.color})})),this.component.selectAll(".title").data(t).text((function(t){return t.alias||""})),this.component.selectAll(".value").data(t).text((function(t){return null!==t.value?uM.formatYAxisNumber(t.value):"--"})).style("color",(function(t){return t.color}))},e.prototype.parseTsqResponse=function(t){return t&&t.properties&&t.properties[0]&&t.properties[0].values?t.properties[0].values[0]:null},e.prototype.sanitizeAttribute=function(t){var e=String(t);return['"',"'","?","<",">",";"].forEach((function(t){e=e.split(t).join("")})),e},e}(Ox),Ex=(n(175),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Dx=function(t){function e(e,n){void 0===n&&(n=uM.guid());var i=t.call(this,e)||this;return i.getSelectedColorValue=function(){return i.selectedColor},i.showColorGrid=function(){i.colorPickerElem.select(".tsi-colorGrid").style("display","flex"),i.isColorGridVisible=!0,i.colorPickerElem.selectAll(".tsi-colorItem").nodes()[0].focus(),i.colorPickerElem.select(".tsi-colorPickerButton").attr("aria-expanded",!0)},i.hideColorGrid=function(t){void 0===t&&(t=!1),i.colorPickerElem.select(".tsi-colorGrid").style("display","none"),i.isColorGridVisible=!1,i.colorPickerElem.select(".tsi-colorPickerButton").attr("aria-expanded",!1),t&&i.colorPickerElem.select(".tsi-colorPickerButton").node().focus()},i.setSelectedColor=function(t,e){i.colorPickerElem.select(".tsi-selectedColor").classed("tsi-noColor",!1),i.colorPickerElem.select(".tsi-selectedColor").style("background-color",t),i.colorPickerElem.select(".tsi-selectedColorValue").text(t),i.colorPickerElem.select(".tsi-colorItem.tsi-selected").classed("tsi-selected",!1),i.colorPickerElem.select(".tsi-colorItem.tsi-selected").attr("aria-selected",!1),i.colorPickerElem.select(".tsi-colorPickerButton").attr("aria-label",(i.selectedColor?i.selectedColor:i.getString("No color"))+" "+i.getString("Select color")),e.classed("tsi-selected",!0),e.attr("aria-selected",!0),i.selectedColor=t},i.getColorPickerElem=function(){return i.colorPickerElem},i.componentId=n,i}return Ex(e,t),e.prototype.render=function(e){var n=this;void 0===e&&(e={}),this.chartOptions.setOptions(e),this.selectedColor=this.chartOptions.defaultColor,-1===this.chartOptions.colors.indexOf(this.selectedColor)&&this.chartOptions.colors.push(this.selectedColor),this.colorPickerElem=Pe(this.renderTarget).classed("tsi-colorPicker",!0),this.colorPickerElem.text(""),t.prototype.themify.call(this,this.colorPickerElem,this.chartOptions.theme);var r=this.colorPickerElem.append("button").classed("tsi-colorPickerButton",!0).attr("title",this.getString("Select color")).attr("aria-label",(this.selectedColor?this.selectedColor:this.getString("No color"))+" "+this.getString("Select color")).attr("aria-controls","tsi-colorGrid_"+this.componentId).on("click",(function(){n.isColorGridVisible?n.hideColorGrid(!0):(n.chartOptions.onClick(xe),n.showColorGrid())}));this.selectedColor?r.append("div").classed("tsi-selectedColor",!0).style("background-color",this.selectedColor):r.append("div").classed("tsi-selectedColor",!0).classed("tsi-noColor",!0),r.append("span").classed("tsi-selectedColorValue",!0).classed("hidden",this.chartOptions.isColorValueHidden).attr("id","tsi-selectedColorValue_"+this.componentId).text(this.selectedColor?this.selectedColor:this.getString("No color"));var a=this.colorPickerElem.append("div").classed("tsi-colorGrid",!0).attr("id","tsi-colorGrid_"+this.componentId).attr("role","grid").append("div").classed("tsi-colorGridRow",!0).attr("role","row");this.chartOptions.colors.forEach((function(t,e){var r=a.append("div").classed("tsi-colorItem",!0).classed("tsi-selected",t===n.selectedColor).attr("tabindex",0).attr("role","gridcell").attr("aria-label",t).attr("aria-selected",t===n.selectedColor).style("background-color",t).on("click",(function(){xe.preventDefault(),xe.stopPropagation(),n.chartOptions.onSelect(t),n.hideColorGrid(!0),n.setSelectedColor(t,r)})).on("keydown",(function(){xe.keyCode!==i.Tab||xe.shiftKey||e!==n.chartOptions.colors.length-1?xe.keyCode===i.Enter?(xe.preventDefault(),xe.stopPropagation(),n.chartOptions.onSelect(t),n.hideColorGrid(!0),n.setSelectedColor(t,r)):xe.keyCode===i.Esc&&(xe.preventDefault(),xe.stopPropagation(),n.hideColorGrid(!0)):(xe.preventDefault(),n.colorPickerElem.selectAll(".tsi-colorItem").nodes()[0].focus())}))})),Pe("html").on("click."+this.componentId,(function(){n.colorPickerElem.select(".tsi-colorPickerButton").filter(uM.equalToEventTarget).empty()&&n.colorPickerElem.select(".tsi-colorPickerButton").selectAll("*").filter(uM.equalToEventTarget).empty()&&n.colorPickerElem.selectAll(".tsi-colorGrid").filter(uM.equalToEventTarget).empty()&&n.hideColorGrid()}))},e}($v),Nx=n(4),Ix=(n(177),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Px=function(t){function e(e){var n=t.call(this,e)||this;return n.serverClient=new pM,n.currentCancelTrigger=null,n}return Ix(e,t),e.prototype.render=function(t,e,n,i){this.zoom=i.zoom,this.center=i.center,this.bearing=i.bearing,this.pitch=i.pitch,this.maxZoom=i.maxZoom,this.minZoom=i.minZoom,this.duration=i.duration,this.azureMapsSubscriptionKey=i.subscriptionKey,this.width=i.width,this.height=i.height,this.theme=i.theme,this.renderBase(t,e,n,i)},e.prototype.loadResources=function(){var t=this;return this.component.node().style.width=this.width+"px",this.component.node().style.height=this.height+"px",this.map=new Nx.Map(this.component.node(),{authOptions:{authType:Nx.AuthenticationType.subscriptionKey,subscriptionKey:this.azureMapsSubscriptionKey}}),this.map.events.add("ready",(function(){t.dataSource=new Nx.source.DataSource,t.map.sources.add(t.dataSource);for(var e=function(e){var n=new Nx.Popup({content:"<div class = 'tsi-gpgPopUp id= tsi-popup"+e+"'></div>",pixelOffset:[0,-30]}),i=new Nx.HtmlMarker({htmlContent:"<div class = tsi-geoprocess-graphic> <img class='tsi-gpgcircleImage \n          id= tsi-htmlMarker"+e+"' src= \""+t.tsqExpressions[e].image+'" /> </div>',position:[0,0],popup:n});t.map.markers.add(i),t.map.popups.add(n),t.map.events.add("click",i,(function(){i.togglePopup()}))},n=0;n<t.tsqExpressions.length;n++)e(n)})),this.map.setCamera({center:this.center,bearing:this.bearing,pitch:this.pitch,zoom:this.zoom,maxZoom:this.maxZoom,minZoom:this.minZoom,type:"fly",duration:this.duration}),Promise.resolve()},e.prototype.draw=function(){this.drawBase()},e.prototype.getDataPoints=function(t){var e=this,n=t.map((function(t){return e.parseTsqResponse(t)}));this.updateDataMarkers(n)},e.prototype.parseTsqResponse=function(t){var e={};if(t&&t.properties)for(var n=0;n<t.properties.length;n++)t.properties[n]&&t.properties[n].name&&t.properties[n].values&&(e[t.properties[n].name]=t.properties[n].values[0]);return e},e.prototype.updateDataMarkers=function(t){for(var e=0;e<t.length;e++){var n=t[e][this.tsqExpressions[e].positionXVariableName],i=t[e][this.tsqExpressions[e].positionYVariableName];this.map.markers.getMarkers()[e].setOptions({position:[n,i]});var r=Object.entries(t[e]);this.map.popups.getPopups()[e].setOptions({position:[n,i],content:this.createTable(r,e)})}},e.prototype.createTable=function(t,e){var n=document.createElement("div");n.className="tsi-gpgTooltip tsi-"+this.theme;var i=document.createElement("div");i.className="tsi-gpgTooltipInner";var r=document.createElement("div");r.className="tsi-gpgTooltipTitle";var a=document.createTextNode(this.tsqExpressions[e].alias);r.appendChild(a);var o=document.createElement("table");o.className="tsi-gpgTooltipValues",o.classList.add("tsi-gpgTooltipTable");for(var s=0;s<t.length;s++){var c=document.createElement("tr");c.className="tsi-gpgTableSpacer",o.appendChild(c);var l=document.createElement("tr"),u=document.createElement("td");u.className="tsi-gpgValueLabel";var h=document.createTextNode(t[s][0]);u.appendChild(h),l.appendChild(u);var p=document.createElement("td");p.className="tsi-gpgValueCell";var d=document.createTextNode(t[s][1].toFixed(5));p.appendChild(d),l.appendChild(p),o.appendChild(l)}return i.appendChild(r),i.appendChild(o),n.appendChild(i),n},e}(Ox),Bx=function(){function t(){this.DateTimePicker=fb,this.PieChart=zb,this.ScatterPlot=Nb,this.BarChart=Pb,this.LineChart=ob,this.AvailabilityChart=bb,this.Grid=iM,this.Slider=Sb,this.Hierarchy=qb,this.AggregateExpression=jb,this.TsqExpression=sx,this.Heatmap=Gb,this.EventsTable=$b,this.ModelSearch=rx,this.ModelAutocomplete=ex,this.HierarchyNavigation=gx,this.TimezonePicker=pb,this.EllipsisMenu=gM,this.SingleDateTimePicker=_x,this.DateTimeButtonSingle=Mx,this.DateTimeButtonRange=_b,this.ProcessGraphic=Cx,this.PlaybackControls=Ax,this.ColorPicker=Dx,this.GeoProcessGraphic=Px}return t.prototype.UXClient=function(){},t.prototype.transformTsxToEventsArray=function(t,e){var n,i,r,a,o,s,c,l,u,h=e.timezoneOffset?e.timezoneOffset:0,p=[],d={},f={},m={},g=function(){for(var e in t[y].hasOwnProperty("schema")?(d[t[y].schema.rid]={},d[t[y].schema.rid].propertyNames=t[y].schema.properties.reduce((function(t,e){return t.push({name:e.name,type:e.type}),t}),[]),d[t[y].schema.rid].eventSourceName=t[y].schema.$esn,n=t[y].schema.rid):n=t[y].schemaRid,i=new Date(new Date(t[y].$ts).valueOf()-h).toISOString().slice(0,-1).replace("T"," "),r={"timestamp ($ts)":i},(a=t[y].$lts?t[y].$lts:null)&&(r.LocalTimestamp_DateTime={value:a.replace("T"," "),name:"LocalTimestamp",type:"DateTime"}),r.EventSourceName_String={value:d[n].eventSourceName,name:"EventSourceName",type:"String"},d[n].propertyNames)o=d[n].propertyNames[e].name,f.hasOwnProperty(o)||(f[o]=uM.stripForConcat(o)),s=f[o],c=d[n].propertyNames[e].type,l=s+"_"+c,m.hasOwnProperty(String(t[y].values[e]))||(m[String(t[y].values[e])]=uM.stripForConcat(String(t[y].values[e]))),u={value:m[String(t[y].values[e])],name:s,type:c},r[l]=u;if(t[y].hasOwnProperty("$op")){var g=JSON.parse(t[y].$op);Object.keys(g).forEach((function(t){var e=uM.stripForConcat(t);r[e+"_String"]={value:g[t],name:e,type:"String"}}))}p.push(r)};for(var y in t)g();return p},t.prototype.toISONoMillis=function(t){return t.toISOString().slice(0,-5)+"Z"},t.prototype.transformAvailabilityForVisualization=function(t){var e=this,n=new Date(t.range.from),i=new Date(t.range.to),r=uM.parseTimeInput(t.intervalSize),a={},o=Math.round(Math.floor(n.valueOf()/r)*r),s=this.toISONoMillis(new Date(o)),c=t.distribution[s]?t.distribution[s]:0;if(o<new Date(t.range.from).valueOf()&&(s=this.toISONoMillis(new Date(t.range.from))),a[s]={count:c},Object.keys(t.distribution).forEach((function(n){var i=e.toISONoMillis(new Date(n));a[i]={count:t.distribution[n]}})),o==Math.round(Math.floor(i.valueOf()/r)*r)){for(var l=o;l<=o+r;l+=r/60)null==a[this.toISONoMillis(new Date(l))]&&(a[this.toISONoMillis(new Date(l))]={count:0});o!=n.valueOf()&&(a[this.toISONoMillis(new Date(o))]={count:0})}return[{availabilityCount:{"":a}}]},t.prototype.transformTsqResultsForVisualization=function(t,e){var n=[];return t.forEach((function(t,i){var r={},a={};r[e[i].alias]={"":a},t.hasOwnProperty("__tsiError__")?r[""]={}:t.timestamps.forEach((function(e,n){a[e]=t.properties.reduce((function(t,e){return t[e.name]=e.values[n],t}),{})})),n.push(r)})),n},t.prototype.transformAggregatesForVisualization=function(t,e){var n=[];return t.forEach((function(t,i){var r={},a={};if(r[e[i].alias]=a,t.hasOwnProperty("__tsiError__"))r[""]={};else if(t.hasOwnProperty("aggregate"))t.dimension.forEach((function(n,r){var o={};a[n]=o,t.aggregate.dimension.forEach((function(n,a){var s={};o[n]=s,e[i].measureTypes.forEach((function(e,n){null!=t.aggregate.measures[r][a]&&null!=t.aggregate.measures[r][a]&&null!=t.aggregate.measures[r][a][n]&&null!=t.aggregate.measures[r][a][n]?s[e]=t.aggregate.measures[r][a][n]:s[e]=null}))}))}));else{var o={};a[""]=o,t.dimension.forEach((function(n,r){var a={};o[n]=a,e[i].measureTypes.forEach((function(e,n){a[e]=t.measures[r][n]}))}))}n.push(r)})),n},t.prototype.createEntityKey=function(t,e){return void 0===e&&(e=0),uM.createEntityKey(t,e)},t.prototype.transformTsqResultsToEventsArray=function(t){var e=[];return t.forEach((function(t){t.timestamps.forEach((function(n,i){var r={};r["timestamp ($ts)"]=n,t.properties.forEach((function(t){r[t.name+"_"+t.type]={name:t.name,type:t.type,value:t.values[i]}})),e.push(r)}))})),e.sort((function(t,e){return new Date(t["timestamp ($ts)"]).valueOf()<new Date(e["timestamp ($ts)"]).valueOf()?-1:1}))},t}(),Rx=function(){this.server=new pM,this.ux=new Bx,this.utils=uM};e.default=Rx;window.TsiClient=Rx}])}));
//# sourceMappingURL=tsiclient.js.map